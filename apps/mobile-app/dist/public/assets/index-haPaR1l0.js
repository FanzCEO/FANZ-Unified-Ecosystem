function FH(t,r){for(var n=0;n<r.length;n++){const s=r[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var A_={exports:{}},Rp={},P_={exports:{}},zr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xO;function $H(){if(xO)return zr;xO=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(z){return z===null||typeof z!="object"?null:(z=p&&z[p]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,_={};function w(z,oe,Ce){this.props=z,this.context=oe,this.refs=_,this.updater=Ce||b}w.prototype.isReactComponent={},w.prototype.setState=function(z,oe){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,oe,"setState")},w.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function k(){}k.prototype=w.prototype;function A(z,oe,Ce){this.props=z,this.context=oe,this.refs=_,this.updater=Ce||b}var P=A.prototype=new k;P.constructor=A,y(P,w.prototype),P.isPureReactComponent=!0;var O=Array.isArray,I=Object.prototype.hasOwnProperty,D={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function B(z,oe,Ce){var ke,_e={},Le=null,je=null;if(oe!=null)for(ke in oe.ref!==void 0&&(je=oe.ref),oe.key!==void 0&&(Le=""+oe.key),oe)I.call(oe,ke)&&!F.hasOwnProperty(ke)&&(_e[ke]=oe[ke]);var Xe=arguments.length-2;if(Xe===1)_e.children=Ce;else if(1<Xe){for(var qe=Array(Xe),tt=0;tt<Xe;tt++)qe[tt]=arguments[tt+2];_e.children=qe}if(z&&z.defaultProps)for(ke in Xe=z.defaultProps,Xe)_e[ke]===void 0&&(_e[ke]=Xe[ke]);return{$$typeof:t,type:z,key:Le,ref:je,props:_e,_owner:D.current}}function H(z,oe){return{$$typeof:t,type:z.type,key:oe,ref:z.ref,props:z.props,_owner:z._owner}}function re(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function G(z){var oe={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(Ce){return oe[Ce]})}var J=/\/+/g;function Z(z,oe){return typeof z=="object"&&z!==null&&z.key!=null?G(""+z.key):oe.toString(36)}function ne(z,oe,Ce,ke,_e){var Le=typeof z;(Le==="undefined"||Le==="boolean")&&(z=null);var je=!1;if(z===null)je=!0;else switch(Le){case"string":case"number":je=!0;break;case"object":switch(z.$$typeof){case t:case r:je=!0}}if(je)return je=z,_e=_e(je),z=ke===""?"."+Z(je,0):ke,O(_e)?(Ce="",z!=null&&(Ce=z.replace(J,"$&/")+"/"),ne(_e,oe,Ce,"",function(tt){return tt})):_e!=null&&(re(_e)&&(_e=H(_e,Ce+(!_e.key||je&&je.key===_e.key?"":(""+_e.key).replace(J,"$&/")+"/")+z)),oe.push(_e)),1;if(je=0,ke=ke===""?".":ke+":",O(z))for(var Xe=0;Xe<z.length;Xe++){Le=z[Xe];var qe=ke+Z(Le,Xe);je+=ne(Le,oe,Ce,qe,_e)}else if(qe=g(z),typeof qe=="function")for(z=qe.call(z),Xe=0;!(Le=z.next()).done;)Le=Le.value,qe=ke+Z(Le,Xe++),je+=ne(Le,oe,Ce,qe,_e);else if(Le==="object")throw oe=String(z),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.");return je}function K(z,oe,Ce){if(z==null)return z;var ke=[],_e=0;return ne(z,ke,"","",function(Le){return oe.call(Ce,Le,_e++)}),ke}function ae(z){if(z._status===-1){var oe=z._result;oe=oe(),oe.then(function(Ce){(z._status===0||z._status===-1)&&(z._status=1,z._result=Ce)},function(Ce){(z._status===0||z._status===-1)&&(z._status=2,z._result=Ce)}),z._status===-1&&(z._status=0,z._result=oe)}if(z._status===1)return z._result.default;throw z._result}var U={current:null},W={transition:null},se={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:W,ReactCurrentOwner:D};function de(){throw Error("act(...) is not supported in production builds of React.")}return zr.Children={map:K,forEach:function(z,oe,Ce){K(z,function(){oe.apply(this,arguments)},Ce)},count:function(z){var oe=0;return K(z,function(){oe++}),oe},toArray:function(z){return K(z,function(oe){return oe})||[]},only:function(z){if(!re(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},zr.Component=w,zr.Fragment=n,zr.Profiler=a,zr.PureComponent=A,zr.StrictMode=s,zr.Suspense=u,zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,zr.act=de,zr.cloneElement=function(z,oe,Ce){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var ke=y({},z.props),_e=z.key,Le=z.ref,je=z._owner;if(oe!=null){if(oe.ref!==void 0&&(Le=oe.ref,je=D.current),oe.key!==void 0&&(_e=""+oe.key),z.type&&z.type.defaultProps)var Xe=z.type.defaultProps;for(qe in oe)I.call(oe,qe)&&!F.hasOwnProperty(qe)&&(ke[qe]=oe[qe]===void 0&&Xe!==void 0?Xe[qe]:oe[qe])}var qe=arguments.length-2;if(qe===1)ke.children=Ce;else if(1<qe){Xe=Array(qe);for(var tt=0;tt<qe;tt++)Xe[tt]=arguments[tt+2];ke.children=Xe}return{$$typeof:t,type:z.type,key:_e,ref:Le,props:ke,_owner:je}},zr.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:i,_context:z},z.Consumer=z},zr.createElement=B,zr.createFactory=function(z){var oe=B.bind(null,z);return oe.type=z,oe},zr.createRef=function(){return{current:null}},zr.forwardRef=function(z){return{$$typeof:l,render:z}},zr.isValidElement=re,zr.lazy=function(z){return{$$typeof:f,_payload:{_status:-1,_result:z},_init:ae}},zr.memo=function(z,oe){return{$$typeof:m,type:z,compare:oe===void 0?null:oe}},zr.startTransition=function(z){var oe=W.transition;W.transition={};try{z()}finally{W.transition=oe}},zr.unstable_act=de,zr.useCallback=function(z,oe){return U.current.useCallback(z,oe)},zr.useContext=function(z){return U.current.useContext(z)},zr.useDebugValue=function(){},zr.useDeferredValue=function(z){return U.current.useDeferredValue(z)},zr.useEffect=function(z,oe){return U.current.useEffect(z,oe)},zr.useId=function(){return U.current.useId()},zr.useImperativeHandle=function(z,oe,Ce){return U.current.useImperativeHandle(z,oe,Ce)},zr.useInsertionEffect=function(z,oe){return U.current.useInsertionEffect(z,oe)},zr.useLayoutEffect=function(z,oe){return U.current.useLayoutEffect(z,oe)},zr.useMemo=function(z,oe){return U.current.useMemo(z,oe)},zr.useReducer=function(z,oe,Ce){return U.current.useReducer(z,oe,Ce)},zr.useRef=function(z){return U.current.useRef(z)},zr.useState=function(z){return U.current.useState(z)},zr.useSyncExternalStore=function(z,oe,Ce){return U.current.useSyncExternalStore(z,oe,Ce)},zr.useTransition=function(){return U.current.useTransition()},zr.version="18.3.1",zr}var gO;function Ob(){return gO||(gO=1,P_.exports=$H()),P_.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vO;function zH(){if(vO)return Rp;vO=1;var t=Ob(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,m){var f,p={},g=null,b=null;m!==void 0&&(g=""+m),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(b=u.ref);for(f in u)s.call(u,f)&&!i.hasOwnProperty(f)&&(p[f]=u[f]);if(l&&l.defaultProps)for(f in u=l.defaultProps,u)p[f]===void 0&&(p[f]=u[f]);return{$$typeof:r,type:l,key:g,ref:b,props:p,_owner:a.current}}return Rp.Fragment=n,Rp.jsx=o,Rp.jsxs=o,Rp}var yO;function BH(){return yO||(yO=1,A_.exports=zH()),A_.exports}var e=BH(),xy={},T_={exports:{}},di={},E_={exports:{}},O_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bO;function qH(){return bO||(bO=1,(function(t){function r(W,se){var de=W.length;W.push(se);e:for(;0<de;){var z=de-1>>>1,oe=W[z];if(0<a(oe,se))W[z]=se,W[de]=oe,de=z;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var se=W[0],de=W.pop();if(de!==se){W[0]=de;e:for(var z=0,oe=W.length,Ce=oe>>>1;z<Ce;){var ke=2*(z+1)-1,_e=W[ke],Le=ke+1,je=W[Le];if(0>a(_e,de))Le<oe&&0>a(je,_e)?(W[z]=je,W[Le]=de,z=Le):(W[z]=_e,W[ke]=de,z=ke);else if(Le<oe&&0>a(je,de))W[z]=je,W[Le]=de,z=Le;else break e}}return se}function a(W,se){var de=W.sortIndex-se.sortIndex;return de!==0?de:W.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],m=[],f=1,p=null,g=3,b=!1,y=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(W){for(var se=n(m);se!==null;){if(se.callback===null)s(m);else if(se.startTime<=W)s(m),se.sortIndex=se.expirationTime,r(u,se);else break;se=n(m)}}function O(W){if(_=!1,P(W),!y)if(n(u)!==null)y=!0,ae(I);else{var se=n(m);se!==null&&U(O,se.startTime-W)}}function I(W,se){y=!1,_&&(_=!1,k(B),B=-1),b=!0;var de=g;try{for(P(se),p=n(u);p!==null&&(!(p.expirationTime>se)||W&&!G());){var z=p.callback;if(typeof z=="function"){p.callback=null,g=p.priorityLevel;var oe=z(p.expirationTime<=se);se=t.unstable_now(),typeof oe=="function"?p.callback=oe:p===n(u)&&s(u),P(se)}else s(u);p=n(u)}if(p!==null)var Ce=!0;else{var ke=n(m);ke!==null&&U(O,ke.startTime-se),Ce=!1}return Ce}finally{p=null,g=de,b=!1}}var D=!1,F=null,B=-1,H=5,re=-1;function G(){return!(t.unstable_now()-re<H)}function J(){if(F!==null){var W=t.unstable_now();re=W;var se=!0;try{se=F(!0,W)}finally{se?Z():(D=!1,F=null)}}else D=!1}var Z;if(typeof A=="function")Z=function(){A(J)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,K=ne.port2;ne.port1.onmessage=J,Z=function(){K.postMessage(null)}}else Z=function(){w(J,0)};function ae(W){F=W,D||(D=!0,Z())}function U(W,se){B=w(function(){W(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){y||b||(y=!0,ae(I))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(W){switch(g){case 1:case 2:case 3:var se=3;break;default:se=g}var de=g;g=se;try{return W()}finally{g=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,se){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var de=g;g=W;try{return se()}finally{g=de}},t.unstable_scheduleCallback=function(W,se,de){var z=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?z+de:z):de=z,W){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=de+oe,W={id:f++,callback:se,priorityLevel:W,startTime:de,expirationTime:oe,sortIndex:-1},de>z?(W.sortIndex=de,r(m,W),n(u)===null&&W===n(m)&&(_?(k(B),B=-1):_=!0,U(O,de-z))):(W.sortIndex=oe,r(u,W),y||b||(y=!0,ae(I))),W},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(W){var se=g;return function(){var de=g;g=se;try{return W.apply(this,arguments)}finally{g=de}}}})(O_)),O_}var jO;function UH(){return jO||(jO=1,E_.exports=qH()),E_.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wO;function VH(){if(wO)return di;wO=1;var t=Ob(),r=UH();function n(c){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+c,v=1;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function i(c,h){o(c,h),o(c+"Capture",h)}function o(c,h){for(a[c]=h,c=0;c<h.length;c++)s.add(h[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(c){return u.call(p,c)?!0:u.call(f,c)?!1:m.test(c)?p[c]=!0:(f[c]=!0,!1)}function b(c,h,v,C){if(v!==null&&v.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return C?!1:v!==null?!v.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function y(c,h,v,C){if(h===null||typeof h>"u"||b(c,h,v,C))return!0;if(C)return!1;if(v!==null)switch(v.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function _(c,h,v,C,E,M,X){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=C,this.attributeNamespace=E,this.mustUseProperty=v,this.propertyName=c,this.type=h,this.sanitizeURL=M,this.removeEmptyString=X}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){w[c]=new _(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var h=c[0];w[h]=new _(h,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){w[c]=new _(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){w[c]=new _(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){w[c]=new _(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){w[c]=new _(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){w[c]=new _(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){w[c]=new _(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){w[c]=new _(c,5,!1,c.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function A(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var h=c.replace(k,A);w[h]=new _(h,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var h=c.replace(k,A);w[h]=new _(h,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var h=c.replace(k,A);w[h]=new _(h,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){w[c]=new _(c,1,!1,c.toLowerCase(),null,!1,!1)}),w.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){w[c]=new _(c,1,!1,c.toLowerCase(),null,!0,!0)});function P(c,h,v,C){var E=w.hasOwnProperty(h)?w[h]:null;(E!==null?E.type!==0:C||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(y(h,v,E,C)&&(v=null),C||E===null?g(h)&&(v===null?c.removeAttribute(h):c.setAttribute(h,""+v)):E.mustUseProperty?c[E.propertyName]=v===null?E.type===3?!1:"":v:(h=E.attributeName,C=E.attributeNamespace,v===null?c.removeAttribute(h):(E=E.type,v=E===3||E===4&&v===!0?"":""+v,C?c.setAttributeNS(C,h,v):c.setAttribute(h,v))))}var O=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),D=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),G=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),W=Symbol.iterator;function se(c){return c===null||typeof c!="object"?null:(c=W&&c[W]||c["@@iterator"],typeof c=="function"?c:null)}var de=Object.assign,z;function oe(c){if(z===void 0)try{throw Error()}catch(v){var h=v.stack.trim().match(/\n( *(at )?)/);z=h&&h[1]||""}return`
`+z+c}var Ce=!1;function ke(c,h){if(!c||Ce)return"";Ce=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch($e){var C=$e}Reflect.construct(c,[],h)}else{try{h.call()}catch($e){C=$e}c.call(h.prototype)}else{try{throw Error()}catch($e){C=$e}c()}}catch($e){if($e&&C&&typeof $e.stack=="string"){for(var E=$e.stack.split(`
`),M=C.stack.split(`
`),X=E.length-1,he=M.length-1;1<=X&&0<=he&&E[X]!==M[he];)he--;for(;1<=X&&0<=he;X--,he--)if(E[X]!==M[he]){if(X!==1||he!==1)do if(X--,he--,0>he||E[X]!==M[he]){var ve=`
`+E[X].replace(" at new "," at ");return c.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",c.displayName)),ve}while(1<=X&&0<=he);break}}}finally{Ce=!1,Error.prepareStackTrace=v}return(c=c?c.displayName||c.name:"")?oe(c):""}function _e(c){switch(c.tag){case 5:return oe(c.type);case 16:return oe("Lazy");case 13:return oe("Suspense");case 19:return oe("SuspenseList");case 0:case 2:case 15:return c=ke(c.type,!1),c;case 11:return c=ke(c.type.render,!1),c;case 1:return c=ke(c.type,!0),c;default:return""}}function Le(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case F:return"Fragment";case D:return"Portal";case H:return"Profiler";case B:return"StrictMode";case Z:return"Suspense";case ne:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case G:return(c.displayName||"Context")+".Consumer";case re:return(c._context.displayName||"Context")+".Provider";case J:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case K:return h=c.displayName||null,h!==null?h:Le(c.type)||"Memo";case ae:h=c._payload,c=c._init;try{return Le(c(h))}catch{}}return null}function je(c){var h=c.type;switch(c.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=h.render,c=c.displayName||c.name||"",h.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(h);case 8:return h===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function Xe(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function qe(c){var h=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function tt(c){var h=qe(c)?"checked":"value",v=Object.getOwnPropertyDescriptor(c.constructor.prototype,h),C=""+c[h];if(!c.hasOwnProperty(h)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var E=v.get,M=v.set;return Object.defineProperty(c,h,{configurable:!0,get:function(){return E.call(this)},set:function(X){C=""+X,M.call(this,X)}}),Object.defineProperty(c,h,{enumerable:v.enumerable}),{getValue:function(){return C},setValue:function(X){C=""+X},stopTracking:function(){c._valueTracker=null,delete c[h]}}}}function St(c){c._valueTracker||(c._valueTracker=tt(c))}function Oe(c){if(!c)return!1;var h=c._valueTracker;if(!h)return!0;var v=h.getValue(),C="";return c&&(C=qe(c)?c.checked?"true":"false":c.value),c=C,c!==v?(h.setValue(c),!0):!1}function qt(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Et(c,h){var v=h.checked;return de({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??c._wrapperState.initialChecked})}function sr(c,h){var v=h.defaultValue==null?"":h.defaultValue,C=h.checked!=null?h.checked:h.defaultChecked;v=Xe(h.value!=null?h.value:v),c._wrapperState={initialChecked:C,initialValue:v,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function Jt(c,h){h=h.checked,h!=null&&P(c,"checked",h,!1)}function gr(c,h){Jt(c,h);var v=Xe(h.value),C=h.type;if(v!=null)C==="number"?(v===0&&c.value===""||c.value!=v)&&(c.value=""+v):c.value!==""+v&&(c.value=""+v);else if(C==="submit"||C==="reset"){c.removeAttribute("value");return}h.hasOwnProperty("value")?Jr(c,h.type,v):h.hasOwnProperty("defaultValue")&&Jr(c,h.type,Xe(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(c.defaultChecked=!!h.defaultChecked)}function Hr(c,h,v){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var C=h.type;if(!(C!=="submit"&&C!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+c._wrapperState.initialValue,v||h===c.value||(c.value=h),c.defaultValue=h}v=c.name,v!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,v!==""&&(c.name=v)}function Jr(c,h,v){(h!=="number"||qt(c.ownerDocument)!==c)&&(v==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+v&&(c.defaultValue=""+v))}var me=Array.isArray;function Ne(c,h,v,C){if(c=c.options,h){h={};for(var E=0;E<v.length;E++)h["$"+v[E]]=!0;for(v=0;v<c.length;v++)E=h.hasOwnProperty("$"+c[v].value),c[v].selected!==E&&(c[v].selected=E),E&&C&&(c[v].defaultSelected=!0)}else{for(v=""+Xe(v),h=null,E=0;E<c.length;E++){if(c[E].value===v){c[E].selected=!0,C&&(c[E].defaultSelected=!0);return}h!==null||c[E].disabled||(h=c[E])}h!==null&&(h.selected=!0)}}function Ie(c,h){if(h.dangerouslySetInnerHTML!=null)throw Error(n(91));return de({},h,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function ht(c,h){var v=h.value;if(v==null){if(v=h.children,h=h.defaultValue,v!=null){if(h!=null)throw Error(n(92));if(me(v)){if(1<v.length)throw Error(n(93));v=v[0]}h=v}h==null&&(h=""),v=h}c._wrapperState={initialValue:Xe(v)}}function dt(c,h){var v=Xe(h.value),C=Xe(h.defaultValue);v!=null&&(v=""+v,v!==c.value&&(c.value=v),h.defaultValue==null&&c.defaultValue!==v&&(c.defaultValue=v)),C!=null&&(c.defaultValue=""+C)}function Je(c){var h=c.textContent;h===c._wrapperState.initialValue&&h!==""&&h!==null&&(c.value=h)}function ze(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gt(c,h){return c==null||c==="http://www.w3.org/1999/xhtml"?ze(h):c==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var rr,Rn=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,v,C,E){MSApp.execUnsafeLocalFunction(function(){return c(h,v,C,E)})}:c})(function(c,h){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=h;else{for(rr=rr||document.createElement("div"),rr.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=rr.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;h.firstChild;)c.appendChild(h.firstChild)}});function as(c,h){if(h){var v=c.firstChild;if(v&&v===c.lastChild&&v.nodeType===3){v.nodeValue=h;return}}c.textContent=h}var Gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$a=["Webkit","ms","Moz","O"];Object.keys(Gr).forEach(function(c){$a.forEach(function(h){h=h+c.charAt(0).toUpperCase()+c.substring(1),Gr[h]=Gr[c]})});function _s(c,h,v){return h==null||typeof h=="boolean"||h===""?"":v||typeof h!="number"||h===0||Gr.hasOwnProperty(c)&&Gr[c]?(""+h).trim():h+"px"}function at(c,h){c=c.style;for(var v in h)if(h.hasOwnProperty(v)){var C=v.indexOf("--")===0,E=_s(v,h[v],C);v==="float"&&(v="cssFloat"),C?c.setProperty(v,E):c[v]=E}}var dn=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ft(c,h){if(h){if(dn[c]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(n(137,c));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(n(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(n(61))}if(h.style!=null&&typeof h.style!="object")throw Error(n(62))}}function Lt(c,h){if(c.indexOf("-")===-1)return typeof h.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var er=null;function Qe(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Er=null,fn=null,za=null;function st(c){if(c=Ql(c)){if(typeof Er!="function")throw Error(n(280));var h=c.stateNode;h&&(h=Qh(h),Er(c.stateNode,c.type,h))}}function On(c){fn?za?za.push(c):za=[c]:fn=c}function ms(){if(fn){var c=fn,h=za;if(za=fn=null,st(c),h)for(c=0;c<h.length;c++)st(h[c])}}function $c(c,h){return c(h)}function el(){}var eu=!1;function va(c,h,v){if(eu)return c(h,v);eu=!0;try{return $c(c,h,v)}finally{eu=!1,(fn!==null||za!==null)&&(el(),ms())}}function $l(c,h){var v=c.stateNode;if(v===null)return null;var C=Qh(v);if(C===null)return null;v=C[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(c=c.type,C=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!C;break e;default:c=!1}if(c)return null;if(v&&typeof v!="function")throw Error(n(231,h,typeof v));return v}var zc=!1;if(l)try{var Ke={};Object.defineProperty(Ke,"passive",{get:function(){zc=!0}}),window.addEventListener("test",Ke,Ke),window.removeEventListener("test",Ke,Ke)}catch{zc=!1}function ea(c,h,v,C,E,M,X,he,ve){var $e=Array.prototype.slice.call(arguments,3);try{h.apply(v,$e)}catch(ut){this.onError(ut)}}var pn=!1,Ht=null,tu=!1,Ch=null,rv={onError:function(c){pn=!0,Ht=c}};function nv(c,h,v,C,E,M,X,he,ve){pn=!1,Ht=null,ea.apply(rv,arguments)}function Hf(c,h,v,C,E,M,X,he,ve){if(nv.apply(this,arguments),pn){if(pn){var $e=Ht;pn=!1,Ht=null}else throw Error(n(198));tu||(tu=!0,Ch=$e)}}function tl(c){var h=c,v=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(v=h.return),c=h.return;while(c)}return h.tag===3?v:null}function zl(c){if(c.tag===13){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function Gf(c){if(tl(c)!==c)throw Error(n(188))}function iw(c){var h=c.alternate;if(!h){if(h=tl(c),h===null)throw Error(n(188));return h!==c?null:c}for(var v=c,C=h;;){var E=v.return;if(E===null)break;var M=E.alternate;if(M===null){if(C=E.return,C!==null){v=C;continue}break}if(E.child===M.child){for(M=E.child;M;){if(M===v)return Gf(E),c;if(M===C)return Gf(E),h;M=M.sibling}throw Error(n(188))}if(v.return!==C.return)v=E,C=M;else{for(var X=!1,he=E.child;he;){if(he===v){X=!0,v=E,C=M;break}if(he===C){X=!0,C=E,v=M;break}he=he.sibling}if(!X){for(he=M.child;he;){if(he===v){X=!0,v=M,C=E;break}if(he===C){X=!0,C=M,v=E;break}he=he.sibling}if(!X)throw Error(n(189))}}if(v.alternate!==C)throw Error(n(190))}if(v.tag!==3)throw Error(n(188));return v.stateNode.current===v?c:h}function sv(c){return c=iw(c),c!==null?av(c):null}function av(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var h=av(c);if(h!==null)return h;c=c.sibling}return null}var iv=r.unstable_scheduleCallback,Zf=r.unstable_cancelCallback,ow=r.unstable_shouldYield,kh=r.unstable_requestPaint,is=r.unstable_now,lw=r.unstable_getCurrentPriorityLevel,Yf=r.unstable_ImmediatePriority,ov=r.unstable_UserBlockingPriority,Ah=r.unstable_NormalPriority,Qf=r.unstable_LowPriority,Bc=r.unstable_IdlePriority,ru=null,ji=null;function nu(c){if(ji&&typeof ji.onCommitFiberRoot=="function")try{ji.onCommitFiberRoot(ru,c,void 0,(c.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:qc,Wn=Math.log,Ph=Math.LN2;function qc(c){return c>>>=0,c===0?32:31-(Wn(c)/Ph|0)|0}var vo=64,Uc=4194304;function vr(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function zn(c,h){var v=c.pendingLanes;if(v===0)return 0;var C=0,E=c.suspendedLanes,M=c.pingedLanes,X=v&268435455;if(X!==0){var he=X&~E;he!==0?C=vr(he):(M&=X,M!==0&&(C=vr(M)))}else X=v&~E,X!==0?C=vr(X):M!==0&&(C=vr(M));if(C===0)return 0;if(h!==0&&h!==C&&(h&E)===0&&(E=C&-C,M=h&-h,E>=M||E===16&&(M&4194240)!==0))return h;if((C&4)!==0&&(C|=v&16),h=c.entangledLanes,h!==0)for(c=c.entanglements,h&=C;0<h;)v=31-Nr(h),E=1<<v,C|=c[v],h&=~E;return C}function Xf(c,h){switch(c){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Th(c,h){for(var v=c.suspendedLanes,C=c.pingedLanes,E=c.expirationTimes,M=c.pendingLanes;0<M;){var X=31-Nr(M),he=1<<X,ve=E[X];ve===-1?((he&v)===0||(he&C)!==0)&&(E[X]=Xf(he,h)):ve<=h&&(c.expiredLanes|=he),M&=~he}}function ya(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function lv(){var c=vo;return vo<<=1,(vo&4194240)===0&&(vo=64),c}function Vc(c){for(var h=[],v=0;31>v;v++)h.push(c);return h}function wi(c,h,v){c.pendingLanes|=h,h!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,h=31-Nr(h),c[h]=v}function fs(c,h){var v=c.pendingLanes&~h;c.pendingLanes=h,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=h,c.mutableReadLanes&=h,c.entangledLanes&=h,h=c.entanglements;var C=c.eventTimes;for(c=c.expirationTimes;0<v;){var E=31-Nr(v),M=1<<E;h[E]=0,C[E]=-1,c[E]=-1,v&=~M}}function yo(c,h){var v=c.entangledLanes|=h;for(c=c.entanglements;v;){var C=31-Nr(v),E=1<<C;E&h|c[C]&h&&(c[C]|=h),v&=~E}}var Zr=0;function Kc(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var Eh,Bl,Oh,Ih,su,au=!1,Wc=[],_i=null,bo=null,Ki=null,iu=new Map,mr=new Map,Bs=[],In="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jf(c,h){switch(c){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":bo=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":iu.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":mr.delete(h.pointerId)}}function ql(c,h,v,C,E,M){return c===null||c.nativeEvent!==M?(c={blockedOn:h,domEventName:v,eventSystemFlags:C,nativeEvent:M,targetContainers:[E]},h!==null&&(h=Ql(h),h!==null&&Bl(h)),c):(c.eventSystemFlags|=C,h=c.targetContainers,E!==null&&h.indexOf(E)===-1&&h.push(E),c)}function ep(c,h,v,C,E){switch(h){case"focusin":return _i=ql(_i,c,h,v,C,E),!0;case"dragenter":return bo=ql(bo,c,h,v,C,E),!0;case"mouseover":return Ki=ql(Ki,c,h,v,C,E),!0;case"pointerover":var M=E.pointerId;return iu.set(M,ql(iu.get(M)||null,c,h,v,C,E)),!0;case"gotpointercapture":return M=E.pointerId,mr.set(M,ql(mr.get(M)||null,c,h,v,C,E)),!0}return!1}function Mh(c){var h=Yl(c.target);if(h!==null){var v=tl(h);if(v!==null){if(h=v.tag,h===13){if(h=zl(v),h!==null){c.blockedOn=h,su(c.priority,function(){Oh(v)});return}}else if(h===3&&v.stateNode.current.memoizedState.isDehydrated){c.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Wi(c){if(c.blockedOn!==null)return!1;for(var h=c.targetContainers;0<h.length;){var v=Lh(c.domEventName,c.eventSystemFlags,h[0],c.nativeEvent);if(v===null){v=c.nativeEvent;var C=new v.constructor(v.type,v);er=C,v.target.dispatchEvent(C),er=null}else return h=Ql(v),h!==null&&Bl(h),c.blockedOn=v,!1;h.shift()}return!0}function Dh(c,h,v){Wi(c)&&v.delete(h)}function ou(){au=!1,_i!==null&&Wi(_i)&&(_i=null),bo!==null&&Wi(bo)&&(bo=null),Ki!==null&&Wi(Ki)&&(Ki=null),iu.forEach(Dh),mr.forEach(Dh)}function os(c,h){c.blockedOn===h&&(c.blockedOn=null,au||(au=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ou)))}function Ni(c){function h(E){return os(E,c)}if(0<Wc.length){os(Wc[0],c);for(var v=1;v<Wc.length;v++){var C=Wc[v];C.blockedOn===c&&(C.blockedOn=null)}}for(_i!==null&&os(_i,c),bo!==null&&os(bo,c),Ki!==null&&os(Ki,c),iu.forEach(h),mr.forEach(h),v=0;v<Bs.length;v++)C=Bs[v],C.blockedOn===c&&(C.blockedOn=null);for(;0<Bs.length&&(v=Bs[0],v.blockedOn===null);)Mh(v),v.blockedOn===null&&Bs.shift()}var Ul=O.ReactCurrentBatchConfig,lu=!0;function cw(c,h,v,C){var E=Zr,M=Ul.transition;Ul.transition=null;try{Zr=1,cu(c,h,v,C)}finally{Zr=E,Ul.transition=M}}function cv(c,h,v,C){var E=Zr,M=Ul.transition;Ul.transition=null;try{Zr=4,cu(c,h,v,C)}finally{Zr=E,Ul.transition=M}}function cu(c,h,v,C){if(lu){var E=Lh(c,h,v,C);if(E===null)d(c,h,C,Rh,v),Jf(c,C);else if(ep(E,c,h,v,C))C.stopPropagation();else if(Jf(c,C),h&4&&-1<In.indexOf(c)){for(;E!==null;){var M=Ql(E);if(M!==null&&Eh(M),M=Lh(c,h,v,C),M===null&&d(c,h,C,Rh,v),M===E)break;E=M}E!==null&&C.stopPropagation()}else d(c,h,C,null,v)}}var Rh=null;function Lh(c,h,v,C){if(Rh=null,c=Qe(C),c=Yl(c),c!==null)if(h=tl(c),h===null)c=null;else if(v=h.tag,v===13){if(c=zl(h),c!==null)return c;c=null}else if(v===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;c=null}else h!==c&&(c=null);return Rh=c,null}function Vr(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lw()){case Yf:return 1;case ov:return 4;case Ah:case Qf:return 16;case Bc:return 536870912;default:return 16}default:return 16}}var rl=null,Ba=null,nl=null;function tp(){if(nl)return nl;var c,h=Ba,v=h.length,C,E="value"in rl?rl.value:rl.textContent,M=E.length;for(c=0;c<v&&h[c]===E[c];c++);var X=v-c;for(C=1;C<=X&&h[v-C]===E[M-C];C++);return nl=E.slice(c,1<C?1-C:void 0)}function Fh(c){var h=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&h===13&&(c=13)):c=h,c===10&&(c=13),32<=c||c===13?c:0}function Hc(){return!0}function dv(){return!1}function ba(c){function h(v,C,E,M,X){this._reactName=v,this._targetInst=E,this.type=C,this.nativeEvent=M,this.target=X,this.currentTarget=null;for(var he in c)c.hasOwnProperty(he)&&(v=c[he],this[he]=v?v(M):M[he]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Hc:dv,this.isPropagationStopped=dv,this}return de(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=Hc)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=Hc)},persist:function(){},isPersistent:Hc}),h}var Gc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rp=ba(Gc),Vl=de({},Gc,{view:0,detail:0}),dw=ba(Vl),ni,np,Zc,Si=de({},Vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wl,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Zc&&(Zc&&c.type==="mousemove"?(ni=c.screenX-Zc.screenX,np=c.screenY-Zc.screenY):np=ni=0,Zc=c),ni)},movementY:function(c){return"movementY"in c?c.movementY:np}}),sp=ba(Si),uv=de({},Si,{dataTransfer:0}),ap=ba(uv),uw=de({},Vl,{relatedTarget:0}),$h=ba(uw),hv=de({},Gc,{animationName:0,elapsedTime:0,pseudoElement:0}),hw=ba(hv),mw=de({},Gc,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),ip=ba(mw),fw=de({},Gc,{data:0}),op=ba(fw),mv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pw(c){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(c):(c=Kl[c])?!!h[c]:!1}function Wl(){return pw}var si=de({},Vl,{key:function(c){if(c.key){var h=mv[c.key]||c.key;if(h!=="Unidentified")return h}return c.type==="keypress"?(c=Fh(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?zh[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wl,charCode:function(c){return c.type==="keypress"?Fh(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Fh(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),fv=ba(si),pv=de({},Si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xv=ba(pv),lp=de({},Vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wl}),cp=ba(lp),xw=de({},Gc,{propertyName:0,elapsedTime:0,pseudoElement:0}),gw=ba(xw),gv=de({},Si,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),vw=ba(gv),Ci=[9,13,27,32],sl=l&&"CompositionEvent"in window,du=null;l&&"documentMode"in document&&(du=document.documentMode);var jo=l&&"TextEvent"in window&&!du,vv=l&&(!sl||du&&8<du&&11>=du),Hl=" ",yv=!1;function Yc(c,h){switch(c){case"keyup":return Ci.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dp(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var wo=!1;function yw(c,h){switch(c){case"compositionend":return dp(h);case"keypress":return h.which!==32?null:(yv=!0,Hl);case"textInput":return c=h.data,c===Hl&&yv?null:c;default:return null}}function al(c,h){if(wo)return c==="compositionend"||!sl&&Yc(c,h)?(c=tp(),nl=Ba=rl=null,wo=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return vv&&h.locale!=="ko"?null:h.data;default:return null}}var Bh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bv(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h==="input"?!!Bh[c.type]:h==="textarea"}function qh(c,h,v,C){On(C),h=S(h,"onChange"),0<h.length&&(v=new rp("onChange","change",null,v,C),c.push({event:v,listeners:h}))}var uu=null,qa=null;function bw(c){yp(c,0)}function _o(c){var h=Xl(c);if(Oe(h))return c}function jw(c,h){if(c==="change")return h}var Hi=!1;if(l){var Qc;if(l){var Uh="oninput"in document;if(!Uh){var Vh=document.createElement("div");Vh.setAttribute("oninput","return;"),Uh=typeof Vh.oninput=="function"}Qc=Uh}else Qc=!1;Hi=Qc&&(!document.documentMode||9<document.documentMode)}function hu(){uu&&(uu.detachEvent("onpropertychange",Kh),qa=uu=null)}function Kh(c){if(c.propertyName==="value"&&_o(qa)){var h=[];qh(h,qa,c,Qe(c)),va(bw,h)}}function Wh(c,h,v){c==="focusin"?(hu(),uu=h,qa=v,uu.attachEvent("onpropertychange",Kh)):c==="focusout"&&hu()}function Xc(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return _o(qa)}function Hh(c,h){if(c==="click")return _o(h)}function up(c,h){if(c==="input"||c==="change")return _o(h)}function jv(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var ki=typeof Object.is=="function"?Object.is:jv;function il(c,h){if(ki(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var v=Object.keys(c),C=Object.keys(h);if(v.length!==C.length)return!1;for(C=0;C<v.length;C++){var E=v[C];if(!u.call(h,E)||!ki(c[E],h[E]))return!1}return!0}function wv(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function hp(c,h){var v=wv(c);c=0;for(var C;v;){if(v.nodeType===3){if(C=c+v.textContent.length,c<=h&&C>=h)return{node:v,offset:h-c};c=C}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=wv(v)}}function _v(c,h){return c&&h?c===h?!0:c&&c.nodeType===3?!1:h&&h.nodeType===3?_v(c,h.parentNode):"contains"in c?c.contains(h):c.compareDocumentPosition?!!(c.compareDocumentPosition(h)&16):!1:!1}function mp(){for(var c=window,h=qt();h instanceof c.HTMLIFrameElement;){try{var v=typeof h.contentWindow.location.href=="string"}catch{v=!1}if(v)c=h.contentWindow;else break;h=qt(c.document)}return h}function fp(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h&&(h==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||h==="textarea"||c.contentEditable==="true")}function Gi(c){var h=mp(),v=c.focusedElem,C=c.selectionRange;if(h!==v&&v&&v.ownerDocument&&_v(v.ownerDocument.documentElement,v)){if(C!==null&&fp(v)){if(h=C.start,c=C.end,c===void 0&&(c=h),"selectionStart"in v)v.selectionStart=h,v.selectionEnd=Math.min(c,v.value.length);else if(c=(h=v.ownerDocument||document)&&h.defaultView||window,c.getSelection){c=c.getSelection();var E=v.textContent.length,M=Math.min(C.start,E);C=C.end===void 0?M:Math.min(C.end,E),!c.extend&&M>C&&(E=C,C=M,M=E),E=hp(v,M);var X=hp(v,C);E&&X&&(c.rangeCount!==1||c.anchorNode!==E.node||c.anchorOffset!==E.offset||c.focusNode!==X.node||c.focusOffset!==X.offset)&&(h=h.createRange(),h.setStart(E.node,E.offset),c.removeAllRanges(),M>C?(c.addRange(h),c.extend(X.node,X.offset)):(h.setEnd(X.node,X.offset),c.addRange(h)))}}for(h=[],c=v;c=c.parentNode;)c.nodeType===1&&h.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<h.length;v++)c=h[v],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var Gh=l&&"documentMode"in document&&11>=document.documentMode,Jc=null,ed=null,mu=null,Zh=!1;function Nv(c,h,v){var C=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;Zh||Jc==null||Jc!==qt(C)||(C=Jc,"selectionStart"in C&&fp(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),mu&&il(mu,C)||(mu=C,C=S(ed,"onSelect"),0<C.length&&(h=new rp("onSelect","select",null,h,v),c.push({event:h,listeners:C}),h.target=Jc)))}function ol(c,h){var v={};return v[c.toLowerCase()]=h.toLowerCase(),v["Webkit"+c]="webkit"+h,v["Moz"+c]="moz"+h,v}var td={animationend:ol("Animation","AnimationEnd"),animationiteration:ol("Animation","AnimationIteration"),animationstart:ol("Animation","AnimationStart"),transitionend:ol("Transition","TransitionEnd")},ll={},pp={};l&&(pp=document.createElement("div").style,"AnimationEvent"in window||(delete td.animationend.animation,delete td.animationiteration.animation,delete td.animationstart.animation),"TransitionEvent"in window||delete td.transitionend.transition);function fu(c){if(ll[c])return ll[c];if(!td[c])return c;var h=td[c],v;for(v in h)if(h.hasOwnProperty(v)&&v in pp)return ll[c]=h[v];return c}var Sv=fu("animationend"),Zi=fu("animationiteration"),xp=fu("animationstart"),gp=fu("transitionend"),rd=new Map,Cv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(c,h){rd.set(c,h),i(h,[c])}for(var Gl=0;Gl<Cv.length;Gl++){var Yh=Cv[Gl],kv=Yh.toLowerCase(),ww=Yh[0].toUpperCase()+Yh.slice(1);Ai(kv,"on"+ww)}Ai(Sv,"onAnimationEnd"),Ai(Zi,"onAnimationIteration"),Ai(xp,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(gp,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Av=new Set("cancel close invalid load scroll toggle".split(" ").concat(nd));function vp(c,h,v){var C=c.type||"unknown-event";c.currentTarget=v,Hf(C,h,void 0,c),c.currentTarget=null}function yp(c,h){h=(h&4)!==0;for(var v=0;v<c.length;v++){var C=c[v],E=C.event;C=C.listeners;e:{var M=void 0;if(h)for(var X=C.length-1;0<=X;X--){var he=C[X],ve=he.instance,$e=he.currentTarget;if(he=he.listener,ve!==M&&E.isPropagationStopped())break e;vp(E,he,$e),M=ve}else for(X=0;X<C.length;X++){if(he=C[X],ve=he.instance,$e=he.currentTarget,he=he.listener,ve!==M&&E.isPropagationStopped())break e;vp(E,he,$e),M=ve}}}if(tu)throw c=Ch,tu=!1,Ch=null,c}function Mn(c,h){var v=h[od];v===void 0&&(v=h[od]=new Set);var C=c+"__bubble";v.has(C)||(Pv(h,c,2,!1),v.add(C))}function bp(c,h,v){var C=0;h&&(C|=4),Pv(v,c,C,h)}var pu="_reactListening"+Math.random().toString(36).slice(2);function sd(c){if(!c[pu]){c[pu]=!0,s.forEach(function(v){v!=="selectionchange"&&(Av.has(v)||bp(v,!1,c),bp(v,!0,c))});var h=c.nodeType===9?c:c.ownerDocument;h===null||h[pu]||(h[pu]=!0,bp("selectionchange",!1,h))}}function Pv(c,h,v,C){switch(Vr(h)){case 1:var E=cw;break;case 4:E=cv;break;default:E=cu}v=E.bind(null,h,v,c),E=void 0,!zc||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(E=!0),C?E!==void 0?c.addEventListener(h,v,{capture:!0,passive:E}):c.addEventListener(h,v,!0):E!==void 0?c.addEventListener(h,v,{passive:E}):c.addEventListener(h,v,!1)}function d(c,h,v,C,E){var M=C;if((h&1)===0&&(h&2)===0&&C!==null)e:for(;;){if(C===null)return;var X=C.tag;if(X===3||X===4){var he=C.stateNode.containerInfo;if(he===E||he.nodeType===8&&he.parentNode===E)break;if(X===4)for(X=C.return;X!==null;){var ve=X.tag;if((ve===3||ve===4)&&(ve=X.stateNode.containerInfo,ve===E||ve.nodeType===8&&ve.parentNode===E))return;X=X.return}for(;he!==null;){if(X=Yl(he),X===null)return;if(ve=X.tag,ve===5||ve===6){C=M=X;continue e}he=he.parentNode}}C=C.return}va(function(){var $e=M,ut=Qe(v),vt=[];e:{var ct=rd.get(c);if(ct!==void 0){var Ft=rp,Ut=c;switch(c){case"keypress":if(Fh(v)===0)break e;case"keydown":case"keyup":Ft=fv;break;case"focusin":Ut="focus",Ft=$h;break;case"focusout":Ut="blur",Ft=$h;break;case"beforeblur":case"afterblur":Ft=$h;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ft=sp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ft=ap;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ft=cp;break;case Sv:case Zi:case xp:Ft=hw;break;case gp:Ft=gw;break;case"scroll":Ft=dw;break;case"wheel":Ft=vw;break;case"copy":case"cut":case"paste":Ft=ip;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ft=xv}var Wt=(h&4)!==0,Ns=!Wt&&c==="scroll",Pe=Wt?ct!==null?ct+"Capture":null:ct;Wt=[];for(var we=$e,De;we!==null;){De=we;var Nt=De.stateNode;if(De.tag===5&&Nt!==null&&(De=Nt,Pe!==null&&(Nt=$l(we,Pe),Nt!=null&&Wt.push(x(we,Nt,De)))),Ns)break;we=we.return}0<Wt.length&&(ct=new Ft(ct,Ut,null,v,ut),vt.push({event:ct,listeners:Wt}))}}if((h&7)===0){e:{if(ct=c==="mouseover"||c==="pointerover",Ft=c==="mouseout"||c==="pointerout",ct&&v!==er&&(Ut=v.relatedTarget||v.fromElement)&&(Yl(Ut)||Ut[xn]))break e;if((Ft||ct)&&(ct=ut.window===ut?ut:(ct=ut.ownerDocument)?ct.defaultView||ct.parentWindow:window,Ft?(Ut=v.relatedTarget||v.toElement,Ft=$e,Ut=Ut?Yl(Ut):null,Ut!==null&&(Ns=tl(Ut),Ut!==Ns||Ut.tag!==5&&Ut.tag!==6)&&(Ut=null)):(Ft=null,Ut=$e),Ft!==Ut)){if(Wt=sp,Nt="onMouseLeave",Pe="onMouseEnter",we="mouse",(c==="pointerout"||c==="pointerover")&&(Wt=xv,Nt="onPointerLeave",Pe="onPointerEnter",we="pointer"),Ns=Ft==null?ct:Xl(Ft),De=Ut==null?ct:Xl(Ut),ct=new Wt(Nt,we+"leave",Ft,v,ut),ct.target=Ns,ct.relatedTarget=De,Nt=null,Yl(ut)===$e&&(Wt=new Wt(Pe,we+"enter",Ut,v,ut),Wt.target=De,Wt.relatedTarget=Ns,Nt=Wt),Ns=Nt,Ft&&Ut)t:{for(Wt=Ft,Pe=Ut,we=0,De=Wt;De;De=T(De))we++;for(De=0,Nt=Pe;Nt;Nt=T(Nt))De++;for(;0<we-De;)Wt=T(Wt),we--;for(;0<De-we;)Pe=T(Pe),De--;for(;we--;){if(Wt===Pe||Pe!==null&&Wt===Pe.alternate)break t;Wt=T(Wt),Pe=T(Pe)}Wt=null}else Wt=null;Ft!==null&&$(vt,ct,Ft,Wt,!1),Ut!==null&&Ns!==null&&$(vt,Ns,Ut,Wt,!0)}}e:{if(ct=$e?Xl($e):window,Ft=ct.nodeName&&ct.nodeName.toLowerCase(),Ft==="select"||Ft==="input"&&ct.type==="file")var Zt=jw;else if(bv(ct))if(Hi)Zt=up;else{Zt=Xc;var ar=Wh}else(Ft=ct.nodeName)&&Ft.toLowerCase()==="input"&&(ct.type==="checkbox"||ct.type==="radio")&&(Zt=Hh);if(Zt&&(Zt=Zt(c,$e))){qh(vt,Zt,v,ut);break e}ar&&ar(c,ct,$e),c==="focusout"&&(ar=ct._wrapperState)&&ar.controlled&&ct.type==="number"&&Jr(ct,"number",ct.value)}switch(ar=$e?Xl($e):window,c){case"focusin":(bv(ar)||ar.contentEditable==="true")&&(Jc=ar,ed=$e,mu=null);break;case"focusout":mu=ed=Jc=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Nv(vt,v,ut);break;case"selectionchange":if(Gh)break;case"keydown":case"keyup":Nv(vt,v,ut)}var ir;if(sl)e:{switch(c){case"compositionstart":var xr="onCompositionStart";break e;case"compositionend":xr="onCompositionEnd";break e;case"compositionupdate":xr="onCompositionUpdate";break e}xr=void 0}else wo?Yc(c,v)&&(xr="onCompositionEnd"):c==="keydown"&&v.keyCode===229&&(xr="onCompositionStart");xr&&(vv&&v.locale!=="ko"&&(wo||xr!=="onCompositionStart"?xr==="onCompositionEnd"&&wo&&(ir=tp()):(rl=ut,Ba="value"in rl?rl.value:rl.textContent,wo=!0)),ar=S($e,xr),0<ar.length&&(xr=new op(xr,c,null,v,ut),vt.push({event:xr,listeners:ar}),ir?xr.data=ir:(ir=dp(v),ir!==null&&(xr.data=ir)))),(ir=jo?yw(c,v):al(c,v))&&($e=S($e,"onBeforeInput"),0<$e.length&&(ut=new op("onBeforeInput","beforeinput",null,v,ut),vt.push({event:ut,listeners:$e}),ut.data=ir))}yp(vt,h)})}function x(c,h,v){return{instance:c,listener:h,currentTarget:v}}function S(c,h){for(var v=h+"Capture",C=[];c!==null;){var E=c,M=E.stateNode;E.tag===5&&M!==null&&(E=M,M=$l(c,v),M!=null&&C.unshift(x(c,M,E)),M=$l(c,h),M!=null&&C.push(x(c,M,E))),c=c.return}return C}function T(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function $(c,h,v,C,E){for(var M=h._reactName,X=[];v!==null&&v!==C;){var he=v,ve=he.alternate,$e=he.stateNode;if(ve!==null&&ve===C)break;he.tag===5&&$e!==null&&(he=$e,E?(ve=$l(v,M),ve!=null&&X.unshift(x(v,ve,he))):E||(ve=$l(v,M),ve!=null&&X.push(x(v,ve,he)))),v=v.return}X.length!==0&&c.push({event:h,listeners:X})}var te=/\r\n?/g,xe=/\u0000|\uFFFD/g;function Ae(c){return(typeof c=="string"?c:""+c).replace(te,`
`).replace(xe,"")}function Fe(c,h,v){if(h=Ae(h),Ae(c)!==h&&v)throw Error(n(425))}function it(){}var Dt=null,nr=null;function Ar(c,h){return c==="textarea"||c==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var qs=typeof setTimeout=="function"?setTimeout:void 0,Os=typeof clearTimeout=="function"?clearTimeout:void 0,Ua=typeof Promise=="function"?Promise:void 0,ja=typeof queueMicrotask=="function"?queueMicrotask:typeof Ua<"u"?function(c){return Ua.resolve(null).then(c).catch(ad)}:qs;function ad(c){setTimeout(function(){throw c})}function jp(c,h){var v=h,C=0;do{var E=v.nextSibling;if(c.removeChild(v),E&&E.nodeType===8)if(v=E.data,v==="/$"){if(C===0){c.removeChild(E),Ni(h);return}C--}else v!=="$"&&v!=="$?"&&v!=="$!"||C++;v=E}while(v);Ni(h)}function cl(c){for(;c!=null;c=c.nextSibling){var h=c.nodeType;if(h===1||h===3)break;if(h===8){if(h=c.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return c}function Tv(c){c=c.previousSibling;for(var h=0;c;){if(c.nodeType===8){var v=c.data;if(v==="$"||v==="$!"||v==="$?"){if(h===0)return c;h--}else v==="/$"&&h++}c=c.previousSibling}return null}var Zl=Math.random().toString(36).slice(2),Yi="__reactFiber$"+Zl,id="__reactProps$"+Zl,xn="__reactContainer$"+Zl,od="__reactEvents$"+Zl,_w="__reactListeners$"+Zl,Nw="__reactHandles$"+Zl;function Yl(c){var h=c[Yi];if(h)return h;for(var v=c.parentNode;v;){if(h=v[xn]||v[Yi]){if(v=h.alternate,h.child!==null||v!==null&&v.child!==null)for(c=Tv(c);c!==null;){if(v=c[Yi])return v;c=Tv(c)}return h}c=v,v=c.parentNode}return null}function Ql(c){return c=c[Yi]||c[xn],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Xl(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(n(33))}function Qh(c){return c[id]||null}var Sw=[],Xh=-1;function ld(c){return{current:c}}function Hn(c){0>Xh||(c.current=Sw[Xh],Sw[Xh]=null,Xh--)}function Bn(c,h){Xh++,Sw[Xh]=c.current,c.current=h}var cd={},wa=ld(cd),ai=ld(!1),xu=cd;function Jh(c,h){var v=c.type.contextTypes;if(!v)return cd;var C=c.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===h)return C.__reactInternalMemoizedMaskedChildContext;var E={},M;for(M in v)E[M]=h[M];return C&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=h,c.__reactInternalMemoizedMaskedChildContext=E),E}function ii(c){return c=c.childContextTypes,c!=null}function Ev(){Hn(ai),Hn(wa)}function FT(c,h,v){if(wa.current!==cd)throw Error(n(168));Bn(wa,h),Bn(ai,v)}function $T(c,h,v){var C=c.stateNode;if(h=h.childContextTypes,typeof C.getChildContext!="function")return v;C=C.getChildContext();for(var E in C)if(!(E in h))throw Error(n(108,je(c)||"Unknown",E));return de({},v,C)}function Ov(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||cd,xu=wa.current,Bn(wa,c),Bn(ai,ai.current),!0}function zT(c,h,v){var C=c.stateNode;if(!C)throw Error(n(169));v?(c=$T(c,h,xu),C.__reactInternalMemoizedMergedChildContext=c,Hn(ai),Hn(wa),Bn(wa,c)):Hn(ai),Bn(ai,v)}var Jl=null,Iv=!1,Cw=!1;function BT(c){Jl===null?Jl=[c]:Jl.push(c)}function nH(c){Iv=!0,BT(c)}function dd(){if(!Cw&&Jl!==null){Cw=!0;var c=0,h=Zr;try{var v=Jl;for(Zr=1;c<v.length;c++){var C=v[c];do C=C(!0);while(C!==null)}Jl=null,Iv=!1}catch(E){throw Jl!==null&&(Jl=Jl.slice(c+1)),iv(Yf,dd),E}finally{Zr=h,Cw=!1}}return null}var em=[],tm=0,Mv=null,Dv=0,Qi=[],Xi=0,gu=null,ec=1,tc="";function vu(c,h){em[tm++]=Dv,em[tm++]=Mv,Mv=c,Dv=h}function qT(c,h,v){Qi[Xi++]=ec,Qi[Xi++]=tc,Qi[Xi++]=gu,gu=c;var C=ec;c=tc;var E=32-Nr(C)-1;C&=~(1<<E),v+=1;var M=32-Nr(h)+E;if(30<M){var X=E-E%5;M=(C&(1<<X)-1).toString(32),C>>=X,E-=X,ec=1<<32-Nr(h)+E|v<<E|C,tc=M+c}else ec=1<<M|v<<E|C,tc=c}function kw(c){c.return!==null&&(vu(c,1),qT(c,1,0))}function Aw(c){for(;c===Mv;)Mv=em[--tm],em[tm]=null,Dv=em[--tm],em[tm]=null;for(;c===gu;)gu=Qi[--Xi],Qi[Xi]=null,tc=Qi[--Xi],Qi[Xi]=null,ec=Qi[--Xi],Qi[Xi]=null}var Pi=null,Ti=null,ts=!1,No=null;function UT(c,h){var v=ro(5,null,null,0);v.elementType="DELETED",v.stateNode=h,v.return=c,h=c.deletions,h===null?(c.deletions=[v],c.flags|=16):h.push(v)}function VT(c,h){switch(c.tag){case 5:var v=c.type;return h=h.nodeType!==1||v.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(c.stateNode=h,Pi=c,Ti=cl(h.firstChild),!0):!1;case 6:return h=c.pendingProps===""||h.nodeType!==3?null:h,h!==null?(c.stateNode=h,Pi=c,Ti=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(v=gu!==null?{id:ec,overflow:tc}:null,c.memoizedState={dehydrated:h,treeContext:v,retryLane:1073741824},v=ro(18,null,null,0),v.stateNode=h,v.return=c,c.child=v,Pi=c,Ti=null,!0):!1;default:return!1}}function Pw(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Tw(c){if(ts){var h=Ti;if(h){var v=h;if(!VT(c,h)){if(Pw(c))throw Error(n(418));h=cl(v.nextSibling);var C=Pi;h&&VT(c,h)?UT(C,v):(c.flags=c.flags&-4097|2,ts=!1,Pi=c)}}else{if(Pw(c))throw Error(n(418));c.flags=c.flags&-4097|2,ts=!1,Pi=c}}}function KT(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Pi=c}function Rv(c){if(c!==Pi)return!1;if(!ts)return KT(c),ts=!0,!1;var h;if((h=c.tag!==3)&&!(h=c.tag!==5)&&(h=c.type,h=h!=="head"&&h!=="body"&&!Ar(c.type,c.memoizedProps)),h&&(h=Ti)){if(Pw(c))throw WT(),Error(n(418));for(;h;)UT(c,h),h=cl(h.nextSibling)}if(KT(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,h=0;c;){if(c.nodeType===8){var v=c.data;if(v==="/$"){if(h===0){Ti=cl(c.nextSibling);break e}h--}else v!=="$"&&v!=="$!"&&v!=="$?"||h++}c=c.nextSibling}Ti=null}}else Ti=Pi?cl(c.stateNode.nextSibling):null;return!0}function WT(){for(var c=Ti;c;)c=cl(c.nextSibling)}function rm(){Ti=Pi=null,ts=!1}function Ew(c){No===null?No=[c]:No.push(c)}var sH=O.ReactCurrentBatchConfig;function wp(c,h,v){if(c=v.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(n(309));var C=v.stateNode}if(!C)throw Error(n(147,c));var E=C,M=""+c;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===M?h.ref:(h=function(X){var he=E.refs;X===null?delete he[M]:he[M]=X},h._stringRef=M,h)}if(typeof c!="string")throw Error(n(284));if(!v._owner)throw Error(n(290,c))}return c}function Lv(c,h){throw c=Object.prototype.toString.call(h),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c))}function HT(c){var h=c._init;return h(c._payload)}function GT(c){function h(Pe,we){if(c){var De=Pe.deletions;De===null?(Pe.deletions=[we],Pe.flags|=16):De.push(we)}}function v(Pe,we){if(!c)return null;for(;we!==null;)h(Pe,we),we=we.sibling;return null}function C(Pe,we){for(Pe=new Map;we!==null;)we.key!==null?Pe.set(we.key,we):Pe.set(we.index,we),we=we.sibling;return Pe}function E(Pe,we){return Pe=vd(Pe,we),Pe.index=0,Pe.sibling=null,Pe}function M(Pe,we,De){return Pe.index=De,c?(De=Pe.alternate,De!==null?(De=De.index,De<we?(Pe.flags|=2,we):De):(Pe.flags|=2,we)):(Pe.flags|=1048576,we)}function X(Pe){return c&&Pe.alternate===null&&(Pe.flags|=2),Pe}function he(Pe,we,De,Nt){return we===null||we.tag!==6?(we=w_(De,Pe.mode,Nt),we.return=Pe,we):(we=E(we,De),we.return=Pe,we)}function ve(Pe,we,De,Nt){var Zt=De.type;return Zt===F?ut(Pe,we,De.props.children,Nt,De.key):we!==null&&(we.elementType===Zt||typeof Zt=="object"&&Zt!==null&&Zt.$$typeof===ae&&HT(Zt)===we.type)?(Nt=E(we,De.props),Nt.ref=wp(Pe,we,De),Nt.return=Pe,Nt):(Nt=oy(De.type,De.key,De.props,null,Pe.mode,Nt),Nt.ref=wp(Pe,we,De),Nt.return=Pe,Nt)}function $e(Pe,we,De,Nt){return we===null||we.tag!==4||we.stateNode.containerInfo!==De.containerInfo||we.stateNode.implementation!==De.implementation?(we=__(De,Pe.mode,Nt),we.return=Pe,we):(we=E(we,De.children||[]),we.return=Pe,we)}function ut(Pe,we,De,Nt,Zt){return we===null||we.tag!==7?(we=Cu(De,Pe.mode,Nt,Zt),we.return=Pe,we):(we=E(we,De),we.return=Pe,we)}function vt(Pe,we,De){if(typeof we=="string"&&we!==""||typeof we=="number")return we=w_(""+we,Pe.mode,De),we.return=Pe,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case I:return De=oy(we.type,we.key,we.props,null,Pe.mode,De),De.ref=wp(Pe,null,we),De.return=Pe,De;case D:return we=__(we,Pe.mode,De),we.return=Pe,we;case ae:var Nt=we._init;return vt(Pe,Nt(we._payload),De)}if(me(we)||se(we))return we=Cu(we,Pe.mode,De,null),we.return=Pe,we;Lv(Pe,we)}return null}function ct(Pe,we,De,Nt){var Zt=we!==null?we.key:null;if(typeof De=="string"&&De!==""||typeof De=="number")return Zt!==null?null:he(Pe,we,""+De,Nt);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case I:return De.key===Zt?ve(Pe,we,De,Nt):null;case D:return De.key===Zt?$e(Pe,we,De,Nt):null;case ae:return Zt=De._init,ct(Pe,we,Zt(De._payload),Nt)}if(me(De)||se(De))return Zt!==null?null:ut(Pe,we,De,Nt,null);Lv(Pe,De)}return null}function Ft(Pe,we,De,Nt,Zt){if(typeof Nt=="string"&&Nt!==""||typeof Nt=="number")return Pe=Pe.get(De)||null,he(we,Pe,""+Nt,Zt);if(typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case I:return Pe=Pe.get(Nt.key===null?De:Nt.key)||null,ve(we,Pe,Nt,Zt);case D:return Pe=Pe.get(Nt.key===null?De:Nt.key)||null,$e(we,Pe,Nt,Zt);case ae:var ar=Nt._init;return Ft(Pe,we,De,ar(Nt._payload),Zt)}if(me(Nt)||se(Nt))return Pe=Pe.get(De)||null,ut(we,Pe,Nt,Zt,null);Lv(we,Nt)}return null}function Ut(Pe,we,De,Nt){for(var Zt=null,ar=null,ir=we,xr=we=0,na=null;ir!==null&&xr<De.length;xr++){ir.index>xr?(na=ir,ir=null):na=ir.sibling;var an=ct(Pe,ir,De[xr],Nt);if(an===null){ir===null&&(ir=na);break}c&&ir&&an.alternate===null&&h(Pe,ir),we=M(an,we,xr),ar===null?Zt=an:ar.sibling=an,ar=an,ir=na}if(xr===De.length)return v(Pe,ir),ts&&vu(Pe,xr),Zt;if(ir===null){for(;xr<De.length;xr++)ir=vt(Pe,De[xr],Nt),ir!==null&&(we=M(ir,we,xr),ar===null?Zt=ir:ar.sibling=ir,ar=ir);return ts&&vu(Pe,xr),Zt}for(ir=C(Pe,ir);xr<De.length;xr++)na=Ft(ir,Pe,xr,De[xr],Nt),na!==null&&(c&&na.alternate!==null&&ir.delete(na.key===null?xr:na.key),we=M(na,we,xr),ar===null?Zt=na:ar.sibling=na,ar=na);return c&&ir.forEach(function(yd){return h(Pe,yd)}),ts&&vu(Pe,xr),Zt}function Wt(Pe,we,De,Nt){var Zt=se(De);if(typeof Zt!="function")throw Error(n(150));if(De=Zt.call(De),De==null)throw Error(n(151));for(var ar=Zt=null,ir=we,xr=we=0,na=null,an=De.next();ir!==null&&!an.done;xr++,an=De.next()){ir.index>xr?(na=ir,ir=null):na=ir.sibling;var yd=ct(Pe,ir,an.value,Nt);if(yd===null){ir===null&&(ir=na);break}c&&ir&&yd.alternate===null&&h(Pe,ir),we=M(yd,we,xr),ar===null?Zt=yd:ar.sibling=yd,ar=yd,ir=na}if(an.done)return v(Pe,ir),ts&&vu(Pe,xr),Zt;if(ir===null){for(;!an.done;xr++,an=De.next())an=vt(Pe,an.value,Nt),an!==null&&(we=M(an,we,xr),ar===null?Zt=an:ar.sibling=an,ar=an);return ts&&vu(Pe,xr),Zt}for(ir=C(Pe,ir);!an.done;xr++,an=De.next())an=Ft(ir,Pe,xr,an.value,Nt),an!==null&&(c&&an.alternate!==null&&ir.delete(an.key===null?xr:an.key),we=M(an,we,xr),ar===null?Zt=an:ar.sibling=an,ar=an);return c&&ir.forEach(function(LH){return h(Pe,LH)}),ts&&vu(Pe,xr),Zt}function Ns(Pe,we,De,Nt){if(typeof De=="object"&&De!==null&&De.type===F&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case I:e:{for(var Zt=De.key,ar=we;ar!==null;){if(ar.key===Zt){if(Zt=De.type,Zt===F){if(ar.tag===7){v(Pe,ar.sibling),we=E(ar,De.props.children),we.return=Pe,Pe=we;break e}}else if(ar.elementType===Zt||typeof Zt=="object"&&Zt!==null&&Zt.$$typeof===ae&&HT(Zt)===ar.type){v(Pe,ar.sibling),we=E(ar,De.props),we.ref=wp(Pe,ar,De),we.return=Pe,Pe=we;break e}v(Pe,ar);break}else h(Pe,ar);ar=ar.sibling}De.type===F?(we=Cu(De.props.children,Pe.mode,Nt,De.key),we.return=Pe,Pe=we):(Nt=oy(De.type,De.key,De.props,null,Pe.mode,Nt),Nt.ref=wp(Pe,we,De),Nt.return=Pe,Pe=Nt)}return X(Pe);case D:e:{for(ar=De.key;we!==null;){if(we.key===ar)if(we.tag===4&&we.stateNode.containerInfo===De.containerInfo&&we.stateNode.implementation===De.implementation){v(Pe,we.sibling),we=E(we,De.children||[]),we.return=Pe,Pe=we;break e}else{v(Pe,we);break}else h(Pe,we);we=we.sibling}we=__(De,Pe.mode,Nt),we.return=Pe,Pe=we}return X(Pe);case ae:return ar=De._init,Ns(Pe,we,ar(De._payload),Nt)}if(me(De))return Ut(Pe,we,De,Nt);if(se(De))return Wt(Pe,we,De,Nt);Lv(Pe,De)}return typeof De=="string"&&De!==""||typeof De=="number"?(De=""+De,we!==null&&we.tag===6?(v(Pe,we.sibling),we=E(we,De),we.return=Pe,Pe=we):(v(Pe,we),we=w_(De,Pe.mode,Nt),we.return=Pe,Pe=we),X(Pe)):v(Pe,we)}return Ns}var nm=GT(!0),ZT=GT(!1),Fv=ld(null),$v=null,sm=null,Ow=null;function Iw(){Ow=sm=$v=null}function Mw(c){var h=Fv.current;Hn(Fv),c._currentValue=h}function Dw(c,h,v){for(;c!==null;){var C=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,C!==null&&(C.childLanes|=h)):C!==null&&(C.childLanes&h)!==h&&(C.childLanes|=h),c===v)break;c=c.return}}function am(c,h){$v=c,Ow=sm=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&h)!==0&&(oi=!0),c.firstContext=null)}function Ji(c){var h=c._currentValue;if(Ow!==c)if(c={context:c,memoizedValue:h,next:null},sm===null){if($v===null)throw Error(n(308));sm=c,$v.dependencies={lanes:0,firstContext:c}}else sm=sm.next=c;return h}var yu=null;function Rw(c){yu===null?yu=[c]:yu.push(c)}function YT(c,h,v,C){var E=h.interleaved;return E===null?(v.next=v,Rw(h)):(v.next=E.next,E.next=v),h.interleaved=v,rc(c,C)}function rc(c,h){c.lanes|=h;var v=c.alternate;for(v!==null&&(v.lanes|=h),v=c,c=c.return;c!==null;)c.childLanes|=h,v=c.alternate,v!==null&&(v.childLanes|=h),v=c,c=c.return;return v.tag===3?v.stateNode:null}var ud=!1;function Lw(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QT(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function nc(c,h){return{eventTime:c,lane:h,tag:0,payload:null,callback:null,next:null}}function hd(c,h,v){var C=c.updateQueue;if(C===null)return null;if(C=C.shared,(nn&2)!==0){var E=C.pending;return E===null?h.next=h:(h.next=E.next,E.next=h),C.pending=h,rc(c,v)}return E=C.interleaved,E===null?(h.next=h,Rw(C)):(h.next=E.next,E.next=h),C.interleaved=h,rc(c,v)}function zv(c,h,v){if(h=h.updateQueue,h!==null&&(h=h.shared,(v&4194240)!==0)){var C=h.lanes;C&=c.pendingLanes,v|=C,h.lanes=v,yo(c,v)}}function XT(c,h){var v=c.updateQueue,C=c.alternate;if(C!==null&&(C=C.updateQueue,v===C)){var E=null,M=null;if(v=v.firstBaseUpdate,v!==null){do{var X={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};M===null?E=M=X:M=M.next=X,v=v.next}while(v!==null);M===null?E=M=h:M=M.next=h}else E=M=h;v={baseState:C.baseState,firstBaseUpdate:E,lastBaseUpdate:M,shared:C.shared,effects:C.effects},c.updateQueue=v;return}c=v.lastBaseUpdate,c===null?v.firstBaseUpdate=h:c.next=h,v.lastBaseUpdate=h}function Bv(c,h,v,C){var E=c.updateQueue;ud=!1;var M=E.firstBaseUpdate,X=E.lastBaseUpdate,he=E.shared.pending;if(he!==null){E.shared.pending=null;var ve=he,$e=ve.next;ve.next=null,X===null?M=$e:X.next=$e,X=ve;var ut=c.alternate;ut!==null&&(ut=ut.updateQueue,he=ut.lastBaseUpdate,he!==X&&(he===null?ut.firstBaseUpdate=$e:he.next=$e,ut.lastBaseUpdate=ve))}if(M!==null){var vt=E.baseState;X=0,ut=$e=ve=null,he=M;do{var ct=he.lane,Ft=he.eventTime;if((C&ct)===ct){ut!==null&&(ut=ut.next={eventTime:Ft,lane:0,tag:he.tag,payload:he.payload,callback:he.callback,next:null});e:{var Ut=c,Wt=he;switch(ct=h,Ft=v,Wt.tag){case 1:if(Ut=Wt.payload,typeof Ut=="function"){vt=Ut.call(Ft,vt,ct);break e}vt=Ut;break e;case 3:Ut.flags=Ut.flags&-65537|128;case 0:if(Ut=Wt.payload,ct=typeof Ut=="function"?Ut.call(Ft,vt,ct):Ut,ct==null)break e;vt=de({},vt,ct);break e;case 2:ud=!0}}he.callback!==null&&he.lane!==0&&(c.flags|=64,ct=E.effects,ct===null?E.effects=[he]:ct.push(he))}else Ft={eventTime:Ft,lane:ct,tag:he.tag,payload:he.payload,callback:he.callback,next:null},ut===null?($e=ut=Ft,ve=vt):ut=ut.next=Ft,X|=ct;if(he=he.next,he===null){if(he=E.shared.pending,he===null)break;ct=he,he=ct.next,ct.next=null,E.lastBaseUpdate=ct,E.shared.pending=null}}while(!0);if(ut===null&&(ve=vt),E.baseState=ve,E.firstBaseUpdate=$e,E.lastBaseUpdate=ut,h=E.shared.interleaved,h!==null){E=h;do X|=E.lane,E=E.next;while(E!==h)}else M===null&&(E.shared.lanes=0);wu|=X,c.lanes=X,c.memoizedState=vt}}function JT(c,h,v){if(c=h.effects,h.effects=null,c!==null)for(h=0;h<c.length;h++){var C=c[h],E=C.callback;if(E!==null){if(C.callback=null,C=v,typeof E!="function")throw Error(n(191,E));E.call(C)}}}var _p={},dl=ld(_p),Np=ld(_p),Sp=ld(_p);function bu(c){if(c===_p)throw Error(n(174));return c}function Fw(c,h){switch(Bn(Sp,h),Bn(Np,c),Bn(dl,_p),c=h.nodeType,c){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:Gt(null,"");break;default:c=c===8?h.parentNode:h,h=c.namespaceURI||null,c=c.tagName,h=Gt(h,c)}Hn(dl),Bn(dl,h)}function im(){Hn(dl),Hn(Np),Hn(Sp)}function eE(c){bu(Sp.current);var h=bu(dl.current),v=Gt(h,c.type);h!==v&&(Bn(Np,c),Bn(dl,v))}function $w(c){Np.current===c&&(Hn(dl),Hn(Np))}var ls=ld(0);function qv(c){for(var h=c;h!==null;){if(h.tag===13){var v=h.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var zw=[];function Bw(){for(var c=0;c<zw.length;c++)zw[c]._workInProgressVersionPrimary=null;zw.length=0}var Uv=O.ReactCurrentDispatcher,qw=O.ReactCurrentBatchConfig,ju=0,cs=null,Us=null,ta=null,Vv=!1,Cp=!1,kp=0,aH=0;function _a(){throw Error(n(321))}function Uw(c,h){if(h===null)return!1;for(var v=0;v<h.length&&v<c.length;v++)if(!ki(c[v],h[v]))return!1;return!0}function Vw(c,h,v,C,E,M){if(ju=M,cs=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Uv.current=c===null||c.memoizedState===null?cH:dH,c=v(C,E),Cp){M=0;do{if(Cp=!1,kp=0,25<=M)throw Error(n(301));M+=1,ta=Us=null,h.updateQueue=null,Uv.current=uH,c=v(C,E)}while(Cp)}if(Uv.current=Hv,h=Us!==null&&Us.next!==null,ju=0,ta=Us=cs=null,Vv=!1,h)throw Error(n(300));return c}function Kw(){var c=kp!==0;return kp=0,c}function ul(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ta===null?cs.memoizedState=ta=c:ta=ta.next=c,ta}function eo(){if(Us===null){var c=cs.alternate;c=c!==null?c.memoizedState:null}else c=Us.next;var h=ta===null?cs.memoizedState:ta.next;if(h!==null)ta=h,Us=c;else{if(c===null)throw Error(n(310));Us=c,c={memoizedState:Us.memoizedState,baseState:Us.baseState,baseQueue:Us.baseQueue,queue:Us.queue,next:null},ta===null?cs.memoizedState=ta=c:ta=ta.next=c}return ta}function Ap(c,h){return typeof h=="function"?h(c):h}function Ww(c){var h=eo(),v=h.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=c;var C=Us,E=C.baseQueue,M=v.pending;if(M!==null){if(E!==null){var X=E.next;E.next=M.next,M.next=X}C.baseQueue=E=M,v.pending=null}if(E!==null){M=E.next,C=C.baseState;var he=X=null,ve=null,$e=M;do{var ut=$e.lane;if((ju&ut)===ut)ve!==null&&(ve=ve.next={lane:0,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null}),C=$e.hasEagerState?$e.eagerState:c(C,$e.action);else{var vt={lane:ut,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null};ve===null?(he=ve=vt,X=C):ve=ve.next=vt,cs.lanes|=ut,wu|=ut}$e=$e.next}while($e!==null&&$e!==M);ve===null?X=C:ve.next=he,ki(C,h.memoizedState)||(oi=!0),h.memoizedState=C,h.baseState=X,h.baseQueue=ve,v.lastRenderedState=C}if(c=v.interleaved,c!==null){E=c;do M=E.lane,cs.lanes|=M,wu|=M,E=E.next;while(E!==c)}else E===null&&(v.lanes=0);return[h.memoizedState,v.dispatch]}function Hw(c){var h=eo(),v=h.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=c;var C=v.dispatch,E=v.pending,M=h.memoizedState;if(E!==null){v.pending=null;var X=E=E.next;do M=c(M,X.action),X=X.next;while(X!==E);ki(M,h.memoizedState)||(oi=!0),h.memoizedState=M,h.baseQueue===null&&(h.baseState=M),v.lastRenderedState=M}return[M,C]}function tE(){}function rE(c,h){var v=cs,C=eo(),E=h(),M=!ki(C.memoizedState,E);if(M&&(C.memoizedState=E,oi=!0),C=C.queue,Gw(aE.bind(null,v,C,c),[c]),C.getSnapshot!==h||M||ta!==null&&ta.memoizedState.tag&1){if(v.flags|=2048,Pp(9,sE.bind(null,v,C,E,h),void 0,null),ra===null)throw Error(n(349));(ju&30)!==0||nE(v,h,E)}return E}function nE(c,h,v){c.flags|=16384,c={getSnapshot:h,value:v},h=cs.updateQueue,h===null?(h={lastEffect:null,stores:null},cs.updateQueue=h,h.stores=[c]):(v=h.stores,v===null?h.stores=[c]:v.push(c))}function sE(c,h,v,C){h.value=v,h.getSnapshot=C,iE(h)&&oE(c)}function aE(c,h,v){return v(function(){iE(h)&&oE(c)})}function iE(c){var h=c.getSnapshot;c=c.value;try{var v=h();return!ki(c,v)}catch{return!0}}function oE(c){var h=rc(c,1);h!==null&&Ao(h,c,1,-1)}function lE(c){var h=ul();return typeof c=="function"&&(c=c()),h.memoizedState=h.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ap,lastRenderedState:c},h.queue=c,c=c.dispatch=lH.bind(null,cs,c),[h.memoizedState,c]}function Pp(c,h,v,C){return c={tag:c,create:h,destroy:v,deps:C,next:null},h=cs.updateQueue,h===null?(h={lastEffect:null,stores:null},cs.updateQueue=h,h.lastEffect=c.next=c):(v=h.lastEffect,v===null?h.lastEffect=c.next=c:(C=v.next,v.next=c,c.next=C,h.lastEffect=c)),c}function cE(){return eo().memoizedState}function Kv(c,h,v,C){var E=ul();cs.flags|=c,E.memoizedState=Pp(1|h,v,void 0,C===void 0?null:C)}function Wv(c,h,v,C){var E=eo();C=C===void 0?null:C;var M=void 0;if(Us!==null){var X=Us.memoizedState;if(M=X.destroy,C!==null&&Uw(C,X.deps)){E.memoizedState=Pp(h,v,M,C);return}}cs.flags|=c,E.memoizedState=Pp(1|h,v,M,C)}function dE(c,h){return Kv(8390656,8,c,h)}function Gw(c,h){return Wv(2048,8,c,h)}function uE(c,h){return Wv(4,2,c,h)}function hE(c,h){return Wv(4,4,c,h)}function mE(c,h){if(typeof h=="function")return c=c(),h(c),function(){h(null)};if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function fE(c,h,v){return v=v!=null?v.concat([c]):null,Wv(4,4,mE.bind(null,h,c),v)}function Zw(){}function pE(c,h){var v=eo();h=h===void 0?null:h;var C=v.memoizedState;return C!==null&&h!==null&&Uw(h,C[1])?C[0]:(v.memoizedState=[c,h],c)}function xE(c,h){var v=eo();h=h===void 0?null:h;var C=v.memoizedState;return C!==null&&h!==null&&Uw(h,C[1])?C[0]:(c=c(),v.memoizedState=[c,h],c)}function gE(c,h,v){return(ju&21)===0?(c.baseState&&(c.baseState=!1,oi=!0),c.memoizedState=v):(ki(v,h)||(v=lv(),cs.lanes|=v,wu|=v,c.baseState=!0),h)}function iH(c,h){var v=Zr;Zr=v!==0&&4>v?v:4,c(!0);var C=qw.transition;qw.transition={};try{c(!1),h()}finally{Zr=v,qw.transition=C}}function vE(){return eo().memoizedState}function oH(c,h,v){var C=xd(c);if(v={lane:C,action:v,hasEagerState:!1,eagerState:null,next:null},yE(c))bE(h,v);else if(v=YT(c,h,v,C),v!==null){var E=Ka();Ao(v,c,C,E),jE(v,h,C)}}function lH(c,h,v){var C=xd(c),E={lane:C,action:v,hasEagerState:!1,eagerState:null,next:null};if(yE(c))bE(h,E);else{var M=c.alternate;if(c.lanes===0&&(M===null||M.lanes===0)&&(M=h.lastRenderedReducer,M!==null))try{var X=h.lastRenderedState,he=M(X,v);if(E.hasEagerState=!0,E.eagerState=he,ki(he,X)){var ve=h.interleaved;ve===null?(E.next=E,Rw(h)):(E.next=ve.next,ve.next=E),h.interleaved=E;return}}catch{}finally{}v=YT(c,h,E,C),v!==null&&(E=Ka(),Ao(v,c,C,E),jE(v,h,C))}}function yE(c){var h=c.alternate;return c===cs||h!==null&&h===cs}function bE(c,h){Cp=Vv=!0;var v=c.pending;v===null?h.next=h:(h.next=v.next,v.next=h),c.pending=h}function jE(c,h,v){if((v&4194240)!==0){var C=h.lanes;C&=c.pendingLanes,v|=C,h.lanes=v,yo(c,v)}}var Hv={readContext:Ji,useCallback:_a,useContext:_a,useEffect:_a,useImperativeHandle:_a,useInsertionEffect:_a,useLayoutEffect:_a,useMemo:_a,useReducer:_a,useRef:_a,useState:_a,useDebugValue:_a,useDeferredValue:_a,useTransition:_a,useMutableSource:_a,useSyncExternalStore:_a,useId:_a,unstable_isNewReconciler:!1},cH={readContext:Ji,useCallback:function(c,h){return ul().memoizedState=[c,h===void 0?null:h],c},useContext:Ji,useEffect:dE,useImperativeHandle:function(c,h,v){return v=v!=null?v.concat([c]):null,Kv(4194308,4,mE.bind(null,h,c),v)},useLayoutEffect:function(c,h){return Kv(4194308,4,c,h)},useInsertionEffect:function(c,h){return Kv(4,2,c,h)},useMemo:function(c,h){var v=ul();return h=h===void 0?null:h,c=c(),v.memoizedState=[c,h],c},useReducer:function(c,h,v){var C=ul();return h=v!==void 0?v(h):h,C.memoizedState=C.baseState=h,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:h},C.queue=c,c=c.dispatch=oH.bind(null,cs,c),[C.memoizedState,c]},useRef:function(c){var h=ul();return c={current:c},h.memoizedState=c},useState:lE,useDebugValue:Zw,useDeferredValue:function(c){return ul().memoizedState=c},useTransition:function(){var c=lE(!1),h=c[0];return c=iH.bind(null,c[1]),ul().memoizedState=c,[h,c]},useMutableSource:function(){},useSyncExternalStore:function(c,h,v){var C=cs,E=ul();if(ts){if(v===void 0)throw Error(n(407));v=v()}else{if(v=h(),ra===null)throw Error(n(349));(ju&30)!==0||nE(C,h,v)}E.memoizedState=v;var M={value:v,getSnapshot:h};return E.queue=M,dE(aE.bind(null,C,M,c),[c]),C.flags|=2048,Pp(9,sE.bind(null,C,M,v,h),void 0,null),v},useId:function(){var c=ul(),h=ra.identifierPrefix;if(ts){var v=tc,C=ec;v=(C&~(1<<32-Nr(C)-1)).toString(32)+v,h=":"+h+"R"+v,v=kp++,0<v&&(h+="H"+v.toString(32)),h+=":"}else v=aH++,h=":"+h+"r"+v.toString(32)+":";return c.memoizedState=h},unstable_isNewReconciler:!1},dH={readContext:Ji,useCallback:pE,useContext:Ji,useEffect:Gw,useImperativeHandle:fE,useInsertionEffect:uE,useLayoutEffect:hE,useMemo:xE,useReducer:Ww,useRef:cE,useState:function(){return Ww(Ap)},useDebugValue:Zw,useDeferredValue:function(c){var h=eo();return gE(h,Us.memoizedState,c)},useTransition:function(){var c=Ww(Ap)[0],h=eo().memoizedState;return[c,h]},useMutableSource:tE,useSyncExternalStore:rE,useId:vE,unstable_isNewReconciler:!1},uH={readContext:Ji,useCallback:pE,useContext:Ji,useEffect:Gw,useImperativeHandle:fE,useInsertionEffect:uE,useLayoutEffect:hE,useMemo:xE,useReducer:Hw,useRef:cE,useState:function(){return Hw(Ap)},useDebugValue:Zw,useDeferredValue:function(c){var h=eo();return Us===null?h.memoizedState=c:gE(h,Us.memoizedState,c)},useTransition:function(){var c=Hw(Ap)[0],h=eo().memoizedState;return[c,h]},useMutableSource:tE,useSyncExternalStore:rE,useId:vE,unstable_isNewReconciler:!1};function So(c,h){if(c&&c.defaultProps){h=de({},h),c=c.defaultProps;for(var v in c)h[v]===void 0&&(h[v]=c[v]);return h}return h}function Yw(c,h,v,C){h=c.memoizedState,v=v(C,h),v=v==null?h:de({},h,v),c.memoizedState=v,c.lanes===0&&(c.updateQueue.baseState=v)}var Gv={isMounted:function(c){return(c=c._reactInternals)?tl(c)===c:!1},enqueueSetState:function(c,h,v){c=c._reactInternals;var C=Ka(),E=xd(c),M=nc(C,E);M.payload=h,v!=null&&(M.callback=v),h=hd(c,M,E),h!==null&&(Ao(h,c,E,C),zv(h,c,E))},enqueueReplaceState:function(c,h,v){c=c._reactInternals;var C=Ka(),E=xd(c),M=nc(C,E);M.tag=1,M.payload=h,v!=null&&(M.callback=v),h=hd(c,M,E),h!==null&&(Ao(h,c,E,C),zv(h,c,E))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var v=Ka(),C=xd(c),E=nc(v,C);E.tag=2,h!=null&&(E.callback=h),h=hd(c,E,C),h!==null&&(Ao(h,c,C,v),zv(h,c,C))}};function wE(c,h,v,C,E,M,X){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(C,M,X):h.prototype&&h.prototype.isPureReactComponent?!il(v,C)||!il(E,M):!0}function _E(c,h,v){var C=!1,E=cd,M=h.contextType;return typeof M=="object"&&M!==null?M=Ji(M):(E=ii(h)?xu:wa.current,C=h.contextTypes,M=(C=C!=null)?Jh(c,E):cd),h=new h(v,M),c.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Gv,c.stateNode=h,h._reactInternals=c,C&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=E,c.__reactInternalMemoizedMaskedChildContext=M),h}function NE(c,h,v,C){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(v,C),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(v,C),h.state!==c&&Gv.enqueueReplaceState(h,h.state,null)}function Qw(c,h,v,C){var E=c.stateNode;E.props=v,E.state=c.memoizedState,E.refs={},Lw(c);var M=h.contextType;typeof M=="object"&&M!==null?E.context=Ji(M):(M=ii(h)?xu:wa.current,E.context=Jh(c,M)),E.state=c.memoizedState,M=h.getDerivedStateFromProps,typeof M=="function"&&(Yw(c,h,M,v),E.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(h=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),h!==E.state&&Gv.enqueueReplaceState(E,E.state,null),Bv(c,v,E,C),E.state=c.memoizedState),typeof E.componentDidMount=="function"&&(c.flags|=4194308)}function om(c,h){try{var v="",C=h;do v+=_e(C),C=C.return;while(C);var E=v}catch(M){E=`
Error generating stack: `+M.message+`
`+M.stack}return{value:c,source:h,stack:E,digest:null}}function Xw(c,h,v){return{value:c,source:null,stack:v??null,digest:h??null}}function Jw(c,h){try{console.error(h.value)}catch(v){setTimeout(function(){throw v})}}var hH=typeof WeakMap=="function"?WeakMap:Map;function SE(c,h,v){v=nc(-1,v),v.tag=3,v.payload={element:null};var C=h.value;return v.callback=function(){ty||(ty=!0,f_=C),Jw(c,h)},v}function CE(c,h,v){v=nc(-1,v),v.tag=3;var C=c.type.getDerivedStateFromError;if(typeof C=="function"){var E=h.value;v.payload=function(){return C(E)},v.callback=function(){Jw(c,h)}}var M=c.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(v.callback=function(){Jw(c,h),typeof C!="function"&&(fd===null?fd=new Set([this]):fd.add(this));var X=h.stack;this.componentDidCatch(h.value,{componentStack:X!==null?X:""})}),v}function kE(c,h,v){var C=c.pingCache;if(C===null){C=c.pingCache=new hH;var E=new Set;C.set(h,E)}else E=C.get(h),E===void 0&&(E=new Set,C.set(h,E));E.has(v)||(E.add(v),c=CH.bind(null,c,h,v),h.then(c,c))}function AE(c){do{var h;if((h=c.tag===13)&&(h=c.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return c;c=c.return}while(c!==null);return null}function PE(c,h,v,C,E){return(c.mode&1)===0?(c===h?c.flags|=65536:(c.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(h=nc(-1,1),h.tag=2,hd(v,h,1))),v.lanes|=1),c):(c.flags|=65536,c.lanes=E,c)}var mH=O.ReactCurrentOwner,oi=!1;function Va(c,h,v,C){h.child=c===null?ZT(h,null,v,C):nm(h,c.child,v,C)}function TE(c,h,v,C,E){v=v.render;var M=h.ref;return am(h,E),C=Vw(c,h,v,C,M,E),v=Kw(),c!==null&&!oi?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~E,sc(c,h,E)):(ts&&v&&kw(h),h.flags|=1,Va(c,h,C,E),h.child)}function EE(c,h,v,C,E){if(c===null){var M=v.type;return typeof M=="function"&&!j_(M)&&M.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(h.tag=15,h.type=M,OE(c,h,M,C,E)):(c=oy(v.type,null,C,h,h.mode,E),c.ref=h.ref,c.return=h,h.child=c)}if(M=c.child,(c.lanes&E)===0){var X=M.memoizedProps;if(v=v.compare,v=v!==null?v:il,v(X,C)&&c.ref===h.ref)return sc(c,h,E)}return h.flags|=1,c=vd(M,C),c.ref=h.ref,c.return=h,h.child=c}function OE(c,h,v,C,E){if(c!==null){var M=c.memoizedProps;if(il(M,C)&&c.ref===h.ref)if(oi=!1,h.pendingProps=C=M,(c.lanes&E)!==0)(c.flags&131072)!==0&&(oi=!0);else return h.lanes=c.lanes,sc(c,h,E)}return e_(c,h,v,C,E)}function IE(c,h,v){var C=h.pendingProps,E=C.children,M=c!==null?c.memoizedState:null;if(C.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bn(cm,Ei),Ei|=v;else{if((v&1073741824)===0)return c=M!==null?M.baseLanes|v:v,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:c,cachePool:null,transitions:null},h.updateQueue=null,Bn(cm,Ei),Ei|=c,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},C=M!==null?M.baseLanes:v,Bn(cm,Ei),Ei|=C}else M!==null?(C=M.baseLanes|v,h.memoizedState=null):C=v,Bn(cm,Ei),Ei|=C;return Va(c,h,E,v),h.child}function ME(c,h){var v=h.ref;(c===null&&v!==null||c!==null&&c.ref!==v)&&(h.flags|=512,h.flags|=2097152)}function e_(c,h,v,C,E){var M=ii(v)?xu:wa.current;return M=Jh(h,M),am(h,E),v=Vw(c,h,v,C,M,E),C=Kw(),c!==null&&!oi?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~E,sc(c,h,E)):(ts&&C&&kw(h),h.flags|=1,Va(c,h,v,E),h.child)}function DE(c,h,v,C,E){if(ii(v)){var M=!0;Ov(h)}else M=!1;if(am(h,E),h.stateNode===null)Yv(c,h),_E(h,v,C),Qw(h,v,C,E),C=!0;else if(c===null){var X=h.stateNode,he=h.memoizedProps;X.props=he;var ve=X.context,$e=v.contextType;typeof $e=="object"&&$e!==null?$e=Ji($e):($e=ii(v)?xu:wa.current,$e=Jh(h,$e));var ut=v.getDerivedStateFromProps,vt=typeof ut=="function"||typeof X.getSnapshotBeforeUpdate=="function";vt||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(he!==C||ve!==$e)&&NE(h,X,C,$e),ud=!1;var ct=h.memoizedState;X.state=ct,Bv(h,C,X,E),ve=h.memoizedState,he!==C||ct!==ve||ai.current||ud?(typeof ut=="function"&&(Yw(h,v,ut,C),ve=h.memoizedState),(he=ud||wE(h,v,he,C,ct,ve,$e))?(vt||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(h.flags|=4194308)):(typeof X.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=C,h.memoizedState=ve),X.props=C,X.state=ve,X.context=$e,C=he):(typeof X.componentDidMount=="function"&&(h.flags|=4194308),C=!1)}else{X=h.stateNode,QT(c,h),he=h.memoizedProps,$e=h.type===h.elementType?he:So(h.type,he),X.props=$e,vt=h.pendingProps,ct=X.context,ve=v.contextType,typeof ve=="object"&&ve!==null?ve=Ji(ve):(ve=ii(v)?xu:wa.current,ve=Jh(h,ve));var Ft=v.getDerivedStateFromProps;(ut=typeof Ft=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(he!==vt||ct!==ve)&&NE(h,X,C,ve),ud=!1,ct=h.memoizedState,X.state=ct,Bv(h,C,X,E);var Ut=h.memoizedState;he!==vt||ct!==Ut||ai.current||ud?(typeof Ft=="function"&&(Yw(h,v,Ft,C),Ut=h.memoizedState),($e=ud||wE(h,v,$e,C,ct,Ut,ve)||!1)?(ut||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(C,Ut,ve),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(C,Ut,ve)),typeof X.componentDidUpdate=="function"&&(h.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof X.componentDidUpdate!="function"||he===c.memoizedProps&&ct===c.memoizedState||(h.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||he===c.memoizedProps&&ct===c.memoizedState||(h.flags|=1024),h.memoizedProps=C,h.memoizedState=Ut),X.props=C,X.state=Ut,X.context=ve,C=$e):(typeof X.componentDidUpdate!="function"||he===c.memoizedProps&&ct===c.memoizedState||(h.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||he===c.memoizedProps&&ct===c.memoizedState||(h.flags|=1024),C=!1)}return t_(c,h,v,C,M,E)}function t_(c,h,v,C,E,M){ME(c,h);var X=(h.flags&128)!==0;if(!C&&!X)return E&&zT(h,v,!1),sc(c,h,M);C=h.stateNode,mH.current=h;var he=X&&typeof v.getDerivedStateFromError!="function"?null:C.render();return h.flags|=1,c!==null&&X?(h.child=nm(h,c.child,null,M),h.child=nm(h,null,he,M)):Va(c,h,he,M),h.memoizedState=C.state,E&&zT(h,v,!0),h.child}function RE(c){var h=c.stateNode;h.pendingContext?FT(c,h.pendingContext,h.pendingContext!==h.context):h.context&&FT(c,h.context,!1),Fw(c,h.containerInfo)}function LE(c,h,v,C,E){return rm(),Ew(E),h.flags|=256,Va(c,h,v,C),h.child}var r_={dehydrated:null,treeContext:null,retryLane:0};function n_(c){return{baseLanes:c,cachePool:null,transitions:null}}function FE(c,h,v){var C=h.pendingProps,E=ls.current,M=!1,X=(h.flags&128)!==0,he;if((he=X)||(he=c!==null&&c.memoizedState===null?!1:(E&2)!==0),he?(M=!0,h.flags&=-129):(c===null||c.memoizedState!==null)&&(E|=1),Bn(ls,E&1),c===null)return Tw(h),c=h.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((h.mode&1)===0?h.lanes=1:c.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(X=C.children,c=C.fallback,M?(C=h.mode,M=h.child,X={mode:"hidden",children:X},(C&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=X):M=ly(X,C,0,null),c=Cu(c,C,v,null),M.return=h,c.return=h,M.sibling=c,h.child=M,h.child.memoizedState=n_(v),h.memoizedState=r_,c):s_(h,X));if(E=c.memoizedState,E!==null&&(he=E.dehydrated,he!==null))return fH(c,h,X,C,he,E,v);if(M){M=C.fallback,X=h.mode,E=c.child,he=E.sibling;var ve={mode:"hidden",children:C.children};return(X&1)===0&&h.child!==E?(C=h.child,C.childLanes=0,C.pendingProps=ve,h.deletions=null):(C=vd(E,ve),C.subtreeFlags=E.subtreeFlags&14680064),he!==null?M=vd(he,M):(M=Cu(M,X,v,null),M.flags|=2),M.return=h,C.return=h,C.sibling=M,h.child=C,C=M,M=h.child,X=c.child.memoizedState,X=X===null?n_(v):{baseLanes:X.baseLanes|v,cachePool:null,transitions:X.transitions},M.memoizedState=X,M.childLanes=c.childLanes&~v,h.memoizedState=r_,C}return M=c.child,c=M.sibling,C=vd(M,{mode:"visible",children:C.children}),(h.mode&1)===0&&(C.lanes=v),C.return=h,C.sibling=null,c!==null&&(v=h.deletions,v===null?(h.deletions=[c],h.flags|=16):v.push(c)),h.child=C,h.memoizedState=null,C}function s_(c,h){return h=ly({mode:"visible",children:h},c.mode,0,null),h.return=c,c.child=h}function Zv(c,h,v,C){return C!==null&&Ew(C),nm(h,c.child,null,v),c=s_(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function fH(c,h,v,C,E,M,X){if(v)return h.flags&256?(h.flags&=-257,C=Xw(Error(n(422))),Zv(c,h,X,C)):h.memoizedState!==null?(h.child=c.child,h.flags|=128,null):(M=C.fallback,E=h.mode,C=ly({mode:"visible",children:C.children},E,0,null),M=Cu(M,E,X,null),M.flags|=2,C.return=h,M.return=h,C.sibling=M,h.child=C,(h.mode&1)!==0&&nm(h,c.child,null,X),h.child.memoizedState=n_(X),h.memoizedState=r_,M);if((h.mode&1)===0)return Zv(c,h,X,null);if(E.data==="$!"){if(C=E.nextSibling&&E.nextSibling.dataset,C)var he=C.dgst;return C=he,M=Error(n(419)),C=Xw(M,C,void 0),Zv(c,h,X,C)}if(he=(X&c.childLanes)!==0,oi||he){if(C=ra,C!==null){switch(X&-X){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(C.suspendedLanes|X))!==0?0:E,E!==0&&E!==M.retryLane&&(M.retryLane=E,rc(c,E),Ao(C,c,E,-1))}return b_(),C=Xw(Error(n(421))),Zv(c,h,X,C)}return E.data==="$?"?(h.flags|=128,h.child=c.child,h=kH.bind(null,c),E._reactRetry=h,null):(c=M.treeContext,Ti=cl(E.nextSibling),Pi=h,ts=!0,No=null,c!==null&&(Qi[Xi++]=ec,Qi[Xi++]=tc,Qi[Xi++]=gu,ec=c.id,tc=c.overflow,gu=h),h=s_(h,C.children),h.flags|=4096,h)}function $E(c,h,v){c.lanes|=h;var C=c.alternate;C!==null&&(C.lanes|=h),Dw(c.return,h,v)}function a_(c,h,v,C,E){var M=c.memoizedState;M===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:C,tail:v,tailMode:E}:(M.isBackwards=h,M.rendering=null,M.renderingStartTime=0,M.last=C,M.tail=v,M.tailMode=E)}function zE(c,h,v){var C=h.pendingProps,E=C.revealOrder,M=C.tail;if(Va(c,h,C.children,v),C=ls.current,(C&2)!==0)C=C&1|2,h.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&$E(c,v,h);else if(c.tag===19)$E(c,v,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}C&=1}if(Bn(ls,C),(h.mode&1)===0)h.memoizedState=null;else switch(E){case"forwards":for(v=h.child,E=null;v!==null;)c=v.alternate,c!==null&&qv(c)===null&&(E=v),v=v.sibling;v=E,v===null?(E=h.child,h.child=null):(E=v.sibling,v.sibling=null),a_(h,!1,E,v,M);break;case"backwards":for(v=null,E=h.child,h.child=null;E!==null;){if(c=E.alternate,c!==null&&qv(c)===null){h.child=E;break}c=E.sibling,E.sibling=v,v=E,E=c}a_(h,!0,v,null,M);break;case"together":a_(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Yv(c,h){(h.mode&1)===0&&c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2)}function sc(c,h,v){if(c!==null&&(h.dependencies=c.dependencies),wu|=h.lanes,(v&h.childLanes)===0)return null;if(c!==null&&h.child!==c.child)throw Error(n(153));if(h.child!==null){for(c=h.child,v=vd(c,c.pendingProps),h.child=v,v.return=h;c.sibling!==null;)c=c.sibling,v=v.sibling=vd(c,c.pendingProps),v.return=h;v.sibling=null}return h.child}function pH(c,h,v){switch(h.tag){case 3:RE(h),rm();break;case 5:eE(h);break;case 1:ii(h.type)&&Ov(h);break;case 4:Fw(h,h.stateNode.containerInfo);break;case 10:var C=h.type._context,E=h.memoizedProps.value;Bn(Fv,C._currentValue),C._currentValue=E;break;case 13:if(C=h.memoizedState,C!==null)return C.dehydrated!==null?(Bn(ls,ls.current&1),h.flags|=128,null):(v&h.child.childLanes)!==0?FE(c,h,v):(Bn(ls,ls.current&1),c=sc(c,h,v),c!==null?c.sibling:null);Bn(ls,ls.current&1);break;case 19:if(C=(v&h.childLanes)!==0,(c.flags&128)!==0){if(C)return zE(c,h,v);h.flags|=128}if(E=h.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Bn(ls,ls.current),C)break;return null;case 22:case 23:return h.lanes=0,IE(c,h,v)}return sc(c,h,v)}var BE,i_,qE,UE;BE=function(c,h){for(var v=h.child;v!==null;){if(v.tag===5||v.tag===6)c.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===h)break;for(;v.sibling===null;){if(v.return===null||v.return===h)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},i_=function(){},qE=function(c,h,v,C){var E=c.memoizedProps;if(E!==C){c=h.stateNode,bu(dl.current);var M=null;switch(v){case"input":E=Et(c,E),C=Et(c,C),M=[];break;case"select":E=de({},E,{value:void 0}),C=de({},C,{value:void 0}),M=[];break;case"textarea":E=Ie(c,E),C=Ie(c,C),M=[];break;default:typeof E.onClick!="function"&&typeof C.onClick=="function"&&(c.onclick=it)}ft(v,C);var X;v=null;for($e in E)if(!C.hasOwnProperty($e)&&E.hasOwnProperty($e)&&E[$e]!=null)if($e==="style"){var he=E[$e];for(X in he)he.hasOwnProperty(X)&&(v||(v={}),v[X]="")}else $e!=="dangerouslySetInnerHTML"&&$e!=="children"&&$e!=="suppressContentEditableWarning"&&$e!=="suppressHydrationWarning"&&$e!=="autoFocus"&&(a.hasOwnProperty($e)?M||(M=[]):(M=M||[]).push($e,null));for($e in C){var ve=C[$e];if(he=E?.[$e],C.hasOwnProperty($e)&&ve!==he&&(ve!=null||he!=null))if($e==="style")if(he){for(X in he)!he.hasOwnProperty(X)||ve&&ve.hasOwnProperty(X)||(v||(v={}),v[X]="");for(X in ve)ve.hasOwnProperty(X)&&he[X]!==ve[X]&&(v||(v={}),v[X]=ve[X])}else v||(M||(M=[]),M.push($e,v)),v=ve;else $e==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,he=he?he.__html:void 0,ve!=null&&he!==ve&&(M=M||[]).push($e,ve)):$e==="children"?typeof ve!="string"&&typeof ve!="number"||(M=M||[]).push($e,""+ve):$e!=="suppressContentEditableWarning"&&$e!=="suppressHydrationWarning"&&(a.hasOwnProperty($e)?(ve!=null&&$e==="onScroll"&&Mn("scroll",c),M||he===ve||(M=[])):(M=M||[]).push($e,ve))}v&&(M=M||[]).push("style",v);var $e=M;(h.updateQueue=$e)&&(h.flags|=4)}},UE=function(c,h,v,C){v!==C&&(h.flags|=4)};function Tp(c,h){if(!ts)switch(c.tailMode){case"hidden":h=c.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?c.tail=null:v.sibling=null;break;case"collapsed":v=c.tail;for(var C=null;v!==null;)v.alternate!==null&&(C=v),v=v.sibling;C===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:C.sibling=null}}function Na(c){var h=c.alternate!==null&&c.alternate.child===c.child,v=0,C=0;if(h)for(var E=c.child;E!==null;)v|=E.lanes|E.childLanes,C|=E.subtreeFlags&14680064,C|=E.flags&14680064,E.return=c,E=E.sibling;else for(E=c.child;E!==null;)v|=E.lanes|E.childLanes,C|=E.subtreeFlags,C|=E.flags,E.return=c,E=E.sibling;return c.subtreeFlags|=C,c.childLanes=v,h}function xH(c,h,v){var C=h.pendingProps;switch(Aw(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Na(h),null;case 1:return ii(h.type)&&Ev(),Na(h),null;case 3:return C=h.stateNode,im(),Hn(ai),Hn(wa),Bw(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(c===null||c.child===null)&&(Rv(h)?h.flags|=4:c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,No!==null&&(g_(No),No=null))),i_(c,h),Na(h),null;case 5:$w(h);var E=bu(Sp.current);if(v=h.type,c!==null&&h.stateNode!=null)qE(c,h,v,C,E),c.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!C){if(h.stateNode===null)throw Error(n(166));return Na(h),null}if(c=bu(dl.current),Rv(h)){C=h.stateNode,v=h.type;var M=h.memoizedProps;switch(C[Yi]=h,C[id]=M,c=(h.mode&1)!==0,v){case"dialog":Mn("cancel",C),Mn("close",C);break;case"iframe":case"object":case"embed":Mn("load",C);break;case"video":case"audio":for(E=0;E<nd.length;E++)Mn(nd[E],C);break;case"source":Mn("error",C);break;case"img":case"image":case"link":Mn("error",C),Mn("load",C);break;case"details":Mn("toggle",C);break;case"input":sr(C,M),Mn("invalid",C);break;case"select":C._wrapperState={wasMultiple:!!M.multiple},Mn("invalid",C);break;case"textarea":ht(C,M),Mn("invalid",C)}ft(v,M),E=null;for(var X in M)if(M.hasOwnProperty(X)){var he=M[X];X==="children"?typeof he=="string"?C.textContent!==he&&(M.suppressHydrationWarning!==!0&&Fe(C.textContent,he,c),E=["children",he]):typeof he=="number"&&C.textContent!==""+he&&(M.suppressHydrationWarning!==!0&&Fe(C.textContent,he,c),E=["children",""+he]):a.hasOwnProperty(X)&&he!=null&&X==="onScroll"&&Mn("scroll",C)}switch(v){case"input":St(C),Hr(C,M,!0);break;case"textarea":St(C),Je(C);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(C.onclick=it)}C=E,h.updateQueue=C,C!==null&&(h.flags|=4)}else{X=E.nodeType===9?E:E.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=ze(v)),c==="http://www.w3.org/1999/xhtml"?v==="script"?(c=X.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof C.is=="string"?c=X.createElement(v,{is:C.is}):(c=X.createElement(v),v==="select"&&(X=c,C.multiple?X.multiple=!0:C.size&&(X.size=C.size))):c=X.createElementNS(c,v),c[Yi]=h,c[id]=C,BE(c,h,!1,!1),h.stateNode=c;e:{switch(X=Lt(v,C),v){case"dialog":Mn("cancel",c),Mn("close",c),E=C;break;case"iframe":case"object":case"embed":Mn("load",c),E=C;break;case"video":case"audio":for(E=0;E<nd.length;E++)Mn(nd[E],c);E=C;break;case"source":Mn("error",c),E=C;break;case"img":case"image":case"link":Mn("error",c),Mn("load",c),E=C;break;case"details":Mn("toggle",c),E=C;break;case"input":sr(c,C),E=Et(c,C),Mn("invalid",c);break;case"option":E=C;break;case"select":c._wrapperState={wasMultiple:!!C.multiple},E=de({},C,{value:void 0}),Mn("invalid",c);break;case"textarea":ht(c,C),E=Ie(c,C),Mn("invalid",c);break;default:E=C}ft(v,E),he=E;for(M in he)if(he.hasOwnProperty(M)){var ve=he[M];M==="style"?at(c,ve):M==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ve!=null&&Rn(c,ve)):M==="children"?typeof ve=="string"?(v!=="textarea"||ve!=="")&&as(c,ve):typeof ve=="number"&&as(c,""+ve):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(a.hasOwnProperty(M)?ve!=null&&M==="onScroll"&&Mn("scroll",c):ve!=null&&P(c,M,ve,X))}switch(v){case"input":St(c),Hr(c,C,!1);break;case"textarea":St(c),Je(c);break;case"option":C.value!=null&&c.setAttribute("value",""+Xe(C.value));break;case"select":c.multiple=!!C.multiple,M=C.value,M!=null?Ne(c,!!C.multiple,M,!1):C.defaultValue!=null&&Ne(c,!!C.multiple,C.defaultValue,!0);break;default:typeof E.onClick=="function"&&(c.onclick=it)}switch(v){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break e;case"img":C=!0;break e;default:C=!1}}C&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Na(h),null;case 6:if(c&&h.stateNode!=null)UE(c,h,c.memoizedProps,C);else{if(typeof C!="string"&&h.stateNode===null)throw Error(n(166));if(v=bu(Sp.current),bu(dl.current),Rv(h)){if(C=h.stateNode,v=h.memoizedProps,C[Yi]=h,(M=C.nodeValue!==v)&&(c=Pi,c!==null))switch(c.tag){case 3:Fe(C.nodeValue,v,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Fe(C.nodeValue,v,(c.mode&1)!==0)}M&&(h.flags|=4)}else C=(v.nodeType===9?v:v.ownerDocument).createTextNode(C),C[Yi]=h,h.stateNode=C}return Na(h),null;case 13:if(Hn(ls),C=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(ts&&Ti!==null&&(h.mode&1)!==0&&(h.flags&128)===0)WT(),rm(),h.flags|=98560,M=!1;else if(M=Rv(h),C!==null&&C.dehydrated!==null){if(c===null){if(!M)throw Error(n(318));if(M=h.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(n(317));M[Yi]=h}else rm(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Na(h),M=!1}else No!==null&&(g_(No),No=null),M=!0;if(!M)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=v,h):(C=C!==null,C!==(c!==null&&c.memoizedState!==null)&&C&&(h.child.flags|=8192,(h.mode&1)!==0&&(c===null||(ls.current&1)!==0?Vs===0&&(Vs=3):b_())),h.updateQueue!==null&&(h.flags|=4),Na(h),null);case 4:return im(),i_(c,h),c===null&&sd(h.stateNode.containerInfo),Na(h),null;case 10:return Mw(h.type._context),Na(h),null;case 17:return ii(h.type)&&Ev(),Na(h),null;case 19:if(Hn(ls),M=h.memoizedState,M===null)return Na(h),null;if(C=(h.flags&128)!==0,X=M.rendering,X===null)if(C)Tp(M,!1);else{if(Vs!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(X=qv(c),X!==null){for(h.flags|=128,Tp(M,!1),C=X.updateQueue,C!==null&&(h.updateQueue=C,h.flags|=4),h.subtreeFlags=0,C=v,v=h.child;v!==null;)M=v,c=C,M.flags&=14680066,X=M.alternate,X===null?(M.childLanes=0,M.lanes=c,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=X.childLanes,M.lanes=X.lanes,M.child=X.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=X.memoizedProps,M.memoizedState=X.memoizedState,M.updateQueue=X.updateQueue,M.type=X.type,c=X.dependencies,M.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),v=v.sibling;return Bn(ls,ls.current&1|2),h.child}c=c.sibling}M.tail!==null&&is()>dm&&(h.flags|=128,C=!0,Tp(M,!1),h.lanes=4194304)}else{if(!C)if(c=qv(X),c!==null){if(h.flags|=128,C=!0,v=c.updateQueue,v!==null&&(h.updateQueue=v,h.flags|=4),Tp(M,!0),M.tail===null&&M.tailMode==="hidden"&&!X.alternate&&!ts)return Na(h),null}else 2*is()-M.renderingStartTime>dm&&v!==1073741824&&(h.flags|=128,C=!0,Tp(M,!1),h.lanes=4194304);M.isBackwards?(X.sibling=h.child,h.child=X):(v=M.last,v!==null?v.sibling=X:h.child=X,M.last=X)}return M.tail!==null?(h=M.tail,M.rendering=h,M.tail=h.sibling,M.renderingStartTime=is(),h.sibling=null,v=ls.current,Bn(ls,C?v&1|2:v&1),h):(Na(h),null);case 22:case 23:return y_(),C=h.memoizedState!==null,c!==null&&c.memoizedState!==null!==C&&(h.flags|=8192),C&&(h.mode&1)!==0?(Ei&1073741824)!==0&&(Na(h),h.subtreeFlags&6&&(h.flags|=8192)):Na(h),null;case 24:return null;case 25:return null}throw Error(n(156,h.tag))}function gH(c,h){switch(Aw(h),h.tag){case 1:return ii(h.type)&&Ev(),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return im(),Hn(ai),Hn(wa),Bw(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 5:return $w(h),null;case 13:if(Hn(ls),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(n(340));rm()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return Hn(ls),null;case 4:return im(),null;case 10:return Mw(h.type._context),null;case 22:case 23:return y_(),null;case 24:return null;default:return null}}var Qv=!1,Sa=!1,vH=typeof WeakSet=="function"?WeakSet:Set,zt=null;function lm(c,h){var v=c.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(C){ps(c,h,C)}else v.current=null}function o_(c,h,v){try{v()}catch(C){ps(c,h,C)}}var VE=!1;function yH(c,h){if(Dt=lu,c=mp(),fp(c)){if("selectionStart"in c)var v={start:c.selectionStart,end:c.selectionEnd};else e:{v=(v=c.ownerDocument)&&v.defaultView||window;var C=v.getSelection&&v.getSelection();if(C&&C.rangeCount!==0){v=C.anchorNode;var E=C.anchorOffset,M=C.focusNode;C=C.focusOffset;try{v.nodeType,M.nodeType}catch{v=null;break e}var X=0,he=-1,ve=-1,$e=0,ut=0,vt=c,ct=null;t:for(;;){for(var Ft;vt!==v||E!==0&&vt.nodeType!==3||(he=X+E),vt!==M||C!==0&&vt.nodeType!==3||(ve=X+C),vt.nodeType===3&&(X+=vt.nodeValue.length),(Ft=vt.firstChild)!==null;)ct=vt,vt=Ft;for(;;){if(vt===c)break t;if(ct===v&&++$e===E&&(he=X),ct===M&&++ut===C&&(ve=X),(Ft=vt.nextSibling)!==null)break;vt=ct,ct=vt.parentNode}vt=Ft}v=he===-1||ve===-1?null:{start:he,end:ve}}else v=null}v=v||{start:0,end:0}}else v=null;for(nr={focusedElem:c,selectionRange:v},lu=!1,zt=h;zt!==null;)if(h=zt,c=h.child,(h.subtreeFlags&1028)!==0&&c!==null)c.return=h,zt=c;else for(;zt!==null;){h=zt;try{var Ut=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(Ut!==null){var Wt=Ut.memoizedProps,Ns=Ut.memoizedState,Pe=h.stateNode,we=Pe.getSnapshotBeforeUpdate(h.elementType===h.type?Wt:So(h.type,Wt),Ns);Pe.__reactInternalSnapshotBeforeUpdate=we}break;case 3:var De=h.stateNode.containerInfo;De.nodeType===1?De.textContent="":De.nodeType===9&&De.documentElement&&De.removeChild(De.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Nt){ps(h,h.return,Nt)}if(c=h.sibling,c!==null){c.return=h.return,zt=c;break}zt=h.return}return Ut=VE,VE=!1,Ut}function Ep(c,h,v){var C=h.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var E=C=C.next;do{if((E.tag&c)===c){var M=E.destroy;E.destroy=void 0,M!==void 0&&o_(h,v,M)}E=E.next}while(E!==C)}}function Xv(c,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var v=h=h.next;do{if((v.tag&c)===c){var C=v.create;v.destroy=C()}v=v.next}while(v!==h)}}function l_(c){var h=c.ref;if(h!==null){var v=c.stateNode;switch(c.tag){case 5:c=v;break;default:c=v}typeof h=="function"?h(c):h.current=c}}function KE(c){var h=c.alternate;h!==null&&(c.alternate=null,KE(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&(delete h[Yi],delete h[id],delete h[od],delete h[_w],delete h[Nw])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function WE(c){return c.tag===5||c.tag===3||c.tag===4}function HE(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||WE(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function c_(c,h,v){var C=c.tag;if(C===5||C===6)c=c.stateNode,h?v.nodeType===8?v.parentNode.insertBefore(c,h):v.insertBefore(c,h):(v.nodeType===8?(h=v.parentNode,h.insertBefore(c,v)):(h=v,h.appendChild(c)),v=v._reactRootContainer,v!=null||h.onclick!==null||(h.onclick=it));else if(C!==4&&(c=c.child,c!==null))for(c_(c,h,v),c=c.sibling;c!==null;)c_(c,h,v),c=c.sibling}function d_(c,h,v){var C=c.tag;if(C===5||C===6)c=c.stateNode,h?v.insertBefore(c,h):v.appendChild(c);else if(C!==4&&(c=c.child,c!==null))for(d_(c,h,v),c=c.sibling;c!==null;)d_(c,h,v),c=c.sibling}var ua=null,Co=!1;function md(c,h,v){for(v=v.child;v!==null;)GE(c,h,v),v=v.sibling}function GE(c,h,v){if(ji&&typeof ji.onCommitFiberUnmount=="function")try{ji.onCommitFiberUnmount(ru,v)}catch{}switch(v.tag){case 5:Sa||lm(v,h);case 6:var C=ua,E=Co;ua=null,md(c,h,v),ua=C,Co=E,ua!==null&&(Co?(c=ua,v=v.stateNode,c.nodeType===8?c.parentNode.removeChild(v):c.removeChild(v)):ua.removeChild(v.stateNode));break;case 18:ua!==null&&(Co?(c=ua,v=v.stateNode,c.nodeType===8?jp(c.parentNode,v):c.nodeType===1&&jp(c,v),Ni(c)):jp(ua,v.stateNode));break;case 4:C=ua,E=Co,ua=v.stateNode.containerInfo,Co=!0,md(c,h,v),ua=C,Co=E;break;case 0:case 11:case 14:case 15:if(!Sa&&(C=v.updateQueue,C!==null&&(C=C.lastEffect,C!==null))){E=C=C.next;do{var M=E,X=M.destroy;M=M.tag,X!==void 0&&((M&2)!==0||(M&4)!==0)&&o_(v,h,X),E=E.next}while(E!==C)}md(c,h,v);break;case 1:if(!Sa&&(lm(v,h),C=v.stateNode,typeof C.componentWillUnmount=="function"))try{C.props=v.memoizedProps,C.state=v.memoizedState,C.componentWillUnmount()}catch(he){ps(v,h,he)}md(c,h,v);break;case 21:md(c,h,v);break;case 22:v.mode&1?(Sa=(C=Sa)||v.memoizedState!==null,md(c,h,v),Sa=C):md(c,h,v);break;default:md(c,h,v)}}function ZE(c){var h=c.updateQueue;if(h!==null){c.updateQueue=null;var v=c.stateNode;v===null&&(v=c.stateNode=new vH),h.forEach(function(C){var E=AH.bind(null,c,C);v.has(C)||(v.add(C),C.then(E,E))})}}function ko(c,h){var v=h.deletions;if(v!==null)for(var C=0;C<v.length;C++){var E=v[C];try{var M=c,X=h,he=X;e:for(;he!==null;){switch(he.tag){case 5:ua=he.stateNode,Co=!1;break e;case 3:ua=he.stateNode.containerInfo,Co=!0;break e;case 4:ua=he.stateNode.containerInfo,Co=!0;break e}he=he.return}if(ua===null)throw Error(n(160));GE(M,X,E),ua=null,Co=!1;var ve=E.alternate;ve!==null&&(ve.return=null),E.return=null}catch($e){ps(E,h,$e)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)YE(h,c),h=h.sibling}function YE(c,h){var v=c.alternate,C=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(ko(h,c),hl(c),C&4){try{Ep(3,c,c.return),Xv(3,c)}catch(Wt){ps(c,c.return,Wt)}try{Ep(5,c,c.return)}catch(Wt){ps(c,c.return,Wt)}}break;case 1:ko(h,c),hl(c),C&512&&v!==null&&lm(v,v.return);break;case 5:if(ko(h,c),hl(c),C&512&&v!==null&&lm(v,v.return),c.flags&32){var E=c.stateNode;try{as(E,"")}catch(Wt){ps(c,c.return,Wt)}}if(C&4&&(E=c.stateNode,E!=null)){var M=c.memoizedProps,X=v!==null?v.memoizedProps:M,he=c.type,ve=c.updateQueue;if(c.updateQueue=null,ve!==null)try{he==="input"&&M.type==="radio"&&M.name!=null&&Jt(E,M),Lt(he,X);var $e=Lt(he,M);for(X=0;X<ve.length;X+=2){var ut=ve[X],vt=ve[X+1];ut==="style"?at(E,vt):ut==="dangerouslySetInnerHTML"?Rn(E,vt):ut==="children"?as(E,vt):P(E,ut,vt,$e)}switch(he){case"input":gr(E,M);break;case"textarea":dt(E,M);break;case"select":var ct=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!M.multiple;var Ft=M.value;Ft!=null?Ne(E,!!M.multiple,Ft,!1):ct!==!!M.multiple&&(M.defaultValue!=null?Ne(E,!!M.multiple,M.defaultValue,!0):Ne(E,!!M.multiple,M.multiple?[]:"",!1))}E[id]=M}catch(Wt){ps(c,c.return,Wt)}}break;case 6:if(ko(h,c),hl(c),C&4){if(c.stateNode===null)throw Error(n(162));E=c.stateNode,M=c.memoizedProps;try{E.nodeValue=M}catch(Wt){ps(c,c.return,Wt)}}break;case 3:if(ko(h,c),hl(c),C&4&&v!==null&&v.memoizedState.isDehydrated)try{Ni(h.containerInfo)}catch(Wt){ps(c,c.return,Wt)}break;case 4:ko(h,c),hl(c);break;case 13:ko(h,c),hl(c),E=c.child,E.flags&8192&&(M=E.memoizedState!==null,E.stateNode.isHidden=M,!M||E.alternate!==null&&E.alternate.memoizedState!==null||(m_=is())),C&4&&ZE(c);break;case 22:if(ut=v!==null&&v.memoizedState!==null,c.mode&1?(Sa=($e=Sa)||ut,ko(h,c),Sa=$e):ko(h,c),hl(c),C&8192){if($e=c.memoizedState!==null,(c.stateNode.isHidden=$e)&&!ut&&(c.mode&1)!==0)for(zt=c,ut=c.child;ut!==null;){for(vt=zt=ut;zt!==null;){switch(ct=zt,Ft=ct.child,ct.tag){case 0:case 11:case 14:case 15:Ep(4,ct,ct.return);break;case 1:lm(ct,ct.return);var Ut=ct.stateNode;if(typeof Ut.componentWillUnmount=="function"){C=ct,v=ct.return;try{h=C,Ut.props=h.memoizedProps,Ut.state=h.memoizedState,Ut.componentWillUnmount()}catch(Wt){ps(C,v,Wt)}}break;case 5:lm(ct,ct.return);break;case 22:if(ct.memoizedState!==null){JE(vt);continue}}Ft!==null?(Ft.return=ct,zt=Ft):JE(vt)}ut=ut.sibling}e:for(ut=null,vt=c;;){if(vt.tag===5){if(ut===null){ut=vt;try{E=vt.stateNode,$e?(M=E.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(he=vt.stateNode,ve=vt.memoizedProps.style,X=ve!=null&&ve.hasOwnProperty("display")?ve.display:null,he.style.display=_s("display",X))}catch(Wt){ps(c,c.return,Wt)}}}else if(vt.tag===6){if(ut===null)try{vt.stateNode.nodeValue=$e?"":vt.memoizedProps}catch(Wt){ps(c,c.return,Wt)}}else if((vt.tag!==22&&vt.tag!==23||vt.memoizedState===null||vt===c)&&vt.child!==null){vt.child.return=vt,vt=vt.child;continue}if(vt===c)break e;for(;vt.sibling===null;){if(vt.return===null||vt.return===c)break e;ut===vt&&(ut=null),vt=vt.return}ut===vt&&(ut=null),vt.sibling.return=vt.return,vt=vt.sibling}}break;case 19:ko(h,c),hl(c),C&4&&ZE(c);break;case 21:break;default:ko(h,c),hl(c)}}function hl(c){var h=c.flags;if(h&2){try{e:{for(var v=c.return;v!==null;){if(WE(v)){var C=v;break e}v=v.return}throw Error(n(160))}switch(C.tag){case 5:var E=C.stateNode;C.flags&32&&(as(E,""),C.flags&=-33);var M=HE(c);d_(c,M,E);break;case 3:case 4:var X=C.stateNode.containerInfo,he=HE(c);c_(c,he,X);break;default:throw Error(n(161))}}catch(ve){ps(c,c.return,ve)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function bH(c,h,v){zt=c,QE(c)}function QE(c,h,v){for(var C=(c.mode&1)!==0;zt!==null;){var E=zt,M=E.child;if(E.tag===22&&C){var X=E.memoizedState!==null||Qv;if(!X){var he=E.alternate,ve=he!==null&&he.memoizedState!==null||Sa;he=Qv;var $e=Sa;if(Qv=X,(Sa=ve)&&!$e)for(zt=E;zt!==null;)X=zt,ve=X.child,X.tag===22&&X.memoizedState!==null?eO(E):ve!==null?(ve.return=X,zt=ve):eO(E);for(;M!==null;)zt=M,QE(M),M=M.sibling;zt=E,Qv=he,Sa=$e}XE(c)}else(E.subtreeFlags&8772)!==0&&M!==null?(M.return=E,zt=M):XE(c)}}function XE(c){for(;zt!==null;){var h=zt;if((h.flags&8772)!==0){var v=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Sa||Xv(5,h);break;case 1:var C=h.stateNode;if(h.flags&4&&!Sa)if(v===null)C.componentDidMount();else{var E=h.elementType===h.type?v.memoizedProps:So(h.type,v.memoizedProps);C.componentDidUpdate(E,v.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var M=h.updateQueue;M!==null&&JT(h,M,C);break;case 3:var X=h.updateQueue;if(X!==null){if(v=null,h.child!==null)switch(h.child.tag){case 5:v=h.child.stateNode;break;case 1:v=h.child.stateNode}JT(h,X,v)}break;case 5:var he=h.stateNode;if(v===null&&h.flags&4){v=he;var ve=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":ve.autoFocus&&v.focus();break;case"img":ve.src&&(v.src=ve.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var $e=h.alternate;if($e!==null){var ut=$e.memoizedState;if(ut!==null){var vt=ut.dehydrated;vt!==null&&Ni(vt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Sa||h.flags&512&&l_(h)}catch(ct){ps(h,h.return,ct)}}if(h===c){zt=null;break}if(v=h.sibling,v!==null){v.return=h.return,zt=v;break}zt=h.return}}function JE(c){for(;zt!==null;){var h=zt;if(h===c){zt=null;break}var v=h.sibling;if(v!==null){v.return=h.return,zt=v;break}zt=h.return}}function eO(c){for(;zt!==null;){var h=zt;try{switch(h.tag){case 0:case 11:case 15:var v=h.return;try{Xv(4,h)}catch(ve){ps(h,v,ve)}break;case 1:var C=h.stateNode;if(typeof C.componentDidMount=="function"){var E=h.return;try{C.componentDidMount()}catch(ve){ps(h,E,ve)}}var M=h.return;try{l_(h)}catch(ve){ps(h,M,ve)}break;case 5:var X=h.return;try{l_(h)}catch(ve){ps(h,X,ve)}}}catch(ve){ps(h,h.return,ve)}if(h===c){zt=null;break}var he=h.sibling;if(he!==null){he.return=h.return,zt=he;break}zt=h.return}}var jH=Math.ceil,Jv=O.ReactCurrentDispatcher,u_=O.ReactCurrentOwner,to=O.ReactCurrentBatchConfig,nn=0,ra=null,Is=null,ha=0,Ei=0,cm=ld(0),Vs=0,Op=null,wu=0,ey=0,h_=0,Ip=null,li=null,m_=0,dm=1/0,ac=null,ty=!1,f_=null,fd=null,ry=!1,pd=null,ny=0,Mp=0,p_=null,sy=-1,ay=0;function Ka(){return(nn&6)!==0?is():sy!==-1?sy:sy=is()}function xd(c){return(c.mode&1)===0?1:(nn&2)!==0&&ha!==0?ha&-ha:sH.transition!==null?(ay===0&&(ay=lv()),ay):(c=Zr,c!==0||(c=window.event,c=c===void 0?16:Vr(c.type)),c)}function Ao(c,h,v,C){if(50<Mp)throw Mp=0,p_=null,Error(n(185));wi(c,v,C),((nn&2)===0||c!==ra)&&(c===ra&&((nn&2)===0&&(ey|=v),Vs===4&&gd(c,ha)),ci(c,C),v===1&&nn===0&&(h.mode&1)===0&&(dm=is()+500,Iv&&dd()))}function ci(c,h){var v=c.callbackNode;Th(c,h);var C=zn(c,c===ra?ha:0);if(C===0)v!==null&&Zf(v),c.callbackNode=null,c.callbackPriority=0;else if(h=C&-C,c.callbackPriority!==h){if(v!=null&&Zf(v),h===1)c.tag===0?nH(rO.bind(null,c)):BT(rO.bind(null,c)),ja(function(){(nn&6)===0&&dd()}),v=null;else{switch(Kc(C)){case 1:v=Yf;break;case 4:v=ov;break;case 16:v=Ah;break;case 536870912:v=Bc;break;default:v=Ah}v=dO(v,tO.bind(null,c))}c.callbackPriority=h,c.callbackNode=v}}function tO(c,h){if(sy=-1,ay=0,(nn&6)!==0)throw Error(n(327));var v=c.callbackNode;if(um()&&c.callbackNode!==v)return null;var C=zn(c,c===ra?ha:0);if(C===0)return null;if((C&30)!==0||(C&c.expiredLanes)!==0||h)h=iy(c,C);else{h=C;var E=nn;nn|=2;var M=sO();(ra!==c||ha!==h)&&(ac=null,dm=is()+500,Nu(c,h));do try{NH();break}catch(he){nO(c,he)}while(!0);Iw(),Jv.current=M,nn=E,Is!==null?h=0:(ra=null,ha=0,h=Vs)}if(h!==0){if(h===2&&(E=ya(c),E!==0&&(C=E,h=x_(c,E))),h===1)throw v=Op,Nu(c,0),gd(c,C),ci(c,is()),v;if(h===6)gd(c,C);else{if(E=c.current.alternate,(C&30)===0&&!wH(E)&&(h=iy(c,C),h===2&&(M=ya(c),M!==0&&(C=M,h=x_(c,M))),h===1))throw v=Op,Nu(c,0),gd(c,C),ci(c,is()),v;switch(c.finishedWork=E,c.finishedLanes=C,h){case 0:case 1:throw Error(n(345));case 2:Su(c,li,ac);break;case 3:if(gd(c,C),(C&130023424)===C&&(h=m_+500-is(),10<h)){if(zn(c,0)!==0)break;if(E=c.suspendedLanes,(E&C)!==C){Ka(),c.pingedLanes|=c.suspendedLanes&E;break}c.timeoutHandle=qs(Su.bind(null,c,li,ac),h);break}Su(c,li,ac);break;case 4:if(gd(c,C),(C&4194240)===C)break;for(h=c.eventTimes,E=-1;0<C;){var X=31-Nr(C);M=1<<X,X=h[X],X>E&&(E=X),C&=~M}if(C=E,C=is()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*jH(C/1960))-C,10<C){c.timeoutHandle=qs(Su.bind(null,c,li,ac),C);break}Su(c,li,ac);break;case 5:Su(c,li,ac);break;default:throw Error(n(329))}}}return ci(c,is()),c.callbackNode===v?tO.bind(null,c):null}function x_(c,h){var v=Ip;return c.current.memoizedState.isDehydrated&&(Nu(c,h).flags|=256),c=iy(c,h),c!==2&&(h=li,li=v,h!==null&&g_(h)),c}function g_(c){li===null?li=c:li.push.apply(li,c)}function wH(c){for(var h=c;;){if(h.flags&16384){var v=h.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var C=0;C<v.length;C++){var E=v[C],M=E.getSnapshot;E=E.value;try{if(!ki(M(),E))return!1}catch{return!1}}}if(v=h.child,h.subtreeFlags&16384&&v!==null)v.return=h,h=v;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function gd(c,h){for(h&=~h_,h&=~ey,c.suspendedLanes|=h,c.pingedLanes&=~h,c=c.expirationTimes;0<h;){var v=31-Nr(h),C=1<<v;c[v]=-1,h&=~C}}function rO(c){if((nn&6)!==0)throw Error(n(327));um();var h=zn(c,0);if((h&1)===0)return ci(c,is()),null;var v=iy(c,h);if(c.tag!==0&&v===2){var C=ya(c);C!==0&&(h=C,v=x_(c,C))}if(v===1)throw v=Op,Nu(c,0),gd(c,h),ci(c,is()),v;if(v===6)throw Error(n(345));return c.finishedWork=c.current.alternate,c.finishedLanes=h,Su(c,li,ac),ci(c,is()),null}function v_(c,h){var v=nn;nn|=1;try{return c(h)}finally{nn=v,nn===0&&(dm=is()+500,Iv&&dd())}}function _u(c){pd!==null&&pd.tag===0&&(nn&6)===0&&um();var h=nn;nn|=1;var v=to.transition,C=Zr;try{if(to.transition=null,Zr=1,c)return c()}finally{Zr=C,to.transition=v,nn=h,(nn&6)===0&&dd()}}function y_(){Ei=cm.current,Hn(cm)}function Nu(c,h){c.finishedWork=null,c.finishedLanes=0;var v=c.timeoutHandle;if(v!==-1&&(c.timeoutHandle=-1,Os(v)),Is!==null)for(v=Is.return;v!==null;){var C=v;switch(Aw(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&Ev();break;case 3:im(),Hn(ai),Hn(wa),Bw();break;case 5:$w(C);break;case 4:im();break;case 13:Hn(ls);break;case 19:Hn(ls);break;case 10:Mw(C.type._context);break;case 22:case 23:y_()}v=v.return}if(ra=c,Is=c=vd(c.current,null),ha=Ei=h,Vs=0,Op=null,h_=ey=wu=0,li=Ip=null,yu!==null){for(h=0;h<yu.length;h++)if(v=yu[h],C=v.interleaved,C!==null){v.interleaved=null;var E=C.next,M=v.pending;if(M!==null){var X=M.next;M.next=E,C.next=X}v.pending=C}yu=null}return c}function nO(c,h){do{var v=Is;try{if(Iw(),Uv.current=Hv,Vv){for(var C=cs.memoizedState;C!==null;){var E=C.queue;E!==null&&(E.pending=null),C=C.next}Vv=!1}if(ju=0,ta=Us=cs=null,Cp=!1,kp=0,u_.current=null,v===null||v.return===null){Vs=1,Op=h,Is=null;break}e:{var M=c,X=v.return,he=v,ve=h;if(h=ha,he.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var $e=ve,ut=he,vt=ut.tag;if((ut.mode&1)===0&&(vt===0||vt===11||vt===15)){var ct=ut.alternate;ct?(ut.updateQueue=ct.updateQueue,ut.memoizedState=ct.memoizedState,ut.lanes=ct.lanes):(ut.updateQueue=null,ut.memoizedState=null)}var Ft=AE(X);if(Ft!==null){Ft.flags&=-257,PE(Ft,X,he,M,h),Ft.mode&1&&kE(M,$e,h),h=Ft,ve=$e;var Ut=h.updateQueue;if(Ut===null){var Wt=new Set;Wt.add(ve),h.updateQueue=Wt}else Ut.add(ve);break e}else{if((h&1)===0){kE(M,$e,h),b_();break e}ve=Error(n(426))}}else if(ts&&he.mode&1){var Ns=AE(X);if(Ns!==null){(Ns.flags&65536)===0&&(Ns.flags|=256),PE(Ns,X,he,M,h),Ew(om(ve,he));break e}}M=ve=om(ve,he),Vs!==4&&(Vs=2),Ip===null?Ip=[M]:Ip.push(M),M=X;do{switch(M.tag){case 3:M.flags|=65536,h&=-h,M.lanes|=h;var Pe=SE(M,ve,h);XT(M,Pe);break e;case 1:he=ve;var we=M.type,De=M.stateNode;if((M.flags&128)===0&&(typeof we.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&(fd===null||!fd.has(De)))){M.flags|=65536,h&=-h,M.lanes|=h;var Nt=CE(M,he,h);XT(M,Nt);break e}}M=M.return}while(M!==null)}iO(v)}catch(Zt){h=Zt,Is===v&&v!==null&&(Is=v=v.return);continue}break}while(!0)}function sO(){var c=Jv.current;return Jv.current=Hv,c===null?Hv:c}function b_(){(Vs===0||Vs===3||Vs===2)&&(Vs=4),ra===null||(wu&268435455)===0&&(ey&268435455)===0||gd(ra,ha)}function iy(c,h){var v=nn;nn|=2;var C=sO();(ra!==c||ha!==h)&&(ac=null,Nu(c,h));do try{_H();break}catch(E){nO(c,E)}while(!0);if(Iw(),nn=v,Jv.current=C,Is!==null)throw Error(n(261));return ra=null,ha=0,Vs}function _H(){for(;Is!==null;)aO(Is)}function NH(){for(;Is!==null&&!ow();)aO(Is)}function aO(c){var h=cO(c.alternate,c,Ei);c.memoizedProps=c.pendingProps,h===null?iO(c):Is=h,u_.current=null}function iO(c){var h=c;do{var v=h.alternate;if(c=h.return,(h.flags&32768)===0){if(v=xH(v,h,Ei),v!==null){Is=v;return}}else{if(v=gH(v,h),v!==null){v.flags&=32767,Is=v;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Vs=6,Is=null;return}}if(h=h.sibling,h!==null){Is=h;return}Is=h=c}while(h!==null);Vs===0&&(Vs=5)}function Su(c,h,v){var C=Zr,E=to.transition;try{to.transition=null,Zr=1,SH(c,h,v,C)}finally{to.transition=E,Zr=C}return null}function SH(c,h,v,C){do um();while(pd!==null);if((nn&6)!==0)throw Error(n(327));v=c.finishedWork;var E=c.finishedLanes;if(v===null)return null;if(c.finishedWork=null,c.finishedLanes=0,v===c.current)throw Error(n(177));c.callbackNode=null,c.callbackPriority=0;var M=v.lanes|v.childLanes;if(fs(c,M),c===ra&&(Is=ra=null,ha=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||ry||(ry=!0,dO(Ah,function(){return um(),null})),M=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||M){M=to.transition,to.transition=null;var X=Zr;Zr=1;var he=nn;nn|=4,u_.current=null,yH(c,v),YE(v,c),Gi(nr),lu=!!Dt,nr=Dt=null,c.current=v,bH(v),kh(),nn=he,Zr=X,to.transition=M}else c.current=v;if(ry&&(ry=!1,pd=c,ny=E),M=c.pendingLanes,M===0&&(fd=null),nu(v.stateNode),ci(c,is()),h!==null)for(C=c.onRecoverableError,v=0;v<h.length;v++)E=h[v],C(E.value,{componentStack:E.stack,digest:E.digest});if(ty)throw ty=!1,c=f_,f_=null,c;return(ny&1)!==0&&c.tag!==0&&um(),M=c.pendingLanes,(M&1)!==0?c===p_?Mp++:(Mp=0,p_=c):Mp=0,dd(),null}function um(){if(pd!==null){var c=Kc(ny),h=to.transition,v=Zr;try{if(to.transition=null,Zr=16>c?16:c,pd===null)var C=!1;else{if(c=pd,pd=null,ny=0,(nn&6)!==0)throw Error(n(331));var E=nn;for(nn|=4,zt=c.current;zt!==null;){var M=zt,X=M.child;if((zt.flags&16)!==0){var he=M.deletions;if(he!==null){for(var ve=0;ve<he.length;ve++){var $e=he[ve];for(zt=$e;zt!==null;){var ut=zt;switch(ut.tag){case 0:case 11:case 15:Ep(8,ut,M)}var vt=ut.child;if(vt!==null)vt.return=ut,zt=vt;else for(;zt!==null;){ut=zt;var ct=ut.sibling,Ft=ut.return;if(KE(ut),ut===$e){zt=null;break}if(ct!==null){ct.return=Ft,zt=ct;break}zt=Ft}}}var Ut=M.alternate;if(Ut!==null){var Wt=Ut.child;if(Wt!==null){Ut.child=null;do{var Ns=Wt.sibling;Wt.sibling=null,Wt=Ns}while(Wt!==null)}}zt=M}}if((M.subtreeFlags&2064)!==0&&X!==null)X.return=M,zt=X;else e:for(;zt!==null;){if(M=zt,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:Ep(9,M,M.return)}var Pe=M.sibling;if(Pe!==null){Pe.return=M.return,zt=Pe;break e}zt=M.return}}var we=c.current;for(zt=we;zt!==null;){X=zt;var De=X.child;if((X.subtreeFlags&2064)!==0&&De!==null)De.return=X,zt=De;else e:for(X=we;zt!==null;){if(he=zt,(he.flags&2048)!==0)try{switch(he.tag){case 0:case 11:case 15:Xv(9,he)}}catch(Zt){ps(he,he.return,Zt)}if(he===X){zt=null;break e}var Nt=he.sibling;if(Nt!==null){Nt.return=he.return,zt=Nt;break e}zt=he.return}}if(nn=E,dd(),ji&&typeof ji.onPostCommitFiberRoot=="function")try{ji.onPostCommitFiberRoot(ru,c)}catch{}C=!0}return C}finally{Zr=v,to.transition=h}}return!1}function oO(c,h,v){h=om(v,h),h=SE(c,h,1),c=hd(c,h,1),h=Ka(),c!==null&&(wi(c,1,h),ci(c,h))}function ps(c,h,v){if(c.tag===3)oO(c,c,v);else for(;h!==null;){if(h.tag===3){oO(h,c,v);break}else if(h.tag===1){var C=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(fd===null||!fd.has(C))){c=om(v,c),c=CE(h,c,1),h=hd(h,c,1),c=Ka(),h!==null&&(wi(h,1,c),ci(h,c));break}}h=h.return}}function CH(c,h,v){var C=c.pingCache;C!==null&&C.delete(h),h=Ka(),c.pingedLanes|=c.suspendedLanes&v,ra===c&&(ha&v)===v&&(Vs===4||Vs===3&&(ha&130023424)===ha&&500>is()-m_?Nu(c,0):h_|=v),ci(c,h)}function lO(c,h){h===0&&((c.mode&1)===0?h=1:(h=Uc,Uc<<=1,(Uc&130023424)===0&&(Uc=4194304)));var v=Ka();c=rc(c,h),c!==null&&(wi(c,h,v),ci(c,v))}function kH(c){var h=c.memoizedState,v=0;h!==null&&(v=h.retryLane),lO(c,v)}function AH(c,h){var v=0;switch(c.tag){case 13:var C=c.stateNode,E=c.memoizedState;E!==null&&(v=E.retryLane);break;case 19:C=c.stateNode;break;default:throw Error(n(314))}C!==null&&C.delete(h),lO(c,v)}var cO;cO=function(c,h,v){if(c!==null)if(c.memoizedProps!==h.pendingProps||ai.current)oi=!0;else{if((c.lanes&v)===0&&(h.flags&128)===0)return oi=!1,pH(c,h,v);oi=(c.flags&131072)!==0}else oi=!1,ts&&(h.flags&1048576)!==0&&qT(h,Dv,h.index);switch(h.lanes=0,h.tag){case 2:var C=h.type;Yv(c,h),c=h.pendingProps;var E=Jh(h,wa.current);am(h,v),E=Vw(null,h,C,c,E,v);var M=Kw();return h.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,ii(C)?(M=!0,Ov(h)):M=!1,h.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,Lw(h),E.updater=Gv,h.stateNode=E,E._reactInternals=h,Qw(h,C,c,v),h=t_(null,h,C,!0,M,v)):(h.tag=0,ts&&M&&kw(h),Va(null,h,E,v),h=h.child),h;case 16:C=h.elementType;e:{switch(Yv(c,h),c=h.pendingProps,E=C._init,C=E(C._payload),h.type=C,E=h.tag=TH(C),c=So(C,c),E){case 0:h=e_(null,h,C,c,v);break e;case 1:h=DE(null,h,C,c,v);break e;case 11:h=TE(null,h,C,c,v);break e;case 14:h=EE(null,h,C,So(C.type,c),v);break e}throw Error(n(306,C,""))}return h;case 0:return C=h.type,E=h.pendingProps,E=h.elementType===C?E:So(C,E),e_(c,h,C,E,v);case 1:return C=h.type,E=h.pendingProps,E=h.elementType===C?E:So(C,E),DE(c,h,C,E,v);case 3:e:{if(RE(h),c===null)throw Error(n(387));C=h.pendingProps,M=h.memoizedState,E=M.element,QT(c,h),Bv(h,C,null,v);var X=h.memoizedState;if(C=X.element,M.isDehydrated)if(M={element:C,isDehydrated:!1,cache:X.cache,pendingSuspenseBoundaries:X.pendingSuspenseBoundaries,transitions:X.transitions},h.updateQueue.baseState=M,h.memoizedState=M,h.flags&256){E=om(Error(n(423)),h),h=LE(c,h,C,v,E);break e}else if(C!==E){E=om(Error(n(424)),h),h=LE(c,h,C,v,E);break e}else for(Ti=cl(h.stateNode.containerInfo.firstChild),Pi=h,ts=!0,No=null,v=ZT(h,null,C,v),h.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(rm(),C===E){h=sc(c,h,v);break e}Va(c,h,C,v)}h=h.child}return h;case 5:return eE(h),c===null&&Tw(h),C=h.type,E=h.pendingProps,M=c!==null?c.memoizedProps:null,X=E.children,Ar(C,E)?X=null:M!==null&&Ar(C,M)&&(h.flags|=32),ME(c,h),Va(c,h,X,v),h.child;case 6:return c===null&&Tw(h),null;case 13:return FE(c,h,v);case 4:return Fw(h,h.stateNode.containerInfo),C=h.pendingProps,c===null?h.child=nm(h,null,C,v):Va(c,h,C,v),h.child;case 11:return C=h.type,E=h.pendingProps,E=h.elementType===C?E:So(C,E),TE(c,h,C,E,v);case 7:return Va(c,h,h.pendingProps,v),h.child;case 8:return Va(c,h,h.pendingProps.children,v),h.child;case 12:return Va(c,h,h.pendingProps.children,v),h.child;case 10:e:{if(C=h.type._context,E=h.pendingProps,M=h.memoizedProps,X=E.value,Bn(Fv,C._currentValue),C._currentValue=X,M!==null)if(ki(M.value,X)){if(M.children===E.children&&!ai.current){h=sc(c,h,v);break e}}else for(M=h.child,M!==null&&(M.return=h);M!==null;){var he=M.dependencies;if(he!==null){X=M.child;for(var ve=he.firstContext;ve!==null;){if(ve.context===C){if(M.tag===1){ve=nc(-1,v&-v),ve.tag=2;var $e=M.updateQueue;if($e!==null){$e=$e.shared;var ut=$e.pending;ut===null?ve.next=ve:(ve.next=ut.next,ut.next=ve),$e.pending=ve}}M.lanes|=v,ve=M.alternate,ve!==null&&(ve.lanes|=v),Dw(M.return,v,h),he.lanes|=v;break}ve=ve.next}}else if(M.tag===10)X=M.type===h.type?null:M.child;else if(M.tag===18){if(X=M.return,X===null)throw Error(n(341));X.lanes|=v,he=X.alternate,he!==null&&(he.lanes|=v),Dw(X,v,h),X=M.sibling}else X=M.child;if(X!==null)X.return=M;else for(X=M;X!==null;){if(X===h){X=null;break}if(M=X.sibling,M!==null){M.return=X.return,X=M;break}X=X.return}M=X}Va(c,h,E.children,v),h=h.child}return h;case 9:return E=h.type,C=h.pendingProps.children,am(h,v),E=Ji(E),C=C(E),h.flags|=1,Va(c,h,C,v),h.child;case 14:return C=h.type,E=So(C,h.pendingProps),E=So(C.type,E),EE(c,h,C,E,v);case 15:return OE(c,h,h.type,h.pendingProps,v);case 17:return C=h.type,E=h.pendingProps,E=h.elementType===C?E:So(C,E),Yv(c,h),h.tag=1,ii(C)?(c=!0,Ov(h)):c=!1,am(h,v),_E(h,C,E),Qw(h,C,E,v),t_(null,h,C,!0,c,v);case 19:return zE(c,h,v);case 22:return IE(c,h,v)}throw Error(n(156,h.tag))};function dO(c,h){return iv(c,h)}function PH(c,h,v,C){this.tag=c,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ro(c,h,v,C){return new PH(c,h,v,C)}function j_(c){return c=c.prototype,!(!c||!c.isReactComponent)}function TH(c){if(typeof c=="function")return j_(c)?1:0;if(c!=null){if(c=c.$$typeof,c===J)return 11;if(c===K)return 14}return 2}function vd(c,h){var v=c.alternate;return v===null?(v=ro(c.tag,h,c.key,c.mode),v.elementType=c.elementType,v.type=c.type,v.stateNode=c.stateNode,v.alternate=c,c.alternate=v):(v.pendingProps=h,v.type=c.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=c.flags&14680064,v.childLanes=c.childLanes,v.lanes=c.lanes,v.child=c.child,v.memoizedProps=c.memoizedProps,v.memoizedState=c.memoizedState,v.updateQueue=c.updateQueue,h=c.dependencies,v.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},v.sibling=c.sibling,v.index=c.index,v.ref=c.ref,v}function oy(c,h,v,C,E,M){var X=2;if(C=c,typeof c=="function")j_(c)&&(X=1);else if(typeof c=="string")X=5;else e:switch(c){case F:return Cu(v.children,E,M,h);case B:X=8,E|=8;break;case H:return c=ro(12,v,h,E|2),c.elementType=H,c.lanes=M,c;case Z:return c=ro(13,v,h,E),c.elementType=Z,c.lanes=M,c;case ne:return c=ro(19,v,h,E),c.elementType=ne,c.lanes=M,c;case U:return ly(v,E,M,h);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case re:X=10;break e;case G:X=9;break e;case J:X=11;break e;case K:X=14;break e;case ae:X=16,C=null;break e}throw Error(n(130,c==null?c:typeof c,""))}return h=ro(X,v,h,E),h.elementType=c,h.type=C,h.lanes=M,h}function Cu(c,h,v,C){return c=ro(7,c,C,h),c.lanes=v,c}function ly(c,h,v,C){return c=ro(22,c,C,h),c.elementType=U,c.lanes=v,c.stateNode={isHidden:!1},c}function w_(c,h,v){return c=ro(6,c,null,h),c.lanes=v,c}function __(c,h,v){return h=ro(4,c.children!==null?c.children:[],c.key,h),h.lanes=v,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}function EH(c,h,v,C,E){this.tag=h,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vc(0),this.expirationTimes=Vc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vc(0),this.identifierPrefix=C,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function N_(c,h,v,C,E,M,X,he,ve){return c=new EH(c,h,v,he,ve),h===1?(h=1,M===!0&&(h|=8)):h=0,M=ro(3,null,null,h),c.current=M,M.stateNode=c,M.memoizedState={element:C,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lw(M),c}function OH(c,h,v){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:C==null?null:""+C,children:c,containerInfo:h,implementation:v}}function uO(c){if(!c)return cd;c=c._reactInternals;e:{if(tl(c)!==c||c.tag!==1)throw Error(n(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(ii(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(n(171))}if(c.tag===1){var v=c.type;if(ii(v))return $T(c,v,h)}return h}function hO(c,h,v,C,E,M,X,he,ve){return c=N_(v,C,!0,c,E,M,X,he,ve),c.context=uO(null),v=c.current,C=Ka(),E=xd(v),M=nc(C,E),M.callback=h??null,hd(v,M,E),c.current.lanes=E,wi(c,E,C),ci(c,C),c}function cy(c,h,v,C){var E=h.current,M=Ka(),X=xd(E);return v=uO(v),h.context===null?h.context=v:h.pendingContext=v,h=nc(M,X),h.payload={element:c},C=C===void 0?null:C,C!==null&&(h.callback=C),c=hd(E,h,X),c!==null&&(Ao(c,E,X,M),zv(c,E,X)),X}function dy(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function mO(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var v=c.retryLane;c.retryLane=v!==0&&v<h?v:h}}function S_(c,h){mO(c,h),(c=c.alternate)&&mO(c,h)}function IH(){return null}var fO=typeof reportError=="function"?reportError:function(c){console.error(c)};function C_(c){this._internalRoot=c}uy.prototype.render=C_.prototype.render=function(c){var h=this._internalRoot;if(h===null)throw Error(n(409));cy(c,h,null,null)},uy.prototype.unmount=C_.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var h=c.containerInfo;_u(function(){cy(null,c,null,null)}),h[xn]=null}};function uy(c){this._internalRoot=c}uy.prototype.unstable_scheduleHydration=function(c){if(c){var h=Ih();c={blockedOn:null,target:c,priority:h};for(var v=0;v<Bs.length&&h!==0&&h<Bs[v].priority;v++);Bs.splice(v,0,c),v===0&&Mh(c)}};function k_(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function hy(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function pO(){}function MH(c,h,v,C,E){if(E){if(typeof C=="function"){var M=C;C=function(){var $e=dy(X);M.call($e)}}var X=hO(h,C,c,0,null,!1,!1,"",pO);return c._reactRootContainer=X,c[xn]=X.current,sd(c.nodeType===8?c.parentNode:c),_u(),X}for(;E=c.lastChild;)c.removeChild(E);if(typeof C=="function"){var he=C;C=function(){var $e=dy(ve);he.call($e)}}var ve=N_(c,0,!1,null,null,!1,!1,"",pO);return c._reactRootContainer=ve,c[xn]=ve.current,sd(c.nodeType===8?c.parentNode:c),_u(function(){cy(h,ve,v,C)}),ve}function my(c,h,v,C,E){var M=v._reactRootContainer;if(M){var X=M;if(typeof E=="function"){var he=E;E=function(){var ve=dy(X);he.call(ve)}}cy(h,X,c,E)}else X=MH(v,h,c,E,C);return dy(X)}Eh=function(c){switch(c.tag){case 3:var h=c.stateNode;if(h.current.memoizedState.isDehydrated){var v=vr(h.pendingLanes);v!==0&&(yo(h,v|1),ci(h,is()),(nn&6)===0&&(dm=is()+500,dd()))}break;case 13:_u(function(){var C=rc(c,1);if(C!==null){var E=Ka();Ao(C,c,1,E)}}),S_(c,1)}},Bl=function(c){if(c.tag===13){var h=rc(c,134217728);if(h!==null){var v=Ka();Ao(h,c,134217728,v)}S_(c,134217728)}},Oh=function(c){if(c.tag===13){var h=xd(c),v=rc(c,h);if(v!==null){var C=Ka();Ao(v,c,h,C)}S_(c,h)}},Ih=function(){return Zr},su=function(c,h){var v=Zr;try{return Zr=c,h()}finally{Zr=v}},Er=function(c,h,v){switch(h){case"input":if(gr(c,v),h=v.name,v.type==="radio"&&h!=null){for(v=c;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<v.length;h++){var C=v[h];if(C!==c&&C.form===c.form){var E=Qh(C);if(!E)throw Error(n(90));Oe(C),gr(C,E)}}}break;case"textarea":dt(c,v);break;case"select":h=v.value,h!=null&&Ne(c,!!v.multiple,h,!1)}},$c=v_,el=_u;var DH={usingClientEntryPoint:!1,Events:[Ql,Xl,Qh,On,ms,v_]},Dp={findFiberByHostInstance:Yl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RH={bundleType:Dp.bundleType,version:Dp.version,rendererPackageName:Dp.rendererPackageName,rendererConfig:Dp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=sv(c),c===null?null:c.stateNode},findFiberByHostInstance:Dp.findFiberByHostInstance||IH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fy.isDisabled&&fy.supportsFiber)try{ru=fy.inject(RH),ji=fy}catch{}}return di.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DH,di.createPortal=function(c,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!k_(h))throw Error(n(200));return OH(c,h,null,v)},di.createRoot=function(c,h){if(!k_(c))throw Error(n(299));var v=!1,C="",E=fO;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(C=h.identifierPrefix),h.onRecoverableError!==void 0&&(E=h.onRecoverableError)),h=N_(c,1,!1,null,null,v,!1,C,E),c[xn]=h.current,sd(c.nodeType===8?c.parentNode:c),new C_(h)},di.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=sv(h),c=c===null?null:c.stateNode,c},di.flushSync=function(c){return _u(c)},di.hydrate=function(c,h,v){if(!hy(h))throw Error(n(200));return my(null,c,h,!0,v)},di.hydrateRoot=function(c,h,v){if(!k_(c))throw Error(n(405));var C=v!=null&&v.hydratedSources||null,E=!1,M="",X=fO;if(v!=null&&(v.unstable_strictMode===!0&&(E=!0),v.identifierPrefix!==void 0&&(M=v.identifierPrefix),v.onRecoverableError!==void 0&&(X=v.onRecoverableError)),h=hO(h,null,c,1,v??null,E,!1,M,X),c[xn]=h.current,sd(c),C)for(c=0;c<C.length;c++)v=C[c],E=v._getVersion,E=E(v._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[v,E]:h.mutableSourceEagerHydrationData.push(v,E);return new uy(h)},di.render=function(c,h,v){if(!hy(h))throw Error(n(200));return my(null,c,h,!1,v)},di.unmountComponentAtNode=function(c){if(!hy(c))throw Error(n(40));return c._reactRootContainer?(_u(function(){my(null,null,c,!1,function(){c._reactRootContainer=null,c[xn]=null})}),!0):!1},di.unstable_batchedUpdates=v_,di.unstable_renderSubtreeIntoContainer=function(c,h,v,C){if(!hy(v))throw Error(n(200));if(c==null||c._reactInternals===void 0)throw Error(n(38));return my(c,h,v,!1,C)},di.version="18.3.1-next-f1338f8080-20240426",di}var _O;function P8(){if(_O)return T_.exports;_O=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),T_.exports=VH(),T_.exports}var NO;function KH(){if(NO)return xy;NO=1;var t=P8();return xy.createRoot=t.createRoot,xy.hydrateRoot=t.hydrateRoot,xy}var WH=KH();function HH(t,r){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,s,a,i,o=[],l="",u=t.split("/");for(u[0]||u.shift();a=u.shift();)n=a[0],n==="*"?(o.push(n),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(s=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~s?s:~i?i:a.length)),l+=~s&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~s?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(r?"(?=$|/)":"/?$"),"i")}}var j=Ob();const le=mn(j),DA=FH({__proto__:null,default:le},[j]);var I_={exports:{}},M_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SO;function GH(){if(SO)return M_;SO=1;var t=Ob();function r(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:r,s=t.useState,a=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function l(p,g){var b=g(),y=s({inst:{value:b,getSnapshot:g}}),_=y[0].inst,w=y[1];return i(function(){_.value=b,_.getSnapshot=g,u(_)&&w({inst:_})},[p,b,g]),a(function(){return u(_)&&w({inst:_}),p(function(){u(_)&&w({inst:_})})},[p]),o(b),b}function u(p){var g=p.getSnapshot;p=p.value;try{var b=g();return!n(p,b)}catch{return!0}}function m(p,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:l;return M_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,M_}var CO;function ZH(){return CO||(CO=1,I_.exports=GH()),I_.exports}var T8=ZH();const YH=DA.useInsertionEffect,QH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XH=QH?j.useLayoutEffect:j.useEffect,JH=YH||XH,E8=t=>{const r=j.useRef([t,(...n)=>r[0](...n)]).current;return JH(()=>{r[0]=t}),r[1]},eG="popstate",RA="pushState",LA="replaceState",tG="hashchange",kO=[eG,RA,LA,tG],rG=t=>{for(const r of kO)addEventListener(r,t);return()=>{for(const r of kO)removeEventListener(r,t)}},O8=(t,r)=>T8.useSyncExternalStore(rG,t,r),nG=()=>location.search,sG=({ssrSearch:t=""}={})=>O8(nG,()=>t),AO=()=>location.pathname,aG=({ssrPath:t}={})=>O8(AO,t?()=>t:AO),iG=(t,{replace:r=!1,state:n=null}={})=>history[r?LA:RA](n,"",t),oG=(t={})=>[aG(t),iG],PO=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[PO]>"u"){for(const t of[RA,LA]){const r=history[t];history[t]=function(){const n=r.apply(this,arguments),s=new Event(t);return s.arguments=arguments,dispatchEvent(s),n}}Object.defineProperty(window,PO,{value:!0})}const lG=(t,r)=>r.toLowerCase().indexOf(t.toLowerCase())?"~"+r:r.slice(t.length)||"/",I8=(t="")=>t==="/"?"":t,cG=(t,r)=>t[0]==="~"?t.slice(1):I8(r)+t,dG=(t="",r)=>lG(SC(I8(t)),SC(r)),uG=t=>t[0]==="?"?t.slice(1):t,SC=t=>{try{return decodeURI(t)}catch{return t}},hG=t=>SC(uG(t)),M8={hook:oG,searchHook:sG,parser:HH,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},D8=j.createContext(M8),fh=()=>j.useContext(D8),R8={},L8=j.createContext(R8),Cf=()=>j.useContext(L8),Ib=t=>{const[r,n]=t.hook(t);return[dG(t.base,r),E8((s,a)=>n(cG(s,t.base),a))]},js=()=>Ib(fh()),F8=()=>{const t=fh();return hG(t.searchHook(t))},FA=(t,r,n,s)=>{const{pattern:a,keys:i}=r instanceof RegExp?{keys:!1,pattern:r}:t(r||"*",s),o=a.exec(n)||[],[l,...u]=o;return l!==void 0?[!0,(()=>{const m=i!==!1?Object.fromEntries(i.map((p,g)=>[p,u[g]])):o.groups;let f={...u};return m&&Object.assign(f,m),f})(),...s?[l]:[]]:[!1,null]},$8=t=>FA(fh().parser,t,js()[0]),mG=({children:t,...r})=>{const n=fh(),s=r.hook?M8:n;let a=s;const[i,o]=r.ssrPath?.split("?")??[];o&&(r.ssrSearch=o,r.ssrPath=i),r.hrefs=r.hrefs??r.hook?.hrefs;let l=j.useRef({}),u=l.current,m=u;for(let f in s){const p=f==="base"?s[f]+(r[f]||""):r[f]||s[f];u===m&&p!==m[f]&&(l.current=m={...m}),m[f]=p,(p!==s[f]||p!==a[f])&&(a=m)}return j.createElement(D8.Provider,{value:a,children:t})},TO=({children:t,component:r},n)=>r?j.createElement(r,{params:n}):typeof t=="function"?t(n):t,fG=t=>{let r=j.useRef(R8);const n=r.current;return r.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([s,a])=>a!==n[s])?t:n},Tt=({path:t,nest:r,match:n,...s})=>{const a=fh(),[i]=Ib(a),[o,l,u]=n??FA(a.parser,t,i,r),m=fG({...Cf(),...l});if(!o)return null;const f=u?j.createElement(mG,{base:u},TO(s,m)):TO(s,m);return j.createElement(L8.Provider,{value:m,children:f})},_t=j.forwardRef((t,r)=>{const n=fh(),[s,a]=Ib(n),{to:i="",href:o=i,onClick:l,asChild:u,children:m,className:f,replace:p,state:g,...b}=t,y=E8(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(l?.(w),w.defaultPrevented||(w.preventDefault(),a(o,t)))}),_=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return u&&j.isValidElement(m)?j.cloneElement(m,{onClick:y,href:_}):j.createElement("a",{...b,onClick:y,href:_,className:f?.call?f(s===o):f,children:m,ref:r})}),z8=t=>Array.isArray(t)?t.flatMap(r=>z8(r&&r.type===j.Fragment?r.props.children:r)):[t],EO=({children:t,location:r})=>{const n=fh(),[s]=Ib(n);for(const a of z8(t)){let i=0;if(j.isValidElement(a)&&(i=FA(n.parser,a.props.path,r||s,a.props.nest))[0])return j.cloneElement(a,{match:i})}return null};var kf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},pG={setTimeout:(t,r)=>setTimeout(t,r),clearTimeout:t=>clearTimeout(t),setInterval:(t,r)=>setInterval(t,r),clearInterval:t=>clearInterval(t)},xG=class{#e=pG;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,r){return this.#e.setTimeout(t,r)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,r){return this.#e.setInterval(t,r)}clearInterval(t){this.#e.clearInterval(t)}},Du=new xG;function gG(t){setTimeout(t,0)}var Gu=typeof window>"u"||"Deno"in globalThis;function Wa(){}function vG(t,r){return typeof t=="function"?t(r):t}function CC(t){return typeof t=="number"&&t>=0&&t!==1/0}function B8(t,r){return Math.max(t+(r||0)-Date.now(),0)}function Td(t,r){return typeof t=="function"?t(r):t}function io(t,r){return typeof t=="function"?t(r):t}function OO(t,r){const{type:n="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=t;if(o){if(s){if(r.queryHash!==$A(o,r.options))return!1}else if(!xx(r.queryKey,o))return!1}if(n!=="all"){const u=r.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&r.isStale()!==l||a&&a!==r.state.fetchStatus||i&&!i(r))}function IO(t,r){const{exact:n,status:s,predicate:a,mutationKey:i}=t;if(i){if(!r.options.mutationKey)return!1;if(n){if(Zu(r.options.mutationKey)!==Zu(i))return!1}else if(!xx(r.options.mutationKey,i))return!1}return!(s&&r.state.status!==s||a&&!a(r))}function $A(t,r){return(r?.queryKeyHashFn||Zu)(t)}function Zu(t){return JSON.stringify(t,(r,n)=>kC(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function xx(t,r){return t===r?!0:typeof t!=typeof r?!1:t&&r&&typeof t=="object"&&typeof r=="object"?Object.keys(r).every(n=>xx(t[n],r[n])):!1}var yG=Object.prototype.hasOwnProperty;function q8(t,r){if(t===r)return t;const n=MO(t)&&MO(r);if(!n&&!(kC(t)&&kC(r)))return r;const a=(n?t:Object.keys(t)).length,i=n?r:Object.keys(r),o=i.length,l=n?new Array(o):{};let u=0;for(let m=0;m<o;m++){const f=n?m:i[m],p=t[f],g=r[f];if(p===g){l[f]=p,(n?m<a:yG.call(t,f))&&u++;continue}if(p===null||g===null||typeof p!="object"||typeof g!="object"){l[f]=g;continue}const b=q8(p,g);l[f]=b,b===p&&u++}return a===o&&u===a?t:l}function e0(t,r){if(!r||Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}function MO(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function kC(t){if(!DO(t))return!1;const r=t.constructor;if(r===void 0)return!0;const n=r.prototype;return!(!DO(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function DO(t){return Object.prototype.toString.call(t)==="[object Object]"}function bG(t){return new Promise(r=>{Du.setTimeout(r,t)})}function AC(t,r,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,r):n.structuralSharing!==!1?q8(t,r):r}function jG(t,r,n=0){const s=[...t,r];return n&&s.length>n?s.slice(1):s}function wG(t,r,n=0){const s=[r,...t];return n&&s.length>n?s.slice(0,-1):s}var zA=Symbol();function U8(t,r){return!t.queryFn&&r?.initialPromise?()=>r.initialPromise:!t.queryFn||t.queryFn===zA?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function V8(t,r){return typeof t=="function"?t(...r):!!t}var _G=class extends kf{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!Gu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},BA=new _G;function PC(){let t,r;const n=new Promise((a,i)=>{t=a,r=i});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),t(a)},n.reject=a=>{s({status:"rejected",reason:a}),r(a)},n}var NG=gG;function SG(){let t=[],r=0,n=l=>{l()},s=l=>{l()},a=NG;const i=l=>{r?t.push(l):a(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&a(()=>{s(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;r++;try{u=l()}finally{r--,r||o()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var Gs=SG(),CG=class extends kf{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!Gu&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},t0=new CG;function kG(t){return Math.min(1e3*2**t,3e4)}function K8(t){return(t??"online")==="online"?t0.isOnline():!0}var TC=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function W8(t){let r=!1,n=0,s;const a=PC(),i=()=>a.status!=="pending",o=_=>{if(!i()){const w=new TC(_);g(w),t.onCancel?.(w)}},l=()=>{r=!0},u=()=>{r=!1},m=()=>BA.isFocused()&&(t.networkMode==="always"||t0.isOnline())&&t.canRun(),f=()=>K8(t.networkMode)&&t.canRun(),p=_=>{i()||(s?.(),a.resolve(_))},g=_=>{i()||(s?.(),a.reject(_))},b=()=>new Promise(_=>{s=w=>{(i()||m())&&_(w)},t.onPause?.()}).then(()=>{s=void 0,i()||t.onContinue?.()}),y=()=>{if(i())return;let _;const w=n===0?t.initialPromise:void 0;try{_=w??t.fn()}catch(k){_=Promise.reject(k)}Promise.resolve(_).then(p).catch(k=>{if(i())return;const A=t.retry??(Gu?0:3),P=t.retryDelay??kG,O=typeof P=="function"?P(n,k):P,I=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,k);if(r||!I){g(k);return}n++,t.onFail?.(n,k),bG(O).then(()=>m()?void 0:b()).then(()=>{r?g(k):y()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(s?.(),a),cancelRetry:l,continueRetry:u,canStart:f,start:()=>(f()?y():b().then(y),a)}}var H8=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),CC(this.gcTime)&&(this.#e=Du.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Gu?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Du.clearTimeout(this.#e),this.#e=void 0)}},AG=class extends H8{#e;#t;#r;#s;#n;#i;#o;constructor(t){super(),this.#o=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#r=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=RO(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){if(this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=RO(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),this.#e=r)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,r){const n=AC(this.state.data,t,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:r?.updatedAt,manual:r?.manual}),n}setState(t,r){this.#a({type:"setState",state:t,setStateOptions:r})}cancel(t){const r=this.#n?.promise;return this.#n?.cancel(t),r?r.then(Wa).catch(Wa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>io(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Td(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!B8(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(r=>r.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(r=>r.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(t,r){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&r?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(u=>u.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,s=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},a=()=>{const l=U8(this.options,r),m=(()=>{const f={client:this.#s,queryKey:this.queryKey,meta:this.meta};return s(f),f})();return this.#o=!1,this.options.persister?this.options.persister(l,m,this):l(m)},o=(()=>{const l={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:a};return s(l),l})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta}),this.#n=W8({initialPromise:r?.initialPromise,fn:o.fetchFn,onCancel:l=>{l instanceof TC&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(l,u)=>{this.#a({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const l=await this.#n.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof TC){if(l.silent)return this.#n.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#a({type:"error",error:l}),this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#a(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...G8(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?s:void 0,s;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Gs.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function G8(t,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:K8(r.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function RO(t){const r=typeof t.initialData=="function"?t.initialData():t.initialData,n=r!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Z8=class extends kf{constructor(t,r){super(),this.options=r,this.#e=t,this.#a=null,this.#o=PC(),this.bindMethods(),this.setOptions(r)}#e;#t=void 0;#r=void 0;#s=void 0;#n;#i;#o;#a;#p;#h;#m;#c;#d;#l;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),LO(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return EC(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return EC(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#j(),this.#t.removeObserver(this)}setOptions(t){const r=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof io(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),r._defaulted&&!e0(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const s=this.hasListeners();s&&FO(this.#t,n,this.options,r)&&this.#u(),this.updateResult(),s&&(this.#t!==n||io(this.options.enabled,this.#t)!==io(r.enabled,this.#t)||Td(this.options.staleTime,this.#t)!==Td(r.staleTime,this.#t))&&this.#x();const a=this.#g();s&&(this.#t!==n||io(this.options.enabled,this.#t)!==io(r.enabled,this.#t)||a!==this.#l)&&this.#v(a)}getOptimisticResult(t){const r=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(r,t);return TG(this,n)&&(this.#s=n,this.#i=this.options,this.#n=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r?.(s),s==="promise"&&!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,s))})}trackProp(t){this.#f.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return this.#u({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#u(t){this.#w();let r=this.#t.fetch(this.options,t);return t?.throwOnError||(r=r.catch(Wa)),r}#x(){this.#b();const t=Td(this.options.staleTime,this.#t);if(Gu||this.#s.isStale||!CC(t))return;const n=B8(this.#s.dataUpdatedAt,t)+1;this.#c=Du.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#j(),this.#l=t,!(Gu||io(this.options.enabled,this.#t)===!1||!CC(this.#l)||this.#l===0)&&(this.#d=Du.setInterval(()=>{(this.options.refetchIntervalInBackground||BA.isFocused())&&this.#u()},this.#l))}#y(){this.#x(),this.#v(this.#g())}#b(){this.#c&&(Du.clearTimeout(this.#c),this.#c=void 0)}#j(){this.#d&&(Du.clearInterval(this.#d),this.#d=void 0)}createResult(t,r){const n=this.#t,s=this.options,a=this.#s,i=this.#n,o=this.#i,u=t!==n?t.state:this.#r,{state:m}=t;let f={...m},p=!1,g;if(r._optimisticResults){const B=this.hasListeners(),H=!B&&LO(t,r),re=B&&FO(t,n,r,s);(H||re)&&(f={...f,...G8(m.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:b,errorUpdatedAt:y,status:_}=f;g=f.data;let w=!1;if(r.placeholderData!==void 0&&g===void 0&&_==="pending"){let B;a?.isPlaceholderData&&r.placeholderData===o?.placeholderData?(B=a.data,w=!0):B=typeof r.placeholderData=="function"?r.placeholderData(this.#m?.state.data,this.#m):r.placeholderData,B!==void 0&&(_="success",g=AC(a?.data,B,r),p=!0)}if(r.select&&g!==void 0&&!w)if(a&&g===i?.data&&r.select===this.#p)g=this.#h;else try{this.#p=r.select,g=r.select(g),g=AC(a?.data,g,r),this.#h=g,this.#a=null}catch(B){this.#a=B}this.#a&&(b=this.#a,g=this.#h,y=Date.now(),_="error");const k=f.fetchStatus==="fetching",A=_==="pending",P=_==="error",O=A&&k,I=g!==void 0,F={status:_,fetchStatus:f.fetchStatus,isPending:A,isSuccess:_==="success",isError:P,isInitialLoading:O,isLoading:O,data:g,dataUpdatedAt:f.dataUpdatedAt,error:b,errorUpdatedAt:y,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:k,isRefetching:k&&!A,isLoadingError:P&&!I,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:P&&I,isStale:qA(t,r),refetch:this.refetch,promise:this.#o,isEnabled:io(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const B=G=>{F.status==="error"?G.reject(F.error):F.data!==void 0&&G.resolve(F.data)},H=()=>{const G=this.#o=F.promise=PC();B(G)},re=this.#o;switch(re.status){case"pending":t.queryHash===n.queryHash&&B(re);break;case"fulfilled":(F.status==="error"||F.data!==re.value)&&H();break;case"rejected":(F.status!=="error"||F.error!==re.reason)&&H();break}}return F}updateResult(){const t=this.#s,r=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#i=this.options,this.#n.data!==void 0&&(this.#m=this.#t),e0(r,t))return;this.#s=r;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!this.#f.size)return!0;const i=new Set(a??this.#f);return this.options.throwOnError&&i.add("error"),Object.keys(this.#s).some(o=>{const l=o;return this.#s[l]!==t[l]&&i.has(l)})};this.#_({listeners:n()})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const r=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(r?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#_(t){Gs.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function PG(t,r){return io(r.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&r.retryOnMount===!1)}function LO(t,r){return PG(t,r)||t.state.data!==void 0&&EC(t,r,r.refetchOnMount)}function EC(t,r,n){if(io(r.enabled,t)!==!1&&Td(r.staleTime,t)!=="static"){const s=typeof n=="function"?n(t):n;return s==="always"||s!==!1&&qA(t,r)}return!1}function FO(t,r,n,s){return(t!==r||io(s.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&qA(t,n)}function qA(t,r){return io(r.enabled,t)!==!1&&t.isStaleByTime(Td(r.staleTime,t))}function TG(t,r){return!e0(t.getCurrentResult(),r)}function r0(t){return{onFetch:(r,n)=>{const s=r.options,a=r.fetchOptions?.meta?.fetchMore?.direction,i=r.state.data?.pages||[],o=r.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const m=async()=>{let f=!1;const p=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(r.signal.aborted?f=!0:r.signal.addEventListener("abort",()=>{f=!0}),r.signal)})},g=U8(r.options,r.fetchOptions),b=async(y,_,w)=>{if(f)return Promise.reject();if(_==null&&y.pages.length)return Promise.resolve(y);const A=(()=>{const D={client:r.client,queryKey:r.queryKey,pageParam:_,direction:w?"backward":"forward",meta:r.options.meta};return p(D),D})(),P=await g(A),{maxPages:O}=r.options,I=w?wG:jG;return{pages:I(y.pages,P,O),pageParams:I(y.pageParams,_,O)}};if(a&&i.length){const y=a==="backward",_=y?Y8:OC,w={pages:i,pageParams:o},k=_(s,w);l=await b(w,k,y)}else{const y=t??i.length;do{const _=u===0?o[0]??s.initialPageParam:OC(s,l);if(u>0&&_==null)break;l=await b(l,_),u++}while(u<y)}return l};r.options.persister?r.fetchFn=()=>r.options.persister?.(m,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},n):r.fetchFn=m}}}function OC(t,{pages:r,pageParams:n}){const s=r.length-1;return r.length>0?t.getNextPageParam(r[s],r,n[s],n):void 0}function Y8(t,{pages:r,pageParams:n}){return r.length>0?t.getPreviousPageParam?.(r[0],r,n[0],n):void 0}function EG(t,r){return r?OC(t,r)!=null:!1}function OG(t,r){return!r||!t.getPreviousPageParam?!1:Y8(t,r)!=null}var IG=class extends Z8{constructor(t,r){super(t,r)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t){super.setOptions({...t,behavior:r0()})}getOptimisticResult(t){return t.behavior=r0(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,r){const{state:n}=t,s=super.createResult(t,r),{isFetching:a,isRefetching:i,isError:o,isRefetchError:l}=s,u=n.fetchMeta?.fetchMore?.direction,m=o&&u==="forward",f=a&&u==="forward",p=o&&u==="backward",g=a&&u==="backward";return{...s,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:EG(r,n.data),hasPreviousPage:OG(r,n.data),isFetchNextPageError:m,isFetchingNextPage:f,isFetchPreviousPageError:p,isFetchingPreviousPage:g,isRefetchError:l&&!m&&!p,isRefetching:i&&!f&&!g}}},MG=class extends H8{#e;#t;#r;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#r=t.mutationCache,this.#t=[],this.state=t.state||Q8(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(r=>r!==t),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const r=()=>{this.#n({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=W8({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#n({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#n({type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const s=this.state.status==="pending",a=!this.#s.canStart();try{if(s)r();else{this.#n({type:"pending",variables:t,isPaused:a}),await this.#r.config.onMutate?.(t,this,n);const o=await this.options.onMutate?.(t,n);o!==this.state.context&&this.#n({type:"pending",context:o,variables:t,isPaused:a})}const i=await this.#s.start();return await this.#r.config.onSuccess?.(i,t,this.state.context,this,n),await this.options.onSuccess?.(i,t,this.state.context,n),await this.#r.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,t,this.state.context,n),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#r.config.onError?.(i,t,this.state.context,this,n),await this.options.onError?.(i,t,this.state.context,n),await this.#r.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,i,t,this.state.context,n),i}finally{this.#n({type:"error",error:i})}}finally{this.#r.runNext(this)}}#n(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Gs.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#r.notify({mutation:this,type:"updated",action:t})})}};function Q8(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var DG=class extends kf{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(t,r,n){const s=new MG({client:t,mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){this.#e.add(t);const r=gy(t);if(typeof r=="string"){const n=this.#t.get(r);n?n.push(t):this.#t.set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const r=gy(t);if(typeof r=="string"){const n=this.#t.get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&this.#t.delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=gy(t);if(typeof r=="string"){const s=this.#t.get(r)?.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){const r=gy(t);return typeof r=="string"?this.#t.get(r)?.find(s=>s!==t&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Gs.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const r={exact:!0,...t};return this.getAll().find(n=>IO(r,n))}findAll(t={}){return this.getAll().filter(r=>IO(t,r))}notify(t){Gs.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Gs.batch(()=>Promise.all(t.map(r=>r.continue().catch(Wa))))}};function gy(t){return t.options.scope?.id}var RG=class extends kf{#e;#t=void 0;#r;#s;constructor(r,n){super(),this.#e=r,this.setOptions(n),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){const n=this.options;this.options=this.#e.defaultMutationOptions(r),e0(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),n?.mutationKey&&this.options.mutationKey&&Zu(n.mutationKey)!==Zu(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(r){this.#n(),this.#i(r)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#i()}mutate(r,n){return this.#s=n,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(r)}#n(){const r=this.#r?.state??Q8();this.#t={...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset}}#i(r){Gs.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#t.variables,s=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};r?.type==="success"?(this.#s.onSuccess?.(r.data,n,s,a),this.#s.onSettled?.(r.data,null,n,s,a)):r?.type==="error"&&(this.#s.onError?.(r.error,n,s,a),this.#s.onSettled?.(void 0,r.error,n,s,a))}this.listeners.forEach(n=>{n(this.#t)})})}},LG=class extends kf{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,r,n){const s=r.queryKey,a=r.queryHash??$A(s,r);let i=this.get(a);return i||(i=new AG({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=this.#e.get(t.queryHash);r&&(t.destroy(),r===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Gs.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>OO(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>OO(t,n)):r}notify(t){Gs.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Gs.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Gs.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},FG=class{#e;#t;#r;#s;#n;#i;#o;#a;constructor(t={}){this.#e=t.queryCache||new LG,this.#t=t.mutationCache||new DG,this.#r=t.defaultOptions||{},this.#s=new Map,this.#n=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=BA.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=t0.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const r=this.defaultQueryOptions({queryKey:t});return this.#e.get(r.queryHash)?.state.data}ensureQueryData(t){const r=this.defaultQueryOptions(t),n=this.#e.build(this,r),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Td(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(s))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:r,state:n})=>{const s=n.data;return[r,s]})}setQueryData(t,r,n){const s=this.defaultQueryOptions({queryKey:t}),i=this.#e.get(s.queryHash)?.state.data,o=vG(r,i);if(o!==void 0)return this.#e.build(this,s).setData(o,{...n,manual:!0})}setQueriesData(t,r,n){return Gs.batch(()=>this.#e.findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,r,n)]))}getQueryState(t){const r=this.defaultQueryOptions({queryKey:t});return this.#e.get(r.queryHash)?.state}removeQueries(t){const r=this.#e;Gs.batch(()=>{r.findAll(t).forEach(n=>{r.remove(n)})})}resetQueries(t,r){const n=this.#e;return Gs.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},r)))}cancelQueries(t,r={}){const n={revert:!0,...r},s=Gs.batch(()=>this.#e.findAll(t).map(a=>a.cancel(n)));return Promise.all(s).then(Wa).catch(Wa)}invalidateQueries(t,r={}){return Gs.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},r)))}refetchQueries(t,r={}){const n={...r,cancelRefetch:r.cancelRefetch??!0},s=Gs.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(Wa)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(Wa)}fetchQuery(t){const r=this.defaultQueryOptions(t);r.retry===void 0&&(r.retry=!1);const n=this.#e.build(this,r);return n.isStaleByTime(Td(r.staleTime,n))?n.fetch(r):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Wa).catch(Wa)}fetchInfiniteQuery(t){return t.behavior=r0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Wa).catch(Wa)}ensureInfiniteQueryData(t){return t.behavior=r0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return t0.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,r){this.#s.set(Zu(t),{queryKey:t,defaultOptions:r})}getQueryDefaults(t){const r=[...this.#s.values()],n={};return r.forEach(s=>{xx(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,r){this.#n.set(Zu(t),{mutationKey:t,defaultOptions:r})}getMutationDefaults(t){const r=[...this.#n.values()],n={};return r.forEach(s=>{xx(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const r={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return r.queryHash||(r.queryHash=$A(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===zA&&(r.enabled=!1),r}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},X8=j.createContext(void 0),ws=t=>{const r=j.useContext(X8);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},$G=({client:t,children:r})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(X8.Provider,{value:t,children:r})),J8=j.createContext(!1),zG=()=>j.useContext(J8);J8.Provider;function BG(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var qG=j.createContext(BG()),UG=()=>j.useContext(qG),VG=(t,r)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(r.isReset()||(t.retryOnMount=!1))},KG=t=>{j.useEffect(()=>{t.clearReset()},[t])},WG=({result:t,errorResetBoundary:r,throwOnError:n,query:s,suspense:a})=>t.isError&&!r.isReset()&&!t.isFetching&&s&&(a&&t.data===void 0||V8(n,[t.error,s])),HG=t=>{if(t.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),s=t.staleTime;t.staleTime=typeof s=="function"?(...a)=>n(s(...a)):n(s),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},GG=(t,r)=>t.isLoading&&t.isFetching&&!r,ZG=(t,r)=>t?.suspense&&r.isPending,$O=(t,r,n)=>r.fetchOptimistic(t).catch(()=>{n.clearReset()});function eF(t,r,n){const s=zG(),a=UG(),i=ws(),o=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=s?"isRestoring":"optimistic",HG(o),VG(o,a),KG(a);const l=!i.getQueryCache().get(o.queryHash),[u]=j.useState(()=>new r(i,o)),m=u.getOptimisticResult(o),f=!s&&t.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(p=>{const g=f?u.subscribe(Gs.batchCalls(p)):Wa;return u.updateResult(),g},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),j.useEffect(()=>{u.setOptions(o)},[o,u]),ZG(o,m))throw $O(o,u,a);if(WG({result:m,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw m.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,m),o.experimental_prefetchInRender&&!Gu&&GG(m,s)&&(l?$O(o,u,a):i.getQueryCache().get(o.queryHash)?.promise)?.catch(Wa).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?m:u.trackResult(m)}function Ve(t,r){return eF(t,Z8)}function ot(t,r){const n=ws(),[s]=j.useState(()=>new RG(n,t));j.useEffect(()=>{s.setOptions(t)},[s,t]);const a=j.useSyncExternalStore(j.useCallback(o=>s.subscribe(Gs.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=j.useCallback((o,l)=>{s.mutate(o,l).catch(Wa)},[s]);if(a.error&&V8(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}function YG(t,r){return eF(t,IG)}function QG(){if(typeof document>"u")return null;const t=document.cookie.match(/csrfToken=([^;]+)/);return t?t[1]:null}async function tF(t){if(!t.ok){const r=await t.text()||t.statusText;throw new Error(`${t.status}: ${r}`)}}async function Ze(t,r,n){let s,a,i,o={};if(typeof r=="string")a=t,s=r,i=n;else{s=t;const m=r||{};a=m.method||"GET",i=m.body,o=m.headers||{}}const l={...o,...i?{"Content-Type":"application/json"}:{}};if(a!=="GET"&&a!=="HEAD"&&a!=="OPTIONS"){const m=QG();m&&(l["X-CSRF-Token"]=m)}const u=await fetch(s,{method:a,headers:l,body:i?JSON.stringify(i):void 0,credentials:"include"});return await tF(u),typeof r!="string"?await u.json():u}const XG=({on401:t})=>async({queryKey:r})=>{const n=await fetch(r.join("/"),{credentials:"include"});return await tF(n),await n.json()},Rt=new FG({defaultOptions:{queries:{queryFn:XG({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});var ph=P8();const JG=mn(ph);function wt(t,r,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t?.(a),n===!1||!a.defaultPrevented)return r?.(a)}}function zO(t,r){if(typeof t=="function")return t(r);t!=null&&(t.current=r)}function Mb(...t){return r=>{let n=!1;const s=t.map(a=>{const i=zO(a,r);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():zO(t[a],null)}}}}function _r(...t){return j.useCallback(Mb(...t),t)}function eZ(t,r){const n=j.createContext(r),s=i=>{const{children:o,...l}=i,u=j.useMemo(()=>l,Object.values(l));return e.jsx(n.Provider,{value:u,children:o})};s.displayName=t+"Provider";function a(i){const o=j.useContext(n);if(o)return o;if(r!==void 0)return r;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[s,a]}function ga(t,r=[]){let n=[];function s(i,o){const l=j.createContext(o),u=n.length;n=[...n,o];const m=p=>{const{scope:g,children:b,...y}=p,_=g?.[t]?.[u]||l,w=j.useMemo(()=>y,Object.values(y));return e.jsx(_.Provider,{value:w,children:b})};m.displayName=i+"Provider";function f(p,g){const b=g?.[t]?.[u]||l,y=j.useContext(b);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[m,f]}const a=()=>{const i=n.map(o=>j.createContext(o));return function(l){const u=l?.[t]||i;return j.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return a.scopeName=t,[s,tZ(a,...r)]}function tZ(...t){const r=t[0];if(t.length===1)return r;const n=()=>{const s=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:u,scopeName:m})=>{const p=u(i)[`__scope${m}`];return{...l,...p}},{});return j.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return n.scopeName=r.scopeName,n}function Dd(t){const r=rZ(t),n=j.forwardRef((s,a)=>{const{children:i,...o}=s,l=j.Children.toArray(i),u=l.find(nZ);if(u){const m=u.props.children,f=l.map(p=>p===u?j.Children.count(m)>1?j.Children.only(null):j.isValidElement(m)?m.props.children:null:p);return e.jsx(r,{...o,ref:a,children:j.isValidElement(m)?j.cloneElement(m,void 0,f):null})}return e.jsx(r,{...o,ref:a,children:i})});return n.displayName=`${t}.Slot`,n}var rF=Dd("Slot");function rZ(t){const r=j.forwardRef((n,s)=>{const{children:a,...i}=n;if(j.isValidElement(a)){const o=aZ(a),l=sZ(i,a.props);return a.type!==j.Fragment&&(l.ref=s?Mb(s,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var nF=Symbol("radix.slottable");function sF(t){const r=({children:n})=>e.jsx(e.Fragment,{children:n});return r.displayName=`${t}.Slottable`,r.__radixId=nF,r}function nZ(t){return j.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===nF}function sZ(t,r){const n={...r};for(const s in r){const a=t[s],i=r[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const u=i(...l);return a(...l),u}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...t,...n}}function aZ(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Db(t){const r=t+"CollectionProvider",[n,s]=ga(r),[a,i]=n(r,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:w,children:k}=_,A=le.useRef(null),P=le.useRef(new Map).current;return e.jsx(a,{scope:w,itemMap:P,collectionRef:A,children:k})};o.displayName=r;const l=t+"CollectionSlot",u=Dd(l),m=le.forwardRef((_,w)=>{const{scope:k,children:A}=_,P=i(l,k),O=_r(w,P.collectionRef);return e.jsx(u,{ref:O,children:A})});m.displayName=l;const f=t+"CollectionItemSlot",p="data-radix-collection-item",g=Dd(f),b=le.forwardRef((_,w)=>{const{scope:k,children:A,...P}=_,O=le.useRef(null),I=_r(w,O),D=i(f,k);return le.useEffect(()=>(D.itemMap.set(O,{ref:O,...P}),()=>void D.itemMap.delete(O))),e.jsx(g,{[p]:"",ref:I,children:A})});b.displayName=f;function y(_){const w=i(t+"CollectionConsumer",_);return le.useCallback(()=>{const A=w.collectionRef.current;if(!A)return[];const P=Array.from(A.querySelectorAll(`[${p}]`));return Array.from(w.itemMap.values()).sort((D,F)=>P.indexOf(D.ref.current)-P.indexOf(F.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:m,ItemSlot:b},y,s]}var iZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vt=iZ.reduce((t,r)=>{const n=Dd(`Primitive.${r}`),s=j.forwardRef((a,i)=>{const{asChild:o,...l}=a,u=o?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...l,ref:i})});return s.displayName=`Primitive.${r}`,{...t,[r]:s}},{});function UA(t,r){t&&ph.flushSync(()=>t.dispatchEvent(r))}function gs(t){const r=j.useRef(t);return j.useEffect(()=>{r.current=t}),j.useMemo(()=>(...n)=>r.current?.(...n),[])}function oZ(t,r=globalThis?.document){const n=gs(t);j.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return r.addEventListener("keydown",s,{capture:!0}),()=>r.removeEventListener("keydown",s,{capture:!0})},[n,r])}var lZ="DismissableLayer",IC="dismissableLayer.update",cZ="dismissableLayer.pointerDownOutside",dZ="dismissableLayer.focusOutside",BO,aF=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xh=j.forwardRef((t,r)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=t,m=j.useContext(aF),[f,p]=j.useState(null),g=f?.ownerDocument??globalThis?.document,[,b]=j.useState({}),y=_r(r,F=>p(F)),_=Array.from(m.layers),[w]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),k=_.indexOf(w),A=f?_.indexOf(f):-1,P=m.layersWithOutsidePointerEventsDisabled.size>0,O=A>=k,I=hZ(F=>{const B=F.target,H=[...m.branches].some(re=>re.contains(B));!O||H||(a?.(F),o?.(F),F.defaultPrevented||l?.())},g),D=mZ(F=>{const B=F.target;[...m.branches].some(re=>re.contains(B))||(i?.(F),o?.(F),F.defaultPrevented||l?.())},g);return oZ(F=>{A===m.layers.size-1&&(s?.(F),!F.defaultPrevented&&l&&(F.preventDefault(),l()))},g),j.useEffect(()=>{if(f)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(BO=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(f)),m.layers.add(f),qO(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=BO)}},[f,g,n,m]),j.useEffect(()=>()=>{f&&(m.layers.delete(f),m.layersWithOutsidePointerEventsDisabled.delete(f),qO())},[f,m]),j.useEffect(()=>{const F=()=>b({});return document.addEventListener(IC,F),()=>document.removeEventListener(IC,F)},[]),e.jsx(Vt.div,{...u,ref:y,style:{pointerEvents:P?O?"auto":"none":void 0,...t.style},onFocusCapture:wt(t.onFocusCapture,D.onFocusCapture),onBlurCapture:wt(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:wt(t.onPointerDownCapture,I.onPointerDownCapture)})});xh.displayName=lZ;var uZ="DismissableLayerBranch",iF=j.forwardRef((t,r)=>{const n=j.useContext(aF),s=j.useRef(null),a=_r(r,s);return j.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),e.jsx(Vt.div,{...t,ref:a})});iF.displayName=uZ;function hZ(t,r=globalThis?.document){const n=gs(t),s=j.useRef(!1),a=j.useRef(()=>{});return j.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let u=function(){oF(cZ,n,m,{discrete:!0})};const m={originalEvent:l};l.pointerType==="touch"?(r.removeEventListener("click",a.current),a.current=u,r.addEventListener("click",a.current,{once:!0})):u()}else r.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),r.removeEventListener("pointerdown",i),r.removeEventListener("click",a.current)}},[r,n]),{onPointerDownCapture:()=>s.current=!0}}function mZ(t,r=globalThis?.document){const n=gs(t),s=j.useRef(!1);return j.useEffect(()=>{const a=i=>{i.target&&!s.current&&oF(dZ,n,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",a),()=>r.removeEventListener("focusin",a)},[r,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function qO(){const t=new CustomEvent(IC);document.dispatchEvent(t)}function oF(t,r,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});r&&a.addEventListener(t,r,{once:!0}),s?UA(a,i):a.dispatchEvent(i)}var fZ=xh,pZ=iF,Es=globalThis?.document?j.useLayoutEffect:()=>{},xZ="Portal",Af=j.forwardRef((t,r)=>{const{container:n,...s}=t,[a,i]=j.useState(!1);Es(()=>i(!0),[]);const o=n||a&&globalThis?.document?.body;return o?JG.createPortal(e.jsx(Vt.div,{...s,ref:r}),o):null});Af.displayName=xZ;function gZ(t,r){return j.useReducer((n,s)=>r[n][s]??n,t)}var la=t=>{const{present:r,children:n}=t,s=vZ(r),a=typeof n=="function"?n({present:s.isPresent}):j.Children.only(n),i=_r(s.ref,yZ(a));return typeof n=="function"||s.isPresent?j.cloneElement(a,{ref:i}):null};la.displayName="Presence";function vZ(t){const[r,n]=j.useState(),s=j.useRef(null),a=j.useRef(t),i=j.useRef("none"),o=t?"mounted":"unmounted",[l,u]=gZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const m=vy(s.current);i.current=l==="mounted"?m:"none"},[l]),Es(()=>{const m=s.current,f=a.current;if(f!==t){const g=i.current,b=vy(m);t?u("MOUNT"):b==="none"||m?.display==="none"?u("UNMOUNT"):u(f&&g!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,u]),Es(()=>{if(r){let m;const f=r.ownerDocument.defaultView??window,p=b=>{const _=vy(s.current).includes(CSS.escape(b.animationName));if(b.target===r&&_&&(u("ANIMATION_END"),!a.current)){const w=r.style.animationFillMode;r.style.animationFillMode="forwards",m=f.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=w)})}},g=b=>{b.target===r&&(i.current=vy(s.current))};return r.addEventListener("animationstart",g),r.addEventListener("animationcancel",p),r.addEventListener("animationend",p),()=>{f.clearTimeout(m),r.removeEventListener("animationstart",g),r.removeEventListener("animationcancel",p),r.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[r,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(m=>{s.current=m?getComputedStyle(m):null,n(m)},[])}}function vy(t){return t?.animationName||"none"}function yZ(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var bZ=DA[" useInsertionEffect ".trim().toString()]||Es;function Sl({prop:t,defaultProp:r,onChange:n=()=>{},caller:s}){const[a,i,o]=jZ({defaultProp:r,onChange:n}),l=t!==void 0,u=l?t:a;{const f=j.useRef(t!==void 0);j.useEffect(()=>{const p=f.current;p!==l&&console.warn(`${s} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,s])}const m=j.useCallback(f=>{if(l){const p=wZ(f)?f(t):f;p!==t&&o.current?.(p)}else i(f)},[l,t,i,o]);return[u,m]}function jZ({defaultProp:t,onChange:r}){const[n,s]=j.useState(t),a=j.useRef(n),i=j.useRef(r);return bZ(()=>{i.current=r},[r]),j.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,s,i]}function wZ(t){return typeof t=="function"}var lF=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_Z="VisuallyHidden",Rb=j.forwardRef((t,r)=>e.jsx(Vt.span,{...t,ref:r,style:{...lF,...t.style}}));Rb.displayName=_Z;var NZ=Rb,VA="ToastProvider",[KA,SZ,CZ]=Db("Toast"),[cF]=ga("Toast",[CZ]),[kZ,Lb]=cF(VA),dF=t=>{const{__scopeToast:r,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=t,[l,u]=j.useState(null),[m,f]=j.useState(0),p=j.useRef(!1),g=j.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${VA}\`. Expected non-empty \`string\`.`),e.jsx(KA.Provider,{scope:r,children:e.jsx(kZ,{scope:r,label:n,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:m,viewport:l,onViewportChange:u,onToastAdd:j.useCallback(()=>f(b=>b+1),[]),onToastRemove:j.useCallback(()=>f(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:g,children:o})})};dF.displayName=VA;var uF="ToastViewport",AZ=["F8"],MC="toast.viewportPause",DC="toast.viewportResume",hF=j.forwardRef((t,r)=>{const{__scopeToast:n,hotkey:s=AZ,label:a="Notifications ({hotkey})",...i}=t,o=Lb(uF,n),l=SZ(n),u=j.useRef(null),m=j.useRef(null),f=j.useRef(null),p=j.useRef(null),g=_r(r,p,o.onViewportChange),b=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;j.useEffect(()=>{const w=k=>{s.length!==0&&s.every(P=>k[P]||k.code===P)&&p.current?.focus()};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[s]),j.useEffect(()=>{const w=u.current,k=p.current;if(y&&w&&k){const A=()=>{if(!o.isClosePausedRef.current){const D=new CustomEvent(MC);k.dispatchEvent(D),o.isClosePausedRef.current=!0}},P=()=>{if(o.isClosePausedRef.current){const D=new CustomEvent(DC);k.dispatchEvent(D),o.isClosePausedRef.current=!1}},O=D=>{!w.contains(D.relatedTarget)&&P()},I=()=>{w.contains(document.activeElement)||P()};return w.addEventListener("focusin",A),w.addEventListener("focusout",O),w.addEventListener("pointermove",A),w.addEventListener("pointerleave",I),window.addEventListener("blur",A),window.addEventListener("focus",P),()=>{w.removeEventListener("focusin",A),w.removeEventListener("focusout",O),w.removeEventListener("pointermove",A),w.removeEventListener("pointerleave",I),window.removeEventListener("blur",A),window.removeEventListener("focus",P)}}},[y,o.isClosePausedRef]);const _=j.useCallback(({tabbingDirection:w})=>{const A=l().map(P=>{const O=P.ref.current,I=[O,...BZ(O)];return w==="forwards"?I:I.reverse()});return(w==="forwards"?A.reverse():A).flat()},[l]);return j.useEffect(()=>{const w=p.current;if(w){const k=A=>{const P=A.altKey||A.ctrlKey||A.metaKey;if(A.key==="Tab"&&!P){const I=document.activeElement,D=A.shiftKey;if(A.target===w&&D){m.current?.focus();return}const H=_({tabbingDirection:D?"backwards":"forwards"}),re=H.findIndex(G=>G===I);D_(H.slice(re+1))?A.preventDefault():D?m.current?.focus():f.current?.focus()}};return w.addEventListener("keydown",k),()=>w.removeEventListener("keydown",k)}},[l,_]),e.jsxs(pZ,{ref:u,role:"region","aria-label":a.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&e.jsx(RC,{ref:m,onFocusFromOutsideViewport:()=>{const w=_({tabbingDirection:"forwards"});D_(w)}}),e.jsx(KA.Slot,{scope:n,children:e.jsx(Vt.ol,{tabIndex:-1,...i,ref:g})}),y&&e.jsx(RC,{ref:f,onFocusFromOutsideViewport:()=>{const w=_({tabbingDirection:"backwards"});D_(w)}})]})});hF.displayName=uF;var mF="ToastFocusProxy",RC=j.forwardRef((t,r)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...a}=t,i=Lb(mF,n);return e.jsx(Rb,{tabIndex:0,...a,ref:r,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!i.viewport?.contains(l)&&s()}})});RC.displayName=mF;var wg="Toast",PZ="toast.swipeStart",TZ="toast.swipeMove",EZ="toast.swipeCancel",OZ="toast.swipeEnd",fF=j.forwardRef((t,r)=>{const{forceMount:n,open:s,defaultOpen:a,onOpenChange:i,...o}=t,[l,u]=Sl({prop:s,defaultProp:a??!0,onChange:i,caller:wg});return e.jsx(la,{present:n||l,children:e.jsx(DZ,{open:l,...o,ref:r,onClose:()=>u(!1),onPause:gs(t.onPause),onResume:gs(t.onResume),onSwipeStart:wt(t.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:wt(t.onSwipeMove,m=>{const{x:f,y:p}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:wt(t.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:wt(t.onSwipeEnd,m=>{const{x:f,y:p}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});fF.displayName=wg;var[IZ,MZ]=cF(wg,{onClose(){}}),DZ=j.forwardRef((t,r)=>{const{__scopeToast:n,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:u,onResume:m,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:g,onSwipeEnd:b,...y}=t,_=Lb(wg,n),[w,k]=j.useState(null),A=_r(r,ne=>k(ne)),P=j.useRef(null),O=j.useRef(null),I=a||_.duration,D=j.useRef(0),F=j.useRef(I),B=j.useRef(0),{onToastAdd:H,onToastRemove:re}=_,G=gs(()=>{w?.contains(document.activeElement)&&_.viewport?.focus(),o()}),J=j.useCallback(ne=>{!ne||ne===1/0||(window.clearTimeout(B.current),D.current=new Date().getTime(),B.current=window.setTimeout(G,ne))},[G]);j.useEffect(()=>{const ne=_.viewport;if(ne){const K=()=>{J(F.current),m?.()},ae=()=>{const U=new Date().getTime()-D.current;F.current=F.current-U,window.clearTimeout(B.current),u?.()};return ne.addEventListener(MC,ae),ne.addEventListener(DC,K),()=>{ne.removeEventListener(MC,ae),ne.removeEventListener(DC,K)}}},[_.viewport,I,u,m,J]),j.useEffect(()=>{i&&!_.isClosePausedRef.current&&J(I)},[i,I,_.isClosePausedRef,J]),j.useEffect(()=>(H(),()=>re()),[H,re]);const Z=j.useMemo(()=>w?jF(w):null,[w]);return _.viewport?e.jsxs(e.Fragment,{children:[Z&&e.jsx(RZ,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite",children:Z}),e.jsx(IZ,{scope:n,onClose:G,children:ph.createPortal(e.jsx(KA.ItemSlot,{scope:n,children:e.jsx(fZ,{asChild:!0,onEscapeKeyDown:wt(l,()=>{_.isFocusedToastEscapeKeyDownRef.current||G(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(Vt.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":_.swipeDirection,...y,ref:A,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:wt(t.onKeyDown,ne=>{ne.key==="Escape"&&(l?.(ne.nativeEvent),ne.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,G()))}),onPointerDown:wt(t.onPointerDown,ne=>{ne.button===0&&(P.current={x:ne.clientX,y:ne.clientY})}),onPointerMove:wt(t.onPointerMove,ne=>{if(!P.current)return;const K=ne.clientX-P.current.x,ae=ne.clientY-P.current.y,U=!!O.current,W=["left","right"].includes(_.swipeDirection),se=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,de=W?se(0,K):0,z=W?0:se(0,ae),oe=ne.pointerType==="touch"?10:2,Ce={x:de,y:z},ke={originalEvent:ne,delta:Ce};U?(O.current=Ce,yy(TZ,p,ke,{discrete:!1})):UO(Ce,_.swipeDirection,oe)?(O.current=Ce,yy(PZ,f,ke,{discrete:!1}),ne.target.setPointerCapture(ne.pointerId)):(Math.abs(K)>oe||Math.abs(ae)>oe)&&(P.current=null)}),onPointerUp:wt(t.onPointerUp,ne=>{const K=O.current,ae=ne.target;if(ae.hasPointerCapture(ne.pointerId)&&ae.releasePointerCapture(ne.pointerId),O.current=null,P.current=null,K){const U=ne.currentTarget,W={originalEvent:ne,delta:K};UO(K,_.swipeDirection,_.swipeThreshold)?yy(OZ,b,W,{discrete:!0}):yy(EZ,g,W,{discrete:!0}),U.addEventListener("click",se=>se.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),RZ=t=>{const{__scopeToast:r,children:n,...s}=t,a=Lb(wg,r),[i,o]=j.useState(!1),[l,u]=j.useState(!1);return $Z(()=>o(!0)),j.useEffect(()=>{const m=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(m)},[]),l?null:e.jsx(Af,{asChild:!0,children:e.jsx(Rb,{...s,children:i&&e.jsxs(e.Fragment,{children:[a.label," ",n]})})})},LZ="ToastTitle",pF=j.forwardRef((t,r)=>{const{__scopeToast:n,...s}=t;return e.jsx(Vt.div,{...s,ref:r})});pF.displayName=LZ;var FZ="ToastDescription",xF=j.forwardRef((t,r)=>{const{__scopeToast:n,...s}=t;return e.jsx(Vt.div,{...s,ref:r})});xF.displayName=FZ;var gF="ToastAction",vF=j.forwardRef((t,r)=>{const{altText:n,...s}=t;return n.trim()?e.jsx(bF,{altText:n,asChild:!0,children:e.jsx(WA,{...s,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${gF}\`. Expected non-empty \`string\`.`),null)});vF.displayName=gF;var yF="ToastClose",WA=j.forwardRef((t,r)=>{const{__scopeToast:n,...s}=t,a=MZ(yF,n);return e.jsx(bF,{asChild:!0,children:e.jsx(Vt.button,{type:"button",...s,ref:r,onClick:wt(t.onClick,a.onClose)})})});WA.displayName=yF;var bF=j.forwardRef((t,r)=>{const{__scopeToast:n,altText:s,...a}=t;return e.jsx(Vt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:r})});function jF(t){const r=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&r.push(s.textContent),zZ(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&r.push(o)}else r.push(...jF(s))}}),r}function yy(t,r,n,{discrete:s}){const a=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});r&&a.addEventListener(t,r,{once:!0}),s?UA(a,i):a.dispatchEvent(i)}var UO=(t,r,n=0)=>{const s=Math.abs(t.x),a=Math.abs(t.y),i=s>a;return r==="left"||r==="right"?i&&s>n:!i&&a>n};function $Z(t=()=>{}){const r=gs(t);Es(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[r])}function zZ(t){return t.nodeType===t.ELEMENT_NODE}function BZ(t){const r=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function D_(t){const r=document.activeElement;return t.some(n=>n===r?!0:(n.focus(),document.activeElement!==r))}var qZ=dF,wF=hF,_F=fF,NF=pF,SF=xF,CF=vF,kF=WA;function AF(t){var r,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(r=0;r<a;r++)t[r]&&(n=AF(t[r]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function jr(){for(var t,r,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(r=AF(t))&&(s&&(s+=" "),s+=r);return s}const VO=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,KO=jr,Pf=(t,r)=>n=>{var s;if(r?.variants==null)return KO(t,n?.class,n?.className);const{variants:a,defaultVariants:i}=r,o=Object.keys(a).map(m=>{const f=n?.[m],p=i?.[m];if(f===null)return null;const g=VO(f)||VO(p);return a[m][g]}),l=n&&Object.entries(n).reduce((m,f)=>{let[p,g]=f;return g===void 0||(m[p]=g),m},{}),u=r==null||(s=r.compoundVariants)===null||s===void 0?void 0:s.reduce((m,f)=>{let{class:p,className:g,...b}=f;return Object.entries(b).every(y=>{let[_,w]=y;return Array.isArray(w)?w.includes({...i,...l}[_]):{...i,...l}[_]===w})?[...m,p,g]:m},[]);return KO(t,o,u,n?.class,n?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PF=(...t)=>t.filter((r,n,s)=>!!r&&s.indexOf(r)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=j.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},u)=>j.createElement("svg",{ref:u,...VZ,width:r,height:r,stroke:t,strokeWidth:s?Number(n)*24/Number(r):n,className:PF("lucide",a),...l},[...o.map(([m,f])=>j.createElement(m,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(t,r)=>{const n=j.forwardRef(({className:s,...a},i)=>j.createElement(KZ,{ref:i,iconNode:r,className:PF(`lucide-${UZ(t)}`,s),...a}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=Te("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=Te("AlarmClock",[["circle",{cx:"12",cy:"13",r:"8",key:"3y4lt7"}],["path",{d:"M12 9v4l2 2",key:"1c63tq"}],["path",{d:"M5 3 2 6",key:"18tl5t"}],["path",{d:"m22 6-3-3",key:"1opdir"}],["path",{d:"M6.38 18.7 4 21",key:"17xu3x"}],["path",{d:"M17.64 18.67 20 21",key:"kv2oe2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=Te("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=Te("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=Te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=Te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=Te("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=Te("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=Te("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=Te("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=Te("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=Te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=Te("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HZ=Te("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=Te("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=Te("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=Te("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=Te("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=Te("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZZ=Te("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=Te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YZ=Te("CameraOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=Te("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=Te("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=Te("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QZ=Te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XZ=Te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=Te("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=Te("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=Te("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=Te("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=Te("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=Te("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=Te("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JZ=Te("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=Te("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=Te("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=Te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=Te("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=Te("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=Te("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=Te("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=Te("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=Te("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=Te("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=Te("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=Te("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=Te("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=Te("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=Te("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=Te("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=Te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=Te("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=Te("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=Te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=Te("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=Te("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=Te("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=Te("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=Te("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=Te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=Te("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=Te("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=Te("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=Te("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=Te("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=Te("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=Te("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=Te("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=Te("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=Te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=Te("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=Te("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=Te("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=Te("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=Te("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Te("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=Te("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=Te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=Te("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=Te("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=Te("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=Te("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=Te("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=Te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=Te("Merge",[["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M12 2v10.3a4 4 0 0 1-1.172 2.872L4 22",key:"1hyw0i"}],["path",{d:"m20 22-5-5",key:"1m27yz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=Te("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=Te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=Te("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=Te("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=Te("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=Te("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=Te("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=Te("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=Te("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=Te("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=Te("PackageX",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=Te("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=Te("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=Te("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=Te("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=Te("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=Te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=Te("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=Te("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=Te("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=Te("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=Te("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=Te("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=Te("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=Te("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=Te("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=Te("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=Te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=Te("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=Te("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=Te("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=Te("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=Te("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=Te("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=Te("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=Te("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=Te("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=Te("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=Te("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=Te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=Te("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=Te("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=Te("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=Te("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=Te("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=Te("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=Te("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=Te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=Te("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=Te("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=Te("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=Te("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=Te("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=Te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=Te("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=Te("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=Te("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=Te("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=Te("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=Te("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=Te("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=Te("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=Te("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=Te("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),rP="-",$Y=t=>{const r=BY(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:o=>{const l=o.split(rP);return l[0]===""&&l.length!==1&&l.shift(),KF(l,r)||zY(o)},getConflictingClassGroupIds:(o,l)=>{const u=n[o]||[];return l&&s[o]?[...u,...s[o]]:u}}},KF=(t,r)=>{if(t.length===0)return r.classGroupId;const n=t[0],s=r.nextPart.get(n),a=s?KF(t.slice(1),s):void 0;if(a)return a;if(r.validators.length===0)return;const i=t.join(rP);return r.validators.find(({validator:o})=>o(i))?.classGroupId},nI=/^\[(.+)\]$/,zY=t=>{if(nI.test(t)){const r=nI.exec(t)[1],n=r?.substring(0,r.indexOf(":"));if(n)return"arbitrary.."+n}},BY=t=>{const{theme:r,prefix:n}=t,s={nextPart:new Map,validators:[]};return UY(Object.entries(t.classGroups),n).forEach(([i,o])=>{FC(o,s,i,r)}),s},FC=(t,r,n,s)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?r:sI(r,a);i.classGroupId=n;return}if(typeof a=="function"){if(qY(a)){FC(a(s),r,n,s);return}r.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{FC(o,sI(r,i),n,s)})})},sI=(t,r)=>{let n=t;return r.split(rP).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},qY=t=>t.isThemeGetter,UY=(t,r)=>r?t.map(([n,s])=>{const a=s.map(i=>typeof i=="string"?r+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[r+o,l])):i);return[n,a]}):t,VY=t=>{if(t<1)return{get:()=>{},set:()=>{}};let r=0,n=new Map,s=new Map;const a=(i,o)=>{n.set(i,o),r++,r>t&&(r=0,s=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},WF="!",KY=t=>{const{separator:r,experimentalParseClassName:n}=t,s=r.length===1,a=r[0],i=r.length,o=l=>{const u=[];let m=0,f=0,p;for(let w=0;w<l.length;w++){let k=l[w];if(m===0){if(k===a&&(s||l.slice(w,w+i)===r)){u.push(l.slice(f,w)),f=w+i;continue}if(k==="/"){p=w;continue}}k==="["?m++:k==="]"&&m--}const g=u.length===0?l:l.substring(f),b=g.startsWith(WF),y=b?g.substring(1):g,_=p&&p>f?p-f:void 0;return{modifiers:u,hasImportantModifier:b,baseClassName:y,maybePostfixModifierPosition:_}};return n?l=>n({className:l,parseClassName:o}):o},WY=t=>{if(t.length<=1)return t;const r=[];let n=[];return t.forEach(s=>{s[0]==="["?(r.push(...n.sort(),s),n=[]):n.push(s)}),r.push(...n.sort()),r},HY=t=>({cache:VY(t.cacheSize),parseClassName:KY(t),...$Y(t)}),GY=/\s+/,ZY=(t,r)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a}=r,i=[],o=t.trim().split(GY);let l="";for(let u=o.length-1;u>=0;u-=1){const m=o[u],{modifiers:f,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:b}=n(m);let y=!!b,_=s(y?g.substring(0,b):g);if(!_){if(!y){l=m+(l.length>0?" "+l:l);continue}if(_=s(g),!_){l=m+(l.length>0?" "+l:l);continue}y=!1}const w=WY(f).join(":"),k=p?w+WF:w,A=k+_;if(i.includes(A))continue;i.push(A);const P=a(_,y);for(let O=0;O<P.length;++O){const I=P[O];i.push(k+I)}l=m+(l.length>0?" "+l:l)}return l};function YY(){let t=0,r,n,s="";for(;t<arguments.length;)(r=arguments[t++])&&(n=HF(r))&&(s&&(s+=" "),s+=n);return s}const HF=t=>{if(typeof t=="string")return t;let r,n="";for(let s=0;s<t.length;s++)t[s]&&(r=HF(t[s]))&&(n&&(n+=" "),n+=r);return n};function QY(t,...r){let n,s,a,i=o;function o(u){const m=r.reduce((f,p)=>p(f),t());return n=HY(m),s=n.cache.get,a=n.cache.set,i=l,l(u)}function l(u){const m=s(u);if(m)return m;const f=ZY(u,n);return a(u,f),f}return function(){return i(YY.apply(null,arguments))}}const Gn=t=>{const r=n=>n[t]||[];return r.isThemeGetter=!0,r},GF=/^\[(?:([a-z-]+):)?(.+)\]$/i,XY=/^\d+\/\d+$/,JY=new Set(["px","full","screen"]),eQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ic=t=>Tm(t)||JY.has(t)||XY.test(t),bd=t=>Tf(t,"length",hQ),Tm=t=>!!t&&!Number.isNaN(Number(t)),q_=t=>Tf(t,"number",Tm),Fp=t=>!!t&&Number.isInteger(Number(t)),aQ=t=>t.endsWith("%")&&Tm(t.slice(0,-1)),Or=t=>GF.test(t),jd=t=>eQ.test(t),iQ=new Set(["length","size","percentage"]),oQ=t=>Tf(t,iQ,ZF),lQ=t=>Tf(t,"position",ZF),cQ=new Set(["image","url"]),dQ=t=>Tf(t,cQ,fQ),uQ=t=>Tf(t,"",mQ),$p=()=>!0,Tf=(t,r,n)=>{const s=GF.exec(t);return s?s[1]?typeof r=="string"?s[1]===r:r.has(s[1]):n(s[2]):!1},hQ=t=>tQ.test(t)&&!rQ.test(t),ZF=()=>!1,mQ=t=>nQ.test(t),fQ=t=>sQ.test(t),pQ=()=>{const t=Gn("colors"),r=Gn("spacing"),n=Gn("blur"),s=Gn("brightness"),a=Gn("borderColor"),i=Gn("borderRadius"),o=Gn("borderSpacing"),l=Gn("borderWidth"),u=Gn("contrast"),m=Gn("grayscale"),f=Gn("hueRotate"),p=Gn("invert"),g=Gn("gap"),b=Gn("gradientColorStops"),y=Gn("gradientColorStopPositions"),_=Gn("inset"),w=Gn("margin"),k=Gn("opacity"),A=Gn("padding"),P=Gn("saturate"),O=Gn("scale"),I=Gn("sepia"),D=Gn("skew"),F=Gn("space"),B=Gn("translate"),H=()=>["auto","contain","none"],re=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto",Or,r],J=()=>[Or,r],Z=()=>["",ic,bd],ne=()=>["auto",Tm,Or],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ae=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],se=()=>["","0",Or],de=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Tm,Or];return{cacheSize:500,separator:":",theme:{colors:[$p],spacing:[ic,bd],blur:["none","",jd,Or],brightness:z(),borderColor:[t],borderRadius:["none","","full",jd,Or],borderSpacing:J(),borderWidth:Z(),contrast:z(),grayscale:se(),hueRotate:z(),invert:se(),gap:J(),gradientColorStops:[t],gradientColorStopPositions:[aQ,bd],inset:G(),margin:G(),opacity:z(),padding:J(),saturate:z(),scale:z(),sepia:se(),skew:z(),space:J(),translate:J()},classGroups:{aspect:[{aspect:["auto","square","video",Or]}],container:["container"],columns:[{columns:[jd]}],"break-after":[{"break-after":de()}],"break-before":[{"break-before":de()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),Or]}],overflow:[{overflow:re()}],"overflow-x":[{"overflow-x":re()}],"overflow-y":[{"overflow-y":re()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fp,Or]}],basis:[{basis:G()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Or]}],grow:[{grow:se()}],shrink:[{shrink:se()}],order:[{order:["first","last","none",Fp,Or]}],"grid-cols":[{"grid-cols":[$p]}],"col-start-end":[{col:["auto",{span:["full",Fp,Or]},Or]}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":[$p]}],"row-start-end":[{row:["auto",{span:[Fp,Or]},Or]}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Or]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Or]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[F]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[F]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Or,r]}],"min-w":[{"min-w":[Or,r,"min","max","fit"]}],"max-w":[{"max-w":[Or,r,"none","full","min","max","fit","prose",{screen:[jd]},jd]}],h:[{h:[Or,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Or,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Or,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Or,r,"auto","min","max","fit"]}],"font-size":[{text:["base",jd,bd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",q_]}],"font-family":[{font:[$p]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Or]}],"line-clamp":[{"line-clamp":["none",Tm,q_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ic,Or]}],"list-image":[{"list-image":["none",Or]}],"list-style-type":[{list:["none","disc","decimal",Or]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ic,bd]}],"underline-offset":[{"underline-offset":["auto",ic,Or]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:J()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Or]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Or]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),lQ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",oQ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dQ]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...ae(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:ae()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...ae()]}],"outline-offset":[{"outline-offset":[ic,Or]}],"outline-w":[{outline:[ic,bd]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[ic,bd]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",jd,uQ]}],"shadow-color":[{shadow:[$p]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",jd,Or]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[P]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Or]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Or]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Or]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[Fp,Or]}],"translate-x":[{"translate-x":[B]}],"translate-y":[{"translate-y":[B]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Or]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Or]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":J()}],"scroll-mx":[{"scroll-mx":J()}],"scroll-my":[{"scroll-my":J()}],"scroll-ms":[{"scroll-ms":J()}],"scroll-me":[{"scroll-me":J()}],"scroll-mt":[{"scroll-mt":J()}],"scroll-mr":[{"scroll-mr":J()}],"scroll-mb":[{"scroll-mb":J()}],"scroll-ml":[{"scroll-ml":J()}],"scroll-p":[{"scroll-p":J()}],"scroll-px":[{"scroll-px":J()}],"scroll-py":[{"scroll-py":J()}],"scroll-ps":[{"scroll-ps":J()}],"scroll-pe":[{"scroll-pe":J()}],"scroll-pt":[{"scroll-pt":J()}],"scroll-pr":[{"scroll-pr":J()}],"scroll-pb":[{"scroll-pb":J()}],"scroll-pl":[{"scroll-pl":J()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Or]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ic,bd,q_]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xQ=QY(pQ);function He(...t){return xQ(jr(t))}const gQ=qZ,YF=j.forwardRef(({className:t,...r},n)=>e.jsx(wF,{ref:n,className:He("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...r}));YF.displayName=wF.displayName;const vQ=Pf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),QF=j.forwardRef(({className:t,variant:r,...n},s)=>e.jsx(_F,{ref:s,className:He(vQ({variant:r}),t),...n}));QF.displayName=_F.displayName;const yQ=j.forwardRef(({className:t,...r},n)=>e.jsx(CF,{ref:n,className:He("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...r}));yQ.displayName=CF.displayName;const XF=j.forwardRef(({className:t,...r},n)=>e.jsx(kF,{ref:n,className:He("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...r,children:e.jsx(Il,{className:"h-4 w-4"})}));XF.displayName=kF.displayName;const JF=j.forwardRef(({className:t,...r},n)=>e.jsx(NF,{ref:n,className:He("text-sm font-semibold",t),...r}));JF.displayName=NF.displayName;const e$=j.forwardRef(({className:t,...r},n)=>e.jsx(SF,{ref:n,className:He("text-sm opacity-90",t),...r}));e$.displayName=SF.displayName;const bQ=1,jQ=1e6;let U_=0;function wQ(){return U_=(U_+1)%Number.MAX_SAFE_INTEGER,U_.toString()}const V_=new Map,aI=t=>{if(V_.has(t))return;const r=setTimeout(()=>{V_.delete(t),ax({type:"REMOVE_TOAST",toastId:t})},jQ);V_.set(t,r)},_Q=(t,r)=>{switch(r.type){case"ADD_TOAST":return{...t,toasts:[r.toast,...t.toasts].slice(0,bQ)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===r.toast.id?{...n,...r.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=r;return n?aI(n):t.toasts.forEach(s=>{aI(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return r.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==r.toastId)}}},Ky=[];let Wy={toasts:[]};function ax(t){Wy=_Q(Wy,t),Ky.forEach(r=>{r(Wy)})}function NQ({...t}){const r=wQ(),n=a=>ax({type:"UPDATE_TOAST",toast:{...a,id:r}}),s=()=>ax({type:"DISMISS_TOAST",toastId:r});return ax({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:a=>{a||s()}}}),{id:r,dismiss:s,update:n}}function or(){const[t,r]=j.useState(Wy);return j.useEffect(()=>(Ky.push(r),()=>{const n=Ky.indexOf(r);n>-1&&Ky.splice(n,1)}),[t]),{...t,toast:NQ,dismiss:n=>ax({type:"DISMISS_TOAST",toastId:n})}}function SQ(){const{toasts:t}=or();return e.jsxs(gQ,{children:[t.map(function({id:r,title:n,description:s,action:a,...i}){return e.jsxs(QF,{...i,children:[e.jsxs("div",{className:"grid gap-1",children:[n&&e.jsx(JF,{children:n}),s&&e.jsx(e$,{children:s})]}),a,e.jsx(XF,{})]},r)}),e.jsx(YF,{})]})}var CQ=DA[" useId ".trim().toString()]||(()=>{}),kQ=0;function qo(t){const[r,n]=j.useState(CQ());return Es(()=>{n(s=>s??String(kQ++))},[t]),r?`radix-${r}`:""}const AQ=["top","right","bottom","left"],Ld=Math.min,Ri=Math.max,l0=Math.round,Ny=Math.floor,bl=t=>({x:t,y:t}),PQ={left:"right",right:"left",bottom:"top",top:"bottom"},TQ={start:"end",end:"start"};function $C(t,r,n){return Ri(t,Ld(r,n))}function Nc(t,r){return typeof t=="function"?t(r):t}function Sc(t){return t.split("-")[0]}function Ef(t){return t.split("-")[1]}function nP(t){return t==="x"?"y":"x"}function sP(t){return t==="y"?"height":"width"}function Fd(t){return["top","bottom"].includes(Sc(t))?"y":"x"}function aP(t){return nP(Fd(t))}function EQ(t,r,n){n===void 0&&(n=!1);const s=Ef(t),a=aP(t),i=sP(a);let o=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return r.reference[i]>r.floating[i]&&(o=c0(o)),[o,c0(o)]}function OQ(t){const r=c0(t);return[zC(t),r,zC(r)]}function zC(t){return t.replace(/start|end/g,r=>TQ[r])}function IQ(t,r,n){const s=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?r?a:s:r?s:a;case"left":case"right":return r?i:o;default:return[]}}function MQ(t,r,n,s){const a=Ef(t);let i=IQ(Sc(t),n==="start",s);return a&&(i=i.map(o=>o+"-"+a),r&&(i=i.concat(i.map(zC)))),i}function c0(t){return t.replace(/left|right|bottom|top/g,r=>PQ[r])}function DQ(t){return{top:0,right:0,bottom:0,left:0,...t}}function t$(t){return typeof t!="number"?DQ(t):{top:t,right:t,bottom:t,left:t}}function d0(t){const{x:r,y:n,width:s,height:a}=t;return{width:s,height:a,top:n,left:r,right:r+s,bottom:n+a,x:r,y:n}}function iI(t,r,n){let{reference:s,floating:a}=t;const i=Fd(r),o=aP(r),l=sP(o),u=Sc(r),m=i==="y",f=s.x+s.width/2-a.width/2,p=s.y+s.height/2-a.height/2,g=s[l]/2-a[l]/2;let b;switch(u){case"top":b={x:f,y:s.y-a.height};break;case"bottom":b={x:f,y:s.y+s.height};break;case"right":b={x:s.x+s.width,y:p};break;case"left":b={x:s.x-a.width,y:p};break;default:b={x:s.x,y:s.y}}switch(Ef(r)){case"start":b[o]-=g*(n&&m?-1:1);break;case"end":b[o]+=g*(n&&m?-1:1);break}return b}const RQ=async(t,r,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(r));let m=await o.getElementRects({reference:t,floating:r,strategy:a}),{x:f,y:p}=iI(m,s,u),g=s,b={},y=0;for(let _=0;_<l.length;_++){const{name:w,fn:k}=l[_],{x:A,y:P,data:O,reset:I}=await k({x:f,y:p,initialPlacement:s,placement:g,strategy:a,middlewareData:b,rects:m,platform:o,elements:{reference:t,floating:r}});f=A??f,p=P??p,b={...b,[w]:{...b[w],...O}},I&&y<=50&&(y++,typeof I=="object"&&(I.placement&&(g=I.placement),I.rects&&(m=I.rects===!0?await o.getElementRects({reference:t,floating:r,strategy:a}):I.rects),{x:f,y:p}=iI(m,g,u)),_=-1)}return{x:f,y:p,placement:g,strategy:a,middlewareData:b}};async function wx(t,r){var n;r===void 0&&(r={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:u}=t,{boundary:m="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:b=0}=Nc(r,t),y=t$(b),w=l[g?p==="floating"?"reference":"floating":p],k=d0(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:m,rootBoundary:f,strategy:u})),A=p==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),O=await(i.isElement==null?void 0:i.isElement(P))?await(i.getScale==null?void 0:i.getScale(P))||{x:1,y:1}:{x:1,y:1},I=d0(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:A,offsetParent:P,strategy:u}):A);return{top:(k.top-I.top+y.top)/O.y,bottom:(I.bottom-k.bottom+y.bottom)/O.y,left:(k.left-I.left+y.left)/O.x,right:(I.right-k.right+y.right)/O.x}}const LQ=t=>({name:"arrow",options:t,async fn(r){const{x:n,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:u}=r,{element:m,padding:f=0}=Nc(t,r)||{};if(m==null)return{};const p=t$(f),g={x:n,y:s},b=aP(a),y=sP(b),_=await o.getDimensions(m),w=b==="y",k=w?"top":"left",A=w?"bottom":"right",P=w?"clientHeight":"clientWidth",O=i.reference[y]+i.reference[b]-g[b]-i.floating[y],I=g[b]-i.reference[b],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(m));let F=D?D[P]:0;(!F||!await(o.isElement==null?void 0:o.isElement(D)))&&(F=l.floating[P]||i.floating[y]);const B=O/2-I/2,H=F/2-_[y]/2-1,re=Ld(p[k],H),G=Ld(p[A],H),J=re,Z=F-_[y]-G,ne=F/2-_[y]/2+B,K=$C(J,ne,Z),ae=!u.arrow&&Ef(a)!=null&&ne!==K&&i.reference[y]/2-(ne<J?re:G)-_[y]/2<0,U=ae?ne<J?ne-J:ne-Z:0;return{[b]:g[b]+U,data:{[b]:K,centerOffset:ne-K-U,...ae&&{alignmentOffset:U}},reset:ae}}}),FQ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(r){var n,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:u,elements:m}=r,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:_=!0,...w}=Nc(t,r);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const k=Sc(a),A=Fd(l),P=Sc(l)===l,O=await(u.isRTL==null?void 0:u.isRTL(m.floating)),I=g||(P||!_?[c0(l)]:OQ(l)),D=y!=="none";!g&&D&&I.push(...MQ(l,_,y,O));const F=[l,...I],B=await wx(r,w),H=[];let re=((s=i.flip)==null?void 0:s.overflows)||[];if(f&&H.push(B[k]),p){const ne=EQ(a,o,O);H.push(B[ne[0]],B[ne[1]])}if(re=[...re,{placement:a,overflows:H}],!H.every(ne=>ne<=0)){var G,J;const ne=(((G=i.flip)==null?void 0:G.index)||0)+1,K=F[ne];if(K)return{data:{index:ne,overflows:re},reset:{placement:K}};let ae=(J=re.filter(U=>U.overflows[0]<=0).sort((U,W)=>U.overflows[1]-W.overflows[1])[0])==null?void 0:J.placement;if(!ae)switch(b){case"bestFit":{var Z;const U=(Z=re.filter(W=>{if(D){const se=Fd(W.placement);return se===A||se==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(se=>se>0).reduce((se,de)=>se+de,0)]).sort((W,se)=>W[1]-se[1])[0])==null?void 0:Z[0];U&&(ae=U);break}case"initialPlacement":ae=l;break}if(a!==ae)return{reset:{placement:ae}}}return{}}}};function oI(t,r){return{top:t.top-r.height,right:t.right-r.width,bottom:t.bottom-r.height,left:t.left-r.width}}function lI(t){return AQ.some(r=>t[r]>=0)}const $Q=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(r){const{rects:n}=r,{strategy:s="referenceHidden",...a}=Nc(t,r);switch(s){case"referenceHidden":{const i=await wx(r,{...a,elementContext:"reference"}),o=oI(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:lI(o)}}}case"escaped":{const i=await wx(r,{...a,altBoundary:!0}),o=oI(i,n.floating);return{data:{escapedOffsets:o,escaped:lI(o)}}}default:return{}}}}};async function zQ(t,r){const{placement:n,platform:s,elements:a}=t,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Sc(n),l=Ef(n),u=Fd(n)==="y",m=["left","top"].includes(o)?-1:1,f=i&&u?-1:1,p=Nc(r,t);let{mainAxis:g,crossAxis:b,alignmentAxis:y}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof y=="number"&&(b=l==="end"?y*-1:y),u?{x:b*f,y:g*m}:{x:g*m,y:b*f}}const BQ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(r){var n,s;const{x:a,y:i,placement:o,middlewareData:l}=r,u=await zQ(r,t);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+u.x,y:i+u.y,data:{...u,placement:o}}}}},qQ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(r){const{x:n,y:s,placement:a}=r,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:k,y:A}=w;return{x:k,y:A}}},...u}=Nc(t,r),m={x:n,y:s},f=await wx(r,u),p=Fd(Sc(a)),g=nP(p);let b=m[g],y=m[p];if(i){const w=g==="y"?"top":"left",k=g==="y"?"bottom":"right",A=b+f[w],P=b-f[k];b=$C(A,b,P)}if(o){const w=p==="y"?"top":"left",k=p==="y"?"bottom":"right",A=y+f[w],P=y-f[k];y=$C(A,y,P)}const _=l.fn({...r,[g]:b,[p]:y});return{..._,data:{x:_.x-n,y:_.y-s,enabled:{[g]:i,[p]:o}}}}}},UQ=function(t){return t===void 0&&(t={}),{options:t,fn(r){const{x:n,y:s,placement:a,rects:i,middlewareData:o}=r,{offset:l=0,mainAxis:u=!0,crossAxis:m=!0}=Nc(t,r),f={x:n,y:s},p=Fd(a),g=nP(p);let b=f[g],y=f[p];const _=Nc(l,r),w=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(u){const P=g==="y"?"height":"width",O=i.reference[g]-i.floating[P]+w.mainAxis,I=i.reference[g]+i.reference[P]-w.mainAxis;b<O?b=O:b>I&&(b=I)}if(m){var k,A;const P=g==="y"?"width":"height",O=["top","left"].includes(Sc(a)),I=i.reference[p]-i.floating[P]+(O&&((k=o.offset)==null?void 0:k[p])||0)+(O?0:w.crossAxis),D=i.reference[p]+i.reference[P]+(O?0:((A=o.offset)==null?void 0:A[p])||0)-(O?w.crossAxis:0);y<I?y=I:y>D&&(y=D)}return{[g]:b,[p]:y}}}},VQ=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(r){var n,s;const{placement:a,rects:i,platform:o,elements:l}=r,{apply:u=()=>{},...m}=Nc(t,r),f=await wx(r,m),p=Sc(a),g=Ef(a),b=Fd(a)==="y",{width:y,height:_}=i.floating;let w,k;p==="top"||p==="bottom"?(w=p,k=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(k=p,w=g==="end"?"top":"bottom");const A=_-f.top-f.bottom,P=y-f.left-f.right,O=Ld(_-f[w],A),I=Ld(y-f[k],P),D=!r.middlewareData.shift;let F=O,B=I;if((n=r.middlewareData.shift)!=null&&n.enabled.x&&(B=P),(s=r.middlewareData.shift)!=null&&s.enabled.y&&(F=A),D&&!g){const re=Ri(f.left,0),G=Ri(f.right,0),J=Ri(f.top,0),Z=Ri(f.bottom,0);b?B=y-2*(re!==0||G!==0?re+G:Ri(f.left,f.right)):F=_-2*(J!==0||Z!==0?J+Z:Ri(f.top,f.bottom))}await u({...r,availableWidth:B,availableHeight:F});const H=await o.getDimensions(l.floating);return y!==H.width||_!==H.height?{reset:{rects:!0}}:{}}}};function Bb(){return typeof window<"u"}function Of(t){return r$(t)?(t.nodeName||"").toLowerCase():"#document"}function Bi(t){var r;return(t==null||(r=t.ownerDocument)==null?void 0:r.defaultView)||window}function Ml(t){var r;return(r=(r$(t)?t.ownerDocument:t.document)||window.document)==null?void 0:r.documentElement}function r$(t){return Bb()?t instanceof Node||t instanceof Bi(t).Node:!1}function Wo(t){return Bb()?t instanceof Element||t instanceof Bi(t).Element:!1}function Al(t){return Bb()?t instanceof HTMLElement||t instanceof Bi(t).HTMLElement:!1}function cI(t){return!Bb()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Bi(t).ShadowRoot}function _g(t){const{overflow:r,overflowX:n,overflowY:s,display:a}=Ho(t);return/auto|scroll|overlay|hidden|clip/.test(r+s+n)&&!["inline","contents"].includes(a)}function KQ(t){return["table","td","th"].includes(Of(t))}function qb(t){return[":popover-open",":modal"].some(r=>{try{return t.matches(r)}catch{return!1}})}function iP(t){const r=oP(),n=Wo(t)?Ho(t):t;return["transform","translate","scale","rotate","perspective"].some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!r&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!r&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function WQ(t){let r=$d(t);for(;Al(r)&&!Bm(r);){if(iP(r))return r;if(qb(r))return null;r=$d(r)}return null}function oP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bm(t){return["html","body","#document"].includes(Of(t))}function Ho(t){return Bi(t).getComputedStyle(t)}function Ub(t){return Wo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function $d(t){if(Of(t)==="html")return t;const r=t.assignedSlot||t.parentNode||cI(t)&&t.host||Ml(t);return cI(r)?r.host:r}function n$(t){const r=$d(t);return Bm(r)?t.ownerDocument?t.ownerDocument.body:t.body:Al(r)&&_g(r)?r:n$(r)}function _x(t,r,n){var s;r===void 0&&(r=[]),n===void 0&&(n=!0);const a=n$(t),i=a===((s=t.ownerDocument)==null?void 0:s.body),o=Bi(a);if(i){const l=BC(o);return r.concat(o,o.visualViewport||[],_g(a)?a:[],l&&n?_x(l):[])}return r.concat(a,_x(a,[],n))}function BC(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function s$(t){const r=Ho(t);let n=parseFloat(r.width)||0,s=parseFloat(r.height)||0;const a=Al(t),i=a?t.offsetWidth:n,o=a?t.offsetHeight:s,l=l0(n)!==i||l0(s)!==o;return l&&(n=i,s=o),{width:n,height:s,$:l}}function lP(t){return Wo(t)?t:t.contextElement}function Em(t){const r=lP(t);if(!Al(r))return bl(1);const n=r.getBoundingClientRect(),{width:s,height:a,$:i}=s$(r);let o=(i?l0(n.width):n.width)/s,l=(i?l0(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const HQ=bl(0);function a$(t){const r=Bi(t);return!oP()||!r.visualViewport?HQ:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function GQ(t,r,n){return r===void 0&&(r=!1),!n||r&&n!==Bi(t)?!1:r}function Xu(t,r,n,s){r===void 0&&(r=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),i=lP(t);let o=bl(1);r&&(s?Wo(s)&&(o=Em(s)):o=Em(t));const l=GQ(i,n,s)?a$(i):bl(0);let u=(a.left+l.x)/o.x,m=(a.top+l.y)/o.y,f=a.width/o.x,p=a.height/o.y;if(i){const g=Bi(i),b=s&&Wo(s)?Bi(s):s;let y=g,_=BC(y);for(;_&&s&&b!==y;){const w=Em(_),k=_.getBoundingClientRect(),A=Ho(_),P=k.left+(_.clientLeft+parseFloat(A.paddingLeft))*w.x,O=k.top+(_.clientTop+parseFloat(A.paddingTop))*w.y;u*=w.x,m*=w.y,f*=w.x,p*=w.y,u+=P,m+=O,y=Bi(_),_=BC(y)}}return d0({width:f,height:p,x:u,y:m})}function cP(t,r){const n=Ub(t).scrollLeft;return r?r.left+n:Xu(Ml(t)).left+n}function i$(t,r,n){n===void 0&&(n=!1);const s=t.getBoundingClientRect(),a=s.left+r.scrollLeft-(n?0:cP(t,s)),i=s.top+r.scrollTop;return{x:a,y:i}}function ZQ(t){let{elements:r,rect:n,offsetParent:s,strategy:a}=t;const i=a==="fixed",o=Ml(s),l=r?qb(r.floating):!1;if(s===o||l&&i)return n;let u={scrollLeft:0,scrollTop:0},m=bl(1);const f=bl(0),p=Al(s);if((p||!p&&!i)&&((Of(s)!=="body"||_g(o))&&(u=Ub(s)),Al(s))){const b=Xu(s);m=Em(s),f.x=b.x+s.clientLeft,f.y=b.y+s.clientTop}const g=o&&!p&&!i?i$(o,u,!0):bl(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-u.scrollLeft*m.x+f.x+g.x,y:n.y*m.y-u.scrollTop*m.y+f.y+g.y}}function YQ(t){return Array.from(t.getClientRects())}function QQ(t){const r=Ml(t),n=Ub(t),s=t.ownerDocument.body,a=Ri(r.scrollWidth,r.clientWidth,s.scrollWidth,s.clientWidth),i=Ri(r.scrollHeight,r.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+cP(t);const l=-n.scrollTop;return Ho(s).direction==="rtl"&&(o+=Ri(r.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function XQ(t,r){const n=Bi(t),s=Ml(t),a=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,u=0;if(a){i=a.width,o=a.height;const m=oP();(!m||m&&r==="fixed")&&(l=a.offsetLeft,u=a.offsetTop)}return{width:i,height:o,x:l,y:u}}function JQ(t,r){const n=Xu(t,!0,r==="fixed"),s=n.top+t.clientTop,a=n.left+t.clientLeft,i=Al(t)?Em(t):bl(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,u=a*i.x,m=s*i.y;return{width:o,height:l,x:u,y:m}}function dI(t,r,n){let s;if(r==="viewport")s=XQ(t,n);else if(r==="document")s=QQ(Ml(t));else if(Wo(r))s=JQ(r,n);else{const a=a$(t);s={x:r.x-a.x,y:r.y-a.y,width:r.width,height:r.height}}return d0(s)}function o$(t,r){const n=$d(t);return n===r||!Wo(n)||Bm(n)?!1:Ho(n).position==="fixed"||o$(n,r)}function eX(t,r){const n=r.get(t);if(n)return n;let s=_x(t,[],!1).filter(l=>Wo(l)&&Of(l)!=="body"),a=null;const i=Ho(t).position==="fixed";let o=i?$d(t):t;for(;Wo(o)&&!Bm(o);){const l=Ho(o),u=iP(o);!u&&l.position==="fixed"&&(a=null),(i?!u&&!a:!u&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||_g(o)&&!u&&o$(t,o))?s=s.filter(f=>f!==o):a=l,o=$d(o)}return r.set(t,s),s}function tX(t){let{element:r,boundary:n,rootBoundary:s,strategy:a}=t;const o=[...n==="clippingAncestors"?qb(r)?[]:eX(r,this._c):[].concat(n),s],l=o[0],u=o.reduce((m,f)=>{const p=dI(r,f,a);return m.top=Ri(p.top,m.top),m.right=Ld(p.right,m.right),m.bottom=Ld(p.bottom,m.bottom),m.left=Ri(p.left,m.left),m},dI(r,l,a));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function rX(t){const{width:r,height:n}=s$(t);return{width:r,height:n}}function nX(t,r,n){const s=Al(r),a=Ml(r),i=n==="fixed",o=Xu(t,!0,i,r);let l={scrollLeft:0,scrollTop:0};const u=bl(0);if(s||!s&&!i)if((Of(r)!=="body"||_g(a))&&(l=Ub(r)),s){const g=Xu(r,!0,i,r);u.x=g.x+r.clientLeft,u.y=g.y+r.clientTop}else a&&(u.x=cP(a));const m=a&&!s&&!i?i$(a,l):bl(0),f=o.left+l.scrollLeft-u.x-m.x,p=o.top+l.scrollTop-u.y-m.y;return{x:f,y:p,width:o.width,height:o.height}}function K_(t){return Ho(t).position==="static"}function uI(t,r){if(!Al(t)||Ho(t).position==="fixed")return null;if(r)return r(t);let n=t.offsetParent;return Ml(t)===n&&(n=n.ownerDocument.body),n}function l$(t,r){const n=Bi(t);if(qb(t))return n;if(!Al(t)){let a=$d(t);for(;a&&!Bm(a);){if(Wo(a)&&!K_(a))return a;a=$d(a)}return n}let s=uI(t,r);for(;s&&KQ(s)&&K_(s);)s=uI(s,r);return s&&Bm(s)&&K_(s)&&!iP(s)?n:s||WQ(t)||n}const sX=async function(t){const r=this.getOffsetParent||l$,n=this.getDimensions,s=await n(t.floating);return{reference:nX(t.reference,await r(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function aX(t){return Ho(t).direction==="rtl"}const iX={convertOffsetParentRelativeRectToViewportRelativeRect:ZQ,getDocumentElement:Ml,getClippingRect:tX,getOffsetParent:l$,getElementRects:sX,getClientRects:YQ,getDimensions:rX,getScale:Em,isElement:Wo,isRTL:aX};function c$(t,r){return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height}function oX(t,r){let n=null,s;const a=Ml(t);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),i();const m=t.getBoundingClientRect(),{left:f,top:p,width:g,height:b}=m;if(l||r(),!g||!b)return;const y=Ny(p),_=Ny(a.clientWidth-(f+g)),w=Ny(a.clientHeight-(p+b)),k=Ny(f),P={rootMargin:-y+"px "+-_+"px "+-w+"px "+-k+"px",threshold:Ri(0,Ld(1,u))||1};let O=!0;function I(D){const F=D[0].intersectionRatio;if(F!==u){if(!O)return o();F?o(!1,F):s=setTimeout(()=>{o(!1,1e-7)},1e3)}F===1&&!c$(m,t.getBoundingClientRect())&&o(),O=!1}try{n=new IntersectionObserver(I,{...P,root:a.ownerDocument})}catch{n=new IntersectionObserver(I,P)}n.observe(t)}return o(!0),i}function lX(t,r,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=s,m=lP(t),f=a||i?[...m?_x(m):[],..._x(r)]:[];f.forEach(k=>{a&&k.addEventListener("scroll",n,{passive:!0}),i&&k.addEventListener("resize",n)});const p=m&&l?oX(m,n):null;let g=-1,b=null;o&&(b=new ResizeObserver(k=>{let[A]=k;A&&A.target===m&&b&&(b.unobserve(r),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var P;(P=b)==null||P.observe(r)})),n()}),m&&!u&&b.observe(m),b.observe(r));let y,_=u?Xu(t):null;u&&w();function w(){const k=Xu(t);_&&!c$(_,k)&&n(),_=k,y=requestAnimationFrame(w)}return n(),()=>{var k;f.forEach(A=>{a&&A.removeEventListener("scroll",n),i&&A.removeEventListener("resize",n)}),p?.(),(k=b)==null||k.disconnect(),b=null,u&&cancelAnimationFrame(y)}}const cX=BQ,dX=qQ,uX=FQ,hX=VQ,mX=$Q,hI=LQ,fX=UQ,pX=(t,r,n)=>{const s=new Map,a={platform:iX,...n},i={...a.platform,_c:s};return RQ(t,r,{...a,platform:i})};var Hy=typeof document<"u"?j.useLayoutEffect:j.useEffect;function u0(t,r){if(t===r)return!0;if(typeof t!=typeof r)return!1;if(typeof t=="function"&&t.toString()===r.toString())return!0;let n,s,a;if(t&&r&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==r.length)return!1;for(s=n;s--!==0;)if(!u0(t[s],r[s]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){const i=a[s];if(!(i==="_owner"&&t.$$typeof)&&!u0(t[i],r[i]))return!1}return!0}return t!==t&&r!==r}function d$(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function mI(t,r){const n=d$(t);return Math.round(r*n)/n}function W_(t){const r=j.useRef(t);return Hy(()=>{r.current=t}),r}function xX(t){t===void 0&&(t={});const{placement:r="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:u,open:m}=t,[f,p]=j.useState({x:0,y:0,strategy:n,placement:r,middlewareData:{},isPositioned:!1}),[g,b]=j.useState(s);u0(g,s)||b(s);const[y,_]=j.useState(null),[w,k]=j.useState(null),A=j.useCallback(W=>{W!==D.current&&(D.current=W,_(W))},[]),P=j.useCallback(W=>{W!==F.current&&(F.current=W,k(W))},[]),O=i||y,I=o||w,D=j.useRef(null),F=j.useRef(null),B=j.useRef(f),H=u!=null,re=W_(u),G=W_(a),J=W_(m),Z=j.useCallback(()=>{if(!D.current||!F.current)return;const W={placement:r,strategy:n,middleware:g};G.current&&(W.platform=G.current),pX(D.current,F.current,W).then(se=>{const de={...se,isPositioned:J.current!==!1};ne.current&&!u0(B.current,de)&&(B.current=de,ph.flushSync(()=>{p(de)}))})},[g,r,n,G,J]);Hy(()=>{m===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,p(W=>({...W,isPositioned:!1})))},[m]);const ne=j.useRef(!1);Hy(()=>(ne.current=!0,()=>{ne.current=!1}),[]),Hy(()=>{if(O&&(D.current=O),I&&(F.current=I),O&&I){if(re.current)return re.current(O,I,Z);Z()}},[O,I,Z,re,H]);const K=j.useMemo(()=>({reference:D,floating:F,setReference:A,setFloating:P}),[A,P]),ae=j.useMemo(()=>({reference:O,floating:I}),[O,I]),U=j.useMemo(()=>{const W={position:n,left:0,top:0};if(!ae.floating)return W;const se=mI(ae.floating,f.x),de=mI(ae.floating,f.y);return l?{...W,transform:"translate("+se+"px, "+de+"px)",...d$(ae.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:se,top:de}},[n,l,ae.floating,f.x,f.y]);return j.useMemo(()=>({...f,update:Z,refs:K,elements:ae,floatingStyles:U}),[f,Z,K,ae,U])}const gX=t=>{function r(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:a}=typeof t=="function"?t(n):t;return s&&r(s)?s.current!=null?hI({element:s.current,padding:a}).fn(n):{}:s?hI({element:s,padding:a}).fn(n):{}}}},vX=(t,r)=>({...cX(t),options:[t,r]}),yX=(t,r)=>({...dX(t),options:[t,r]}),bX=(t,r)=>({...fX(t),options:[t,r]}),jX=(t,r)=>({...uX(t),options:[t,r]}),wX=(t,r)=>({...hX(t),options:[t,r]}),_X=(t,r)=>({...mX(t),options:[t,r]}),NX=(t,r)=>({...gX(t),options:[t,r]});var SX="Arrow",u$=j.forwardRef((t,r)=>{const{children:n,width:s=10,height:a=5,...i}=t;return e.jsx(Vt.svg,{...i,ref:r,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});u$.displayName=SX;var CX=u$;function dP(t){const[r,n]=j.useState(void 0);return Es(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const u=i.borderBoxSize,m=Array.isArray(u)?u[0]:u;o=m.inlineSize,l=m.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),r}var uP="Popper",[h$,Kd]=ga(uP),[kX,m$]=h$(uP),f$=t=>{const{__scopePopper:r,children:n}=t,[s,a]=j.useState(null);return e.jsx(kX,{scope:r,anchor:s,onAnchorChange:a,children:n})};f$.displayName=uP;var p$="PopperAnchor",x$=j.forwardRef((t,r)=>{const{__scopePopper:n,virtualRef:s,...a}=t,i=m$(p$,n),o=j.useRef(null),l=_r(r,o),u=j.useRef(null);return j.useEffect(()=>{const m=u.current;u.current=s?.current||o.current,m!==u.current&&i.onAnchorChange(u.current)}),s?null:e.jsx(Vt.div,{...a,ref:l})});x$.displayName=p$;var hP="PopperContent",[AX,PX]=h$(hP),g$=j.forwardRef((t,r)=>{const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:m=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:b="optimized",onPlaced:y,..._}=t,w=m$(hP,n),[k,A]=j.useState(null),P=_r(r,je=>A(je)),[O,I]=j.useState(null),D=dP(O),F=D?.width??0,B=D?.height??0,H=s+(i!=="center"?"-"+i:""),re=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},G=Array.isArray(m)?m:[m],J=G.length>0,Z={padding:re,boundary:G.filter(EX),altBoundary:J},{refs:ne,floatingStyles:K,placement:ae,isPositioned:U,middlewareData:W}=xX({strategy:"fixed",placement:H,whileElementsMounted:(...je)=>lX(...je,{animationFrame:b==="always"}),elements:{reference:w.anchor},middleware:[vX({mainAxis:a+B,alignmentAxis:o}),u&&yX({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?bX():void 0,...Z}),u&&jX({...Z}),wX({...Z,apply:({elements:je,rects:Xe,availableWidth:qe,availableHeight:tt})=>{const{width:St,height:Oe}=Xe.reference,qt=je.floating.style;qt.setProperty("--radix-popper-available-width",`${qe}px`),qt.setProperty("--radix-popper-available-height",`${tt}px`),qt.setProperty("--radix-popper-anchor-width",`${St}px`),qt.setProperty("--radix-popper-anchor-height",`${Oe}px`)}}),O&&NX({element:O,padding:l}),OX({arrowWidth:F,arrowHeight:B}),g&&_X({strategy:"referenceHidden",...Z})]}),[se,de]=b$(ae),z=gs(y);Es(()=>{U&&z?.()},[U,z]);const oe=W.arrow?.x,Ce=W.arrow?.y,ke=W.arrow?.centerOffset!==0,[_e,Le]=j.useState();return Es(()=>{k&&Le(window.getComputedStyle(k).zIndex)},[k]),e.jsx("div",{ref:ne.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:U?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_e,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(AX,{scope:n,placedSide:se,onArrowChange:I,arrowX:oe,arrowY:Ce,shouldHideArrow:ke,children:e.jsx(Vt.div,{"data-side":se,"data-align":de,..._,ref:P,style:{..._.style,animation:U?void 0:"none"}})})})});g$.displayName=hP;var v$="PopperArrow",TX={top:"bottom",right:"left",bottom:"top",left:"right"},y$=j.forwardRef(function(r,n){const{__scopePopper:s,...a}=r,i=PX(v$,s),o=TX[i.placedSide];return e.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:e.jsx(CX,{...a,ref:n,style:{...a.style,display:"block"}})})});y$.displayName=v$;function EX(t){return t!==null}var OX=t=>({name:"transformOrigin",options:t,fn(r){const{placement:n,rects:s,middlewareData:a}=r,o=a.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[m,f]=b$(n),p={start:"0%",center:"50%",end:"100%"}[f],g=(a.arrow?.x??0)+l/2,b=(a.arrow?.y??0)+u/2;let y="",_="";return m==="bottom"?(y=o?p:`${g}px`,_=`${-u}px`):m==="top"?(y=o?p:`${g}px`,_=`${s.floating.height+u}px`):m==="right"?(y=`${-u}px`,_=o?p:`${b}px`):m==="left"&&(y=`${s.floating.width+u}px`,_=o?p:`${b}px`),{data:{x:y,y:_}}}});function b$(t){const[r,n="center"]=t.split("-");return[r,n]}var mP=f$,Ng=x$,Vb=g$,Kb=y$,[Wb]=ga("Tooltip",[Kd]),fP=Kd(),j$="TooltipProvider",IX=700,fI="tooltip.open",[MX,w$]=Wb(j$),_$=t=>{const{__scopeTooltip:r,delayDuration:n=IX,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=t,o=j.useRef(!0),l=j.useRef(!1),u=j.useRef(0);return j.useEffect(()=>{const m=u.current;return()=>window.clearTimeout(m)},[]),e.jsx(MX,{scope:r,isOpenDelayedRef:o,delayDuration:n,onOpen:j.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:j.useCallback(m=>{l.current=m},[]),disableHoverableContent:a,children:i})};_$.displayName=j$;var N$="Tooltip",[oOe,Hb]=Wb(N$),qC="TooltipTrigger",DX=j.forwardRef((t,r)=>{const{__scopeTooltip:n,...s}=t,a=Hb(qC,n),i=w$(qC,n),o=fP(n),l=j.useRef(null),u=_r(r,l,a.onTriggerChange),m=j.useRef(!1),f=j.useRef(!1),p=j.useCallback(()=>m.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),e.jsx(Ng,{asChild:!0,...o,children:e.jsx(Vt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:u,onPointerMove:wt(t.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),f.current=!0)}),onPointerLeave:wt(t.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:wt(t.onPointerDown,()=>{a.open&&a.onClose(),m.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:wt(t.onFocus,()=>{m.current||a.onOpen()}),onBlur:wt(t.onBlur,a.onClose),onClick:wt(t.onClick,a.onClose)})})});DX.displayName=qC;var RX="TooltipPortal",[lOe,LX]=Wb(RX,{forceMount:void 0}),qm="TooltipContent",S$=j.forwardRef((t,r)=>{const n=LX(qm,t.__scopeTooltip),{forceMount:s=n.forceMount,side:a="top",...i}=t,o=Hb(qm,t.__scopeTooltip);return e.jsx(la,{present:s||o.open,children:o.disableHoverableContent?e.jsx(C$,{side:a,...i,ref:r}):e.jsx(FX,{side:a,...i,ref:r})})}),FX=j.forwardRef((t,r)=>{const n=Hb(qm,t.__scopeTooltip),s=w$(qm,t.__scopeTooltip),a=j.useRef(null),i=_r(r,a),[o,l]=j.useState(null),{trigger:u,onClose:m}=n,f=a.current,{onPointerInTransitChange:p}=s,g=j.useCallback(()=>{l(null),p(!1)},[p]),b=j.useCallback((y,_)=>{const w=y.currentTarget,k={x:y.clientX,y:y.clientY},A=UX(k,w.getBoundingClientRect()),P=VX(k,A),O=KX(_.getBoundingClientRect()),I=HX([...P,...O]);l(I),p(!0)},[p]);return j.useEffect(()=>()=>g(),[g]),j.useEffect(()=>{if(u&&f){const y=w=>b(w,f),_=w=>b(w,u);return u.addEventListener("pointerleave",y),f.addEventListener("pointerleave",_),()=>{u.removeEventListener("pointerleave",y),f.removeEventListener("pointerleave",_)}}},[u,f,b,g]),j.useEffect(()=>{if(o){const y=_=>{const w=_.target,k={x:_.clientX,y:_.clientY},A=u?.contains(w)||f?.contains(w),P=!WX(k,o);A?g():P&&(g(),m())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[u,f,o,m,g]),e.jsx(C$,{...t,ref:i})}),[$X,zX]=Wb(N$,{isInside:!1}),BX=sF("TooltipContent"),C$=j.forwardRef((t,r)=>{const{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,u=Hb(qm,n),m=fP(n),{onClose:f}=u;return j.useEffect(()=>(document.addEventListener(fI,f),()=>document.removeEventListener(fI,f)),[f]),j.useEffect(()=>{if(u.trigger){const p=g=>{g.target?.contains(u.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,f]),e.jsx(xh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:e.jsxs(Vb,{"data-state":u.stateAttribute,...m,...l,ref:r,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(BX,{children:s}),e.jsx($X,{scope:n,isInside:!0,children:e.jsx(NZ,{id:u.contentId,role:"tooltip",children:a||s})})]})})});S$.displayName=qm;var k$="TooltipArrow",qX=j.forwardRef((t,r)=>{const{__scopeTooltip:n,...s}=t,a=fP(n);return zX(k$,n).isInside?null:e.jsx(Kb,{...a,...s,ref:r})});qX.displayName=k$;function UX(t,r){const n=Math.abs(r.top-t.y),s=Math.abs(r.bottom-t.y),a=Math.abs(r.right-t.x),i=Math.abs(r.left-t.x);switch(Math.min(n,s,a,i)){case i:return"left";case a:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function VX(t,r,n=5){const s=[];switch(r){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function KX(t){const{top:r,right:n,bottom:s,left:a}=t;return[{x:a,y:r},{x:n,y:r},{x:n,y:s},{x:a,y:s}]}function WX(t,r){const{x:n,y:s}=t;let a=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const l=r[i],u=r[o],m=l.x,f=l.y,p=u.x,g=u.y;f>s!=g>s&&n<(p-m)*(s-f)/(g-f)+m&&(a=!a)}return a}function HX(t){const r=t.slice();return r.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),GX(r)}function GX(t){if(t.length<=1)return t.slice();const r=[];for(let s=0;s<t.length;s++){const a=t[s];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}r.pop();const n=[];for(let s=t.length-1;s>=0;s--){const a=t[s];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),r.length===1&&n.length===1&&r[0].x===n[0].x&&r[0].y===n[0].y?r:r.concat(n)}var ZX=_$,A$=S$;const YX=ZX,QX=j.forwardRef(({className:t,sideOffset:r=4,...n},s)=>e.jsx(A$,{ref:s,sideOffset:r,className:He("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));QX.displayName=A$.displayName;const Nx=Pf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),V=j.forwardRef(({className:t,variant:r,size:n,asChild:s=!1,...a},i)=>{const o=s?rF:"button";return e.jsx(o,{className:He(Nx({variant:r,size:n,className:t})),ref:i,...a})});V.displayName="Button";const Y=j.forwardRef(({className:t,...r},n)=>e.jsx("div",{ref:n,className:He("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r}));Y.displayName="Card";const ue=j.forwardRef(({className:t,...r},n)=>e.jsx("div",{ref:n,className:He("flex flex-col space-y-1.5 p-6",t),...r}));ue.displayName="CardHeader";const fe=j.forwardRef(({className:t,...r},n)=>e.jsx("div",{ref:n,className:He("text-2xl font-semibold leading-none tracking-tight",t),...r}));fe.displayName="CardTitle";const lt=j.forwardRef(({className:t,...r},n)=>e.jsx("div",{ref:n,className:He("text-sm text-muted-foreground",t),...r}));lt.displayName="CardDescription";const ee=j.forwardRef(({className:t,...r},n)=>e.jsx("div",{ref:n,className:He("p-6 pt-0",t),...r}));ee.displayName="CardContent";const P$=j.forwardRef(({className:t,...r},n)=>e.jsx("div",{ref:n,className:He("flex items-center p-6 pt-0",t),...r}));P$.displayName="CardFooter";function pP(t){const r=j.useRef({value:t,previous:t});return j.useMemo(()=>(r.current.value!==t&&(r.current.previous=r.current.value,r.current.value=t),r.current.previous),[t])}var Gb="Switch",[XX]=ga(Gb),[JX,eJ]=XX(Gb),T$=j.forwardRef((t,r)=>{const{__scopeSwitch:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:u="on",onCheckedChange:m,form:f,...p}=t,[g,b]=j.useState(null),y=_r(r,P=>b(P)),_=j.useRef(!1),w=g?f||!!g.closest("form"):!0,[k,A]=Sl({prop:a,defaultProp:i??!1,onChange:m,caller:Gb});return e.jsxs(JX,{scope:n,checked:k,disabled:l,children:[e.jsx(Vt.button,{type:"button",role:"switch","aria-checked":k,"aria-required":o,"data-state":M$(k),"data-disabled":l?"":void 0,disabled:l,value:u,...p,ref:y,onClick:wt(t.onClick,P=>{A(O=>!O),w&&(_.current=P.isPropagationStopped(),_.current||P.stopPropagation())})}),w&&e.jsx(I$,{control:g,bubbles:!_.current,name:s,value:u,checked:k,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});T$.displayName=Gb;var E$="SwitchThumb",O$=j.forwardRef((t,r)=>{const{__scopeSwitch:n,...s}=t,a=eJ(E$,n);return e.jsx(Vt.span,{"data-state":M$(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:r})});O$.displayName=E$;var tJ="SwitchBubbleInput",I$=j.forwardRef(({__scopeSwitch:t,control:r,checked:n,bubbles:s=!0,...a},i)=>{const o=j.useRef(null),l=_r(o,i),u=pP(n),m=dP(r);return j.useEffect(()=>{const f=o.current;if(!f)return;const p=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==n&&b){const y=new Event("click",{bubbles:s});b.call(f,n),f.dispatchEvent(y)}},[u,n,s]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});I$.displayName=tJ;function M$(t){return t?"checked":"unchecked"}var D$=T$,rJ=O$;const kn=j.forwardRef(({className:t,...r},n)=>e.jsx(D$,{className:He("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...r,ref:n,children:e.jsx(rJ,{className:He("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));kn.displayName=D$.displayName;var H_="focusScope.autoFocusOnMount",G_="focusScope.autoFocusOnUnmount",pI={bubbles:!1,cancelable:!0},nJ="FocusScope",Sg=j.forwardRef((t,r)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=t,[l,u]=j.useState(null),m=gs(a),f=gs(i),p=j.useRef(null),g=_r(r,_=>u(_)),b=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(s){let _=function(P){if(b.paused||!l)return;const O=P.target;l.contains(O)?p.current=O:Nd(p.current,{select:!0})},w=function(P){if(b.paused||!l)return;const O=P.relatedTarget;O!==null&&(l.contains(O)||Nd(p.current,{select:!0}))},k=function(P){if(document.activeElement===document.body)for(const I of P)I.removedNodes.length>0&&Nd(l)};document.addEventListener("focusin",_),document.addEventListener("focusout",w);const A=new MutationObserver(k);return l&&A.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",w),A.disconnect()}}},[s,l,b.paused]),j.useEffect(()=>{if(l){gI.add(b);const _=document.activeElement;if(!l.contains(_)){const k=new CustomEvent(H_,pI);l.addEventListener(H_,m),l.dispatchEvent(k),k.defaultPrevented||(sJ(cJ(R$(l)),{select:!0}),document.activeElement===_&&Nd(l))}return()=>{l.removeEventListener(H_,m),setTimeout(()=>{const k=new CustomEvent(G_,pI);l.addEventListener(G_,f),l.dispatchEvent(k),k.defaultPrevented||Nd(_??document.body,{select:!0}),l.removeEventListener(G_,f),gI.remove(b)},0)}}},[l,m,f,b]);const y=j.useCallback(_=>{if(!n&&!s||b.paused)return;const w=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,k=document.activeElement;if(w&&k){const A=_.currentTarget,[P,O]=aJ(A);P&&O?!_.shiftKey&&k===O?(_.preventDefault(),n&&Nd(P,{select:!0})):_.shiftKey&&k===P&&(_.preventDefault(),n&&Nd(O,{select:!0})):k===A&&_.preventDefault()}},[n,s,b.paused]);return e.jsx(Vt.div,{tabIndex:-1,...o,ref:g,onKeyDown:y})});Sg.displayName=nJ;function sJ(t,{select:r=!1}={}){const n=document.activeElement;for(const s of t)if(Nd(s,{select:r}),document.activeElement!==n)return}function aJ(t){const r=R$(t),n=xI(r,t),s=xI(r.reverse(),t);return[n,s]}function R$(t){const r=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function xI(t,r){for(const n of t)if(!iJ(n,{upTo:r}))return n}function iJ(t,{upTo:r}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(r!==void 0&&t===r)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function oJ(t){return t instanceof HTMLInputElement&&"select"in t}function Nd(t,{select:r=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&oJ(t)&&r&&t.select()}}var gI=lJ();function lJ(){let t=[];return{add(r){const n=t[0];r!==n&&n?.pause(),t=vI(t,r),t.unshift(r)},remove(r){t=vI(t,r),t[0]?.resume()}}}function vI(t,r){const n=[...t],s=n.indexOf(r);return s!==-1&&n.splice(s,1),n}function cJ(t){return t.filter(r=>r.tagName!=="A")}var Z_=0;function Zb(){j.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??yI()),document.body.insertAdjacentElement("beforeend",t[1]??yI()),Z_++,()=>{Z_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Z_--}},[])}function yI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ml=function(){return ml=Object.assign||function(r){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},ml.apply(this,arguments)};function L$(t,r){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)r.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n}function dJ(t,r,n){if(n||arguments.length===2)for(var s=0,a=r.length,i;s<a;s++)(i||!(s in r))&&(i||(i=Array.prototype.slice.call(r,0,s)),i[s]=r[s]);return t.concat(i||Array.prototype.slice.call(r))}var Gy="right-scroll-bar-position",Zy="width-before-scroll-bar",uJ="with-scroll-bars-hidden",hJ="--removed-body-scroll-bar-size";function Y_(t,r){return typeof t=="function"?t(r):t&&(t.current=r),t}function mJ(t,r){var n=j.useState(function(){return{value:t,callback:r,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=r,n.facade}var fJ=typeof window<"u"?j.useLayoutEffect:j.useEffect,bI=new WeakMap;function pJ(t,r){var n=mJ(null,function(s){return t.forEach(function(a){return Y_(a,s)})});return fJ(function(){var s=bI.get(n);if(s){var a=new Set(s),i=new Set(t),o=n.current;a.forEach(function(l){i.has(l)||Y_(l,null)}),i.forEach(function(l){a.has(l)||Y_(l,o)})}bI.set(n,t)},[t]),n}function xJ(t){return t}function gJ(t,r){r===void 0&&(r=xJ);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=r(i,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var u=function(){var f=o;o=[],f.forEach(i)},m=function(){return Promise.resolve().then(u)};m(),n={push:function(f){o.push(f),m()},filter:function(f){return o=o.filter(f),n}}}};return a}function vJ(t){t===void 0&&(t={});var r=gJ(null);return r.options=ml({async:!0,ssr:!1},t),r}var F$=function(t){var r=t.sideCar,n=L$(t,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=r.read();if(!s)throw new Error("Sidecar medium not found");return j.createElement(s,ml({},n))};F$.isSideCarExport=!0;function yJ(t,r){return t.useMedium(r),F$}var $$=vJ(),Q_=function(){},Yb=j.forwardRef(function(t,r){var n=j.useRef(null),s=j.useState({onScrollCapture:Q_,onWheelCapture:Q_,onTouchMoveCapture:Q_}),a=s[0],i=s[1],o=t.forwardProps,l=t.children,u=t.className,m=t.removeScrollBar,f=t.enabled,p=t.shards,g=t.sideCar,b=t.noIsolation,y=t.inert,_=t.allowPinchZoom,w=t.as,k=w===void 0?"div":w,A=t.gapMode,P=L$(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=g,I=pJ([n,r]),D=ml(ml({},P),a);return j.createElement(j.Fragment,null,f&&j.createElement(O,{sideCar:$$,removeScrollBar:m,shards:p,noIsolation:b,inert:y,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:A}),o?j.cloneElement(j.Children.only(l),ml(ml({},D),{ref:I})):j.createElement(k,ml({},D,{className:u,ref:I}),l))});Yb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yb.classNames={fullWidth:Zy,zeroRight:Gy};var bJ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jJ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var r=bJ();return r&&t.setAttribute("nonce",r),t}function wJ(t,r){t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}function _J(t){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(t)}var NJ=function(){var t=0,r=null;return{add:function(n){t==0&&(r=jJ())&&(wJ(r,n),_J(r)),t++},remove:function(){t--,!t&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},SJ=function(){var t=NJ();return function(r,n){j.useEffect(function(){return t.add(r),function(){t.remove()}},[r&&n])}},z$=function(){var t=SJ(),r=function(n){var s=n.styles,a=n.dynamic;return t(s,a),null};return r},CJ={left:0,top:0,right:0,gap:0},X_=function(t){return parseInt(t||"",10)||0},kJ=function(t){var r=window.getComputedStyle(document.body),n=r[t==="padding"?"paddingLeft":"marginLeft"],s=r[t==="padding"?"paddingTop":"marginTop"],a=r[t==="padding"?"paddingRight":"marginRight"];return[X_(n),X_(s),X_(a)]},AJ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return CJ;var r=kJ(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,s-n+r[2]-r[0])}},PJ=z$(),Om="data-scroll-locked",TJ=function(t,r,n,s){var a=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(uJ,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Om,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gy,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Zy,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Gy," .").concat(Gy,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Zy," .").concat(Zy,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Om,`] {
    `).concat(hJ,": ").concat(l,`px;
  }
`)},jI=function(){var t=parseInt(document.body.getAttribute(Om)||"0",10);return isFinite(t)?t:0},EJ=function(){j.useEffect(function(){return document.body.setAttribute(Om,(jI()+1).toString()),function(){var t=jI()-1;t<=0?document.body.removeAttribute(Om):document.body.setAttribute(Om,t.toString())}},[])},OJ=function(t){var r=t.noRelative,n=t.noImportant,s=t.gapMode,a=s===void 0?"margin":s;EJ();var i=j.useMemo(function(){return AJ(a)},[a]);return j.createElement(PJ,{styles:TJ(i,!r,a,n?"":"!important")})},UC=!1;if(typeof window<"u")try{var Sy=Object.defineProperty({},"passive",{get:function(){return UC=!0,!0}});window.addEventListener("test",Sy,Sy),window.removeEventListener("test",Sy,Sy)}catch{UC=!1}var hm=UC?{passive:!1}:!1,IJ=function(t){return t.tagName==="TEXTAREA"},B$=function(t,r){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[r]!=="hidden"&&!(n.overflowY===n.overflowX&&!IJ(t)&&n[r]==="visible")},MJ=function(t){return B$(t,"overflowY")},DJ=function(t){return B$(t,"overflowX")},wI=function(t,r){var n=r.ownerDocument,s=r;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=q$(t,s);if(a){var i=U$(t,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},RJ=function(t){var r=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[r,n,s]},LJ=function(t){var r=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[r,n,s]},q$=function(t,r){return t==="v"?MJ(r):DJ(r)},U$=function(t,r){return t==="v"?RJ(r):LJ(r)},FJ=function(t,r){return t==="h"&&r==="rtl"?-1:1},$J=function(t,r,n,s,a){var i=FJ(t,window.getComputedStyle(r).direction),o=i*s,l=n.target,u=r.contains(l),m=!1,f=o>0,p=0,g=0;do{var b=U$(t,l),y=b[0],_=b[1],w=b[2],k=_-w-i*y;(y||k)&&q$(t,l)&&(p+=k,g+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!u&&l!==document.body||u&&(r.contains(l)||r===l));return(f&&Math.abs(p)<1||!f&&Math.abs(g)<1)&&(m=!0),m},Cy=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},_I=function(t){return[t.deltaX,t.deltaY]},NI=function(t){return t&&"current"in t?t.current:t},zJ=function(t,r){return t[0]===r[0]&&t[1]===r[1]},BJ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},qJ=0,mm=[];function UJ(t){var r=j.useRef([]),n=j.useRef([0,0]),s=j.useRef(),a=j.useState(qJ++)[0],i=j.useState(z$)[0],o=j.useRef(t);j.useEffect(function(){o.current=t},[t]),j.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var _=dJ([t.lockRef.current],(t.shards||[]).map(NI),!0).filter(Boolean);return _.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),_.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var l=j.useCallback(function(_,w){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var k=Cy(_),A=n.current,P="deltaX"in _?_.deltaX:A[0]-k[0],O="deltaY"in _?_.deltaY:A[1]-k[1],I,D=_.target,F=Math.abs(P)>Math.abs(O)?"h":"v";if("touches"in _&&F==="h"&&D.type==="range")return!1;var B=wI(F,D);if(!B)return!0;if(B?I=F:(I=F==="v"?"h":"v",B=wI(F,D)),!B)return!1;if(!s.current&&"changedTouches"in _&&(P||O)&&(s.current=I),!I)return!0;var H=s.current||I;return $J(H,w,_,H==="h"?P:O)},[]),u=j.useCallback(function(_){var w=_;if(!(!mm.length||mm[mm.length-1]!==i)){var k="deltaY"in w?_I(w):Cy(w),A=r.current.filter(function(I){return I.name===w.type&&(I.target===w.target||w.target===I.shadowParent)&&zJ(I.delta,k)})[0];if(A&&A.should){w.cancelable&&w.preventDefault();return}if(!A){var P=(o.current.shards||[]).map(NI).filter(Boolean).filter(function(I){return I.contains(w.target)}),O=P.length>0?l(w,P[0]):!o.current.noIsolation;O&&w.cancelable&&w.preventDefault()}}},[]),m=j.useCallback(function(_,w,k,A){var P={name:_,delta:w,target:k,should:A,shadowParent:VJ(k)};r.current.push(P),setTimeout(function(){r.current=r.current.filter(function(O){return O!==P})},1)},[]),f=j.useCallback(function(_){n.current=Cy(_),s.current=void 0},[]),p=j.useCallback(function(_){m(_.type,_I(_),_.target,l(_,t.lockRef.current))},[]),g=j.useCallback(function(_){m(_.type,Cy(_),_.target,l(_,t.lockRef.current))},[]);j.useEffect(function(){return mm.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",u,hm),document.addEventListener("touchmove",u,hm),document.addEventListener("touchstart",f,hm),function(){mm=mm.filter(function(_){return _!==i}),document.removeEventListener("wheel",u,hm),document.removeEventListener("touchmove",u,hm),document.removeEventListener("touchstart",f,hm)}},[]);var b=t.removeScrollBar,y=t.inert;return j.createElement(j.Fragment,null,y?j.createElement(i,{styles:BJ(a)}):null,b?j.createElement(OJ,{gapMode:t.gapMode}):null)}function VJ(t){for(var r=null;t!==null;)t instanceof ShadowRoot&&(r=t.host,t=t.host),t=t.parentNode;return r}const KJ=yJ($$,UJ);var Cg=j.forwardRef(function(t,r){return j.createElement(Yb,ml({},t,{ref:r,sideCar:KJ}))});Cg.classNames=Yb.classNames;var WJ=function(t){if(typeof document>"u")return null;var r=Array.isArray(t)?t[0]:t;return r.ownerDocument.body},fm=new WeakMap,ky=new WeakMap,Ay={},J_=0,V$=function(t){return t&&(t.host||V$(t.parentNode))},HJ=function(t,r){return r.map(function(n){if(t.contains(n))return n;var s=V$(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},GJ=function(t,r,n,s){var a=HJ(r,Array.isArray(t)?t:[t]);Ay[n]||(Ay[n]=new WeakMap);var i=Ay[n],o=[],l=new Set,u=new Set(a),m=function(p){!p||l.has(p)||(l.add(p),m(p.parentNode))};a.forEach(m);var f=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(g){if(l.has(g))f(g);else try{var b=g.getAttribute(s),y=b!==null&&b!=="false",_=(fm.get(g)||0)+1,w=(i.get(g)||0)+1;fm.set(g,_),i.set(g,w),o.push(g),_===1&&y&&ky.set(g,!0),w===1&&g.setAttribute(n,"true"),y||g.setAttribute(s,"true")}catch(k){console.error("aria-hidden: cannot operate on ",g,k)}})};return f(r),l.clear(),J_++,function(){o.forEach(function(p){var g=fm.get(p)-1,b=i.get(p)-1;fm.set(p,g),i.set(p,b),g||(ky.has(p)||p.removeAttribute(s),ky.delete(p)),b||p.removeAttribute(n)}),J_--,J_||(fm=new WeakMap,fm=new WeakMap,ky=new WeakMap,Ay={})}},Qb=function(t,r,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),a=WJ(t);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),GJ(s,a,n,"aria-hidden")):function(){return null}},Xb="Dialog",[K$,W$]=ga(Xb),[ZJ,Xo]=K$(Xb),H$=t=>{const{__scopeDialog:r,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=t,l=j.useRef(null),u=j.useRef(null),[m,f]=Sl({prop:s,defaultProp:a??!1,onChange:i,caller:Xb});return e.jsx(ZJ,{scope:r,triggerRef:l,contentRef:u,contentId:qo(),titleId:qo(),descriptionId:qo(),open:m,onOpenChange:f,onOpenToggle:j.useCallback(()=>f(p=>!p),[f]),modal:o,children:n})};H$.displayName=Xb;var G$="DialogTrigger",Z$=j.forwardRef((t,r)=>{const{__scopeDialog:n,...s}=t,a=Xo(G$,n),i=_r(r,a.triggerRef);return e.jsx(Vt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":vP(a.open),...s,ref:i,onClick:wt(t.onClick,a.onOpenToggle)})});Z$.displayName=G$;var xP="DialogPortal",[YJ,Y$]=K$(xP,{forceMount:void 0}),Q$=t=>{const{__scopeDialog:r,forceMount:n,children:s,container:a}=t,i=Xo(xP,r);return e.jsx(YJ,{scope:r,forceMount:n,children:j.Children.map(s,o=>e.jsx(la,{present:n||i.open,children:e.jsx(Af,{asChild:!0,container:a,children:o})}))})};Q$.displayName=xP;var h0="DialogOverlay",X$=j.forwardRef((t,r)=>{const n=Y$(h0,t.__scopeDialog),{forceMount:s=n.forceMount,...a}=t,i=Xo(h0,t.__scopeDialog);return i.modal?e.jsx(la,{present:s||i.open,children:e.jsx(XJ,{...a,ref:r})}):null});X$.displayName=h0;var QJ=Dd("DialogOverlay.RemoveScroll"),XJ=j.forwardRef((t,r)=>{const{__scopeDialog:n,...s}=t,a=Xo(h0,n);return e.jsx(Cg,{as:QJ,allowPinchZoom:!0,shards:[a.contentRef],children:e.jsx(Vt.div,{"data-state":vP(a.open),...s,ref:r,style:{pointerEvents:"auto",...s.style}})})}),Ju="DialogContent",J$=j.forwardRef((t,r)=>{const n=Y$(Ju,t.__scopeDialog),{forceMount:s=n.forceMount,...a}=t,i=Xo(Ju,t.__scopeDialog);return e.jsx(la,{present:s||i.open,children:i.modal?e.jsx(JJ,{...a,ref:r}):e.jsx(eee,{...a,ref:r})})});J$.displayName=Ju;var JJ=j.forwardRef((t,r)=>{const n=Xo(Ju,t.__scopeDialog),s=j.useRef(null),a=_r(r,n.contentRef,s);return j.useEffect(()=>{const i=s.current;if(i)return Qb(i)},[]),e.jsx(ez,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:wt(t.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:wt(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:wt(t.onFocusOutside,i=>i.preventDefault())})}),eee=j.forwardRef((t,r)=>{const n=Xo(Ju,t.__scopeDialog),s=j.useRef(!1),a=j.useRef(!1);return e.jsx(ez,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(s.current||n.triggerRef.current?.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;n.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),ez=j.forwardRef((t,r)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=t,l=Xo(Ju,n),u=j.useRef(null),m=_r(r,u);return Zb(),e.jsxs(e.Fragment,{children:[e.jsx(Sg,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(xh,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":vP(l.open),...o,ref:m,onDismiss:()=>l.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(ree,{titleId:l.titleId}),e.jsx(see,{contentRef:u,descriptionId:l.descriptionId})]})]})}),gP="DialogTitle",tz=j.forwardRef((t,r)=>{const{__scopeDialog:n,...s}=t,a=Xo(gP,n);return e.jsx(Vt.h2,{id:a.titleId,...s,ref:r})});tz.displayName=gP;var rz="DialogDescription",nz=j.forwardRef((t,r)=>{const{__scopeDialog:n,...s}=t,a=Xo(rz,n);return e.jsx(Vt.p,{id:a.descriptionId,...s,ref:r})});nz.displayName=rz;var sz="DialogClose",az=j.forwardRef((t,r)=>{const{__scopeDialog:n,...s}=t,a=Xo(sz,n);return e.jsx(Vt.button,{type:"button",...s,ref:r,onClick:wt(t.onClick,()=>a.onOpenChange(!1))})});az.displayName=sz;function vP(t){return t?"open":"closed"}var iz="DialogTitleWarning",[tee,oz]=eZ(iz,{contentName:Ju,titleName:gP,docsSlug:"dialog"}),ree=({titleId:t})=>{const r=oz(iz),n=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return j.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},nee="DialogDescriptionWarning",see=({contentRef:t,descriptionId:r})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oz(nee).contentName}}.`;return j.useEffect(()=>{const a=t.current?.getAttribute("aria-describedby");r&&a&&(document.getElementById(r)||console.warn(s))},[s,t,r]),null},yP=H$,bP=Z$,jP=Q$,kg=X$,Ag=J$,Pg=tz,Tg=nz,Jb=az;const Ur=yP,Dl=bP,aee=jP,lz=j.forwardRef(({className:t,...r},n)=>e.jsx(kg,{ref:n,className:He("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r}));lz.displayName=kg.displayName;const Lr=j.forwardRef(({className:t,children:r,...n},s)=>e.jsxs(aee,{children:[e.jsx(lz,{}),e.jsxs(Ag,{ref:s,className:He("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[r,e.jsxs(Jb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Il,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Lr.displayName=Ag.displayName;const Fr=({className:t,...r})=>e.jsx("div",{className:He("flex flex-col space-y-1.5 text-center sm:text-left",t),...r});Fr.displayName="DialogHeader";const pa=({className:t,...r})=>e.jsx("div",{className:He("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r});pa.displayName="DialogFooter";const $r=j.forwardRef(({className:t,...r},n)=>e.jsx(Pg,{ref:n,className:He("text-lg font-semibold leading-none tracking-tight",t),...r}));$r.displayName=Pg.displayName;const Wr=j.forwardRef(({className:t,...r},n)=>e.jsx(Tg,{ref:n,className:He("text-sm text-muted-foreground",t),...r}));Wr.displayName=Tg.displayName;function wP(){const[t,r]=j.useState(null),{data:n,isLoading:s,error:a}=Ve({queryKey:["/api/csrf-token"],staleTime:1e3*60*30,gcTime:1e3*60*60});j.useEffect(()=>{n?.csrfToken&&r(n.csrfToken)},[n]);const i=()=>{if(typeof document>"u")return null;const u=document.cookie.match(/csrfToken=([^;]+)/);return u?u[1]:null},o=()=>t||i(),l=(u={})=>{const m=o();return m?{...u,"X-CSRF-Token":m}:(console.warn("No CSRF token available"),u)};return{csrfToken:o(),isLoading:s,error:a,addCSRFHeaders:l,refresh:()=>{window.location.reload()}}}function iee(){const[t,r]=j.useState(!1),[n,s]=j.useState(!1),[a,i]=j.useState(!1),{csrfToken:o,addCSRFHeaders:l,isLoading:u}=wP(),[m,f]=j.useState({necessary:!0,functional:!0,analytics:!1,marketing:!1,personalization:!1});j.useEffect(()=>{const k=p();fetch(`/api/consent/${k}`).then(A=>A.json()).then(A=>{!A.consents||Object.keys(A.consents).length===0?r(!0):f({necessary:!0,functional:A.consents.functional??!0,analytics:A.consents.analytics??!1,marketing:A.consents.marketing??!1,personalization:A.consents.personalization??!1})}).catch(()=>{r(!0)})},[]);const p=()=>{let k=localStorage.getItem("gdpr-session-id");return k||(k=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("gdpr-session-id",k)),k},g=async k=>{i(!0);try{const A=p();if(!o){console.error("CSRF token not available. Please refresh the page.");return}const P=await fetch("/api/consent",{method:"POST",headers:l({"Content-Type":"application/json"}),credentials:"include",body:JSON.stringify({sessionId:A,consents:k})});if(P.ok)f(k),r(!1),s(!1),b(k),console.log("Consent preferences saved successfully");else{const O=await P.json().catch(()=>({error:"Unknown error"}));console.error("Failed to save consent preferences:",O.error||P.statusText)}}catch(A){console.error("Error saving consent:",A)}finally{i(!1)}},b=k=>{k.analytics?console.log("Analytics enabled"):console.log("Analytics disabled"),k.marketing?console.log("Marketing cookies enabled"):console.log("Marketing cookies disabled"),k.personalization&&console.log("Personalization enabled")},y=()=>{g({necessary:!0,functional:!0,analytics:!0,marketing:!0,personalization:!0})},_=()=>{g(m)},w=()=>{g({necessary:!0,functional:!1,analytics:!1,marketing:!1,personalization:!1})};return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-card border-t border-border shadow-lg","data-testid":"gdpr-consent-banner",children:e.jsx("div",{className:"container mx-auto p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx(Mr,{className:"w-6 h-6 text-primary mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold text-foreground text-sm lg:text-base",children:" We respect your privacy"}),e.jsxs("p",{className:"text-sm text-muted-foreground leading-relaxed",children:["We use cookies and similar technologies to enhance your experience, analyze usage, and provide personalized content. You can manage your preferences below or learn more in our"," ",e.jsx("a",{href:"/privacy-policy",className:"text-primary hover:underline",children:"Privacy Policy"}),"."]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[e.jsxs(V,{onClick:()=>s(!0),variant:"outline",size:"sm",className:"text-xs lg:text-sm","data-testid":"button-customize-cookies",children:[e.jsx(_c,{className:"w-4 h-4 mr-2"}),"Customize"]}),e.jsx(V,{onClick:w,variant:"outline",size:"sm",disabled:a||u||!o,className:"text-xs lg:text-sm","data-testid":"button-reject-cookies",children:"Reject All"}),e.jsxs(V,{onClick:y,size:"sm",disabled:a||u||!o,className:"bg-primary hover:bg-primary/90 text-xs lg:text-sm","data-testid":"button-accept-cookies",children:[e.jsx(vl,{className:"w-4 h-4 mr-2"}),"Accept All"]})]})]})})}),e.jsx(Ur,{open:n,onOpenChange:s,children:e.jsxs(Lr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto","data-testid":"dialog-cookie-preferences",children:[e.jsx(Fr,{children:e.jsxs($r,{className:"flex items-center gap-2",children:[e.jsx(eY,{className:"w-5 h-5"}),"Cookie & Privacy Preferences"]})}),e.jsxs("div",{className:"space-y-6 mt-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Manage your cookie and data processing preferences. You can change these settings at any time."}),e.jsx(Y,{children:e.jsx(ue,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Necessary Cookies"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Essential for basic website functionality and security."})]}),e.jsx(kn,{checked:m.necessary,disabled:!0,"aria-label":"Necessary cookies (required)"})]})})}),e.jsx(Y,{children:e.jsx(ue,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Functional Cookies"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Remember your preferences and improve user experience."})]}),e.jsx(kn,{checked:m.functional,onCheckedChange:k=>f(A=>({...A,functional:k})),"data-testid":"switch-functional-cookies","aria-label":"Functional cookies"})]})})}),e.jsx(Y,{children:e.jsx(ue,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Analytics Cookies"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Help us understand how you use our site to improve performance."})]}),e.jsx(kn,{checked:m.analytics,onCheckedChange:k=>f(A=>({...A,analytics:k})),"data-testid":"switch-analytics-cookies","aria-label":"Analytics cookies"})]})})}),e.jsx(Y,{children:e.jsx(ue,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Marketing Cookies"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Used for targeted advertising and measuring ad effectiveness."})]}),e.jsx(kn,{checked:m.marketing,onCheckedChange:k=>f(A=>({...A,marketing:k})),"data-testid":"switch-marketing-cookies","aria-label":"Marketing cookies"})]})})}),e.jsx(Y,{children:e.jsx(ue,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Personalization Cookies"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize content and features based on your activity."})]}),e.jsx(kn,{checked:m.personalization,onCheckedChange:k=>f(A=>({...A,personalization:k})),"data-testid":"switch-personalization-cookies","aria-label":"Personalization cookies"})]})})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(V,{onClick:_,disabled:a||u||!o,className:"flex-1","data-testid":"button-save-preferences",children:"Save Preferences"}),e.jsx(V,{onClick:y,disabled:a||u||!o,variant:"outline","data-testid":"button-accept-all-detailed",children:"Accept All"})]})]})]})})]}):null}function kr(){const{toast:t}=or(),{data:r,isLoading:n,error:s}=Ve({queryKey:["/api/auth/user"],queryFn:async()=>{let l;try{if(l=await fetch("/api/auth/user",{credentials:"include"}),l.status===401||l.status===403)return console.info(`Auth check: User not authenticated (${l.status})`),null;if(!l.ok){let m="";try{m=await l.text()}catch(f){console.error("Failed to read error response text:",f)}return console.error("Auth check failed:",{status:l.status,statusText:l.statusText,url:l.url,headers:Object.fromEntries(l.headers.entries()),responseText:m.substring(0,1e3)}),null}const u=l.headers.get("content-type");if(!u||!u.includes("application/json")){const m=await l.text();return console.error("Auth check error: Invalid content type",{contentType:u,expectedContentType:"application/json",responseText:m.substring(0,500),status:l.status,url:l.url}),null}try{return await l.json()}catch(m){let f="";try{f=await l.clone().text()}catch{f="Unable to read response text"}return console.error("Auth check JSON parsing error:",{error:m,message:m instanceof Error?m.message:"Unknown JSON parsing error",responseText:f.substring(0,500),contentType:l.headers.get("content-type"),status:l.status,url:l.url}),null}}catch(u){return console.error("Auth check network error:",{error:u,message:u instanceof Error?u.message:"Unknown network error",stack:u instanceof Error?u.stack:void 0,name:u instanceof Error?u.name:void 0,url:l?.url||"/api/auth/user",timestamp:new Date().toISOString()}),null}},retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:300*1e3,gcTime:600*1e3}),a=ot({mutationFn:async l=>await(await Ze("POST","/api/login",l)).json(),onSuccess:l=>{Rt.setQueryData(["/api/auth/user"],l),t({title:"Welcome back!",description:"You have successfully signed in."})},onError:l=>{t({title:"Login failed",description:l.message,variant:"destructive"})}}),i=ot({mutationFn:async l=>await(await Ze("POST","/api/register",l)).json(),onSuccess:l=>{Rt.setQueryData(["/api/auth/user"],l),t({title:"Welcome to BoyFanz!",description:"Your account has been created successfully."})},onError:l=>{t({title:"Registration failed",description:l.message,variant:"destructive"})}}),o=ot({mutationFn:async()=>{await Ze("POST","/api/logout")},onSuccess:()=>{Rt.setQueryData(["/api/auth/user"],null),t({title:"Signed out",description:"You have been signed out successfully."})},onError:l=>{t({title:"Logout failed",description:l.message,variant:"destructive"})}});return{user:r,isLoading:n,isAuthenticated:!!r&&!s,loginMutation:a,registerMutation:i,logoutMutation:o}}function oee(){const{data:t}=Ve({queryKey:["/api/themes/active"],refetchOnMount:!0,refetchOnWindowFocus:!0,retry:!1,staleTime:6e4});return j.useEffect(()=>{if(t)try{lee(t)}catch(r){console.warn("Failed to apply theme:",r)}},[t]),{activeTheme:t}}function lee(t){const r=document.documentElement;if(t.colors&&Object.entries(t.colors).forEach(([n,s])=>{const a=`--${n.replace(/[A-Z]/g,i=>`-${i.toLowerCase()}`)}`;r.style.setProperty(a,s)}),t.typography&&(r.style.setProperty("--font-display",`"${t.typography.fontDisplay}", sans-serif`),r.style.setProperty("--font-heading",`"${t.typography.fontHeading}", sans-serif`),r.style.setProperty("--font-body",`"${t.typography.fontBody}", sans-serif`)),t.effects){if(t.effects.neonIntensity!==void 0){const n=t.effects.neonIntensity;r.style.setProperty("--neon-intensity",n.toString())}r.classList.toggle("glow-disabled",!t.effects.glowEnabled),r.classList.toggle("smoky-disabled",!t.effects.smokyBackground),r.classList.toggle("flicker-disabled",!t.effects.flickerEnabled)}}const eN=768;function _P(){const[t,r]=j.useState(void 0);return j.useEffect(()=>{const n=window.matchMedia(`(max-width: ${eN-1}px)`),s=()=>{r(window.innerWidth<eN)};return n.addEventListener("change",s),r(window.innerWidth<eN),()=>n.removeEventListener("change",s)},[]),!!t}class cee{constructor(){this.ws=null,this.connectionState="disconnected",this.reconnectAttempts=0,this.reconnectTimeout=null,this.pingInterval=null,this.messageQueue=[],this.eventHandlers=new Map,this.userId=null,this.sessionToken=null,this.onlineUsers=new Set,this.typingUsers=new Map,this.reconnectionConfig={maxAttempts:10,initialDelay:1e3,maxDelay:3e4,multiplier:1.5},this.setupDefaultHandlers()}connect(r,n){if(this.connectionState==="connected"||this.connectionState==="connecting"){console.log("WebSocket already connected or connecting");return}this.userId=r,this.sessionToken=n||null,this.connectionState="connecting";try{const s=window.location.protocol==="https:"?"wss:":"ws:",a=window.location.hostname,i=`${s}//${a}:3001`;console.log(`Connecting to WebSocket at ${i}`),this.ws=new WebSocket(i),this.setupWebSocketHandlers()}catch(s){console.error("Failed to create WebSocket connection:",s),this.handleReconnection()}}disconnect(){this.connectionState="disconnected",this.clearTimers(),this.ws&&(this.ws.close(),this.ws=null),this.messageQueue=[],this.onlineUsers.clear(),this.typingUsers.clear()}setupWebSocketHandlers(){this.ws&&(this.ws.onopen=()=>{console.log("WebSocket connected"),this.connectionState="connected",this.reconnectAttempts=0,this.send({type:"auth",data:{userId:this.userId,token:this.sessionToken}}),this.processMessageQueue(),this.startPingInterval(),this.emit("connection",{status:"connected"})},this.ws.onmessage=r=>{try{const n=JSON.parse(r.data);this.handleMessage(n)}catch(n){console.error("Error parsing WebSocket message:",n)}},this.ws.onerror=r=>{console.error("WebSocket error:",r),this.emit("error",{error:r})},this.ws.onclose=r=>{console.log("WebSocket disconnected",r),this.connectionState="disconnected",this.clearTimers(),this.emit("connection",{status:"disconnected",code:r.code,reason:r.reason}),r.code!==1e3&&this.handleReconnection()})}handleMessage(r){switch(r.type){case"auth":r.data?.status==="authenticated"&&(console.log("WebSocket authenticated"),this.emit("authenticated",r.data));break;case"pong":break;case"error":console.error("WebSocket error message:",r.data),this.emit("error",r.data);break;case"ack":this.emit("message_ack",r);break;case"presence":this.handlePresenceUpdate(r);break;case"typing":this.handleTypingIndicator(r);break;case"message":this.handleDirectMessage(r);break;case"notification":this.handleNotification(r);break;case"tip":this.handleTipNotification(r);break;case"stream_update":this.handleStreamUpdate(r);break;case"content_published":this.handleContentPublished(r);break;case"moderation_alert":this.handleModerationAlert(r);break;case"purchase_complete":this.handlePurchaseComplete(r);break;case"message_history":this.emit("message_history",r.data);break;case"online_users":this.handleOnlineUsers(r);break;case"read_receipt":this.emit("read_receipt",r.data);break}this.emit(r.type,r.data||r)}handlePresenceUpdate(r){const{userId:n,status:s,lastSeenAt:a}=r.data;s==="online"?this.onlineUsers.add(n):this.onlineUsers.delete(n),Rt.invalidateQueries({queryKey:["/api/users",n]}),this.emit("presence_update",r.data)}handleTypingIndicator(r){const{userId:n,isTyping:s}=r.data;if(s){const a=this.typingUsers.get(n);a&&clearTimeout(a);const i=setTimeout(()=>{this.typingUsers.delete(n),this.emit("typing_update",{userId:n,isTyping:!1})},5e3);this.typingUsers.set(n,i)}else{const a=this.typingUsers.get(n);a&&(clearTimeout(a),this.typingUsers.delete(n))}this.emit("typing_update",r.data)}handleDirectMessage(r){Rt.invalidateQueries({queryKey:["/api/messages"]}),Rt.invalidateQueries({queryKey:["/api/conversations"]}),document.hidden&&"Notification"in window&&Notification.permission==="granted"&&new Notification("New Message",{body:r.data.content||"You have a new message",icon:"/boyfanz-logo.png"}),this.emit("new_message",r.data)}handleNotification(r){Rt.invalidateQueries({queryKey:["/api/notifications"]}),"Notification"in window&&Notification.permission==="granted"&&new Notification(r.data.title||"BoyFanz Notification",{body:r.data.message||"You have a new notification",icon:"/boyfanz-logo.png"}),this.emit("new_notification",r.data)}handleTipNotification(r){Rt.invalidateQueries({queryKey:["/api/earnings"]}),Rt.invalidateQueries({queryKey:["/api/transactions"]}),new Audio("/sounds/tip-received.mp3").play().catch(s=>console.log("Could not play tip sound:",s)),this.emit("tip_received",r.data)}handleStreamUpdate(r){Rt.invalidateQueries({queryKey:["/api/streams"]}),Rt.invalidateQueries({queryKey:["/api/streams",r.data.streamId]}),this.emit("stream_update",r.data)}handleContentPublished(r){Rt.invalidateQueries({queryKey:["/api/feed"]}),Rt.invalidateQueries({queryKey:["/api/creators",r.data.creatorId,"posts"]}),this.emit("content_published",r.data)}handleModerationAlert(r){Rt.invalidateQueries({queryKey:["/api/moderation"]}),new Audio("/sounds/alert.mp3").play().catch(s=>console.log("Could not play alert sound:",s)),this.emit("moderation_alert",r.data)}handlePurchaseComplete(r){Rt.invalidateQueries({queryKey:["/api/purchased"]}),Rt.invalidateQueries({queryKey:["/api/transactions"]}),this.emit("purchase_complete",r.data)}handleOnlineUsers(r){const{users:n,count:s}=r.data;this.onlineUsers.clear(),n.forEach(a=>this.onlineUsers.add(a)),this.emit("online_users",r.data)}send(r){if(!this.ws||this.ws.readyState!==WebSocket.OPEN)return console.log("WebSocket not connected, queueing message"),this.messageQueue.push(r),!1;try{return this.ws.send(JSON.stringify(r)),!0}catch(n){return console.error("Error sending WebSocket message:",n),this.messageQueue.push(r),!1}}processMessageQueue(){for(;this.messageQueue.length>0&&this.ws&&this.ws.readyState===WebSocket.OPEN;){const r=this.messageQueue.shift();r&&this.send(r)}}handleReconnection(){if(this.connectionState==="reconnecting")return;if(this.reconnectAttempts>=this.reconnectionConfig.maxAttempts){console.error("Max reconnection attempts reached"),this.emit("max_reconnect_attempts",{});return}this.connectionState="reconnecting",this.reconnectAttempts++;const r=Math.min(this.reconnectionConfig.initialDelay*Math.pow(this.reconnectionConfig.multiplier,this.reconnectAttempts-1),this.reconnectionConfig.maxDelay);console.log(`Reconnecting in ${r}ms (attempt ${this.reconnectAttempts}/${this.reconnectionConfig.maxAttempts})`),this.emit("reconnecting",{attempt:this.reconnectAttempts,delay:r}),this.reconnectTimeout=setTimeout(()=>{this.userId&&this.connect(this.userId,this.sessionToken||void 0)},r)}startPingInterval(){this.pingInterval=setInterval(()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&this.send({type:"ping"})},3e4)}clearTimers(){this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.pingInterval&&(clearInterval(this.pingInterval),this.pingInterval=null),this.typingUsers.forEach(r=>clearTimeout(r)),this.typingUsers.clear()}on(r,n){this.eventHandlers.has(r)||this.eventHandlers.set(r,new Set),this.eventHandlers.get(r).add(n)}off(r,n){const s=this.eventHandlers.get(r);s&&s.delete(n)}emit(r,n){const s=this.eventHandlers.get(r);s&&s.forEach(a=>{try{a({type:r,data:n})}catch(i){console.error(`Error in WebSocket event handler for ${r}:`,i)}})}setupDefaultHandlers(){this.on("connection",r=>{console.log("WebSocket connection state:",r.data)}),this.on("error",r=>{console.error("WebSocket error:",r.data)})}sendMessage(r,n,s="text",a,i){return this.send({type:"message",data:{targetUserId:r,content:n,type:s,mediaUrl:a,priceCents:i||0}})}sendTyping(r,n){return this.send({type:"typing",data:{targetUserId:r,isTyping:n}})}sendReadReceipt(r,n){return this.send({type:"read_receipt",data:{messageIds:r,senderId:n}})}requestMessageHistory(r,n=50,s=0){return this.send({type:"message_history",data:{targetUserId:r,limit:n,offset:s}})}requestOnlineUsers(r){return this.send({type:"online_users",data:{roomId:r}})}updatePresence(r){return this.send({type:"presence",data:{status:r}})}isUserOnline(r){return this.onlineUsers.has(r)}getOnlineUsers(){return Array.from(this.onlineUsers)}isUserTyping(r){return this.typingUsers.has(r)}getConnectionState(){return this.connectionState}isConnected(){return this.connectionState==="connected"&&this.ws?.readyState===WebSocket.OPEN}}const Yr=new cee,dee=Object.freeze(Object.defineProperty({__proto__:null,default:Yr,websocketService:Yr},Symbol.toStringTag,{value:"Module"}));function uee(){const{user:t,isAuthenticated:r}=kr();j.useEffect(()=>{if(r&&t?.id)return Yr.connect(t.id),"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission(),()=>{Yr.disconnect()};Yr.disconnect()},[r,t?.id])}class hee{constructor(){this.deferredPrompt=null,this.swRegistration=null,this.pushSubscription=null,this.vapidPublicKey="BP1_YOUR_VAPID_PUBLIC_KEY_HERE_REPLACE_WITH_ACTUAL",this.init()}async init(){try{await this.registerServiceWorker(),this.setupInstallPrompt(),await this.initializePushNotifications(),this.setupNetworkHandlers(),this.setupAppBadge(),console.log(" BoyFanz PWA Manager initialized successfully")}catch(r){console.error(" PWA Manager initialization failed:",r)}}async registerServiceWorker(){if(!("serviceWorker"in navigator))throw new Error("Service Worker not supported");try{this.swRegistration=await navigator.serviceWorker.register("/sw.js",{scope:"/"}),console.log(" Service Worker registered:",this.swRegistration.scope),this.swRegistration.addEventListener("updatefound",()=>{const r=this.swRegistration.installing;r&&r.addEventListener("statechange",()=>{r.state==="installed"&&navigator.serviceWorker.controller&&this.notifyUserOfUpdate()})})}catch(r){throw console.error(" Service Worker registration failed:",r),r}}setupInstallPrompt(){window.addEventListener("beforeinstallprompt",r=>{r.preventDefault(),this.deferredPrompt=r,this.showInstallBanner(),console.log(" PWA install prompt ready")}),window.addEventListener("appinstalled",()=>{console.log(" PWA installed successfully"),this.trackInstallation("manual"),this.deferredPrompt=null})}async promptInstall(){if(!this.deferredPrompt)return console.log(" No install prompt available"),!1;try{await this.deferredPrompt.prompt();const r=await this.deferredPrompt.userChoice;return console.log(" User install choice:",r.outcome),r.outcome==="accepted"?(this.trackInstallation("prompt"),!0):!1}catch(r){return console.error(" Install prompt failed:",r),!1}finally{this.deferredPrompt=null}}async initializePushNotifications(){if(!this.swRegistration){console.log(" Service Worker not registered, skipping push notifications");return}if(!("PushManager"in window)){console.log(" Push notifications not supported");return}try{this.pushSubscription=await this.swRegistration.pushManager.getSubscription(),this.pushSubscription&&(console.log(" Existing push subscription found"),await this.syncPushSubscription())}catch(r){console.error(" Push notification initialization failed:",r)}}async requestNotificationPermission(){if(!("Notification"in window))throw new Error("Notifications not supported");let r=Notification.permission;return r==="default"&&(r=await Notification.requestPermission()),console.log(" Notification permission:",r),r}async subscribeToPushNotifications(){if(!this.swRegistration)throw new Error("Service Worker not registered");if(await this.requestNotificationPermission()!=="granted")return console.log(" Notification permission denied"),null;try{const n=await this.swRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(this.vapidPublicKey)});return console.log(" Push subscription created:",n),await this.syncPushSubscription(n),this.pushSubscription=n,n}catch(n){throw console.error(" Push subscription failed:",n),n}}async unsubscribeFromPushNotifications(){if(!this.pushSubscription)return!0;try{const r=await this.pushSubscription.unsubscribe();return r&&(await this.removePushSubscription(),this.pushSubscription=null,console.log(" Push subscription removed")),r}catch(r){return console.error(" Push unsubscription failed:",r),!1}}setupNetworkHandlers(){window.addEventListener("online",()=>{console.log(" Back online"),this.handleOnline()}),window.addEventListener("offline",()=>{console.log(" Gone offline"),this.handleOffline()})}handleOnline(){this.triggerBackgroundSync(),document.body.classList.remove("offline"),this.showNetworkNotification(" You're back online!","success")}handleOffline(){document.body.classList.add("offline"),this.showNetworkNotification(" You're offline. Actions will sync when you reconnect.","warning")}async queueOfflineAction(r){if(!this.swRegistration?.active){console.log(" Service Worker not active, cannot queue action");return}this.swRegistration.active.postMessage({type:"QUEUE_ACTION",payload:r})}async triggerBackgroundSync(){if(!this.swRegistration?.sync){console.log(" Background Sync not supported");return}try{await this.swRegistration.sync.register("sync-queued-actions"),console.log(" Background sync triggered")}catch(r){console.error(" Background sync failed:",r)}}setupAppBadge(){"setAppBadge"in navigator?console.log(" App Badge API supported"):console.log(" App Badge API not supported")}async updateAppBadge(r){if("setAppBadge"in navigator)try{r>0?await navigator.setAppBadge(r):await navigator.clearAppBadge()}catch(n){console.error(" App badge update failed:",n)}}urlBase64ToUint8Array(r){const n="=".repeat((4-r.length%4)%4),s=(r+n).replace(/-/g,"+").replace(/_/g,"/"),a=window.atob(s),i=new Uint8Array(a.length);for(let o=0;o<a.length;++o)i[o]=a.charCodeAt(o);return i}async syncPushSubscription(r){const n=r||this.pushSubscription;if(n)try{if(!(await fetch("/api/pwa/push-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subscription:n.toJSON(),userAgent:navigator.userAgent,platform:this.getPlatform()})})).ok)throw new Error("Failed to sync push subscription");console.log(" Push subscription synced with server")}catch(s){console.error(" Failed to sync push subscription:",s)}}async removePushSubscription(){try{await fetch("/api/pwa/push-subscription",{method:"DELETE"}),console.log(" Push subscription removed from server")}catch(r){console.error(" Failed to remove push subscription:",r)}}showInstallBanner(){const r=document.createElement("div");r.id="pwa-install-banner",r.innerHTML=`
      <div style="
        position: fixed;
        top: 20px;
        right: 20px;
        background: linear-gradient(135deg, #ff0000, #cc0000);
        color: white;
        padding: 16px 20px;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(255, 0, 0, 0.3);
        z-index: 10000;
        max-width: 300px;
        font-family: Inter, sans-serif;
        animation: slideIn 0.5s ease-out;
      ">
        <div style="font-weight: 600; margin-bottom: 8px;">
           Install BoyFanz App
        </div>
        <div style="font-size: 14px; margin-bottom: 12px; opacity: 0.9;">
          Get the full app experience with offline support and push notifications.
        </div>
        <div style="display: flex; gap: 8px;">
          <button id="pwa-install-btn" style="
            background: white;
            color: #ff0000;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            flex: 1;
          ">Install</button>
          <button id="pwa-dismiss-btn" style="
            background: transparent;
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
          ">Later</button>
        </div>
      </div>
    `,document.body.appendChild(r),document.getElementById("pwa-install-btn")?.addEventListener("click",()=>{this.promptInstall(),r.remove()}),document.getElementById("pwa-dismiss-btn")?.addEventListener("click",()=>{r.remove()}),setTimeout(()=>{r.parentNode&&r.remove()},1e4)}notifyUserOfUpdate(){const r=document.createElement("div");r.innerHTML=`
      <div style="
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: #1a1a1a;
        color: white;
        padding: 16px 24px;
        border-radius: 8px;
        border: 1px solid #ff0000;
        box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        z-index: 10000;
      ">
        <div style="margin-bottom: 8px; font-weight: 600;">
           App Update Available
        </div>
        <button onclick="window.location.reload()" style="
          background: #ff0000;
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 4px;
          cursor: pointer;
        ">Update Now</button>
      </div>
    `,document.body.appendChild(r)}showNetworkNotification(r,n){const s=n==="success"?"#22c55e":"#f59e0b",a=document.createElement("div");a.innerHTML=`
      <div style="
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: ${s};
        color: white;
        padding: 12px 20px;
        border-radius: 8px;
        z-index: 10000;
        font-weight: 500;
      ">
        ${r}
      </div>
    `,document.body.appendChild(a),setTimeout(()=>{a.remove()},3e3)}trackInstallation(r){fetch("/api/pwa/installation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({method:r,userAgent:navigator.userAgent,platform:this.getPlatform(),timestamp:new Date().toISOString()})}).catch(n=>{console.error(" Failed to track installation:",n)})}getPlatform(){const r=navigator.userAgent;return/iPhone|iPad|iPod/.test(r)?"ios":/Android/.test(r)?"android":/Windows/.test(r)?"windows":/Mac/.test(r)?"macos":/Linux/.test(r)?"linux":"unknown"}get isInstalled(){return window.matchMedia("(display-mode: standalone)").matches||window.matchMedia("(display-mode: fullscreen)").matches||window.navigator.standalone}get isOnline(){return navigator.onLine}get canInstall(){return this.deferredPrompt!==null}get hasNotificationPermission(){return Notification.permission==="granted"}get isPushSubscribed(){return this.pushSubscription!==null}}const Yy=new hee;class mee{constructor(){this.db=null,this.dbName="BoyFanzPWA",this.dbVersion=1,this.stores={messages:"messages",profiles:"profiles",content:"content",syncActions:"sync_actions",sessions:"offline_sessions",media:"cached_media",preferences:"user_preferences"},this.initDB()}async initDB(){return new Promise((r,n)=>{const s=indexedDB.open(this.dbName,this.dbVersion);s.onerror=()=>{console.error(" IndexedDB initialization failed:",s.error),n(s.error)},s.onsuccess=()=>{this.db=s.result,console.log(" BoyFanz IndexedDB initialized"),r()},s.onupgradeneeded=a=>{const i=a.target.result;if(!i.objectStoreNames.contains(this.stores.messages)){const o=i.createObjectStore(this.stores.messages,{keyPath:"id"});o.createIndex("conversationId","conversationId",{unique:!1}),o.createIndex("senderId","senderId",{unique:!1}),o.createIndex("timestamp","timestamp",{unique:!1}),o.createIndex("synced","synced",{unique:!1})}if(!i.objectStoreNames.contains(this.stores.profiles)){const o=i.createObjectStore(this.stores.profiles,{keyPath:"id"});o.createIndex("username","username",{unique:!1}),o.createIndex("cachedAt","cachedAt",{unique:!1})}if(!i.objectStoreNames.contains(this.stores.content)){const o=i.createObjectStore(this.stores.content,{keyPath:"id"});o.createIndex("creatorId","creatorId",{unique:!1}),o.createIndex("timestamp","timestamp",{unique:!1}),o.createIndex("cachedAt","cachedAt",{unique:!1})}if(!i.objectStoreNames.contains(this.stores.syncActions)){const o=i.createObjectStore(this.stores.syncActions,{keyPath:"id"});o.createIndex("type","type",{unique:!1}),o.createIndex("timestamp","timestamp",{unique:!1}),o.createIndex("synced","synced",{unique:!1})}if(!i.objectStoreNames.contains(this.stores.sessions)){const o=i.createObjectStore(this.stores.sessions,{keyPath:"id"});o.createIndex("userId","userId",{unique:!1}),o.createIndex("startTime","startTime",{unique:!1})}if(!i.objectStoreNames.contains(this.stores.media)){const o=i.createObjectStore(this.stores.media,{keyPath:"url"});o.createIndex("cachedAt","cachedAt",{unique:!1}),o.createIndex("size","size",{unique:!1})}i.objectStoreNames.contains(this.stores.preferences)||i.createObjectStore(this.stores.preferences,{keyPath:"key"}),console.log(" IndexedDB schema updated")}})}async storeMessage(r){this.db||await this.initDB(),await this.db.transaction([this.stores.messages],"readwrite").objectStore(this.stores.messages).put(r),console.log(" Message cached offline:",r.id)}async getMessages(r,n=50){this.db||await this.initDB();const i=this.db.transaction([this.stores.messages],"readonly").objectStore(this.stores.messages).index("conversationId");return new Promise((o,l)=>{const u=[],m=i.openCursor(IDBKeyRange.only(r),"prev");m.onsuccess=()=>{const f=m.result;f&&u.length<n?(u.push(f.value),f.continue()):o(u)},m.onerror=()=>l(m.error)})}async getUnsyncedMessages(){this.db||await this.initDB();const s=this.db.transaction([this.stores.messages],"readonly").objectStore(this.stores.messages).index("synced");return new Promise((a,i)=>{const o=[],l=s.openCursor(IDBKeyRange.only(!1));l.onsuccess=()=>{const u=l.result;u?(o.push(u.value),u.continue()):a(o)},l.onerror=()=>i(l.error)})}async markMessageSynced(r){this.db||await this.initDB();const s=this.db.transaction([this.stores.messages],"readwrite").objectStore(this.stores.messages),a=await s.get(r);a&&(a.synced=!0,await s.put(a))}async storeProfile(r){this.db||await this.initDB();const s=this.db.transaction([this.stores.profiles],"readwrite").objectStore(this.stores.profiles);r.cachedAt=Date.now(),await s.put(r),console.log(" Profile cached offline:",r.username)}async getProfile(r){return this.db||await this.initDB(),await this.db.transaction([this.stores.profiles],"readonly").objectStore(this.stores.profiles).get(r)||null}async getRecentProfiles(r=20){this.db||await this.initDB();const a=this.db.transaction([this.stores.profiles],"readonly").objectStore(this.stores.profiles).index("cachedAt");return new Promise((i,o)=>{const l=[],u=a.openCursor(null,"prev");u.onsuccess=()=>{const m=u.result;m&&l.length<r?(l.push(m.value),m.continue()):i(l)},u.onerror=()=>o(u.error)})}async storeContent(r){this.db||await this.initDB();const s=this.db.transaction([this.stores.content],"readwrite").objectStore(this.stores.content);r.cachedAt=Date.now(),await s.put(r),console.log(" Content cached offline:",r.id)}async getContentFeed(r=20){this.db||await this.initDB();const a=this.db.transaction([this.stores.content],"readonly").objectStore(this.stores.content).index("timestamp");return new Promise((i,o)=>{const l=[],u=a.openCursor(null,"prev");u.onsuccess=()=>{const m=u.result;m&&l.length<r?(l.push(m.value),m.continue()):i(l)},u.onerror=()=>o(u.error)})}async getCreatorContent(r,n=10){this.db||await this.initDB();const i=this.db.transaction([this.stores.content],"readonly").objectStore(this.stores.content).index("creatorId");return new Promise((o,l)=>{const u=[],m=i.openCursor(IDBKeyRange.only(r),"prev");m.onsuccess=()=>{const f=m.result;f&&u.length<n?(u.push(f.value),f.continue()):o(u)},m.onerror=()=>l(m.error)})}async queueAction(r){this.db||await this.initDB();const n={...r,id:`action_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:Date.now(),retryCount:0,synced:!1};return await this.db.transaction([this.stores.syncActions],"readwrite").objectStore(this.stores.syncActions).put(n),console.log(" Action queued for sync:",n.type,n.id),n.id}async getPendingActions(){this.db||await this.initDB();const s=this.db.transaction([this.stores.syncActions],"readonly").objectStore(this.stores.syncActions).index("synced");return new Promise((a,i)=>{const o=[],l=s.openCursor(IDBKeyRange.only(!1));l.onsuccess=()=>{const u=l.result;u?(o.push(u.value),u.continue()):a(o.sort((m,f)=>m.timestamp-f.timestamp))},l.onerror=()=>i(l.error)})}async markActionSynced(r){this.db||await this.initDB();const s=this.db.transaction([this.stores.syncActions],"readwrite").objectStore(this.stores.syncActions),a=await s.get(r);a&&(a.synced=!0,await s.put(a),console.log(" Action synced:",r))}async incrementActionRetry(r){this.db||await this.initDB();const s=this.db.transaction([this.stores.syncActions],"readwrite").objectStore(this.stores.syncActions),a=await s.get(r);a&&(a.retryCount++,await s.put(a))}async cacheMedia(r,n){this.db||await this.initDB();const a=this.db.transaction([this.stores.media],"readwrite").objectStore(this.stores.media),i={url:r,blob:n,size:n.size,type:n.type,cachedAt:Date.now()};await a.put(i),console.log(" Media cached:",r)}async getCachedMedia(r){return this.db||await this.initDB(),(await this.db.transaction([this.stores.media],"readonly").objectStore(this.stores.media).get(r))?.blob||null}async setPreference(r,n){this.db||await this.initDB(),await this.db.transaction([this.stores.preferences],"readwrite").objectStore(this.stores.preferences).put({key:r,value:n,updatedAt:Date.now()})}async getPreference(r,n=null){return this.db||await this.initDB(),(await this.db.transaction([this.stores.preferences],"readonly").objectStore(this.stores.preferences).get(r))?.value??n}async getStorageInfo(){try{const r=await navigator.storage.estimate(),n=r.usage||0,s=r.quota||0,a=s-n,i=s>0?n/s*100:0;return{used:n,available:a,total:s,percentUsed:i}}catch{return{used:0,available:0,total:0,percentUsed:0}}}async clearOldData(){this.db||await this.initDB();const r=Date.now()-10080*60*1e3,a=this.db.transaction([this.stores.content],"readwrite").objectStore(this.stores.content).index("cachedAt");a.openCursor(IDBKeyRange.upperBound(r)).onsuccess=u=>{const m=u.target.result;m&&(m.delete(),m.continue())};const l=this.db.transaction([this.stores.media],"readwrite").objectStore(this.stores.media).index("cachedAt");l.openCursor(IDBKeyRange.upperBound(r)).onsuccess=u=>{const m=u.target.result;m&&(m.delete(),m.continue())},console.log(" Old offline data cleared")}async clearAllData(){this.db||await this.initDB();const r=Object.values(this.stores),n=this.db.transaction(r,"readwrite");for(const s of r)await n.objectStore(s).clear();console.log(" All offline data cleared")}}const VC=new mee;function fee({onDismiss:t}){const[r,n]=j.useState(!1),[s,a]=j.useState(!1);j.useEffect(()=>{(()=>{Yy.canInstall&&!Yy.isInstalled&&n(!0)})();const u=()=>{n(!0)},m=()=>{n(!1)};return window.addEventListener("beforeinstallprompt",u),window.addEventListener("appinstalled",m),()=>{window.removeEventListener("beforeinstallprompt",u),window.removeEventListener("appinstalled",m)}},[]);const i=async()=>{a(!0);try{await Yy.promptInstall()&&(n(!1),console.log(" BoyFanz PWA installed successfully"))}catch(l){console.error(" Installation failed:",l)}finally{a(!1)}},o=()=>{n(!1),t?.()};return r?e.jsx("div",{className:"fixed top-4 right-4 left-4 md:left-auto md:w-80 z-50 animate-in slide-in-from-top-2 duration-300","data-testid":"pwa-install-prompt",children:e.jsxs("div",{className:"bg-gradient-to-r from-red-900/95 to-red-800/95 backdrop-blur-lg border border-red-500/30 rounded-lg p-4 shadow-2xl",children:[e.jsx(V,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 h-6 w-6 p-0 text-white/70 hover:text-white hover:bg-white/10",onClick:o,"data-testid":"button-dismiss-install",children:e.jsx(Il,{className:"h-4 w-4"})}),e.jsxs("div",{className:"pr-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"bg-red-500/20 rounded-lg p-2",children:e.jsx(RF,{className:"h-5 w-5 text-red-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white text-sm",children:"Install BoyFanz App"}),e.jsx("p",{className:"text-red-200 text-xs",children:"Every Man's Playground"})]})]}),e.jsx("p",{className:"text-white/90 text-sm mb-4 leading-relaxed",children:"Get the full app experience with offline access, push notifications, and faster loading."}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-200",children:[e.jsx("div",{className:"w-1 h-1 bg-red-400 rounded-full"}),e.jsx("span",{children:"Offline messaging"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-red-200",children:[e.jsx("div",{className:"w-1 h-1 bg-red-400 rounded-full"}),e.jsx("span",{children:"Push notifications"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-red-200",children:[e.jsx("div",{className:"w-1 h-1 bg-red-400 rounded-full"}),e.jsx("span",{children:"Faster loading"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-red-200",children:[e.jsx("div",{className:"w-1 h-1 bg-red-400 rounded-full"}),e.jsx("span",{children:"App-like experience"})]})]}),e.jsx(V,{onClick:i,disabled:s,className:"w-full bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold border-0 shadow-lg","data-testid":"button-install-pwa",children:s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Installing..."]}):e.jsxs(e.Fragment,{children:[e.jsx($n,{className:"h-4 w-4 mr-2"}),"Install App"]})}),e.jsx(V,{variant:"ghost",onClick:o,className:"w-full mt-2 text-white/70 hover:text-white hover:bg-white/10","data-testid":"button-install-later",children:"Maybe Later"})]})]})}):null}function pee({className:t}){const[r,n]=j.useState(navigator.onLine),[s,a]=j.useState(0),[i,o]=j.useState(!1);j.useEffect(()=>{const f=()=>{n(!0),l()},p=()=>{n(!1)};l(),window.addEventListener("online",f),window.addEventListener("offline",p);const g=setInterval(l,3e4);return()=>{window.removeEventListener("online",f),window.removeEventListener("offline",p),clearInterval(g)}},[]);const l=async()=>{try{const f=await VC.getPendingActions();a(f.length)}catch(f){console.error(" Failed to get pending actions:",f)}},u=()=>{navigator.onLine&&window.location.reload()},m=()=>{o(!i)};return r&&s===0?null:e.jsxs("div",{className:He("fixed top-4 left-4 z-40",t),children:[e.jsxs("div",{className:He("flex items-center gap-2 px-3 py-2 rounded-lg backdrop-blur-lg border transition-all duration-300 cursor-pointer",r?"bg-yellow-900/90 border-yellow-500/30 text-yellow-200":"bg-red-900/90 border-red-500/30 text-red-200"),onClick:m,"data-testid":"offline-indicator",children:[r?e.jsx(VF,{className:"h-4 w-4 text-yellow-400"}):e.jsx(UF,{className:"h-4 w-4 text-red-400"}),e.jsx("span",{className:"text-sm font-medium",children:r?s>0?`${s} syncing...`:"Online":"Offline"}),!r&&e.jsx(V,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 ml-1 text-red-300 hover:text-red-100 hover:bg-red-700/50",onClick:f=>{f.stopPropagation(),u()},"data-testid":"button-retry-connection",children:e.jsx(wn,{className:"h-3 w-3"})})]}),i&&e.jsxs("div",{className:"mt-2 p-3 bg-black/90 backdrop-blur-lg border border-white/10 rounded-lg text-sm max-w-xs",children:[e.jsx("h4",{className:"font-semibold text-white mb-2",children:"Connection Status"}),e.jsxs("div",{className:"space-y-2 text-white/70",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Status:"}),e.jsx("span",{className:r?"text-yellow-400":"text-red-400",children:r?"Online":"Offline"})]}),s>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Pending sync:"}),e.jsxs("span",{className:"text-yellow-400",children:[s," actions"]})]}),e.jsx("div",{className:"pt-2 border-t border-white/10",children:e.jsx("p",{className:"text-xs text-white/50",children:r?"Your actions will sync automatically":"Actions are saved locally and will sync when you're back online"})})]})]})]})}const Ue=j.forwardRef(({className:t,type:r,...n},s)=>e.jsx("input",{type:r,className:He("flex h-10 w-full rounded-md border border-input bg-background text-foreground px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n}));Ue.displayName="Input";var xee=j.createContext(void 0);function Eg(t){const r=j.useContext(xee);return t||r||"ltr"}function KC(t,[r,n]){return Math.min(n,Math.max(r,t))}function gee(t,r){return j.useReducer((n,s)=>r[n][s]??n,t)}var NP="ScrollArea",[cz]=ga(NP),[vee,xo]=cz(NP),dz=j.forwardRef((t,r)=>{const{__scopeScrollArea:n,type:s="hover",dir:a,scrollHideDelay:i=600,...o}=t,[l,u]=j.useState(null),[m,f]=j.useState(null),[p,g]=j.useState(null),[b,y]=j.useState(null),[_,w]=j.useState(null),[k,A]=j.useState(0),[P,O]=j.useState(0),[I,D]=j.useState(!1),[F,B]=j.useState(!1),H=_r(r,G=>u(G)),re=Eg(a);return e.jsx(vee,{scope:n,type:s,dir:re,scrollHideDelay:i,scrollArea:l,viewport:m,onViewportChange:f,content:p,onContentChange:g,scrollbarX:b,onScrollbarXChange:y,scrollbarXEnabled:I,onScrollbarXEnabledChange:D,scrollbarY:_,onScrollbarYChange:w,scrollbarYEnabled:F,onScrollbarYEnabledChange:B,onCornerWidthChange:A,onCornerHeightChange:O,children:e.jsx(Vt.div,{dir:re,...o,ref:H,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":P+"px",...t.style}})})});dz.displayName=NP;var uz="ScrollAreaViewport",hz=j.forwardRef((t,r)=>{const{__scopeScrollArea:n,children:s,nonce:a,...i}=t,o=xo(uz,n),l=j.useRef(null),u=_r(r,l,o.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(Vt.div,{"data-radix-scroll-area-viewport":"",...i,ref:u,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});hz.displayName=uz;var Rl="ScrollAreaScrollbar",SP=j.forwardRef((t,r)=>{const{forceMount:n,...s}=t,a=xo(Rl,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=t.orientation==="horizontal";return j.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?e.jsx(yee,{...s,ref:r,forceMount:n}):a.type==="scroll"?e.jsx(bee,{...s,ref:r,forceMount:n}):a.type==="auto"?e.jsx(mz,{...s,ref:r,forceMount:n}):a.type==="always"?e.jsx(CP,{...s,ref:r}):null});SP.displayName=Rl;var yee=j.forwardRef((t,r)=>{const{forceMount:n,...s}=t,a=xo(Rl,t.__scopeScrollArea),[i,o]=j.useState(!1);return j.useEffect(()=>{const l=a.scrollArea;let u=0;if(l){const m=()=>{window.clearTimeout(u),o(!0)},f=()=>{u=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",m),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",m),l.removeEventListener("pointerleave",f)}}},[a.scrollArea,a.scrollHideDelay]),e.jsx(la,{present:n||i,children:e.jsx(mz,{"data-state":i?"visible":"hidden",...s,ref:r})})}),bee=j.forwardRef((t,r)=>{const{forceMount:n,...s}=t,a=xo(Rl,t.__scopeScrollArea),i=t.orientation==="horizontal",o=tj(()=>u("SCROLL_END"),100),[l,u]=gee("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return j.useEffect(()=>{if(l==="idle"){const m=window.setTimeout(()=>u("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(m)}},[l,a.scrollHideDelay,u]),j.useEffect(()=>{const m=a.viewport,f=i?"scrollLeft":"scrollTop";if(m){let p=m[f];const g=()=>{const b=m[f];p!==b&&(u("SCROLL"),o()),p=b};return m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[a.viewport,i,u,o]),e.jsx(la,{present:n||l!=="hidden",children:e.jsx(CP,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:r,onPointerEnter:wt(t.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:wt(t.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),mz=j.forwardRef((t,r)=>{const n=xo(Rl,t.__scopeScrollArea),{forceMount:s,...a}=t,[i,o]=j.useState(!1),l=t.orientation==="horizontal",u=tj(()=>{if(n.viewport){const m=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?m:f)}},10);return Um(n.viewport,u),Um(n.content,u),e.jsx(la,{present:s||i,children:e.jsx(CP,{"data-state":i?"visible":"hidden",...a,ref:r})})}),CP=j.forwardRef((t,r)=>{const{orientation:n="vertical",...s}=t,a=xo(Rl,t.__scopeScrollArea),i=j.useRef(null),o=j.useRef(0),[l,u]=j.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=vz(l.viewport,l.content),f={...s,sizes:l,onSizesChange:u,hasThumb:m>0&&m<1,onThumbChange:g=>i.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g};function p(g,b){return Cee(g,o.current,l,b)}return n==="horizontal"?e.jsx(jee,{...f,ref:r,onThumbPositionChange:()=>{if(a.viewport&&i.current){const g=a.viewport.scrollLeft,b=SI(g,l,a.dir);i.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:g=>{a.viewport&&(a.viewport.scrollLeft=g)},onDragScroll:g=>{a.viewport&&(a.viewport.scrollLeft=p(g,a.dir))}}):n==="vertical"?e.jsx(wee,{...f,ref:r,onThumbPositionChange:()=>{if(a.viewport&&i.current){const g=a.viewport.scrollTop,b=SI(g,l);i.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:g=>{a.viewport&&(a.viewport.scrollTop=g)},onDragScroll:g=>{a.viewport&&(a.viewport.scrollTop=p(g))}}):null}),jee=j.forwardRef((t,r)=>{const{sizes:n,onSizesChange:s,...a}=t,i=xo(Rl,t.__scopeScrollArea),[o,l]=j.useState(),u=j.useRef(null),m=_r(r,u,i.onScrollbarXChange);return j.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),e.jsx(pz,{"data-orientation":"horizontal",...a,ref:m,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ej(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,p)=>{if(i.viewport){const g=i.viewport.scrollLeft+f.deltaX;t.onWheelScroll(g),bz(g,p)&&f.preventDefault()}},onResize:()=>{u.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:f0(o.paddingLeft),paddingEnd:f0(o.paddingRight)}})}})}),wee=j.forwardRef((t,r)=>{const{sizes:n,onSizesChange:s,...a}=t,i=xo(Rl,t.__scopeScrollArea),[o,l]=j.useState(),u=j.useRef(null),m=_r(r,u,i.onScrollbarYChange);return j.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),e.jsx(pz,{"data-orientation":"vertical",...a,ref:m,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ej(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,p)=>{if(i.viewport){const g=i.viewport.scrollTop+f.deltaY;t.onWheelScroll(g),bz(g,p)&&f.preventDefault()}},onResize:()=>{u.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:f0(o.paddingTop),paddingEnd:f0(o.paddingBottom)}})}})}),[_ee,fz]=cz(Rl),pz=j.forwardRef((t,r)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:m,onWheelScroll:f,onResize:p,...g}=t,b=xo(Rl,n),[y,_]=j.useState(null),w=_r(r,H=>_(H)),k=j.useRef(null),A=j.useRef(""),P=b.viewport,O=s.content-s.viewport,I=gs(f),D=gs(u),F=tj(p,10);function B(H){if(k.current){const re=H.clientX-k.current.left,G=H.clientY-k.current.top;m({x:re,y:G})}}return j.useEffect(()=>{const H=re=>{const G=re.target;y?.contains(G)&&I(re,O)};return document.addEventListener("wheel",H,{passive:!1}),()=>document.removeEventListener("wheel",H,{passive:!1})},[P,y,O,I]),j.useEffect(D,[s,D]),Um(y,F),Um(b.content,F),e.jsx(_ee,{scope:n,scrollbar:y,hasThumb:a,onThumbChange:gs(i),onThumbPointerUp:gs(o),onThumbPositionChange:D,onThumbPointerDown:gs(l),children:e.jsx(Vt.div,{...g,ref:w,style:{position:"absolute",...g.style},onPointerDown:wt(t.onPointerDown,H=>{H.button===0&&(H.target.setPointerCapture(H.pointerId),k.current=y.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),B(H))}),onPointerMove:wt(t.onPointerMove,B),onPointerUp:wt(t.onPointerUp,H=>{const re=H.target;re.hasPointerCapture(H.pointerId)&&re.releasePointerCapture(H.pointerId),document.body.style.webkitUserSelect=A.current,b.viewport&&(b.viewport.style.scrollBehavior=""),k.current=null})})})}),m0="ScrollAreaThumb",xz=j.forwardRef((t,r)=>{const{forceMount:n,...s}=t,a=fz(m0,t.__scopeScrollArea);return e.jsx(la,{present:n||a.hasThumb,children:e.jsx(Nee,{ref:r,...s})})}),Nee=j.forwardRef((t,r)=>{const{__scopeScrollArea:n,style:s,...a}=t,i=xo(m0,n),o=fz(m0,n),{onThumbPositionChange:l}=o,u=_r(r,p=>o.onThumbChange(p)),m=j.useRef(void 0),f=tj(()=>{m.current&&(m.current(),m.current=void 0)},100);return j.useEffect(()=>{const p=i.viewport;if(p){const g=()=>{if(f(),!m.current){const b=kee(p,l);m.current=b,l()}};return l(),p.addEventListener("scroll",g),()=>p.removeEventListener("scroll",g)}},[i.viewport,f,l]),e.jsx(Vt.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:wt(t.onPointerDownCapture,p=>{const b=p.target.getBoundingClientRect(),y=p.clientX-b.left,_=p.clientY-b.top;o.onThumbPointerDown({x:y,y:_})}),onPointerUp:wt(t.onPointerUp,o.onThumbPointerUp)})});xz.displayName=m0;var kP="ScrollAreaCorner",gz=j.forwardRef((t,r)=>{const n=xo(kP,t.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?e.jsx(See,{...t,ref:r}):null});gz.displayName=kP;var See=j.forwardRef((t,r)=>{const{__scopeScrollArea:n,...s}=t,a=xo(kP,n),[i,o]=j.useState(0),[l,u]=j.useState(0),m=!!(i&&l);return Um(a.scrollbarX,()=>{const f=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(f),u(f)}),Um(a.scrollbarY,()=>{const f=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(f),o(f)}),m?e.jsx(Vt.div,{...s,ref:r,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function f0(t){return t?parseInt(t,10):0}function vz(t,r){const n=t/r;return isNaN(n)?0:n}function ej(t){const r=vz(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-n)*r;return Math.max(s,18)}function Cee(t,r,n,s="ltr"){const a=ej(n),i=a/2,o=r||i,l=a-o,u=n.scrollbar.paddingStart+o,m=n.scrollbar.size-n.scrollbar.paddingEnd-l,f=n.content-n.viewport,p=s==="ltr"?[0,f]:[f*-1,0];return yz([u,m],p)(t)}function SI(t,r,n="ltr"){const s=ej(r),a=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,i=r.scrollbar.size-a,o=r.content-r.viewport,l=i-s,u=n==="ltr"?[0,o]:[o*-1,0],m=KC(t,u);return yz([0,o],[0,l])(m)}function yz(t,r){return n=>{if(t[0]===t[1]||r[0]===r[1])return r[0];const s=(r[1]-r[0])/(t[1]-t[0]);return r[0]+s*(n-t[0])}}function bz(t,r){return t>0&&t<r}var kee=(t,r=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},s=0;return(function a(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&r(),n=i,s=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(s)};function tj(t,r){const n=gs(t),s=j.useRef(0);return j.useEffect(()=>()=>window.clearTimeout(s.current),[]),j.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,r)},[n,r])}function Um(t,r){const n=gs(r);Es(()=>{let s=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return a.observe(t),()=>{window.cancelAnimationFrame(s),a.unobserve(t)}}},[t,n])}var jz=dz,Aee=hz,Pee=gz;const eh=j.forwardRef(({className:t,children:r,...n},s)=>e.jsxs(jz,{ref:s,className:He("relative overflow-hidden",t),...n,children:[e.jsx(Aee,{className:"h-full w-full rounded-[inherit]",children:r}),e.jsx(wz,{}),e.jsx(Pee,{})]}));eh.displayName=jz.displayName;const wz=j.forwardRef(({className:t,orientation:r="vertical",...n},s)=>e.jsx(SP,{ref:s,orientation:r,className:He("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:e.jsx(xz,{className:"relative flex-1 rounded-full bg-border"})}));wz.displayName=SP.displayName;var Tee="Separator",CI="horizontal",Eee=["horizontal","vertical"],_z=j.forwardRef((t,r)=>{const{decorative:n,orientation:s=CI,...a}=t,i=Oee(s)?s:CI,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(Vt.div,{"data-orientation":i,...l,...a,ref:r})});_z.displayName=Tee;function Oee(t){return Eee.includes(t)}var Nz=_z;const Tn=j.forwardRef(({className:t,orientation:r="horizontal",decorative:n=!0,...s},a)=>e.jsx(Nz,{ref:a,decorative:n,orientation:r,className:He("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...s}));Tn.displayName=Nz.displayName;function Iee(){const[t,r]=j.useState(!1),[n,s]=j.useState([{id:"1",content:"Welcome to BoyFanz AI Assistant! I can help you with platform questions, tutorials, and walkthroughs. What would you like to know?",sender:"ai",timestamp:new Date}]),[a,i]=j.useState(""),[o,l]=j.useState(!1),u=[{icon:ZA,label:"Platform Help",action:"help"},{icon:Yu,label:"AI Wiki",action:"wiki"},{icon:Vd,label:"Tutorials",action:"tutorials"}],m=async()=>{if(!a.trim())return;const g={id:Date.now().toString(),content:a,sender:"user",timestamp:new Date};s(b=>[...b,g]),i(""),l(!0),setTimeout(()=>{const b={id:(Date.now()+1).toString(),content:p(a),sender:"ai",timestamp:new Date};s(y=>[...y,b]),l(!1)},1500)},f=g=>{let b="";switch(g){case"help":b="How can I help you with the BoyFanz platform?";break;case"wiki":b="Show me information from the AI wiki";break;case"tutorials":b="I need help with tutorials and walkthroughs";break}i(b)},p=g=>{const b=g.toLowerCase();return b.includes("help")||b.includes("support")?"I can help you with account setup, content creation, earnings, compliance, and more. What specific area do you need assistance with?":b.includes("wiki")||b.includes("information")?"The AI Wiki contains comprehensive information about platform features, policies, and best practices. You can access creator guides, fan tutorials, compliance requirements, and technical documentation.":b.includes("tutorial")||b.includes("walkthrough")?"Our AI-assisted tutorials cover: Account Setup, Content Creation, Monetization Strategies, Compliance Guidelines, Fan Engagement, and Analytics. Which tutorial would you like to start with?":b.includes("earnings")||b.includes("money")||b.includes("payout")?"For earnings questions: Check your dashboard for real-time stats, set up direct deposit in Settings, and view detailed analytics. Payouts are processed within 24-48 hours.":b.includes("upload")||b.includes("content")?"To upload content: Go to Media section, ensure all content meets compliance guidelines, add proper tags and descriptions, and set appropriate pricing if applicable.":"I understand you need assistance. Could you be more specific about what you'd like to know? I can help with platform features, tutorials, compliance, earnings, and more."};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:t?e.jsxs(Y,{className:He("w-80 h-96 bg-card/95 backdrop-blur-sm border-red-500/30","shadow-2xl neon-border"),children:[e.jsxs(ue,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(fe,{className:"text-lg font-display seedy-neon-red",children:"AI ASSISTANT"}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>r(!1),className:"h-8 w-8 hover:bg-red-500/20","data-testid":"ai-chatbot-close","aria-label":"Close AI Assistant",children:e.jsx(Il,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex gap-1 mt-2",children:u.map(g=>e.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>f(g.action),className:"h-8 px-2 text-xs hover:bg-red-500/20 seedy-neon-white","data-testid":`ai-quick-${g.action}`,children:[e.jsx(g.icon,{className:"h-3 w-3 mr-1"}),g.label]},g.action))})]}),e.jsx(Tn,{className:"bg-red-500/20"}),e.jsxs(ee,{className:"p-0 flex flex-col h-full",children:[e.jsx(eh,{className:"flex-1 p-4",children:e.jsxs("div",{className:"space-y-3",children:[n.map(g=>e.jsx("div",{className:He("flex",g.sender==="user"?"justify-end":"justify-start"),children:e.jsx("div",{className:He("max-w-[80%] rounded-lg p-3 text-sm",g.sender==="user"?"bg-red-600 text-white ml-auto":"bg-muted seedy-neon-white mr-auto"),"data-testid":`message-${g.sender}-${g.id}`,children:g.content})},g.id)),o&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-muted rounded-lg p-3 text-sm seedy-neon-white",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]})}),e.jsx("div",{className:"p-4 pt-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ue,{value:a,onChange:g=>i(g.target.value),placeholder:"Ask me anything...",className:"flex-1 club-input",onKeyPress:g=>g.key==="Enter"&&m(),"data-testid":"ai-chat-input"}),e.jsx(V,{onClick:m,size:"icon",disabled:!a.trim()||o,className:"bg-red-600 hover:bg-red-700","data-testid":"ai-chat-send",children:e.jsx(ei,{className:"h-4 w-4"})})]})})]})]}):e.jsxs(V,{onClick:()=>r(!0),size:"icon",className:He("h-14 w-14 rounded-full shadow-lg transition-all duration-300","bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800","border-2 border-red-500/50","glow-effect hover:shadow-xl hover:scale-110"),"data-testid":"ai-chatbot-toggle","aria-label":"Open AI Assistant",children:[e.jsx(Pn,{className:"h-6 w-6 text-white"}),e.jsx("div",{className:"absolute -top-1 -right-1 h-4 w-4 bg-yellow-500 rounded-full animate-pulse"})]})})})}function Mee(){const[,t]=js(),r=()=>{t("/auth/login")},n=()=>{t("/auth/fanz-signup")},s=()=>{t("/auth/starz-signup")};return e.jsxs("div",{className:"min-h-screen bg-background text-foreground homepage-bg","data-testid":"landing-page",children:[e.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),e.jsxs("main",{id:"main-content",className:"relative overflow-hidden",role:"main","aria-label":"BoyFanz platform introduction",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 via-secondary/10 to-accent/10"}),e.jsx("div",{className:"absolute inset-0 bg-black/40"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-12",children:e.jsx("img",{src:"/boyfanz-logo.png",alt:"BoyFanz - Every Man's Playground logo",className:"h-48 md:h-64 w-auto glow-effect rounded-lg transform hover:scale-105 transition-all duration-300",style:{filter:"drop-shadow(0 0 20px rgba(255, 0, 0, 0.4)) drop-shadow(0 0 40px rgba(255, 0, 0, 0.2))",boxShadow:"0 0 30px rgba(255, 0, 0, 0.3), 0 0 60px rgba(255, 0, 0, 0.1)"},role:"img","data-testid":"boyfanz-logo-enhanced"})}),e.jsxs("p",{className:"text-2xl mb-8 max-w-2xl mx-auto",children:[e.jsx("span",{className:"text-5xl font-display font-black seedy-neon-golden block mb-3 tracking-wide uppercase",children:"Every Man's Playground"}),e.jsx("span",{className:"font-body seedy-neon-white",children:"The ultimate creator economy platform. Upload, monetize, and connect with your fans while maintaining full compliance and security."})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 justify-center items-center mb-8",children:[e.jsxs("div",{className:"text-center p-6 rounded-lg bg-card/40 border border-red-500/30 glow-effect hover:bg-card/60 transition-all duration-300",children:[e.jsx(lr,{className:"h-8 w-8 text-red-500 mx-auto mb-3"}),e.jsx("h3",{className:"text-xl font-display seedy-neon-red mb-2",children:"JOIN AS A FAN"}),e.jsx("p",{className:"text-sm seedy-neon-white mb-4 max-w-xs",children:"Discover and support your favorite creators. Access exclusive content and connect with the community."}),e.jsx(V,{onClick:n,size:"lg",className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold neon-button","data-testid":"fan-signup-button",children:"Fan Sign Up"})]}),e.jsxs("div",{className:"text-center p-6 rounded-lg bg-card/40 border border-yellow-500/30 hover:bg-card/60 transition-all duration-300",style:{boxShadow:"0 0 15px rgba(212, 175, 55, 0.2)"},children:[e.jsx(An,{className:"h-8 w-8 text-yellow-500 mx-auto mb-3"}),e.jsx("h3",{className:"text-xl font-display seedy-neon-golden mb-2",children:"BECOME A STAR"}),e.jsx("p",{className:"text-sm seedy-neon-white mb-4 max-w-xs",children:"Monetize your content and build your empire. Professional tools for serious creators."}),e.jsx(V,{onClick:s,size:"lg",className:"w-full bg-gradient-to-r from-yellow-600 to-yellow-700 hover:from-yellow-700 hover:to-yellow-800 text-black font-semibold gold-button","data-testid":"star-signup-button",children:"Star Sign Up"})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(V,{onClick:r,variant:"outline",size:"lg",className:"border-red-500/50 hover:bg-red-500/10 text-red-400 hover:text-red-300 font-semibold px-8 py-3 transition-all duration-300","data-testid":"login-button",children:[e.jsx(IF,{className:"h-5 w-5 mr-2"}),"Already Have An Account? Login"]})})]})})]}),e.jsx("section",{className:"py-24 bg-card/30 club-glow","aria-label":"Platform features",role:"region",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-5xl font-bold font-heading mb-4 tracking-tight seedy-neon-red",children:"Everything You Need to Succeed"}),e.jsx("p",{className:"text-2xl font-body seedy-neon-white",children:"Powerful tools for the modern creator economy"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[e.jsx(Y,{className:"bg-card border-border",children:e.jsxs(ue,{children:[e.jsx("div",{className:"h-12 w-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4",children:e.jsx(zi,{className:"text-primary h-6 w-6"})}),e.jsx(fe,{className:"seedy-neon-red",children:"Secure Media Upload"}),e.jsx(lt,{className:"seedy-neon-white",children:"Upload and store your content securely with enterprise-grade encryption and compliance features."})]})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsxs(ue,{children:[e.jsx("div",{className:"h-12 w-12 bg-secondary/10 rounded-lg flex items-center justify-center mb-4",children:e.jsx(Mr,{className:"text-secondary h-6 w-6"})}),e.jsx(fe,{className:"seedy-neon-blue",children:"KYC Compliance"}),e.jsx(lt,{className:"seedy-neon-white",children:"Built-in identity verification and compliance tools to meet regulatory requirements."})]})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsxs(ue,{children:[e.jsx("div",{className:"h-12 w-12 bg-accent/10 rounded-lg flex items-center justify-center mb-4",children:e.jsx(qr,{className:"text-accent h-6 w-6"})}),e.jsx(fe,{className:"seedy-neon-golden",children:"Instant Payouts"}),e.jsx(lt,{className:"seedy-neon-white",children:"Get paid quickly with our streamlined payout system and multiple payment options."})]})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsxs(ue,{children:[e.jsx("div",{className:"h-12 w-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4",children:e.jsx(lr,{className:"text-primary h-6 w-6"})}),e.jsx(fe,{className:"seedy-neon-red",children:"Fan Management"}),e.jsx(lt,{className:"seedy-neon-white",children:"Connect with your audience and build lasting relationships with powerful fan management tools."})]})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsxs(ue,{children:[e.jsx("div",{className:"h-12 w-12 bg-secondary/10 rounded-lg flex items-center justify-center mb-4",children:e.jsx(yn,{className:"text-secondary h-6 w-6"})}),e.jsx(fe,{className:"seedy-neon-blue",children:"Analytics & Insights"}),e.jsx(lt,{className:"seedy-neon-white",children:"Track your performance with detailed analytics and insights to grow your business."})]})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsxs(ue,{children:[e.jsx("div",{className:"h-12 w-12 bg-accent/10 rounded-lg flex items-center justify-center mb-4",children:e.jsx(HZ,{className:"text-accent h-6 w-6"})}),e.jsx(fe,{className:"seedy-neon-golden",children:"Real-time Updates"}),e.jsx(lt,{className:"seedy-neon-white",children:"Stay connected with real-time notifications and live updates on your content and earnings."})]})})]})]})}),e.jsx("section",{className:"py-24 bg-gradient-to-br from-red-900/10 via-black/50 to-yellow-900/10","aria-label":"AI tutorials and help",role:"region",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-5xl font-bold font-display mb-4 tracking-tight seedy-neon-red",children:"AI ASSISTED TUTORIALS"}),e.jsx("p",{className:"text-2xl font-body seedy-neon-white mb-8",children:"Get instant help and guidance powered by advanced AI"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(Y,{className:"bg-card/40 border-red-500/30 hover:bg-card/60 transition-all duration-300 glow-effect",children:e.jsxs(ue,{className:"text-center",children:[e.jsx("div",{className:"h-16 w-16 bg-red-500/20 rounded-lg flex items-center justify-center mb-4 mx-auto",children:e.jsx(fi,{className:"h-8 w-8 text-red-500"})}),e.jsx(fe,{className:"seedy-neon-red text-lg",children:"AI CHAT SUPPORT"}),e.jsx(lt,{className:"seedy-neon-white text-sm",children:"Get instant answers to any platform questions with our intelligent AI assistant."})]})}),e.jsx(Y,{className:"bg-card/40 border-yellow-500/30 hover:bg-card/60 transition-all duration-300",style:{boxShadow:"0 0 10px rgba(212, 175, 55, 0.1)"},children:e.jsxs(ue,{className:"text-center",children:[e.jsx("div",{className:"h-16 w-16 bg-yellow-500/20 rounded-lg flex items-center justify-center mb-4 mx-auto",children:e.jsx(oY,{className:"h-8 w-8 text-yellow-500"})}),e.jsx(fe,{className:"seedy-neon-golden text-lg",children:"INTERACTIVE GUIDES"}),e.jsx(lt,{className:"seedy-neon-white text-sm",children:"Step-by-step walkthroughs for content creation, monetization, and platform mastery."})]})}),e.jsx(Y,{className:"bg-card/40 border-red-500/30 hover:bg-card/60 transition-all duration-300 glow-effect",children:e.jsxs(ue,{className:"text-center",children:[e.jsx("div",{className:"h-16 w-16 bg-red-500/20 rounded-lg flex items-center justify-center mb-4 mx-auto",children:e.jsx(Vd,{className:"h-8 w-8 text-red-500"})}),e.jsx(fe,{className:"seedy-neon-red text-lg",children:"QUICK START"}),e.jsx(lt,{className:"seedy-neon-white text-sm",children:"Rapid onboarding tutorials to get you earning and creating within minutes."})]})}),e.jsx(Y,{className:"bg-card/40 border-yellow-500/30 hover:bg-card/60 transition-all duration-300",style:{boxShadow:"0 0 10px rgba(212, 175, 55, 0.1)"},children:e.jsxs(ue,{className:"text-center",children:[e.jsx("div",{className:"h-16 w-16 bg-yellow-500/20 rounded-lg flex items-center justify-center mb-4 mx-auto",children:e.jsx(lr,{className:"h-8 w-8 text-yellow-500"})}),e.jsx(fe,{className:"seedy-neon-golden text-lg",children:"COMMUNITY WIKI"}),e.jsx(lt,{className:"seedy-neon-white text-sm",children:"Access our comprehensive knowledge base with tips, tricks, and best practices."})]})})]}),e.jsxs("div",{className:"text-center mt-12",children:[e.jsx("p",{className:"text-lg seedy-neon-white mb-6",children:"Need help right now? Our AI assistant is available 24/7 in the bottom-right corner!"}),e.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[e.jsx(fi,{className:"h-5 w-5 text-red-500 animate-pulse"}),e.jsx("span",{className:"text-sm seedy-neon-red font-display",children:"CLICK THE AI BUBBLE FOR INSTANT HELP"})]})]})]})}),e.jsx("section",{className:"py-24","aria-label":"Call to action",role:"region",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-5xl font-bold font-heading mb-6 tracking-tight seedy-neon-red",children:"Ready to Start Your Journey?"}),e.jsxs("p",{className:"text-2xl mb-8 font-body seedy-neon-white",children:["Join thousands of creators who are already building their empire on ",e.jsx("span",{className:"font-display font-black seedy-neon-golden tracking-wide",children:"BoyFanz"}),"."]}),e.jsx(V,{onClick:r,size:"lg",className:"glow-effect font-semibold text-lg px-8 py-4","data-testid":"cta-login-button",children:"Start Creating Today"})]})}),e.jsx("footer",{className:"bg-white/95 backdrop-blur-sm border-t border-gray-200 py-8",role:"contentinfo","aria-label":"Site footer with legal information",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("a",{href:"/compliance",className:"block text-sm text-gray-600 hover:text-gray-800",children:"Terms & Conditions"}),e.jsx("a",{href:"/blog",className:"block text-sm text-gray-600 hover:text-gray-800",children:"About Us"}),e.jsx("a",{href:"/compliance",className:"block text-sm text-gray-600 hover:text-gray-800",children:"Cookies Policy"}),e.jsx("a",{href:"/contact",className:"block text-sm text-gray-600 hover:text-gray-800",children:"Complaint Policy"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("a",{href:"/compliance",className:"block text-sm text-gray-600 hover:text-gray-800",children:"Privacy & Age Verification"}),e.jsx("a",{href:"/compliance",className:"block text-sm text-gray-600 hover:text-gray-800",children:"Content Management Policy and Data Governance Procedures"}),e.jsx("a",{href:"/compliance",className:"block text-sm text-gray-600 hover:text-gray-800",children:"Legal Library & Ethics Policy"}),e.jsx("a",{href:"/compliance",className:"block text-sm text-gray-600 hover:text-gray-800",children:"Cancellation Policy"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("a",{href:"/release-forms",className:"block text-sm text-gray-600 hover:text-gray-800",children:"Adult Star Model Release: 2257 and Agreement with Fanz Unlimited Network LLC"}),e.jsx("a",{href:"/compliance",className:"block text-sm text-gray-600 hover:text-gray-800",children:"Transaction/Chargeback Policy"}),e.jsx("a",{href:"/contact",className:"block text-sm text-gray-600 hover:text-gray-800",children:"Want to Request a New Feature?"}),e.jsx("a",{href:"/contact",className:"block text-sm text-gray-600 hover:text-gray-800",children:"Contact us"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("a",{href:"/release-forms",className:"block text-sm text-gray-600 hover:text-gray-800",children:"Adult Co-Star Model Release: 2257 and Agreement with Fanz Unlimited Network LLC"}),e.jsx("a",{href:"/contact",className:"block text-sm text-gray-600 hover:text-gray-800",children:"Tech Support"}),e.jsx("a",{href:"/subscriptions",className:"block text-sm text-gray-600 hover:text-gray-800",children:"Become a VIP"}),e.jsx("a",{href:"/blog",className:"block text-sm text-gray-600 hover:text-gray-800",children:"Blog"})]})]}),e.jsx("div",{className:"text-center mb-4",children:e.jsx("p",{className:"text-xs text-gray-500",children:" 2025 BoyFanz. All rights reserved. FANZ (FANZ) L.L.C. - Address: 30 N Gould St #45302 Sheridan, Wyoming United States"})}),e.jsx("div",{className:"flex justify-center items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"PROTECTED BY:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"bg-green-500 text-white px-2 py-1 text-xs font-bold rounded",children:"DMCA"}),e.jsx("span",{className:"text-xs text-gray-600",children:"DMCA.com COMPLIANT"})]})]})})]})}),e.jsx(Iee,{})]})}const Dee=Pf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ce({className:t,variant:r,...n}){return e.jsx("div",{className:He(Dee({variant:r}),t),...n})}function kI(t){if(!t)return"Unknown";const r=new Date,n=new Date(t),s=r.getTime()-n.getTime(),a=Math.floor(s/(1e3*60)),i=Math.floor(a/60),o=Math.floor(i/24);return a<1?"Just now":a<60?`${a}m ago`:i<24?`${i}h ago`:o<7?`${o}d ago`:n.toLocaleDateString()}function Ree(){kr();const{data:t,isLoading:r}=Ve({queryKey:["/api/dashboard/stats"]}),{data:n,isLoading:s}=Ve({queryKey:["/api/media"],select:u=>Array.isArray(u)?u.slice(0,3):[]}),{data:a,isLoading:i}=Ve({queryKey:["/api/notifications"],select:u=>Array.isArray(u)?u.slice(0,4):[]}),o=u=>{switch(u){case"approved":return"bg-accent text-accent-foreground";case"pending":return"bg-yellow-500 text-yellow-50";case"rejected":return"bg-destructive text-destructive-foreground";default:return"bg-muted text-muted-foreground"}},l=u=>{switch(u){case"payout":return"fas fa-dollar-sign";case"moderation":return"fas fa-check";case"kyc":return"fas fa-shield-alt";case"fan_activity":return"fas fa-user-plus";default:return"fas fa-info-circle"}};return e.jsxs("div",{className:"space-y-8","data-testid":"dashboard",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(Y,{className:"bg-card border-border",children:e.jsxs(ee,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-bold","data-testid":"total-revenue",children:["$",r?"...":(t?.totalRevenue||0).toLocaleString()]})]}),e.jsx("div",{className:"h-12 w-12 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(qr,{className:"text-primary h-6 w-6"})})]}),e.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[e.jsx(Vy,{className:"text-accent h-4 w-4 mr-1"}),e.jsx("span",{className:"text-accent",children:"+12.5%"}),e.jsx("span",{className:"text-muted-foreground ml-1",children:"from last month"})]})]})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsxs(ee,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Fans"}),e.jsx("p",{className:"text-2xl font-bold","data-testid":"active-fans",children:r?"...":(t?.activeFans||0).toLocaleString()})]}),e.jsx("div",{className:"h-12 w-12 bg-secondary/10 rounded-lg flex items-center justify-center",children:e.jsx(lr,{className:"text-secondary h-6 w-6"})})]}),e.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[e.jsx(Vy,{className:"text-accent h-4 w-4 mr-1"}),e.jsx("span",{className:"text-accent",children:"+8.2%"}),e.jsx("span",{className:"text-muted-foreground ml-1",children:"new this week"})]})]})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsxs(ee,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Content Views"}),e.jsx("p",{className:"text-2xl font-bold","data-testid":"content-views",children:r?"...":`${Math.floor((t?.contentViews||0)/1e3)}K`})]}),e.jsx("div",{className:"h-12 w-12 bg-accent/10 rounded-lg flex items-center justify-center",children:e.jsx(pr,{className:"text-accent h-6 w-6"})})]}),e.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[e.jsx(Vy,{className:"text-accent h-4 w-4 mr-1"}),e.jsx("span",{className:"text-accent",children:"+23.1%"}),e.jsx("span",{className:"text-muted-foreground ml-1",children:"engagement up"})]})]})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsxs(ee,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Reviews"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-500","data-testid":"pending-reviews",children:r?"...":t?.pendingReviews||0})]}),e.jsx("div",{className:"h-12 w-12 bg-yellow-500/10 rounded-lg flex items-center justify-center",children:e.jsx(wr,{className:"text-yellow-500 h-6 w-6"})})]}),e.jsx("div",{className:"mt-4 flex items-center text-sm",children:e.jsx("span",{className:"text-muted-foreground",children:"Awaiting moderation"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(Y,{className:"bg-card border-border",children:[e.jsx(ue,{className:"border-b border-border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(fe,{children:"Recent Uploads"}),e.jsx(_t,{href:"/media",children:e.jsx("a",{className:"text-primary hover:text-primary/80 text-sm font-medium","data-testid":"view-all-media",children:"View All"})})]})}),e.jsx(ee,{className:"p-6",children:s?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(u=>e.jsxs("div",{className:"flex items-center gap-4 animate-pulse",children:[e.jsx("div",{className:"h-16 w-16 bg-muted rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-muted rounded mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]},u))}):e.jsxs("div",{className:"space-y-4",children:[n?.map(u=>e.jsxs("div",{className:"flex items-center gap-4","data-testid":`media-item-${u.id}`,children:[e.jsx("div",{className:"h-16 w-16 bg-muted rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"fas fa-image text-muted-foreground"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium truncate","data-testid":`media-title-${u.id}`,children:u.title}),e.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`media-date-${u.id}`,children:kI(u.createdAt)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:o(u.status),"data-testid":`media-status-${u.id}`,children:u.status}),e.jsx(V,{variant:"ghost",size:"sm","data-testid":`media-options-${u.id}`,children:e.jsx("i",{className:"fas fa-ellipsis-h"})})]})]},u.id)),(!n||n.length===0)&&e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No media uploads yet"})]})})]}),e.jsxs(Y,{className:"bg-card border-border",children:[e.jsx(ue,{className:"border-b border-border",children:e.jsx(fe,{children:"Activity Feed"})}),e.jsx(ee,{className:"p-6",children:i?e.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(u=>e.jsxs("div",{className:"flex items-start gap-3 animate-pulse",children:[e.jsx("div",{className:"h-8 w-8 bg-muted rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-muted rounded mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/3"})]})]},u))}):e.jsxs("div",{className:"space-y-4",children:[a?.map(u=>e.jsxs("div",{className:"flex items-start gap-3","data-testid":`notification-${u.id}`,children:[e.jsx("div",{className:"h-8 w-8 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("i",{className:`${l(u.kind)} text-primary text-sm`})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm","data-testid":`notification-message-${u.id}`,children:u.payloadJson?.message||"Notification"}),e.jsx("p",{className:"text-xs text-muted-foreground","data-testid":`notification-time-${u.id}`,children:kI(u.createdAt)})]})]},u.id)),(!a||a.length===0)&&e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No recent activity"})]})})]})]}),e.jsxs(Y,{className:"bg-card border-border",children:[e.jsx(ue,{children:e.jsx(fe,{children:"Quick Actions"})}),e.jsx(ee,{children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(_t,{href:"/media",children:e.jsxs(V,{className:"glow-effect w-full justify-start gap-3 h-auto p-4","data-testid":"upload-content-button",children:[e.jsx(zi,{className:"h-5 w-5"}),e.jsx("span",{children:"Upload Content"})]})}),e.jsx(_t,{href:"/payouts",children:e.jsxs(V,{variant:"secondary",className:"w-full justify-start gap-3 h-auto p-4","data-testid":"request-payout-button",children:[e.jsx(vs,{className:"h-5 w-5"}),e.jsx("span",{children:"Request Payout"})]})}),e.jsx(_t,{href:"/compliance",children:e.jsxs(V,{variant:"outline",className:"w-full justify-start gap-3 h-auto p-4","data-testid":"view-compliance-button",children:[e.jsx(Cn,{className:"h-5 w-5"}),e.jsx("span",{children:"View Compliance"})]})}),e.jsx(_t,{href:"/settings",children:e.jsxs(V,{variant:"outline",className:"w-full justify-start gap-3 h-auto p-4","data-testid":"settings-button",children:[e.jsx(_c,{className:"h-5 w-5"}),e.jsx("span",{children:"Settings"})]})})]})})]})]})}function Lee(){return T8.useSyncExternalStore(Fee,()=>!0,()=>!1)}function Fee(){return()=>{}}var AP="Avatar",[$ee]=ga(AP),[zee,Sz]=$ee(AP),Cz=j.forwardRef((t,r)=>{const{__scopeAvatar:n,...s}=t,[a,i]=j.useState("idle");return e.jsx(zee,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:e.jsx(Vt.span,{...s,ref:r})})});Cz.displayName=AP;var kz="AvatarImage",Az=j.forwardRef((t,r)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:a=()=>{},...i}=t,o=Sz(kz,n),l=Bee(s,i),u=gs(m=>{a(m),o.onImageLoadingStatusChange(m)});return Es(()=>{l!=="idle"&&u(l)},[l,u]),l==="loaded"?e.jsx(Vt.img,{...i,ref:r,src:s}):null});Az.displayName=kz;var Pz="AvatarFallback",Tz=j.forwardRef((t,r)=>{const{__scopeAvatar:n,delayMs:s,...a}=t,i=Sz(Pz,n),[o,l]=j.useState(s===void 0);return j.useEffect(()=>{if(s!==void 0){const u=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(u)}},[s]),o&&i.imageLoadingStatus!=="loaded"?e.jsx(Vt.span,{...a,ref:r}):null});Tz.displayName=Pz;function AI(t,r){return t?r?(t.src!==r&&(t.src=r),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Bee(t,{referrerPolicy:r,crossOrigin:n}){const s=Lee(),a=j.useRef(null),i=s?(a.current||(a.current=new window.Image),a.current):null,[o,l]=j.useState(()=>AI(i,t));return Es(()=>{l(AI(i,t))},[i,t]),Es(()=>{const u=p=>()=>{l(p)};if(!i)return;const m=u("loaded"),f=u("error");return i.addEventListener("load",m),i.addEventListener("error",f),r&&(i.referrerPolicy=r),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",m),i.removeEventListener("error",f)}},[i,n,r]),o}var Ez=Cz,Oz=Az,Iz=Tz;const un=j.forwardRef(({className:t,...r},n)=>e.jsx(Ez,{ref:n,className:He("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...r}));un.displayName=Ez.displayName;const En=j.forwardRef(({className:t,...r},n)=>e.jsx(Oz,{ref:n,className:He("aspect-square h-full w-full",t),...r}));En.displayName=Oz.displayName;const hn=j.forwardRef(({className:t,...r},n)=>e.jsx(Iz,{ref:n,className:He("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r}));hn.displayName=Iz.displayName;const on=j.forwardRef(({className:t,...r},n)=>e.jsx("textarea",{className:He("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));on.displayName="Textarea";var PP="Progress",TP=100,[qee]=ga(PP),[Uee,Vee]=qee(PP),Mz=j.forwardRef((t,r)=>{const{__scopeProgress:n,value:s=null,max:a,getValueLabel:i=Kee,...o}=t;(a||a===0)&&!PI(a)&&console.error(Wee(`${a}`,"Progress"));const l=PI(a)?a:TP;s!==null&&!TI(s,l)&&console.error(Hee(`${s}`,"Progress"));const u=TI(s,l)?s:null,m=p0(u)?i(u,l):void 0;return e.jsx(Uee,{scope:n,value:u,max:l,children:e.jsx(Vt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":p0(u)?u:void 0,"aria-valuetext":m,role:"progressbar","data-state":Lz(u,l),"data-value":u??void 0,"data-max":l,...o,ref:r})})});Mz.displayName=PP;var Dz="ProgressIndicator",Rz=j.forwardRef((t,r)=>{const{__scopeProgress:n,...s}=t,a=Vee(Dz,n);return e.jsx(Vt.div,{"data-state":Lz(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:r})});Rz.displayName=Dz;function Kee(t,r){return`${Math.round(t/r*100)}%`}function Lz(t,r){return t==null?"indeterminate":t===r?"complete":"loading"}function p0(t){return typeof t=="number"}function PI(t){return p0(t)&&!isNaN(t)&&t>0}function TI(t,r){return p0(t)&&!isNaN(t)&&t<=r&&t>=0}function Wee(t,r){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${TP}\`.`}function Hee(t,r){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${TP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Fz=Mz,Gee=Rz;const bs=j.forwardRef(({className:t,value:r,...n},s)=>e.jsx(Fz,{ref:s,className:He("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:e.jsx(Gee,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}));bs.displayName=Fz.displayName;const EI=({type:t})=>{const n={photo:Pa,video:As,audio:$b,text:tP,reel:gi,story:wr,live:lr}[t]||Pa;return e.jsx(n,{className:"h-4 w-4"})},Zee=({post:t})=>{const{toast:r}=or(),n=ot({mutationFn:async()=>Ze("POST","/api/posts/like",{postId:t.id}),onSuccess:()=>{Rt.invalidateQueries({queryKey:["/api/feed"]}),r({title:"Liked!",description:"Added to your likes"})},onError:o=>{r({title:"Error",description:o.message,variant:"destructive"})}}),s=()=>{n.mutate()},a=o=>{const l=new Date(o),m=new Date().getTime()-l.getTime(),f=Math.floor(m/6e4),p=Math.floor(m/36e5),g=Math.floor(m/864e5);return f<60?`${f}m ago`:p<24?`${p}h ago`:`${g}d ago`},i=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(o/100);return e.jsxs(Y,{className:"overflow-hidden hover:shadow-lg transition-all duration-200 bg-card border-border","data-testid":`post-card-${t.id}`,children:[e.jsxs(ue,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_t,{href:`/creator/${t.creatorId}`,children:e.jsxs(un,{className:"h-10 w-10 cursor-pointer hover:ring-2 hover:ring-primary/20 transition-all",children:[e.jsx(En,{src:t.creator?.profileImageUrl}),e.jsx(hn,{className:"bg-primary/10 text-primary",children:t.creator?.username?.[0]?.toUpperCase()||"C"})]})}),e.jsxs("div",{children:[e.jsx(_t,{href:`/creator/${t.creatorId}`,children:e.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:text-primary transition-colors",children:[e.jsx("span",{className:"font-semibold text-sm","data-testid":`creator-name-${t.id}`,children:t.creator?.username||"Creator"}),t.creator?.isVerified&&e.jsx(ce,{variant:"secondary",className:"text-xs px-1 py-0",children:""})]})}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(EI,{type:t.type}),e.jsx("span",{className:"capitalize",children:t.type}),e.jsx("span",{children:""}),e.jsx("span",{"data-testid":`post-time-${t.id}`,children:a(t.createdAt)})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.visibility==="premium"&&e.jsx(ce,{variant:"outline",className:"text-xs bg-primary/10 text-primary border-primary/20",children:i(t.priceCents)}),t.visibility==="subscribers_only"&&e.jsx(ce,{variant:"outline",className:"text-xs bg-accent/10 text-accent border-accent/20",children:"Subscribers"}),e.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(Fb,{className:"h-4 w-4"})})]})]}),t.title&&e.jsx("h3",{className:"text-lg leading-tight font-semibold","data-testid":`post-title-${t.id}`,children:t.title})]}),e.jsxs(ee,{className:"pt-0",children:[t.content&&e.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-3","data-testid":`post-content-${t.id}`,children:t.content}),(t.thumbnailUrl||t.mediaUrls.length>0)&&e.jsx(_t,{href:`/post/${t.id}`,children:e.jsxs("div",{className:"relative aspect-video bg-gradient-to-br from-primary/10 to-accent/10 rounded-lg overflow-hidden cursor-pointer hover:opacity-95 transition-opacity group",children:[t.thumbnailUrl?e.jsx("img",{src:t.thumbnailUrl,alt:t.title||"Post media",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):t.mediaUrls[0]?e.jsx("img",{src:t.mediaUrls[0],alt:t.title||"Post media",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(EI,{type:t.type})}),t.type==="video"&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"bg-black/60 rounded-full p-4 group-hover:bg-black/80 transition-colors",children:e.jsx(gi,{className:"h-8 w-8 text-white fill-current"})})}),t.type==="live"&&e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx(ce,{className:"bg-red-500 text-white animate-pulse",children:"LIVE"})}),t.mediaUrls.length>1&&e.jsx("div",{className:"absolute top-3 right-3",children:e.jsxs(ce,{variant:"secondary",className:"text-xs",children:["+",t.mediaUrls.length-1]})})]})}),t.hashtags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mt-3",children:[t.hashtags.slice(0,3).map((o,l)=>e.jsxs("span",{className:"text-xs text-primary hover:text-primary/80 cursor-pointer",children:["#",o]},l)),t.hashtags.length>3&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",t.hashtags.length-3," more"]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-border/50",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs(V,{variant:"ghost",size:"sm",className:"flex items-center gap-2 hover:text-red-400 hover:bg-red-400/10",onClick:s,"data-testid":`like-button-${t.id}`,children:[e.jsx(Ma,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm","data-testid":`likes-count-${t.id}`,children:t.likesCount})]}),e.jsx(_t,{href:`/post/${t.id}`,children:e.jsxs(V,{variant:"ghost",size:"sm",className:"flex items-center gap-2 hover:text-blue-400 hover:bg-blue-400/10","data-testid":`comments-button-${t.id}`,children:[e.jsx(Pn,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm","data-testid":`comments-count-${t.id}`,children:t.commentsCount})]})}),e.jsxs(V,{variant:"ghost",size:"sm",className:"flex items-center gap-2 hover:text-green-400 hover:bg-green-400/10","data-testid":`share-button-${t.id}`,children:[e.jsx(zb,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Share"})]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(pr,{className:"h-3 w-3"}),e.jsx("span",{"data-testid":`views-count-${t.id}`,children:t.viewsCount})]})]})]})]})},Yee=()=>{const[t,r]=j.useState(""),[n,s]=j.useState(!1),{user:a}=kr(),{toast:i}=or(),{csrfToken:o,isLoading:l}=wP(),u=ot({mutationFn:async f=>{if(!o)throw new Error("CSRF token not available. Please refresh the page.");return Ze("POST","/api/posts",f)},onSuccess:()=>{Rt.invalidateQueries({queryKey:["/api/feed"]}),r(""),s(!1),i({title:"Posted!",description:"Your post has been published"})},onError:f=>{i({title:"Error",description:f.message,variant:"destructive"})}}),m=()=>{if(t.trim()){if(!o){i({title:"Error",description:"Security token not ready. Please wait a moment and try again.",variant:"destructive"});return}u.mutate({content:t,type:"text"})}};return e.jsx(Y,{className:"mb-6 bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs(un,{className:"h-10 w-10",children:[e.jsx(En,{src:a?.profileImageUrl}),e.jsx(hn,{className:"bg-primary/10 text-primary",children:a?.username?.[0]?.toUpperCase()||"U"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(on,{placeholder:"Write something...",value:t,onChange:f=>r(f.target.value),onFocus:()=>s(!0),className:"min-h-[100px] border-none bg-muted/50 resize-none focus:ring-0 focus:border-none","data-testid":"post-composer-textarea"}),n&&e.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0","data-testid":"add-photo-button",children:e.jsx(YA,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0","data-testid":"add-video-button",children:e.jsx(As,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0","data-testid":"add-link-button",children:e.jsx(gY,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0","data-testid":"add-emoji-button",children:e.jsx(OY,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0","data-testid":"schedule-post-button",children:e.jsx(ys,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"1000"}),e.jsx(V,{size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",onClick:m,disabled:!t.trim()||u.isPending||l||!o,"data-testid":"publish-button",children:l?"Loading...":u.isPending?"Publishing...":"Publish"})]})]})]})]})})})},Qee=()=>{const{data:t=[],isLoading:r}=Ve({queryKey:["/api/creators/leaderboard"]});return e.jsxs(Y,{className:"bg-card border-border",children:[e.jsx(ue,{className:"pb-3",children:e.jsx("h3",{className:"font-semibold text-sm",children:"Leaderboard"})}),e.jsx(ee,{className:"pt-0",children:e.jsx("div",{className:"space-y-3",children:r?[...Array(3)].map((n,s)=>e.jsxs("div",{className:"flex items-center gap-3 animate-pulse",children:[e.jsx("div",{className:"h-8 w-8 bg-muted rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-3 bg-muted rounded mb-1"}),e.jsx("div",{className:"h-2 bg-muted rounded"})]})]},s)):t.slice(0,3).map((n,s)=>e.jsxs("div",{className:"flex items-center gap-3","data-testid":`leaderboard-creator-${n.id}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm font-bold text-muted-foreground w-4",children:[s+1,"."]}),e.jsxs(un,{className:"h-8 w-8",children:[e.jsx(En,{src:n.profileImageUrl}),e.jsx(hn,{className:"bg-primary/10 text-primary text-xs",children:n.username[0]?.toUpperCase()})]})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-sm font-medium truncate",children:n.username}),n.isVerified&&e.jsx("span",{className:"text-xs",children:""})]}),e.jsx(bs,{value:n.score,className:"h-1 mt-1","data-testid":`creator-progress-${n.id}`})]}),e.jsx("span",{className:"text-sm font-bold text-right",children:n.score})]},n.id))})})]})},Xee=()=>{const{data:t=[],isLoading:r}=Ve({queryKey:["/api/creators/suggested"]});return e.jsxs(Y,{className:"bg-card border-border",children:[e.jsx(ue,{className:"pb-3",children:e.jsx("h3",{className:"font-semibold text-sm",children:"Explore Creators"})}),e.jsx(ee,{className:"pt-0",children:e.jsx("div",{className:"grid grid-cols-3 gap-3",children:r?[...Array(6)].map((n,s)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-16 w-16 bg-muted rounded-full mx-auto mb-2 animate-pulse"}),e.jsx("div",{className:"h-3 bg-muted rounded"})]},s)):t.slice(0,6).map(n=>e.jsx(_t,{href:`/creator/${n.id}`,children:e.jsxs("div",{className:"text-center cursor-pointer hover:opacity-80 transition-opacity","data-testid":`suggested-creator-${n.id}`,children:[e.jsxs(un,{className:"h-16 w-16 mx-auto mb-2",children:[e.jsx(En,{src:n.profileImageUrl}),e.jsx(hn,{className:"bg-primary/10 text-primary",children:n.username[0]?.toUpperCase()})]}),e.jsx("p",{className:"text-xs font-medium truncate",children:n.username})]})},n.id))})})]})},Jee=()=>e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4 text-center",children:e.jsxs("div",{className:"bg-muted/50 rounded-lg p-8 text-muted-foreground",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx(hs,{className:"h-8 w-8"})}),e.jsx("p",{className:"text-sm",children:"Buy AD Space"}),e.jsx("p",{className:"text-xs mt-1",children:"No Sponsored profiles. Be the first one to be featured."})]})})});function ete(){const{user:t}=kr(),{data:r,isLoading:n}=Ve({queryKey:["/api/feed"]}),s=r?.posts||[],{data:a}=Ve({queryKey:["/api/user/story-status"]});return e.jsx("div",{className:"min-h-screen bg-background","data-testid":"social-home",children:e.jsx("div",{className:"container mx-auto px-4 py-6 max-w-7xl",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[e.jsxs("div",{className:"lg:col-span-8",children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"relative",children:[e.jsxs(un,{className:"h-16 w-16 ring-2 ring-primary/20",children:[e.jsx(En,{src:t?.profileImageUrl}),e.jsx(hn,{className:"bg-primary/10 text-primary",children:t?.username?.[0]?.toUpperCase()||"U"})]}),e.jsx(V,{size:"sm",className:"absolute -bottom-1 -right-1 h-6 w-16 text-xs bg-red-600 hover:bg-red-700 text-white rounded-full","data-testid":"add-story-button",children:"Add story"})]})})}),e.jsx(Yee,{}),e.jsx(Y,{className:"mb-6 bg-gradient-to-r from-yellow-500/10 to-yellow-600/10 border-yellow-500/20",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm",children:"Do you have a costar?"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{size:"sm",variant:"outline",className:"bg-yellow-500 text-black hover:bg-yellow-600",children:"Yes"}),e.jsx(V,{size:"sm",variant:"outline",children:"No"})]})]})})}),e.jsx("div",{className:"space-y-6",children:n?[...Array(3)].map((i,o)=>e.jsxs(Y,{className:"animate-pulse",children:[e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-muted rounded-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 w-32 bg-muted rounded"}),e.jsx("div",{className:"h-3 w-20 bg-muted rounded"})]})]})}),e.jsxs(ee,{children:[e.jsx("div",{className:"aspect-video bg-muted rounded-lg mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 w-full bg-muted rounded"}),e.jsx("div",{className:"h-4 w-3/4 bg-muted rounded"})]})]})]},o)):s.length===0?e.jsx(Y,{className:"text-center py-12",children:e.jsx(ee,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(Pa,{className:"h-16 w-16 mx-auto text-muted-foreground/50"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No posts yet"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Start following creators to see their posts in your feed"}),e.jsx(_t,{href:"/search",children:e.jsx(V,{"data-testid":"discover-creators-button",children:"Discover Creators"})})]})]})})}):s.map(i=>e.jsx(Zee,{post:i},i.id))})]}),e.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[e.jsx(Qee,{}),e.jsx(Xee,{}),e.jsx(Jee,{})]})]})})})}var tte="Label",$z=j.forwardRef((t,r)=>e.jsx(Vt.label,{...t,ref:r,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));$z.displayName=tte;var zz=$z;const rte=Pf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),et=j.forwardRef(({className:t,...r},n)=>e.jsx(zz,{ref:n,className:He(rte(),t),...r}));et.displayName=zz.displayName;function nte({maxNumberOfFiles:t=1,maxFileSize:r=10485760,onGetUploadParameters:n,onComplete:s,buttonClassName:a,children:i}){const[o,l]=j.useState(!1),[u,m]=j.useState(null),[f,p]=j.useState(!1),[g,b]=j.useState(0),y=w=>{const k=w.target.files;if(k&&k.length>0){for(let A=0;A<k.length;A++)if(k[A].size>r){alert(`File "${k[A].name}" is too large. Maximum size is ${Math.round(r/1024/1024)}MB`);return}m(k)}},_=async()=>{if(!(!u||u.length===0)){p(!0),b(0);try{const w=u[0],{url:k}=await n();if(!(await fetch(k,{method:"PUT",body:w,headers:{"Content-Type":w.type}})).ok)throw new Error("Upload failed");b(100),s?.({successful:[{uploadURL:k}]}),l(!1),m(null),b(0)}catch(w){console.error("Upload error:",w),alert("Upload failed. Please try again.")}finally{p(!1)}}};return e.jsxs(Ur,{open:o,onOpenChange:l,children:[e.jsx(Dl,{asChild:!0,children:e.jsx(V,{className:a,children:i})}),e.jsxs(Lr,{children:[e.jsx(Fr,{children:e.jsx($r,{children:"Upload File"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(et,{htmlFor:"file-input",children:"Select File"}),e.jsx(Ue,{id:"file-input",type:"file",onChange:y,multiple:t>1,accept:"image/*,video/*",disabled:f}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Maximum file size: ",Math.round(r/1024/1024),"MB"]})]}),u&&u.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Selected files:"}),e.jsx("ul",{className:"text-xs text-muted-foreground",children:Array.from(u).map((w,k)=>e.jsxs("li",{children:[w.name," (",Math.round(w.size/1024)," KB)"]},k))})]}),f&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium mb-2",children:["Uploading... ",g,"%"]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${g}%`}})})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(V,{variant:"outline",onClick:()=>l(!1),disabled:f,children:"Cancel"}),e.jsx(V,{onClick:_,disabled:!u||u.length===0||f,children:f?"Uploading...":"Upload"})]})]})]})]})}function ste(){const[t,r]=j.useState(!1),[n,s]=j.useState({title:"",description:"",uploadedUrl:""}),a=ws(),{toast:i}=or(),{data:o,isLoading:l}=Ve({queryKey:["/api/media"]}),u=ot({mutationFn:async y=>Ze("POST","/api/media",y),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/media"]}),r(!1),s({title:"",description:"",uploadedUrl:""}),i({title:"Success",description:"Media uploaded successfully and sent for moderation"})},onError:y=>{i({title:"Error",description:y.message,variant:"destructive"})}}),m=async()=>({method:"PUT",url:(await(await Ze("POST","/api/media/upload",{})).json()).uploadURL}),f=y=>{if(y.successful.length>0){const _=y.successful[0];s(w=>({...w,uploadedUrl:_.uploadURL||""}))}},p=y=>{if(y.preventDefault(),!n.title||!n.uploadedUrl){i({title:"Error",description:"Please fill in all required fields and upload a file",variant:"destructive"});return}const _=n.uploadedUrl.split("/");_[_.length-1],u.mutate({title:n.title,description:n.description,s3Key:n.uploadedUrl,mimeType:"application/octet-stream",size:1024,checksum:"placeholder-checksum"})},g=y=>{switch(y){case"approved":return"bg-accent text-accent-foreground";case"pending":return"bg-yellow-500 text-yellow-50";case"rejected":return"bg-destructive text-destructive-foreground";case"processing":return"bg-blue-500 text-blue-50";default:return"bg-muted text-muted-foreground"}},b=y=>{if(y===0)return"0 Bytes";const _=1024,w=["Bytes","KB","MB","GB"],k=Math.floor(Math.log(y)/Math.log(_));return parseFloat((y/Math.pow(_,k)).toFixed(2))+" "+w[k]};return e.jsxs("div",{className:"space-y-6","data-testid":"media-page",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-display","data-testid":"page-title",children:"Media Assets"}),e.jsx("p",{className:"text-muted-foreground","data-testid":"page-description",children:"Upload and manage your content"})]}),e.jsxs(Ur,{open:t,onOpenChange:r,children:[e.jsx(Dl,{asChild:!0,children:e.jsxs(V,{className:"glow-effect","data-testid":"upload-media-button",children:[e.jsx(zi,{className:"mr-2 h-4 w-4"}),"Upload Media"]})}),e.jsxs(Lr,{className:"sm:max-w-md","data-testid":"upload-dialog",children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Upload New Content"}),e.jsx(Wr,{children:"Upload your media files and provide details"})]}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(et,{htmlFor:"title",children:"Title *"}),e.jsx(Ue,{id:"title",value:n.title,onChange:y=>s(_=>({..._,title:y.target.value})),placeholder:"Enter content title",required:!0,"data-testid":"upload-title-input"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(et,{htmlFor:"description",children:"Description"}),e.jsx(on,{id:"description",value:n.description,onChange:y=>s(_=>({..._,description:y.target.value})),placeholder:"Describe your content",rows:3,"data-testid":"upload-description-input"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(et,{children:"File Upload *"}),e.jsx(nte,{maxNumberOfFiles:1,maxFileSize:50*1024*1024,onGetUploadParameters:m,onComplete:f,buttonClassName:"w-full border-2 border-dashed border-border rounded-lg p-8 text-center hover:border-primary/50 transition-colors",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(zi,{className:"h-8 w-8 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:n.uploadedUrl?"File uploaded! Click to change":"Click to upload file"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Max file size: 50MB"})]})})]}),e.jsxs(pa,{children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>r(!1),"data-testid":"upload-cancel-button",children:"Cancel"}),e.jsx(V,{type:"submit",disabled:u.isPending,className:"glow-effect","data-testid":"upload-submit-button",children:u.isPending?"Uploading...":"Upload Content"})]})]})]})]})]}),l?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(y=>e.jsxs(Y,{className:"bg-card border-border animate-pulse",children:[e.jsx("div",{className:"h-48 bg-muted rounded-t-lg"}),e.jsxs(ee,{className:"p-4",children:[e.jsx("div",{className:"h-4 bg-muted rounded mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-2/3 mb-4"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"h-6 bg-muted rounded w-16"}),e.jsx("div",{className:"h-8 bg-muted rounded w-8"})]})]})]},y))}):o&&o.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(y=>e.jsxs(Y,{className:"bg-card border-border","data-testid":`media-card-${y.id}`,children:[e.jsx("div",{className:"h-48 bg-muted rounded-t-lg flex items-center justify-center",children:e.jsx("i",{className:"fas fa-image text-4xl text-muted-foreground"})}),e.jsxs(ee,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-semibold truncate flex-1","data-testid":`media-title-${y.id}`,children:y.title}),e.jsx(V,{variant:"ghost",size:"sm","data-testid":`media-menu-${y.id}`,children:e.jsx(Ja,{className:"h-4 w-4"})})]}),y.description&&e.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2","data-testid":`media-description-${y.id}`,children:y.description}),e.jsxs("div",{className:"flex justify-between items-center text-xs text-muted-foreground mb-3",children:[e.jsx("span",{"data-testid":`media-size-${y.id}`,children:b(y.size)}),e.jsx("span",{"data-testid":`media-date-${y.id}`,children:new Date(y.createdAt).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(ce,{className:g(y.status),"data-testid":`media-status-${y.id}`,children:y.status}),y.status==="approved"&&e.jsxs(V,{variant:"outline",size:"sm","data-testid":`media-view-${y.id}`,children:[e.jsx(pr,{className:"h-4 w-4 mr-1"}),"View"]})]})]})]},y.id))}):e.jsx(Y,{className:"bg-card border-border",children:e.jsxs(ee,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("div",{className:"h-16 w-16 bg-muted rounded-full flex items-center justify-center mb-4",children:e.jsx(zi,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2","data-testid":"empty-state-title",children:"No media uploaded yet"}),e.jsx("p",{className:"text-muted-foreground text-center mb-6","data-testid":"empty-state-description",children:"Start building your content library by uploading your first media file."}),e.jsxs(V,{onClick:()=>r(!0),className:"glow-effect","data-testid":"empty-state-upload-button",children:[e.jsx(zi,{className:"mr-2 h-4 w-4"}),"Upload Your First Media"]})]})})]})}const ate=Pf("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),bn=j.forwardRef(({className:t,variant:r,...n},s)=>e.jsx("div",{ref:s,role:"alert",className:He(ate({variant:r}),t),...n}));bn.displayName="Alert";const Bz=j.forwardRef(({className:t,...r},n)=>e.jsx("h5",{ref:n,className:He("mb-1 font-medium leading-none tracking-tight",t),...r}));Bz.displayName="AlertTitle";const jn=j.forwardRef(({className:t,...r},n)=>e.jsx("div",{ref:n,className:He("text-sm [&_p]:leading-relaxed",t),...r}));jn.displayName="AlertDescription";function ite(){const{data:t,isLoading:r}=Ve({queryKey:["/api/kyc/status"]}),n=a=>{switch(a){case"approved":return"bg-accent text-accent-foreground";case"pending":return"bg-yellow-500 text-yellow-50";case"rejected":return"bg-destructive text-destructive-foreground";case"expired":return"bg-orange-500 text-orange-50";default:return"bg-muted text-muted-foreground"}},s=a=>{switch(a){case"approved":return e.jsx(Cr,{className:"h-5 w-5"});case"rejected":return e.jsx(yl,{className:"h-5 w-5"});case"pending":return e.jsx(wr,{className:"h-5 w-5"});default:return e.jsx(yl,{className:"h-5 w-5"})}};return e.jsxs("div",{className:"space-y-6","data-testid":"compliance-page",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-display","data-testid":"page-title",children:"Compliance"}),e.jsx("p",{className:"text-muted-foreground","data-testid":"page-description",children:"Manage your identity verification and compliance documentation"})]}),t?.status!=="approved"&&e.jsxs(bn,{className:"border-yellow-500/50 bg-yellow-500/10","data-testid":"kyc-alert",children:[e.jsx(yl,{className:"h-4 w-4 text-yellow-500"}),e.jsx(Bz,{className:"text-yellow-500",children:"Action Required"}),e.jsx(jn,{children:t?.status==="pending"?"Your identity verification is being processed. This may take 1-3 business days.":"Complete your identity verification to enable all platform features."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(Y,{className:"bg-card border-border",children:[e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(Mr,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx(fe,{children:"Identity Verification (KYC)"}),e.jsx(lt,{children:"Verify your identity to comply with regulations"})]})]})}),e.jsx(ee,{className:"space-y-4",children:r?e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-6 bg-muted rounded w-1/3"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Current Status"}),e.jsx(ce,{className:n(t?.status||"pending"),"data-testid":"kyc-status-badge",children:e.jsxs("div",{className:"flex items-center gap-1",children:[s(t?.status||"pending"),t?.status||"Not Started"]})})]}),t?.provider&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:"Provider:"})," ",t.provider]}),t?.updatedAt&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:"Last Updated:"})," ",new Date(t.updatedAt).toLocaleDateString()]}),t?.status!=="approved"&&e.jsxs(V,{className:"w-full glow-effect","data-testid":"start-kyc-button",children:[e.jsx(Mr,{className:"mr-2 h-4 w-4"}),t?.status==="pending"?"Check Status":"Start Verification"]})]})})]}),e.jsxs(Y,{className:"bg-card border-border",children:[e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-secondary/10 rounded-lg flex items-center justify-center",children:e.jsx(Cn,{className:"h-5 w-5 text-secondary"})}),e.jsxs("div",{children:[e.jsx(fe,{children:"18 U.S.C. 2257 Records"}),e.jsx(lt,{children:"Age verification and record keeping compliance"})]})]})}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Cn,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:"ID Verification"})]}),e.jsx(ce,{variant:"outline","data-testid":"id-verification-status",children:"Not Uploaded"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Cn,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:"Consent Forms"})]}),e.jsx(ce,{variant:"outline","data-testid":"consent-forms-status",children:"Not Uploaded"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Cn,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:"Model Releases"})]}),e.jsx(ce,{variant:"outline","data-testid":"model-releases-status",children:"Not Uploaded"})]})]}),e.jsxs(V,{variant:"outline",className:"w-full","data-testid":"upload-documents-button",children:[e.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Upload Documents"]})]})]})]}),e.jsxs(Y,{className:"bg-card border-border",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Compliance Information"}),e.jsx(lt,{children:"Important information about platform compliance requirements"})]}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-primary",children:"Identity Verification"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:" Government-issued ID required"}),e.jsx("li",{children:" Selfie verification for identity matching"}),e.jsx("li",{children:" Address verification may be required"}),e.jsx("li",{children:" Processing time: 1-3 business days"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-secondary",children:"Record Keeping"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:" All performers must be 18+ years old"}),e.jsx("li",{children:" Photo ID required for all content creators"}),e.jsx("li",{children:" Signed consent forms mandatory"}),e.jsx("li",{children:" Records maintained per federal law"})]})]})]}),e.jsx("div",{className:"pt-4 border-t border-border",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(s0,{className:"h-4 w-4"}),e.jsxs("span",{children:["Learn more about our"," ",e.jsx("a",{href:"#",className:"text-primary hover:underline","data-testid":"compliance-policy-link",children:"compliance policies"})," ","and"," ",e.jsx("a",{href:"#",className:"text-primary hover:underline","data-testid":"privacy-policy-link",children:"privacy practices"})]})]})})]})]})]})}var ote=[" ","Enter","ArrowUp","ArrowDown"],lte=[" ","Enter"],th="Select",[rj,nj,cte]=Db(th),[If]=ga(th,[cte,Kd]),sj=Kd(),[dte,Wd]=If(th),[ute,hte]=If(th),qz=t=>{const{__scopeSelect:r,children:n,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:u,dir:m,name:f,autoComplete:p,disabled:g,required:b,form:y}=t,_=sj(r),[w,k]=j.useState(null),[A,P]=j.useState(null),[O,I]=j.useState(!1),D=Eg(m),[F,B]=Sl({prop:s,defaultProp:a??!1,onChange:i,caller:th}),[H,re]=Sl({prop:o,defaultProp:l,onChange:u,caller:th}),G=j.useRef(null),J=w?y||!!w.closest("form"):!0,[Z,ne]=j.useState(new Set),K=Array.from(Z).map(ae=>ae.props.value).join(";");return e.jsx(mP,{..._,children:e.jsxs(dte,{required:b,scope:r,trigger:w,onTriggerChange:k,valueNode:A,onValueNodeChange:P,valueNodeHasChildren:O,onValueNodeHasChildrenChange:I,contentId:qo(),value:H,onValueChange:re,open:F,onOpenChange:B,dir:D,triggerPointerDownPosRef:G,disabled:g,children:[e.jsx(rj.Provider,{scope:r,children:e.jsx(ute,{scope:t.__scopeSelect,onNativeOptionAdd:j.useCallback(ae=>{ne(U=>new Set(U).add(ae))},[]),onNativeOptionRemove:j.useCallback(ae=>{ne(U=>{const W=new Set(U);return W.delete(ae),W})},[]),children:n})}),J?e.jsxs(hB,{"aria-hidden":!0,required:b,tabIndex:-1,name:f,autoComplete:p,value:H,onChange:ae=>re(ae.target.value),disabled:g,form:y,children:[H===void 0?e.jsx("option",{value:""}):null,Array.from(Z)]},K):null]})})};qz.displayName=th;var Uz="SelectTrigger",Vz=j.forwardRef((t,r)=>{const{__scopeSelect:n,disabled:s=!1,...a}=t,i=sj(n),o=Wd(Uz,n),l=o.disabled||s,u=_r(r,o.onTriggerChange),m=nj(n),f=j.useRef("touch"),[p,g,b]=fB(_=>{const w=m().filter(P=>!P.disabled),k=w.find(P=>P.value===o.value),A=pB(w,_,k);A!==void 0&&o.onValueChange(A.value)}),y=_=>{l||(o.onOpenChange(!0),b()),_&&(o.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return e.jsx(Ng,{asChild:!0,...i,children:e.jsx(Vt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":mB(o.value)?"":void 0,...a,ref:u,onClick:wt(a.onClick,_=>{_.currentTarget.focus(),f.current!=="mouse"&&y(_)}),onPointerDown:wt(a.onPointerDown,_=>{f.current=_.pointerType;const w=_.target;w.hasPointerCapture(_.pointerId)&&w.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(y(_),_.preventDefault())}),onKeyDown:wt(a.onKeyDown,_=>{const w=p.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&g(_.key),!(w&&_.key===" ")&&ote.includes(_.key)&&(y(),_.preventDefault())})})})});Vz.displayName=Uz;var Kz="SelectValue",Wz=j.forwardRef((t,r)=>{const{__scopeSelect:n,className:s,style:a,children:i,placeholder:o="",...l}=t,u=Wd(Kz,n),{onValueNodeHasChildrenChange:m}=u,f=i!==void 0,p=_r(r,u.onValueNodeChange);return Es(()=>{m(f)},[m,f]),e.jsx(Vt.span,{...l,ref:p,style:{pointerEvents:"none"},children:mB(u.value)?e.jsx(e.Fragment,{children:o}):i})});Wz.displayName=Kz;var mte="SelectIcon",Hz=j.forwardRef((t,r)=>{const{__scopeSelect:n,children:s,...a}=t;return e.jsx(Vt.span,{"aria-hidden":!0,...a,ref:r,children:s||""})});Hz.displayName=mte;var fte="SelectPortal",Gz=t=>e.jsx(Af,{asChild:!0,...t});Gz.displayName=fte;var rh="SelectContent",Zz=j.forwardRef((t,r)=>{const n=Wd(rh,t.__scopeSelect),[s,a]=j.useState();if(Es(()=>{a(new DocumentFragment)},[]),!n.open){const i=s;return i?ph.createPortal(e.jsx(Yz,{scope:t.__scopeSelect,children:e.jsx(rj.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(Qz,{...t,ref:r})});Zz.displayName=rh;var To=10,[Yz,Hd]=If(rh),pte="SelectContentImpl",xte=Dd("SelectContent.RemoveScroll"),Qz=j.forwardRef((t,r)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:u,align:m,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:b,sticky:y,hideWhenDetached:_,avoidCollisions:w,...k}=t,A=Wd(rh,n),[P,O]=j.useState(null),[I,D]=j.useState(null),F=_r(r,je=>O(je)),[B,H]=j.useState(null),[re,G]=j.useState(null),J=nj(n),[Z,ne]=j.useState(!1),K=j.useRef(!1);j.useEffect(()=>{if(P)return Qb(P)},[P]),Zb();const ae=j.useCallback(je=>{const[Xe,...qe]=J().map(Oe=>Oe.ref.current),[tt]=qe.slice(-1),St=document.activeElement;for(const Oe of je)if(Oe===St||(Oe?.scrollIntoView({block:"nearest"}),Oe===Xe&&I&&(I.scrollTop=0),Oe===tt&&I&&(I.scrollTop=I.scrollHeight),Oe?.focus(),document.activeElement!==St))return},[J,I]),U=j.useCallback(()=>ae([B,P]),[ae,B,P]);j.useEffect(()=>{Z&&U()},[Z,U]);const{onOpenChange:W,triggerPointerDownPosRef:se}=A;j.useEffect(()=>{if(P){let je={x:0,y:0};const Xe=tt=>{je={x:Math.abs(Math.round(tt.pageX)-(se.current?.x??0)),y:Math.abs(Math.round(tt.pageY)-(se.current?.y??0))}},qe=tt=>{je.x<=10&&je.y<=10?tt.preventDefault():P.contains(tt.target)||W(!1),document.removeEventListener("pointermove",Xe),se.current=null};return se.current!==null&&(document.addEventListener("pointermove",Xe),document.addEventListener("pointerup",qe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Xe),document.removeEventListener("pointerup",qe,{capture:!0})}}},[P,W,se]),j.useEffect(()=>{const je=()=>W(!1);return window.addEventListener("blur",je),window.addEventListener("resize",je),()=>{window.removeEventListener("blur",je),window.removeEventListener("resize",je)}},[W]);const[de,z]=fB(je=>{const Xe=J().filter(St=>!St.disabled),qe=Xe.find(St=>St.ref.current===document.activeElement),tt=pB(Xe,je,qe);tt&&setTimeout(()=>tt.ref.current.focus())}),oe=j.useCallback((je,Xe,qe)=>{const tt=!K.current&&!qe;(A.value!==void 0&&A.value===Xe||tt)&&(H(je),tt&&(K.current=!0))},[A.value]),Ce=j.useCallback(()=>P?.focus(),[P]),ke=j.useCallback((je,Xe,qe)=>{const tt=!K.current&&!qe;(A.value!==void 0&&A.value===Xe||tt)&&G(je)},[A.value]),_e=s==="popper"?WC:Xz,Le=_e===WC?{side:l,sideOffset:u,align:m,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:b,sticky:y,hideWhenDetached:_,avoidCollisions:w}:{};return e.jsx(Yz,{scope:n,content:P,viewport:I,onViewportChange:D,itemRefCallback:oe,selectedItem:B,onItemLeave:Ce,itemTextRefCallback:ke,focusSelectedItem:U,selectedItemText:re,position:s,isPositioned:Z,searchRef:de,children:e.jsx(Cg,{as:xte,allowPinchZoom:!0,children:e.jsx(Sg,{asChild:!0,trapped:A.open,onMountAutoFocus:je=>{je.preventDefault()},onUnmountAutoFocus:wt(a,je=>{A.trigger?.focus({preventScroll:!0}),je.preventDefault()}),children:e.jsx(xh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:je=>je.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:e.jsx(_e,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:je=>je.preventDefault(),...k,...Le,onPlaced:()=>ne(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:wt(k.onKeyDown,je=>{const Xe=je.ctrlKey||je.altKey||je.metaKey;if(je.key==="Tab"&&je.preventDefault(),!Xe&&je.key.length===1&&z(je.key),["ArrowUp","ArrowDown","Home","End"].includes(je.key)){let tt=J().filter(St=>!St.disabled).map(St=>St.ref.current);if(["ArrowUp","End"].includes(je.key)&&(tt=tt.slice().reverse()),["ArrowUp","ArrowDown"].includes(je.key)){const St=je.target,Oe=tt.indexOf(St);tt=tt.slice(Oe+1)}setTimeout(()=>ae(tt)),je.preventDefault()}})})})})})})});Qz.displayName=pte;var gte="SelectItemAlignedPosition",Xz=j.forwardRef((t,r)=>{const{__scopeSelect:n,onPlaced:s,...a}=t,i=Wd(rh,n),o=Hd(rh,n),[l,u]=j.useState(null),[m,f]=j.useState(null),p=_r(r,F=>f(F)),g=nj(n),b=j.useRef(!1),y=j.useRef(!0),{viewport:_,selectedItem:w,selectedItemText:k,focusSelectedItem:A}=o,P=j.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&m&&_&&w&&k){const F=i.trigger.getBoundingClientRect(),B=m.getBoundingClientRect(),H=i.valueNode.getBoundingClientRect(),re=k.getBoundingClientRect();if(i.dir!=="rtl"){const St=re.left-B.left,Oe=H.left-St,qt=F.left-Oe,Et=F.width+qt,sr=Math.max(Et,B.width),Jt=window.innerWidth-To,gr=KC(Oe,[To,Math.max(To,Jt-sr)]);l.style.minWidth=Et+"px",l.style.left=gr+"px"}else{const St=B.right-re.right,Oe=window.innerWidth-H.right-St,qt=window.innerWidth-F.right-Oe,Et=F.width+qt,sr=Math.max(Et,B.width),Jt=window.innerWidth-To,gr=KC(Oe,[To,Math.max(To,Jt-sr)]);l.style.minWidth=Et+"px",l.style.right=gr+"px"}const G=g(),J=window.innerHeight-To*2,Z=_.scrollHeight,ne=window.getComputedStyle(m),K=parseInt(ne.borderTopWidth,10),ae=parseInt(ne.paddingTop,10),U=parseInt(ne.borderBottomWidth,10),W=parseInt(ne.paddingBottom,10),se=K+ae+Z+W+U,de=Math.min(w.offsetHeight*5,se),z=window.getComputedStyle(_),oe=parseInt(z.paddingTop,10),Ce=parseInt(z.paddingBottom,10),ke=F.top+F.height/2-To,_e=J-ke,Le=w.offsetHeight/2,je=w.offsetTop+Le,Xe=K+ae+je,qe=se-Xe;if(Xe<=ke){const St=G.length>0&&w===G[G.length-1].ref.current;l.style.bottom="0px";const Oe=m.clientHeight-_.offsetTop-_.offsetHeight,qt=Math.max(_e,Le+(St?Ce:0)+Oe+U),Et=Xe+qt;l.style.height=Et+"px"}else{const St=G.length>0&&w===G[0].ref.current;l.style.top="0px";const qt=Math.max(ke,K+_.offsetTop+(St?oe:0)+Le)+qe;l.style.height=qt+"px",_.scrollTop=Xe-ke+_.offsetTop}l.style.margin=`${To}px 0`,l.style.minHeight=de+"px",l.style.maxHeight=J+"px",s?.(),requestAnimationFrame(()=>b.current=!0)}},[g,i.trigger,i.valueNode,l,m,_,w,k,i.dir,s]);Es(()=>P(),[P]);const[O,I]=j.useState();Es(()=>{m&&I(window.getComputedStyle(m).zIndex)},[m]);const D=j.useCallback(F=>{F&&y.current===!0&&(P(),A?.(),y.current=!1)},[P,A]);return e.jsx(yte,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:b,onScrollButtonChange:D,children:e.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:e.jsx(Vt.div,{...a,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Xz.displayName=gte;var vte="SelectPopperPosition",WC=j.forwardRef((t,r)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=To,...i}=t,o=sj(n);return e.jsx(Vb,{...o,...i,ref:r,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});WC.displayName=vte;var[yte,EP]=If(rh,{}),HC="SelectViewport",Jz=j.forwardRef((t,r)=>{const{__scopeSelect:n,nonce:s,...a}=t,i=Hd(HC,n),o=EP(HC,n),l=_r(r,i.onViewportChange),u=j.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),e.jsx(rj.Slot,{scope:n,children:e.jsx(Vt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:wt(a.onScroll,m=>{const f=m.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=o;if(g?.current&&p){const b=Math.abs(u.current-f.scrollTop);if(b>0){const y=window.innerHeight-To*2,_=parseFloat(p.style.minHeight),w=parseFloat(p.style.height),k=Math.max(_,w);if(k<y){const A=k+b,P=Math.min(y,A),O=A-P;p.style.height=P+"px",p.style.bottom==="0px"&&(f.scrollTop=O>0?O:0,p.style.justifyContent="flex-end")}}}u.current=f.scrollTop})})})]})});Jz.displayName=HC;var eB="SelectGroup",[bte,jte]=If(eB),wte=j.forwardRef((t,r)=>{const{__scopeSelect:n,...s}=t,a=qo();return e.jsx(bte,{scope:n,id:a,children:e.jsx(Vt.div,{role:"group","aria-labelledby":a,...s,ref:r})})});wte.displayName=eB;var tB="SelectLabel",rB=j.forwardRef((t,r)=>{const{__scopeSelect:n,...s}=t,a=jte(tB,n);return e.jsx(Vt.div,{id:a.id,...s,ref:r})});rB.displayName=tB;var x0="SelectItem",[_te,nB]=If(x0),sB=j.forwardRef((t,r)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:i,...o}=t,l=Wd(x0,n),u=Hd(x0,n),m=l.value===s,[f,p]=j.useState(i??""),[g,b]=j.useState(!1),y=_r(r,A=>u.itemRefCallback?.(A,s,a)),_=qo(),w=j.useRef("touch"),k=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(_te,{scope:n,value:s,disabled:a,textId:_,isSelected:m,onItemTextChange:j.useCallback(A=>{p(P=>P||(A?.textContent??"").trim())},[]),children:e.jsx(rj.ItemSlot,{scope:n,value:s,disabled:a,textValue:f,children:e.jsx(Vt.div,{role:"option","aria-labelledby":_,"data-highlighted":g?"":void 0,"aria-selected":m&&g,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:y,onFocus:wt(o.onFocus,()=>b(!0)),onBlur:wt(o.onBlur,()=>b(!1)),onClick:wt(o.onClick,()=>{w.current!=="mouse"&&k()}),onPointerUp:wt(o.onPointerUp,()=>{w.current==="mouse"&&k()}),onPointerDown:wt(o.onPointerDown,A=>{w.current=A.pointerType}),onPointerMove:wt(o.onPointerMove,A=>{w.current=A.pointerType,a?u.onItemLeave?.():w.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:wt(o.onPointerLeave,A=>{A.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:wt(o.onKeyDown,A=>{u.searchRef?.current!==""&&A.key===" "||(lte.includes(A.key)&&k(),A.key===" "&&A.preventDefault())})})})})});sB.displayName=x0;var Jp="SelectItemText",aB=j.forwardRef((t,r)=>{const{__scopeSelect:n,className:s,style:a,...i}=t,o=Wd(Jp,n),l=Hd(Jp,n),u=nB(Jp,n),m=hte(Jp,n),[f,p]=j.useState(null),g=_r(r,k=>p(k),u.onItemTextChange,k=>l.itemTextRefCallback?.(k,u.value,u.disabled)),b=f?.textContent,y=j.useMemo(()=>e.jsx("option",{value:u.value,disabled:u.disabled,children:b},u.value),[u.disabled,u.value,b]),{onNativeOptionAdd:_,onNativeOptionRemove:w}=m;return Es(()=>(_(y),()=>w(y)),[_,w,y]),e.jsxs(e.Fragment,{children:[e.jsx(Vt.span,{id:u.textId,...i,ref:g}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ph.createPortal(i.children,o.valueNode):null]})});aB.displayName=Jp;var iB="SelectItemIndicator",oB=j.forwardRef((t,r)=>{const{__scopeSelect:n,...s}=t;return nB(iB,n).isSelected?e.jsx(Vt.span,{"aria-hidden":!0,...s,ref:r}):null});oB.displayName=iB;var GC="SelectScrollUpButton",lB=j.forwardRef((t,r)=>{const n=Hd(GC,t.__scopeSelect),s=EP(GC,t.__scopeSelect),[a,i]=j.useState(!1),o=_r(r,s.onScrollButtonChange);return Es(()=>{if(n.viewport&&n.isPositioned){let l=function(){const m=u.scrollTop>0;i(m)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?e.jsx(dB,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});lB.displayName=GC;var ZC="SelectScrollDownButton",cB=j.forwardRef((t,r)=>{const n=Hd(ZC,t.__scopeSelect),s=EP(ZC,t.__scopeSelect),[a,i]=j.useState(!1),o=_r(r,s.onScrollButtonChange);return Es(()=>{if(n.viewport&&n.isPositioned){let l=function(){const m=u.scrollHeight-u.clientHeight,f=Math.ceil(u.scrollTop)<m;i(f)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?e.jsx(dB,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});cB.displayName=ZC;var dB=j.forwardRef((t,r)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=t,i=Hd("SelectScrollButton",n),o=j.useRef(null),l=nj(n),u=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>u(),[u]),Es(()=>{l().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),e.jsx(Vt.div,{"aria-hidden":!0,...a,ref:r,style:{flexShrink:0,...a.style},onPointerDown:wt(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:wt(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:wt(a.onPointerLeave,()=>{u()})})}),Nte="SelectSeparator",uB=j.forwardRef((t,r)=>{const{__scopeSelect:n,...s}=t;return e.jsx(Vt.div,{"aria-hidden":!0,...s,ref:r})});uB.displayName=Nte;var YC="SelectArrow",Ste=j.forwardRef((t,r)=>{const{__scopeSelect:n,...s}=t,a=sj(n),i=Wd(YC,n),o=Hd(YC,n);return i.open&&o.position==="popper"?e.jsx(Kb,{...a,...s,ref:r}):null});Ste.displayName=YC;var Cte="SelectBubbleInput",hB=j.forwardRef(({__scopeSelect:t,value:r,...n},s)=>{const a=j.useRef(null),i=_r(s,a),o=pP(r);return j.useEffect(()=>{const l=a.current;if(!l)return;const u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==r&&f){const p=new Event("change",{bubbles:!0});f.call(l,r),l.dispatchEvent(p)}},[o,r]),e.jsx(Vt.select,{...n,style:{...lF,...n.style},ref:i,defaultValue:r})});hB.displayName=Cte;function mB(t){return t===""||t===void 0}function fB(t){const r=gs(t),n=j.useRef(""),s=j.useRef(0),a=j.useCallback(o=>{const l=n.current+o;r(l),(function u(m){n.current=m,window.clearTimeout(s.current),m!==""&&(s.current=window.setTimeout(()=>u(""),1e3))})(l)},[r]),i=j.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,i]}function pB(t,r,n){const a=r.length>1&&Array.from(r).every(m=>m===r[0])?r[0]:r,i=n?t.indexOf(n):-1;let o=kte(t,Math.max(i,0));a.length===1&&(o=o.filter(m=>m!==n));const u=o.find(m=>m.textValue.toLowerCase().startsWith(a.toLowerCase()));return u!==n?u:void 0}function kte(t,r){return t.map((n,s)=>t[(r+s)%t.length])}var Ate=qz,xB=Vz,Pte=Wz,Tte=Hz,Ete=Gz,gB=Zz,Ote=Jz,vB=rB,yB=sB,Ite=aB,Mte=oB,bB=lB,jB=cB,wB=uB;const yt=Ate,bt=Pte,xt=j.forwardRef(({className:t,children:r,...n},s)=>e.jsxs(xB,{ref:s,className:He("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background text-foreground data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[r,e.jsx(Tte,{asChild:!0,children:e.jsx(gh,{className:"h-4 w-4 opacity-50"})})]}));xt.displayName=xB.displayName;const _B=j.forwardRef(({className:t,...r},n)=>e.jsx(bB,{ref:n,className:He("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(XZ,{className:"h-4 w-4"})}));_B.displayName=bB.displayName;const NB=j.forwardRef(({className:t,...r},n)=>e.jsx(jB,{ref:n,className:He("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(gh,{className:"h-4 w-4"})}));NB.displayName=jB.displayName;const gt=j.forwardRef(({className:t,children:r,position:n="popper",...s},a)=>e.jsx(Ete,{children:e.jsxs(gB,{ref:a,className:He("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[e.jsx(_B,{}),e.jsx(Ote,{className:He("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),e.jsx(NB,{})]})}));gt.displayName=gB.displayName;const Dte=j.forwardRef(({className:t,...r},n)=>e.jsx(vB,{ref:n,className:He("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r}));Dte.displayName=vB.displayName;const Q=j.forwardRef(({className:t,children:r,...n},s)=>e.jsxs(yB,{ref:s,className:He("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Mte,{children:e.jsx(vl,{className:"h-4 w-4"})})}),e.jsx(Ite,{children:r})]}));Q.displayName=yB.displayName;const Rte=j.forwardRef(({className:t,...r},n)=>e.jsx(wB,{ref:n,className:He("-mx-1 my-1 h-px bg-muted",t),...r}));Rte.displayName=wB.displayName;function Lte(){const[t,r]=j.useState(!1),[n,s]=j.useState({amountCents:"",currency:"USD"}),a=ws(),{toast:i}=or(),{data:o,isLoading:l}=Ve({queryKey:["/api/payouts"]}),u=ot({mutationFn:async b=>Ze("POST","/api/payouts",b),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/payouts"]}),r(!1),s({amountCents:"",currency:"USD"}),i({title:"Success",description:"Payout request submitted successfully"})},onError:b=>{i({title:"Error",description:b.message,variant:"destructive"})}}),m=b=>{b.preventDefault();const y=parseFloat(n.amountCents);if(!y||y<=0){i({title:"Error",description:"Please enter a valid amount",variant:"destructive"});return}u.mutate({amountCents:Math.round(y*100),currency:n.currency})},f=b=>{switch(b){case"completed":return"bg-accent text-accent-foreground";case"pending":return"bg-yellow-500 text-yellow-50";case"processing":return"bg-blue-500 text-blue-50";case"failed":return"bg-destructive text-destructive-foreground";case"cancelled":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},p=o?.reduce((b,y)=>y.status==="completed"?b+y.amountCents:b,0)||0,g=o?.reduce((b,y)=>y.status==="pending"||y.status==="processing"?b+y.amountCents:b,0)||0;return e.jsxs("div",{className:"space-y-6","data-testid":"payouts-page",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-display","data-testid":"page-title",children:"Payouts"}),e.jsx("p",{className:"text-muted-foreground","data-testid":"page-description",children:"Manage your earnings and payout requests"})]}),e.jsxs(Ur,{open:t,onOpenChange:r,children:[e.jsx(Dl,{asChild:!0,children:e.jsxs(V,{className:"glow-effect","data-testid":"request-payout-button",children:[e.jsx(hs,{className:"mr-2 h-4 w-4"}),"Request Payout"]})}),e.jsxs(Lr,{className:"sm:max-w-md","data-testid":"payout-dialog",children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Request Payout"}),e.jsx(Wr,{children:"Request a payout from your available earnings"})]}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(et,{htmlFor:"amount",children:"Amount *"}),e.jsxs("div",{className:"relative",children:[e.jsx(qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ue,{id:"amount",type:"number",step:"0.01",min:"1",value:n.amountCents,onChange:b=>s(y=>({...y,amountCents:b.target.value})),placeholder:"0.00",className:"pl-10",required:!0,"data-testid":"payout-amount-input"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(et,{htmlFor:"currency",children:"Currency"}),e.jsxs(yt,{value:n.currency,onValueChange:b=>s(y=>({...y,currency:b})),children:[e.jsx(xt,{"data-testid":"payout-currency-select",children:e.jsx(bt,{placeholder:"Select currency"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"USD",children:"USD - US Dollar"}),e.jsx(Q,{value:"EUR",children:"EUR - Euro"}),e.jsx(Q,{value:"GBP",children:"GBP - British Pound"})]})]})]}),e.jsx("div",{className:"p-3 bg-muted/50 rounded-lg text-sm",children:e.jsx("p",{className:"text-muted-foreground",children:"Payout requests are processed within 1-3 business days. A small processing fee may apply."})}),e.jsxs(pa,{children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>r(!1),"data-testid":"payout-cancel-button",children:"Cancel"}),e.jsx(V,{type:"submit",disabled:u.isPending,className:"glow-effect","data-testid":"payout-submit-button",children:u.isPending?"Processing...":"Request Payout"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(yn,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Earnings"}),e.jsxs("p",{className:"text-2xl font-bold","data-testid":"total-earnings",children:["$",(p/100).toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-yellow-500/10 rounded-lg flex items-center justify-center",children:e.jsx(vs,{className:"h-6 w-6 text-yellow-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Payouts"}),e.jsxs("p",{className:"text-2xl font-bold text-yellow-500","data-testid":"pending-payouts",children:["$",(g/100).toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-accent/10 rounded-lg flex items-center justify-center",children:e.jsx($n,{className:"h-6 w-6 text-accent"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Available Balance"}),e.jsx("p",{className:"text-2xl font-bold text-accent","data-testid":"available-balance",children:"$2,847.50"})]})]})})})]}),e.jsxs(Y,{className:"bg-card border-border",children:[e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(fe,{children:"Payout History"}),e.jsx(lt,{children:"Track your payout requests and their status"})]}),e.jsxs(V,{variant:"outline","data-testid":"export-payouts-button",children:[e.jsx($n,{className:"mr-2 h-4 w-4"}),"Export CSV"]})]})}),e.jsx(ee,{children:l?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(b=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg animate-pulse",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 bg-muted rounded-lg"}),e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-muted rounded w-24 mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-16"})]})]}),e.jsx("div",{className:"h-6 bg-muted rounded w-20"})]},b))}):o&&o.length>0?e.jsx("div",{className:"space-y-4",children:o.map(b=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg hover:bg-muted/50 transition-colors","data-testid":`payout-item-${b.id}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(vs,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium","data-testid":`payout-amount-${b.id}`,children:["$",(b.amountCents/100).toLocaleString("en-US",{minimumFractionDigits:2})," ",b.currency]}),e.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`payout-date-${b.id}`,children:new Date(b.createdAt).toLocaleDateString()}),b.providerRef&&e.jsxs("p",{className:"text-xs text-muted-foreground","data-testid":`payout-ref-${b.id}`,children:["Ref: ",b.providerRef]})]})]}),e.jsx(ce,{className:f(b.status),"data-testid":`payout-status-${b.id}`,children:b.status})]},b.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"h-16 w-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(vs,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2","data-testid":"empty-state-title",children:"No payouts yet"}),e.jsx("p",{className:"text-muted-foreground mb-6","data-testid":"empty-state-description",children:"Request your first payout when you have earnings available."}),e.jsxs(V,{onClick:()=>r(!0),className:"glow-effect","data-testid":"empty-state-request-button",children:[e.jsx(hs,{className:"mr-2 h-4 w-4"}),"Request First Payout"]})]})})]})]})}const Fte=[{id:"1",type:"subscription",username:"max4496",action:"has subscribed to your content",time:"8 minutes ago",avatar:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=40&h=40&fit=crop&crop=face",readAt:void 0},{id:"2",type:"subscription",username:"david1942",action:"has subscribed to your content",time:"yesterday",avatar:"https://images.unsplash.com/photo-1599566150163-29194dcaad36?w=40&h=40&fit=crop&crop=face",readAt:"2024-09-19T10:00:00Z"},{id:"3",type:"like",username:"nicholas1808",action:"like you post Needing to take care of business",time:"3 days ago",avatar:"https://images.unsplash.com/photo-1527980965255-d3b416303d12?w=40&h=40&fit=crop&crop=face",readAt:void 0},{id:"4",type:"like",username:"nicholas1808",action:"like you post Random pics and videos",time:"3 days ago",avatar:"https://images.unsplash.com/photo-1527980965255-d3b416303d12?w=40&h=40&fit=crop&crop=face",readAt:"2024-09-17T14:30:00Z"},{id:"5",type:"like",username:"nicholas1808",action:"like you post Jerk off during work",time:"3 days ago",avatar:"https://images.unsplash.com/photo-1527980965255-d3b416303d12?w=40&h=40&fit=crop&crop=face",readAt:"2024-09-17T14:30:00Z"},{id:"6",type:"like",username:"nicholas1808",action:"like you post With @DFWCowboyTopXL Episode 1 of many",time:"3 days ago",avatar:"https://images.unsplash.com/photo-1527980965255-d3b416303d12?w=40&h=40&fit=crop&crop=face",readAt:"2024-09-17T14:30:00Z"},{id:"7",type:"like",username:"nicholas1808",action:"like you post Get you some!",time:"3 days ago",avatar:"https://images.unsplash.com/photo-1527980965255-d3b416303d12?w=40&h=40&fit=crop&crop=face",readAt:"2024-09-17T14:30:00Z"},{id:"8",type:"like",username:"nicholas1808",action:"like you post Just sitting here working from the couch with my d...",time:"3 days ago",avatar:"https://images.unsplash.com/photo-1527980965255-d3b416303d12?w=40&h=40&fit=crop&crop=face",readAt:"2024-09-17T14:30:00Z"},{id:"9",type:"like",username:"nicholas1808",action:"like you post Just some fun. @Damienwinters is on one of these",time:"3 days ago",avatar:"https://images.unsplash.com/photo-1527980965255-d3b416303d12?w=40&h=40&fit=crop&crop=face",readAt:"2024-09-17T14:30:00Z"},{id:"10",type:"like",username:"nicholas1808",action:"like you post Need some help with this",time:"3 days ago",avatar:"https://images.unsplash.com/photo-1527980965255-d3b416303d12?w=40&h=40&fit=crop&crop=face",readAt:"2024-09-17T14:30:00Z"},{id:"11",type:"like",username:"nicholas1808",action:"like you post My twink days",time:"3 days ago",avatar:"https://images.unsplash.com/photo-1527980965255-d3b416303d12?w=40&h=40&fit=crop&crop=face",readAt:"2024-09-17T14:30:00Z"},{id:"12",type:"like",username:"nicholas1808",action:"like you post FANZ in florida @Damienwinters",time:"3 days ago",avatar:"https://images.unsplash.com/photo-1527980965255-d3b416303d12?w=40&h=40&fit=crop&crop=face",readAt:"2024-09-17T14:30:00Z"}],$te=[{title:"ACCOUNT",items:[{icon:mY,label:"Dashboard",href:"/dashboard"},{icon:pr,label:"My page",href:"/creator/me"},{icon:Ko,label:"Edit my page",href:"/creator/me/edit"},{icon:Pn,label:"Conversations",href:"/messages"},{icon:jx,label:"Wallet",href:"/wallet"},{icon:lr,label:"Referrals",href:"/referrals"},{icon:iY,label:"My stories",href:"/stories"},{icon:Ed,label:"Verified account!",href:"/verify",highlight:!0}]},{title:"LIVE STREAMING PRIVATE",items:[{icon:_c,label:"Settings",href:"/streaming/settings"},{icon:Pn,label:"Requests received",href:"/streaming/requests"},{icon:Pn,label:"Requests sent",href:"/streaming/sent"}]},{title:"SUBSCRIPTION",items:[{icon:qr,label:"Subscription price",href:"/subscriptions/price"},{icon:lr,label:"My subscribers",href:"/subscriptions/subscribers"},{icon:lr,label:"My subscriptions",href:"/subscriptions/mine"}]},{title:"PRIVACY AND SECURITY",items:[{icon:Mr,label:"Privacy and Security",href:"/settings/privacy"},{icon:ia,label:"Password",href:"/settings/password"},{icon:Od,label:"Block Countries",href:"/settings/countries"},{icon:pr,label:"Restricted users",href:"/settings/restricted"}]},{title:"PAYMENTS",items:[{icon:vs,label:"Payments",href:"/payments"},{icon:qr,label:"Payments received",href:"/payments/received"},{icon:TF,label:"Payout method",href:"/payouts"},{icon:qr,label:"Withdrawals",href:"/withdrawals"}]}];function zte(){const[t,r]=j.useState("all"),[n,s]=j.useState(!1);ws();const a=g=>{const b=new Date,y=new Date(g),_=Math.floor((b.getTime()-y.getTime())/1e3);return _<60?"just now":_<3600?`${Math.floor(_/60)}m ago`:_<86400?`${Math.floor(_/3600)}h ago`:_<86400*7?`${Math.floor(_/86400)}d ago`:"over a week ago"},i=g=>{if(g.kind){if(g.kind==="fan_activity"){const b=g.payloadJson?.message||"";if(b.includes("subscribed"))return"subscription";if(b.includes("like"))return"like";if(b.includes("comment"))return"comment"}return g.kind}return g.type},{data:o=[],isLoading:l,refetch:u}=Ve({queryKey:["/api/notifications"]}),m=()=>{u()},f=o.length>0?o.map(g=>({id:g.id,type:i(g),username:g.payloadJson?.username||"User",action:g.payloadJson?.action||g.payloadJson?.message||"performed an action",time:a(g.createdAt),avatar:`https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=40&h=40&fit=crop&crop=face&${g.id}`,readAt:g.readAt})):Fte,p=t==="all"?f:f.filter(g=>{const b=i(g);switch(t){case"subscription":case"subscriptions":return b==="subscription"||b==="fan_activity"&&g.action.includes("subscribed");case"like":case"likes":return b==="like"||b==="fan_activity"&&g.action.includes("like");case"comments":return b==="comment"||b==="fan_activity"&&g.action.includes("comment");default:return!0}});return e.jsxs("div",{className:"flex min-h-screen bg-background text-foreground","data-testid":"notifications-page",children:[n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>s(!1)}),e.jsx("div",{className:`fixed md:static inset-y-0 left-0 w-72 bg-card border-r border-border p-6 overflow-y-auto transform transition-transform duration-200 z-50 ${n?"translate-x-0":"-translate-x-full"} md:translate-x-0`,children:$te.map((g,b)=>e.jsxs("div",{className:`${b>0?"mt-8":""}`,children:[e.jsx("h3",{className:"text-xs font-semibold text-muted-foreground mb-3 uppercase tracking-wider",children:g.title}),e.jsx("div",{className:"space-y-1",children:g.items.map(y=>{const _=y.icon;return e.jsx(_t,{href:y.href,children:e.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 text-sm rounded-lg hover:bg-muted/50 transition-colors cursor-pointer group",children:[e.jsx(_,{className:"h-4 w-4 text-muted-foreground group-hover:text-foreground"}),e.jsx("span",{className:`${y.highlight?"text-primary font-medium":"text-foreground"}`,children:y.label}),e.jsx(gh,{className:"h-3 w-3 text-muted-foreground ml-auto"})]})},y.label)})})]},g.title))}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-6 md:hidden",children:e.jsx(V,{variant:"ghost",size:"sm",onClick:()=>s(!0),"data-testid":"mobile-menu-button",children:e.jsx(MF,{className:"h-5 w-5"})})}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(n0,{className:"h-6 w-6 text-primary"}),e.jsx("h1",{className:"text-2xl font-bold","data-testid":"page-title",children:"Notifications"}),e.jsx(V,{variant:"ghost",size:"sm",onClick:m,disabled:l,"data-testid":"refresh-button",children:e.jsx(bx,{className:`h-5 w-5 text-muted-foreground ${l?"animate-spin":""}`})})]}),e.jsx("p",{className:"text-muted-foreground text-sm","data-testid":"page-description",children:"New subscribers, likes and new comments"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{variant:"ghost",size:"sm",className:"p-1",children:e.jsx(_c,{className:"h-4 w-4"})}),e.jsxs(yt,{value:t,onValueChange:r,children:[e.jsx(xt,{className:"w-24 h-8 text-sm","data-testid":"filter-select",children:e.jsx(bt,{})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All"}),e.jsx(Q,{value:"subscriptions",children:"Subscriptions"}),e.jsx(Q,{value:"likes",children:"Likes"}),e.jsx(Q,{value:"comments",children:"Comments"})]})]})]})]}),l&&e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(g=>e.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-border/40 animate-pulse",children:[e.jsx("div",{className:"h-12 w-12 bg-muted rounded-full flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-muted rounded mb-2 w-3/4"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/4"})]})]},g))}),!l&&e.jsxs(e.Fragment,{children:[p.length===0?e.jsx(Y,{className:"text-center py-16",children:e.jsxs(ee,{children:[e.jsx(n0,{className:"h-16 w-16 mx-auto text-muted-foreground/50 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No notifications found"}),e.jsx("p",{className:"text-muted-foreground",children:t==="all"?"You don't have any notifications yet.":`No ${t} notifications found.`})]})}):e.jsx("div",{className:"space-y-0",children:p.map((g,b)=>e.jsxs("div",{className:`flex items-center gap-3 p-4 hover:bg-muted/30 transition-colors border-b border-border/40 last:border-b-0 ${g.readAt?"":"bg-primary/5"}`,"data-testid":`notification-${g.id}`,children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsxs(un,{className:"h-12 w-12",children:[e.jsx(En,{src:g.avatar,alt:g.username,className:"object-cover"}),e.jsx(hn,{className:"bg-primary/10 text-primary text-sm font-semibold",children:g.username.slice(0,2).toUpperCase()})]}),e.jsx("div",{className:"absolute -bottom-1 -right-1 bg-blue-500 rounded-full p-1",children:e.jsx(Ed,{className:"h-3 w-3 text-white"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm text-foreground","data-testid":`notification-message-${g.id}`,children:[e.jsx("span",{className:"font-medium",children:g.username})," ",e.jsx("span",{className:"text-muted-foreground",children:g.action})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1","data-testid":`notification-time-${g.id}`,children:g.time})]}),!g.readAt&&e.jsx("div",{className:"h-2 w-2 bg-primary rounded-full flex-shrink-0"})]},g.id))}),p.length>0&&p.length>=10&&e.jsx("div",{className:"flex justify-center mt-8",children:e.jsx(V,{variant:"outline",className:"px-8",disabled:!0,children:"Load More (Coming Soon)"})})]})]})})]})}function Bte(){kr();const{data:t=[],isLoading:r}=Ve({queryKey:["/api/purchases"]}),n=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a/100),s=a=>{const i=new Date(a),l=new Date().getTime()-i.getTime(),u=Math.floor(l/864e5),m=Math.floor(l/36e5),f=Math.floor(l/6e4);return u>0?`${u}d ago`:m>0?`${m}h ago`:`${f}m ago`};return r?e.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-muted rounded w-48 mb-2"}),e.jsx("div",{className:"h-4 bg-muted rounded w-96"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((a,i)=>e.jsxs(Y,{className:"animate-pulse",children:[e.jsx("div",{className:"aspect-video bg-muted"}),e.jsxs(ue,{children:[e.jsx("div",{className:"h-4 bg-muted rounded mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-2/3"})]})]},i))})]})}):e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl","data-testid":"purchased-page",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(eI,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-display","data-testid":"page-title",children:"Purchased Content"}),e.jsx("p",{className:"text-muted-foreground",children:"Content you've purchased from creators"})]})]}),t.length===0?e.jsx(Y,{className:"text-center py-16",children:e.jsx(ee,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(eI,{className:"h-16 w-16 mx-auto text-muted-foreground/50"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No purchases yet"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"You haven't purchased any content yet. Explore creators and discover premium content."}),e.jsx(_t,{href:"/search",children:e.jsx(V,{"data-testid":"explore-creators-button",children:"Explore Creators"})})]})]})})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(a=>e.jsxs(Y,{className:"overflow-hidden hover:shadow-lg transition-all duration-200","data-testid":`purchase-${a.id}`,children:[e.jsx(_t,{href:`/post/${a.postId}`,children:e.jsxs("div",{className:"relative aspect-video bg-gradient-to-br from-primary/10 to-accent/10 cursor-pointer group",children:[a.post.thumbnailUrl?e.jsx("img",{src:a.post.thumbnailUrl,alt:a.post.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(pr,{className:"h-12 w-12 text-muted-foreground"})}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx(ce,{className:"bg-black/60 text-white",children:n(a.pricePaid)})})]})}),e.jsxs(ue,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(_t,{href:`/creator/${a.creatorId}`,children:e.jsxs(un,{className:"h-8 w-8 cursor-pointer",children:[e.jsx(En,{src:a.creator.profileImageUrl}),e.jsx(hn,{className:"bg-primary/10 text-primary text-xs",children:a.creator.username[0]?.toUpperCase()})]})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx(_t,{href:`/creator/${a.creatorId}`,children:e.jsxs("div",{className:"flex items-center gap-1 cursor-pointer hover:text-primary transition-colors",children:[e.jsx("span",{className:"text-sm font-medium truncate",children:a.creator.username}),a.creator.isVerified&&e.jsx(ce,{variant:"secondary",className:"text-xs px-1 py-0",children:""})]})})})]}),e.jsx(fe,{className:"text-base leading-tight line-clamp-2","data-testid":`purchase-title-${a.id}`,children:a.post.title}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(wr,{className:"h-3 w-3"}),e.jsx("span",{children:s(a.purchasedAt)})]}),e.jsx(ce,{variant:"outline",className:"text-xs",children:a.post.type})]})]}),e.jsx(ee,{className:"pt-0",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(_t,{href:`/post/${a.postId}`,children:e.jsxs(V,{size:"sm",className:"flex-1","data-testid":`view-content-${a.id}`,children:[e.jsx(pr,{className:"h-4 w-4 mr-2"}),"View Content"]})}),e.jsx(V,{variant:"outline",size:"sm","data-testid":`download-${a.id}`,children:e.jsx($n,{className:"h-4 w-4"})})]})})]},a.id))})]})}function qte(){kr();const{data:t=[],isLoading:r}=Ve({queryKey:["/api/subscriptions"]}),n=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l/100),s=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),a=l=>{switch(l){case"active":return"bg-green-500/10 text-green-500 border-green-500/20";case"cancelled":return"bg-yellow-500/10 text-yellow-500 border-yellow-500/20";case"expired":return"bg-red-500/10 text-red-500 border-red-500/20";default:return"bg-muted text-muted-foreground"}};if(r)return e.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-muted rounded w-48 mb-2"}),e.jsx("div",{className:"h-4 bg-muted rounded w-96"})]}),e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((l,u)=>e.jsx(Y,{className:"animate-pulse",children:e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-muted rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-muted rounded mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]})})},u))})]})});const i=t.filter(l=>l.status==="active"),o=t.filter(l=>l.status!=="active");return e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl","data-testid":"subscriptions-page",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(An,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-display","data-testid":"page-title",children:"My Subscriptions"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your creator subscriptions and access premium content"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx(Y,{children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Subscriptions"}),e.jsx("p",{className:"text-2xl font-bold","data-testid":"active-count",children:i.length})]}),e.jsx(Rd,{className:"h-8 w-8 text-yellow-500"})]})})}),e.jsx(Y,{children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly Spend"}),e.jsx("p",{className:"text-2xl font-bold","data-testid":"monthly-spend",children:n(i.reduce((l,u)=>l+u.pricePerMonth,0))})]}),e.jsx(qr,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(Y,{children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Creators"}),e.jsx("p",{className:"text-2xl font-bold","data-testid":"total-creators",children:t.length})]}),e.jsx(lr,{className:"h-8 w-8 text-blue-500"})]})})})]}),t.length===0?e.jsx(Y,{className:"text-center py-16",children:e.jsx(ee,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(An,{className:"h-16 w-16 mx-auto text-muted-foreground/50"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No subscriptions yet"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Subscribe to your favorite creators to get exclusive content and perks."}),e.jsx(_t,{href:"/search",children:e.jsx(V,{"data-testid":"find-creators-button",children:"Find Creators to Subscribe"})})]})]})})}):e.jsxs("div",{className:"space-y-8",children:[i.length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Rd,{className:"h-5 w-5 text-yellow-500"}),"Active Subscriptions"]}),e.jsx("div",{className:"space-y-4",children:i.map(l=>e.jsxs(Y,{className:"hover:shadow-lg transition-all duration-200","data-testid":`subscription-${l.id}`,children:[e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(_t,{href:`/creator/${l.creatorId}`,children:e.jsxs(un,{className:"h-12 w-12 cursor-pointer ring-2 ring-primary/20",children:[e.jsx(En,{src:l.creator.profileImageUrl}),e.jsx(hn,{className:"bg-primary/10 text-primary",children:l.creator.username[0]?.toUpperCase()})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(_t,{href:`/creator/${l.creatorId}`,children:e.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:text-primary transition-colors",children:[e.jsx("h3",{className:"font-semibold","data-testid":`creator-name-${l.id}`,children:l.creator.username}),l.creator.isVerified&&e.jsx(ce,{variant:"secondary",className:"text-xs px-1 py-0",children:""})]})}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:[l.tier," Tier"]}),e.jsx("span",{children:""}),e.jsxs("span",{children:[l.creator.followerCount.toLocaleString()," followers"]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold",children:[n(l.pricePerMonth),e.jsx("span",{className:"text-sm text-muted-foreground font-normal",children:"/month"})]}),e.jsx(ce,{variant:"outline",className:a(l.status),children:l.status})]})]})}),e.jsx(ee,{className:"pt-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ys,{className:"h-3 w-3"}),e.jsxs("span",{children:["Started ",s(l.startDate)]})]}),l.autoRenew&&e.jsx(ce,{variant:"outline",className:"text-xs",children:"Auto-renew"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(_t,{href:`/creator/${l.creatorId}`,children:e.jsx(V,{variant:"outline",size:"sm","data-testid":`view-creator-${l.id}`,children:"View Creator"})}),e.jsx(V,{variant:"outline",size:"sm","data-testid":`manage-${l.id}`,children:"Manage"})]})]})})]},l.id))})]}),o.length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-muted-foreground",children:"Past Subscriptions"}),e.jsx("div",{className:"space-y-4",children:o.map(l=>e.jsx(Y,{className:"opacity-75","data-testid":`past-subscription-${l.id}`,children:e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(un,{className:"h-10 w-10",children:[e.jsx(En,{src:l.creator.profileImageUrl}),e.jsx(hn,{className:"bg-muted text-muted-foreground",children:l.creator.username[0]?.toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:l.creator.username}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.tier," Tier"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(ce,{variant:"outline",className:a(l.status),children:l.status}),l.endDate&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Ended ",s(l.endDate)]})]})]})})},l.id))})]})]})]})}function Ute(){kr();const{data:t=[],isLoading:r}=Ve({queryKey:["/api/release-forms"]}),n=f=>new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),s=f=>{switch(f){case"signed":return"bg-green-500/10 text-green-500 border-green-500/20";case"pending":return"bg-yellow-500/10 text-yellow-500 border-yellow-500/20";case"expired":return"bg-red-500/10 text-red-500 border-red-500/20";case"rejected":return"bg-red-500/10 text-red-500 border-red-500/20";default:return"bg-muted text-muted-foreground"}},a=f=>{switch(f){case"signed":return Cr;case"pending":return Qr;case"expired":return Qr;case"rejected":return Qr;default:return Cn}},i=f=>{switch(f){case"model_release":return"Model Release";case"location_release":return"Location Release";case"property_release":return"Property Release";case"minor_release":return"Minor Release";default:return"Release Form"}},o=f=>{switch(f.type){case"model_release":return f.modelName||"Model consent form";case"location_release":return f.locationName||"Location usage rights";case"property_release":return f.propertyAddress||"Property usage rights";case"minor_release":return f.guardianName?`Guardian: ${f.guardianName}`:"Minor consent form";default:return"Release documentation"}};if(r)return e.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-muted rounded w-48 mb-2"}),e.jsx("div",{className:"h-4 bg-muted rounded w-96"})]}),e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((f,p)=>e.jsx(Y,{className:"animate-pulse",children:e.jsxs(ue,{children:[e.jsx("div",{className:"h-4 bg-muted rounded mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},p))})]})});const l=t.filter(f=>f.status==="signed"),u=t.filter(f=>f.status==="pending"),m=t.filter(f=>["expired","rejected"].includes(f.status));return e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl","data-testid":"release-forms-page",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(Cn,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-display","data-testid":"page-title",children:"Release Forms"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage model releases, location permits, and consent forms"})]})]}),e.jsxs(V,{className:"glow-effect","data-testid":"create-form-button",children:[e.jsx(zi,{className:"h-4 w-4 mr-2"}),"Upload New Form"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(Y,{children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Forms"}),e.jsx("p",{className:"text-2xl font-bold","data-testid":"total-forms",children:t.length})]}),e.jsx(Cn,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(Y,{children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Signed"}),e.jsx("p",{className:"text-2xl font-bold text-green-500","data-testid":"signed-forms",children:l.length})]}),e.jsx(Cr,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(Y,{children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-500","data-testid":"pending-forms",children:u.length})]}),e.jsx(Qr,{className:"h-8 w-8 text-yellow-500"})]})})}),e.jsx(Y,{children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Issues"}),e.jsx("p",{className:"text-2xl font-bold text-red-500","data-testid":"issue-forms",children:m.length})]}),e.jsx(Mr,{className:"h-8 w-8 text-red-500"})]})})})]}),t.length===0?e.jsx(Y,{className:"text-center py-16",children:e.jsx(ee,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(Cn,{className:"h-16 w-16 mx-auto text-muted-foreground/50"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No release forms yet"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Upload release forms to ensure legal compliance for your content creation."}),e.jsxs(V,{"data-testid":"upload-first-form-button",children:[e.jsx(zi,{className:"h-4 w-4 mr-2"}),"Upload Your First Form"]})]})]})})}):e.jsxs("div",{className:"space-y-8",children:[u.length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Qr,{className:"h-5 w-5 text-yellow-500"}),"Pending Signatures"]}),e.jsx("div",{className:"space-y-4",children:u.map(f=>{const p=a(f.status);return e.jsxs(Y,{className:"border-yellow-200 dark:border-yellow-800 hover:shadow-lg transition-all duration-200","data-testid":`form-${f.id}`,children:[e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(p,{className:"h-5 w-5 text-yellow-500"}),e.jsxs("div",{children:[e.jsx(fe,{className:"text-base","data-testid":`form-title-${f.id}`,children:i(f.type)}),e.jsx(lt,{"data-testid":`form-description-${f.id}`,children:o(f)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ce,{variant:"outline",className:s(f.status),children:f.status}),e.jsxs("div",{className:"text-right text-sm text-muted-foreground",children:[e.jsxs("p",{children:["Created ",n(f.createdAt)]}),f.expiresAt&&e.jsxs("p",{className:"text-red-500",children:["Expires ",n(f.expiresAt)]})]})]})]})}),e.jsx(ee,{className:"pt-0",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{size:"sm","data-testid":`view-form-${f.id}`,children:[e.jsx(pr,{className:"h-4 w-4 mr-2"}),"Review & Sign"]}),f.documentUrl&&e.jsxs(V,{variant:"outline",size:"sm","data-testid":`download-form-${f.id}`,children:[e.jsx($n,{className:"h-4 w-4 mr-2"}),"Download"]})]})})]},f.id)})})]}),l.length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Cr,{className:"h-5 w-5 text-green-500"}),"Signed Forms"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map(f=>{const p=a(f.status);return e.jsxs(Y,{className:"hover:shadow-lg transition-all duration-200","data-testid":`signed-form-${f.id}`,children:[e.jsxs(ue,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-4 w-4 text-green-500"}),e.jsx(fe,{className:"text-sm",children:i(f.type)})]}),e.jsx(ce,{variant:"outline",className:s(f.status),children:" Signed"})]}),e.jsx(lt,{className:"text-xs",children:o(f)})]}),e.jsxs(ee,{className:"pt-0",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-3",children:[e.jsxs("span",{children:["Signed ",f.signedAt?n(f.signedAt):"N/A"]}),f.expiresAt&&e.jsxs("span",{children:["Expires ",n(f.expiresAt)]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm",className:"flex-1","data-testid":`view-signed-${f.id}`,children:[e.jsx(pr,{className:"h-3 w-3 mr-1"}),"View"]}),f.documentUrl&&e.jsx(V,{variant:"outline",size:"sm","data-testid":`download-signed-${f.id}`,children:e.jsx($n,{className:"h-3 w-3"})})]})]})]},f.id)})})]}),m.length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-muted-foreground",children:"Issues & Expired"}),e.jsx("div",{className:"space-y-3",children:m.map(f=>{const p=a(f.status);return e.jsx(Y,{className:"opacity-75","data-testid":`issue-form-${f.id}`,children:e.jsxs(ue,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-4 w-4 text-red-500"}),e.jsx(fe,{className:"text-sm",children:i(f.type)})]}),e.jsx(ce,{variant:"outline",className:s(f.status),children:f.status})]}),e.jsxs(lt,{className:"text-xs",children:[o(f),"  Created ",n(f.createdAt)]})]})},f.id)})})]})]})]})}function SB(t,r){const n=j.useRef(r);j.useEffect(function(){r!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),r!=null&&t.attributionControl.addAttribution(r)),n.current=r},[t,r])}const Vte=1;function Kte(t){return Object.freeze({__version:Vte,map:t})}function Wte(t,r){return Object.freeze({...t,...r})}const CB=j.createContext(null),kB=CB.Provider;function AB(){const t=j.useContext(CB);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function Hte(t){function r(n,s){const{instance:a,context:i}=t(n).current;return j.useImperativeHandle(s,()=>a),n.children==null?null:le.createElement(kB,{value:i},n.children)}return j.forwardRef(r)}function Gte(t){function r(n,s){const[a,i]=j.useState(!1),{instance:o}=t(n,i).current;j.useImperativeHandle(s,()=>o),j.useEffect(function(){a&&o.update()},[o,a,n.children]);const l=o._contentNode;return l?ph.createPortal(n.children,l):null}return j.forwardRef(r)}function Zte(t){function r(n,s){const{instance:a}=t(n).current;return j.useImperativeHandle(s,()=>a),null}return j.forwardRef(r)}function PB(t,r){const n=j.useRef();j.useEffect(function(){return r!=null&&t.instance.on(r),n.current=r,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,r])}function OP(t,r){const n=t.pane??r.pane;return n?{...t,pane:n}:t}function Yte(t,r){return function(s,a){const i=AB(),o=t(OP(s,i),i);return SB(i.map,s.attribution),PB(o.current,s.eventHandlers),r(o.current,i,s,a),o}}var ex={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Qte=ex.exports,OI;function Xte(){return OI||(OI=1,(function(t,r){(function(n,s){s(r)})(Qte,(function(n){var s="1.9.4";function a(d){var x,S,T,$;for(S=1,T=arguments.length;S<T;S++){$=arguments[S];for(x in $)d[x]=$[x]}return d}var i=Object.create||(function(){function d(){}return function(x){return d.prototype=x,new d}})();function o(d,x){var S=Array.prototype.slice;if(d.bind)return d.bind.apply(d,S.call(arguments,1));var T=S.call(arguments,2);return function(){return d.apply(x,T.length?T.concat(S.call(arguments)):arguments)}}var l=0;function u(d){return"_leaflet_id"in d||(d._leaflet_id=++l),d._leaflet_id}function m(d,x,S){var T,$,te,xe;return xe=function(){T=!1,$&&(te.apply(S,$),$=!1)},te=function(){T?$=arguments:(d.apply(S,arguments),setTimeout(xe,x),T=!0)},te}function f(d,x,S){var T=x[1],$=x[0],te=T-$;return d===T&&S?d:((d-$)%te+te)%te+$}function p(){return!1}function g(d,x){if(x===!1)return d;var S=Math.pow(10,x===void 0?6:x);return Math.round(d*S)/S}function b(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function y(d){return b(d).split(/\s+/)}function _(d,x){Object.prototype.hasOwnProperty.call(d,"options")||(d.options=d.options?i(d.options):{});for(var S in x)d.options[S]=x[S];return d.options}function w(d,x,S){var T=[];for(var $ in d)T.push(encodeURIComponent(S?$.toUpperCase():$)+"="+encodeURIComponent(d[$]));return(!x||x.indexOf("?")===-1?"?":"&")+T.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function A(d,x){return d.replace(k,function(S,T){var $=x[T];if($===void 0)throw new Error("No value provided for variable "+S);return typeof $=="function"&&($=$(x)),$})}var P=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function O(d,x){for(var S=0;S<d.length;S++)if(d[S]===x)return S;return-1}var I="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(d){return window["webkit"+d]||window["moz"+d]||window["ms"+d]}var F=0;function B(d){var x=+new Date,S=Math.max(0,16-(x-F));return F=x+S,window.setTimeout(d,S)}var H=window.requestAnimationFrame||D("RequestAnimationFrame")||B,re=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)};function G(d,x,S){if(S&&H===B)d.call(x);else return H.call(window,o(d,x))}function J(d){d&&re.call(window,d)}var Z={__proto__:null,extend:a,create:i,bind:o,get lastId(){return l},stamp:u,throttle:m,wrapNum:f,falseFn:p,formatNum:g,trim:b,splitWords:y,setOptions:_,getParamString:w,template:A,isArray:P,indexOf:O,emptyImageUrl:I,requestFn:H,cancelFn:re,requestAnimFrame:G,cancelAnimFrame:J};function ne(){}ne.extend=function(d){var x=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},S=x.__super__=this.prototype,T=i(S);T.constructor=x,x.prototype=T;for(var $ in this)Object.prototype.hasOwnProperty.call(this,$)&&$!=="prototype"&&$!=="__super__"&&(x[$]=this[$]);return d.statics&&a(x,d.statics),d.includes&&(K(d.includes),a.apply(null,[T].concat(d.includes))),a(T,d),delete T.statics,delete T.includes,T.options&&(T.options=S.options?i(S.options):{},a(T.options,d.options)),T._initHooks=[],T.callInitHooks=function(){if(!this._initHooksCalled){S.callInitHooks&&S.callInitHooks.call(this),this._initHooksCalled=!0;for(var te=0,xe=T._initHooks.length;te<xe;te++)T._initHooks[te].call(this)}},x},ne.include=function(d){var x=this.prototype.options;return a(this.prototype,d),d.options&&(this.prototype.options=x,this.mergeOptions(d.options)),this},ne.mergeOptions=function(d){return a(this.prototype.options,d),this},ne.addInitHook=function(d){var x=Array.prototype.slice.call(arguments,1),S=typeof d=="function"?d:function(){this[d].apply(this,x)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(S),this};function K(d){if(!(typeof L>"u"||!L||!L.Mixin)){d=P(d)?d:[d];for(var x=0;x<d.length;x++)d[x]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ae={on:function(d,x,S){if(typeof d=="object")for(var T in d)this._on(T,d[T],x);else{d=y(d);for(var $=0,te=d.length;$<te;$++)this._on(d[$],x,S)}return this},off:function(d,x,S){if(!arguments.length)delete this._events;else if(typeof d=="object")for(var T in d)this._off(T,d[T],x);else{d=y(d);for(var $=arguments.length===1,te=0,xe=d.length;te<xe;te++)$?this._off(d[te]):this._off(d[te],x,S)}return this},_on:function(d,x,S,T){if(typeof x!="function"){console.warn("wrong listener type: "+typeof x);return}if(this._listens(d,x,S)===!1){S===this&&(S=void 0);var $={fn:x,ctx:S};T&&($.once=!0),this._events=this._events||{},this._events[d]=this._events[d]||[],this._events[d].push($)}},_off:function(d,x,S){var T,$,te;if(this._events&&(T=this._events[d],!!T)){if(arguments.length===1){if(this._firingCount)for($=0,te=T.length;$<te;$++)T[$].fn=p;delete this._events[d];return}if(typeof x!="function"){console.warn("wrong listener type: "+typeof x);return}var xe=this._listens(d,x,S);if(xe!==!1){var Ae=T[xe];this._firingCount&&(Ae.fn=p,this._events[d]=T=T.slice()),T.splice(xe,1)}}},fire:function(d,x,S){if(!this.listens(d,S))return this;var T=a({},x,{type:d,target:this,sourceTarget:x&&x.sourceTarget||this});if(this._events){var $=this._events[d];if($){this._firingCount=this._firingCount+1||1;for(var te=0,xe=$.length;te<xe;te++){var Ae=$[te],Fe=Ae.fn;Ae.once&&this.off(d,Fe,Ae.ctx),Fe.call(Ae.ctx||this,T)}this._firingCount--}}return S&&this._propagateEvent(T),this},listens:function(d,x,S,T){typeof d!="string"&&console.warn('"string" type argument expected');var $=x;typeof x!="function"&&(T=!!x,$=void 0,S=void 0);var te=this._events&&this._events[d];if(te&&te.length&&this._listens(d,$,S)!==!1)return!0;if(T){for(var xe in this._eventParents)if(this._eventParents[xe].listens(d,x,S,T))return!0}return!1},_listens:function(d,x,S){if(!this._events)return!1;var T=this._events[d]||[];if(!x)return!!T.length;S===this&&(S=void 0);for(var $=0,te=T.length;$<te;$++)if(T[$].fn===x&&T[$].ctx===S)return $;return!1},once:function(d,x,S){if(typeof d=="object")for(var T in d)this._on(T,d[T],x,!0);else{d=y(d);for(var $=0,te=d.length;$<te;$++)this._on(d[$],x,S,!0)}return this},addEventParent:function(d){return this._eventParents=this._eventParents||{},this._eventParents[u(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[u(d)],this},_propagateEvent:function(d){for(var x in this._eventParents)this._eventParents[x].fire(d.type,a({layer:d.target,propagatedFrom:d.target},d),!0)}};ae.addEventListener=ae.on,ae.removeEventListener=ae.clearAllEventListeners=ae.off,ae.addOneTimeEventListener=ae.once,ae.fireEvent=ae.fire,ae.hasEventListeners=ae.listens;var U=ne.extend(ae);function W(d,x,S){this.x=S?Math.round(d):d,this.y=S?Math.round(x):x}var se=Math.trunc||function(d){return d>0?Math.floor(d):Math.ceil(d)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(d){return this.clone()._add(de(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract(de(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new W(this.x*d.x,this.y*d.y)},unscaleBy:function(d){return new W(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=se(this.x),this.y=se(this.y),this},distanceTo:function(d){d=de(d);var x=d.x-this.x,S=d.y-this.y;return Math.sqrt(x*x+S*S)},equals:function(d){return d=de(d),d.x===this.x&&d.y===this.y},contains:function(d){return d=de(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function de(d,x,S){return d instanceof W?d:P(d)?new W(d[0],d[1]):d==null?d:typeof d=="object"&&"x"in d&&"y"in d?new W(d.x,d.y):new W(d,x,S)}function z(d,x){if(d)for(var S=x?[d,x]:d,T=0,$=S.length;T<$;T++)this.extend(S[T])}z.prototype={extend:function(d){var x,S;if(!d)return this;if(d instanceof W||typeof d[0]=="number"||"x"in d)x=S=de(d);else if(d=oe(d),x=d.min,S=d.max,!x||!S)return this;return!this.min&&!this.max?(this.min=x.clone(),this.max=S.clone()):(this.min.x=Math.min(x.x,this.min.x),this.max.x=Math.max(S.x,this.max.x),this.min.y=Math.min(x.y,this.min.y),this.max.y=Math.max(S.y,this.max.y)),this},getCenter:function(d){return de((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return de(this.min.x,this.max.y)},getTopRight:function(){return de(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var x,S;return typeof d[0]=="number"||d instanceof W?d=de(d):d=oe(d),d instanceof z?(x=d.min,S=d.max):x=S=d,x.x>=this.min.x&&S.x<=this.max.x&&x.y>=this.min.y&&S.y<=this.max.y},intersects:function(d){d=oe(d);var x=this.min,S=this.max,T=d.min,$=d.max,te=$.x>=x.x&&T.x<=S.x,xe=$.y>=x.y&&T.y<=S.y;return te&&xe},overlaps:function(d){d=oe(d);var x=this.min,S=this.max,T=d.min,$=d.max,te=$.x>x.x&&T.x<S.x,xe=$.y>x.y&&T.y<S.y;return te&&xe},isValid:function(){return!!(this.min&&this.max)},pad:function(d){var x=this.min,S=this.max,T=Math.abs(x.x-S.x)*d,$=Math.abs(x.y-S.y)*d;return oe(de(x.x-T,x.y-$),de(S.x+T,S.y+$))},equals:function(d){return d?(d=oe(d),this.min.equals(d.getTopLeft())&&this.max.equals(d.getBottomRight())):!1}};function oe(d,x){return!d||d instanceof z?d:new z(d,x)}function Ce(d,x){if(d)for(var S=x?[d,x]:d,T=0,$=S.length;T<$;T++)this.extend(S[T])}Ce.prototype={extend:function(d){var x=this._southWest,S=this._northEast,T,$;if(d instanceof _e)T=d,$=d;else if(d instanceof Ce){if(T=d._southWest,$=d._northEast,!T||!$)return this}else return d?this.extend(Le(d)||ke(d)):this;return!x&&!S?(this._southWest=new _e(T.lat,T.lng),this._northEast=new _e($.lat,$.lng)):(x.lat=Math.min(T.lat,x.lat),x.lng=Math.min(T.lng,x.lng),S.lat=Math.max($.lat,S.lat),S.lng=Math.max($.lng,S.lng)),this},pad:function(d){var x=this._southWest,S=this._northEast,T=Math.abs(x.lat-S.lat)*d,$=Math.abs(x.lng-S.lng)*d;return new Ce(new _e(x.lat-T,x.lng-$),new _e(S.lat+T,S.lng+$))},getCenter:function(){return new _e((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new _e(this.getNorth(),this.getWest())},getSouthEast:function(){return new _e(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){typeof d[0]=="number"||d instanceof _e||"lat"in d?d=Le(d):d=ke(d);var x=this._southWest,S=this._northEast,T,$;return d instanceof Ce?(T=d.getSouthWest(),$=d.getNorthEast()):T=$=d,T.lat>=x.lat&&$.lat<=S.lat&&T.lng>=x.lng&&$.lng<=S.lng},intersects:function(d){d=ke(d);var x=this._southWest,S=this._northEast,T=d.getSouthWest(),$=d.getNorthEast(),te=$.lat>=x.lat&&T.lat<=S.lat,xe=$.lng>=x.lng&&T.lng<=S.lng;return te&&xe},overlaps:function(d){d=ke(d);var x=this._southWest,S=this._northEast,T=d.getSouthWest(),$=d.getNorthEast(),te=$.lat>x.lat&&T.lat<S.lat,xe=$.lng>x.lng&&T.lng<S.lng;return te&&xe},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(d,x){return d?(d=ke(d),this._southWest.equals(d.getSouthWest(),x)&&this._northEast.equals(d.getNorthEast(),x)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ke(d,x){return d instanceof Ce?d:new Ce(d,x)}function _e(d,x,S){if(isNaN(d)||isNaN(x))throw new Error("Invalid LatLng object: ("+d+", "+x+")");this.lat=+d,this.lng=+x,S!==void 0&&(this.alt=+S)}_e.prototype={equals:function(d,x){if(!d)return!1;d=Le(d);var S=Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng));return S<=(x===void 0?1e-9:x)},toString:function(d){return"LatLng("+g(this.lat,d)+", "+g(this.lng,d)+")"},distanceTo:function(d){return Xe.distance(this,Le(d))},wrap:function(){return Xe.wrapLatLng(this)},toBounds:function(d){var x=180*d/40075017,S=x/Math.cos(Math.PI/180*this.lat);return ke([this.lat-x,this.lng-S],[this.lat+x,this.lng+S])},clone:function(){return new _e(this.lat,this.lng,this.alt)}};function Le(d,x,S){return d instanceof _e?d:P(d)&&typeof d[0]!="object"?d.length===3?new _e(d[0],d[1],d[2]):d.length===2?new _e(d[0],d[1]):null:d==null?d:typeof d=="object"&&"lat"in d?new _e(d.lat,"lng"in d?d.lng:d.lon,d.alt):x===void 0?null:new _e(d,x,S)}var je={latLngToPoint:function(d,x){var S=this.projection.project(d),T=this.scale(x);return this.transformation._transform(S,T)},pointToLatLng:function(d,x){var S=this.scale(x),T=this.transformation.untransform(d,S);return this.projection.unproject(T)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var x=this.projection.bounds,S=this.scale(d),T=this.transformation.transform(x.min,S),$=this.transformation.transform(x.max,S);return new z(T,$)},infinite:!1,wrapLatLng:function(d){var x=this.wrapLng?f(d.lng,this.wrapLng,!0):d.lng,S=this.wrapLat?f(d.lat,this.wrapLat,!0):d.lat,T=d.alt;return new _e(S,x,T)},wrapLatLngBounds:function(d){var x=d.getCenter(),S=this.wrapLatLng(x),T=x.lat-S.lat,$=x.lng-S.lng;if(T===0&&$===0)return d;var te=d.getSouthWest(),xe=d.getNorthEast(),Ae=new _e(te.lat-T,te.lng-$),Fe=new _e(xe.lat-T,xe.lng-$);return new Ce(Ae,Fe)}},Xe=a({},je,{wrapLng:[-180,180],R:6371e3,distance:function(d,x){var S=Math.PI/180,T=d.lat*S,$=x.lat*S,te=Math.sin((x.lat-d.lat)*S/2),xe=Math.sin((x.lng-d.lng)*S/2),Ae=te*te+Math.cos(T)*Math.cos($)*xe*xe,Fe=2*Math.atan2(Math.sqrt(Ae),Math.sqrt(1-Ae));return this.R*Fe}}),qe=6378137,tt={R:qe,MAX_LATITUDE:85.0511287798,project:function(d){var x=Math.PI/180,S=this.MAX_LATITUDE,T=Math.max(Math.min(S,d.lat),-S),$=Math.sin(T*x);return new W(this.R*d.lng*x,this.R*Math.log((1+$)/(1-$))/2)},unproject:function(d){var x=180/Math.PI;return new _e((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*x,d.x*x/this.R)},bounds:(function(){var d=qe*Math.PI;return new z([-d,-d],[d,d])})()};function St(d,x,S,T){if(P(d)){this._a=d[0],this._b=d[1],this._c=d[2],this._d=d[3];return}this._a=d,this._b=x,this._c=S,this._d=T}St.prototype={transform:function(d,x){return this._transform(d.clone(),x)},_transform:function(d,x){return x=x||1,d.x=x*(this._a*d.x+this._b),d.y=x*(this._c*d.y+this._d),d},untransform:function(d,x){return x=x||1,new W((d.x/x-this._b)/this._a,(d.y/x-this._d)/this._c)}};function Oe(d,x,S,T){return new St(d,x,S,T)}var qt=a({},Xe,{code:"EPSG:3857",projection:tt,transformation:(function(){var d=.5/(Math.PI*tt.R);return Oe(d,.5,-d,.5)})()}),Et=a({},qt,{code:"EPSG:900913"});function sr(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function Jt(d,x){var S="",T,$,te,xe,Ae,Fe;for(T=0,te=d.length;T<te;T++){for(Ae=d[T],$=0,xe=Ae.length;$<xe;$++)Fe=Ae[$],S+=($?"L":"M")+Fe.x+" "+Fe.y;S+=x?Ht.svg?"z":"x":""}return S||"M0 0"}var gr=document.documentElement.style,Hr="ActiveXObject"in window,Jr=Hr&&!document.addEventListener,me="msLaunchUri"in navigator&&!("documentMode"in document),Ne=pn("webkit"),Ie=pn("android"),ht=pn("android 2")||pn("android 3"),dt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Je=Ie&&pn("Google")&&dt<537&&!("AudioNode"in window),ze=!!window.opera,Gt=!me&&pn("chrome"),rr=pn("gecko")&&!Ne&&!ze&&!Hr,Rn=!Gt&&pn("safari"),as=pn("phantom"),Gr="OTransition"in gr,$a=navigator.platform.indexOf("Win")===0,_s=Hr&&"transition"in gr,at="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ht,dn="MozPerspective"in gr,ft=!window.L_DISABLE_3D&&(_s||at||dn)&&!Gr&&!as,Lt=typeof orientation<"u"||pn("mobile"),er=Lt&&Ne,Qe=Lt&&at,Er=!window.PointerEvent&&window.MSPointerEvent,fn=!!(window.PointerEvent||Er),za="ontouchstart"in window||!!window.TouchEvent,st=!window.L_NO_TOUCH&&(za||fn),On=Lt&&ze,ms=Lt&&rr,$c=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,el=(function(){var d=!1;try{var x=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassiveEventSupport",p,x),window.removeEventListener("testPassiveEventSupport",p,x)}catch{}return d})(),eu=(function(){return!!document.createElement("canvas").getContext})(),va=!!(document.createElementNS&&sr("svg").createSVGRect),$l=!!va&&(function(){var d=document.createElement("div");return d.innerHTML="<svg/>",(d.firstChild&&d.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),zc=!va&&(function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var x=d.firstChild;return x.style.behavior="url(#default#VML)",x&&typeof x.adj=="object"}catch{return!1}})(),Ke=navigator.platform.indexOf("Mac")===0,ea=navigator.platform.indexOf("Linux")===0;function pn(d){return navigator.userAgent.toLowerCase().indexOf(d)>=0}var Ht={ie:Hr,ielt9:Jr,edge:me,webkit:Ne,android:Ie,android23:ht,androidStock:Je,opera:ze,chrome:Gt,gecko:rr,safari:Rn,phantom:as,opera12:Gr,win:$a,ie3d:_s,webkit3d:at,gecko3d:dn,any3d:ft,mobile:Lt,mobileWebkit:er,mobileWebkit3d:Qe,msPointer:Er,pointer:fn,touch:st,touchNative:za,mobileOpera:On,mobileGecko:ms,retina:$c,passiveEvents:el,canvas:eu,svg:va,vml:zc,inlineSvg:$l,mac:Ke,linux:ea},tu=Ht.msPointer?"MSPointerDown":"pointerdown",Ch=Ht.msPointer?"MSPointerMove":"pointermove",rv=Ht.msPointer?"MSPointerUp":"pointerup",nv=Ht.msPointer?"MSPointerCancel":"pointercancel",Hf={touchstart:tu,touchmove:Ch,touchend:rv,touchcancel:nv},tl={touchstart:is,touchmove:kh,touchend:kh,touchcancel:kh},zl={},Gf=!1;function iw(d,x,S){return x==="touchstart"&&ow(),tl[x]?(S=tl[x].bind(this,S),d.addEventListener(Hf[x],S,!1),S):(console.warn("wrong event specified:",x),p)}function sv(d,x,S){if(!Hf[x]){console.warn("wrong event specified:",x);return}d.removeEventListener(Hf[x],S,!1)}function av(d){zl[d.pointerId]=d}function iv(d){zl[d.pointerId]&&(zl[d.pointerId]=d)}function Zf(d){delete zl[d.pointerId]}function ow(){Gf||(document.addEventListener(tu,av,!0),document.addEventListener(Ch,iv,!0),document.addEventListener(rv,Zf,!0),document.addEventListener(nv,Zf,!0),Gf=!0)}function kh(d,x){if(x.pointerType!==(x.MSPOINTER_TYPE_MOUSE||"mouse")){x.touches=[];for(var S in zl)x.touches.push(zl[S]);x.changedTouches=[x],d(x)}}function is(d,x){x.MSPOINTER_TYPE_TOUCH&&x.pointerType===x.MSPOINTER_TYPE_TOUCH&&os(x),kh(d,x)}function lw(d){var x={},S,T;for(T in d)S=d[T],x[T]=S&&S.bind?S.bind(d):S;return d=x,x.type="dblclick",x.detail=2,x.isTrusted=!1,x._simulated=!0,x}var Yf=200;function ov(d,x){d.addEventListener("dblclick",x);var S=0,T;function $(te){if(te.detail!==1){T=te.detail;return}if(!(te.pointerType==="mouse"||te.sourceCapabilities&&!te.sourceCapabilities.firesTouchEvents)){var xe=Ul(te);if(!(xe.some(function(Fe){return Fe instanceof HTMLLabelElement&&Fe.attributes.for})&&!xe.some(function(Fe){return Fe instanceof HTMLInputElement||Fe instanceof HTMLSelectElement}))){var Ae=Date.now();Ae-S<=Yf?(T++,T===2&&x(lw(te))):T=1,S=Ae}}}return d.addEventListener("click",$),{dblclick:x,simDblclick:$}}function Ah(d,x){d.removeEventListener("dblclick",x.dblclick),d.removeEventListener("click",x.simDblclick)}var Qf=Vc(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Bc=Vc(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ru=Bc==="webkitTransition"||Bc==="OTransition"?Bc+"End":"transitionend";function ji(d){return typeof d=="string"?document.getElementById(d):d}function nu(d,x){var S=d.style[x]||d.currentStyle&&d.currentStyle[x];if((!S||S==="auto")&&document.defaultView){var T=document.defaultView.getComputedStyle(d,null);S=T?T[x]:null}return S==="auto"?null:S}function Nr(d,x,S){var T=document.createElement(d);return T.className=x||"",S&&S.appendChild(T),T}function Wn(d){var x=d.parentNode;x&&x.removeChild(d)}function Ph(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function qc(d){var x=d.parentNode;x&&x.lastChild!==d&&x.appendChild(d)}function vo(d){var x=d.parentNode;x&&x.firstChild!==d&&x.insertBefore(d,x.firstChild)}function Uc(d,x){if(d.classList!==void 0)return d.classList.contains(x);var S=Th(d);return S.length>0&&new RegExp("(^|\\s)"+x+"(\\s|$)").test(S)}function vr(d,x){if(d.classList!==void 0)for(var S=y(x),T=0,$=S.length;T<$;T++)d.classList.add(S[T]);else if(!Uc(d,x)){var te=Th(d);Xf(d,(te?te+" ":"")+x)}}function zn(d,x){d.classList!==void 0?d.classList.remove(x):Xf(d,b((" "+Th(d)+" ").replace(" "+x+" "," ")))}function Xf(d,x){d.className.baseVal===void 0?d.className=x:d.className.baseVal=x}function Th(d){return d.correspondingElement&&(d=d.correspondingElement),d.className.baseVal===void 0?d.className:d.className.baseVal}function ya(d,x){"opacity"in d.style?d.style.opacity=x:"filter"in d.style&&lv(d,x)}function lv(d,x){var S=!1,T="DXImageTransform.Microsoft.Alpha";try{S=d.filters.item(T)}catch{if(x===1)return}x=Math.round(x*100),S?(S.Enabled=x!==100,S.Opacity=x):d.style.filter+=" progid:"+T+"(opacity="+x+")"}function Vc(d){for(var x=document.documentElement.style,S=0;S<d.length;S++)if(d[S]in x)return d[S];return!1}function wi(d,x,S){var T=x||new W(0,0);d.style[Qf]=(Ht.ie3d?"translate("+T.x+"px,"+T.y+"px)":"translate3d("+T.x+"px,"+T.y+"px,0)")+(S?" scale("+S+")":"")}function fs(d,x){d._leaflet_pos=x,Ht.any3d?wi(d,x):(d.style.left=x.x+"px",d.style.top=x.y+"px")}function yo(d){return d._leaflet_pos||new W(0,0)}var Zr,Kc,Eh;if("onselectstart"in document)Zr=function(){mr(window,"selectstart",os)},Kc=function(){In(window,"selectstart",os)};else{var Bl=Vc(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Zr=function(){if(Bl){var d=document.documentElement.style;Eh=d[Bl],d[Bl]="none"}},Kc=function(){Bl&&(document.documentElement.style[Bl]=Eh,Eh=void 0)}}function Oh(){mr(window,"dragstart",os)}function Ih(){In(window,"dragstart",os)}var su,au;function Wc(d){for(;d.tabIndex===-1;)d=d.parentNode;d.style&&(_i(),su=d,au=d.style.outlineStyle,d.style.outlineStyle="none",mr(window,"keydown",_i))}function _i(){su&&(su.style.outlineStyle=au,su=void 0,au=void 0,In(window,"keydown",_i))}function bo(d){do d=d.parentNode;while((!d.offsetWidth||!d.offsetHeight)&&d!==document.body);return d}function Ki(d){var x=d.getBoundingClientRect();return{x:x.width/d.offsetWidth||1,y:x.height/d.offsetHeight||1,boundingClientRect:x}}var iu={__proto__:null,TRANSFORM:Qf,TRANSITION:Bc,TRANSITION_END:ru,get:ji,getStyle:nu,create:Nr,remove:Wn,empty:Ph,toFront:qc,toBack:vo,hasClass:Uc,addClass:vr,removeClass:zn,setClass:Xf,getClass:Th,setOpacity:ya,testProp:Vc,setTransform:wi,setPosition:fs,getPosition:yo,get disableTextSelection(){return Zr},get enableTextSelection(){return Kc},disableImageDrag:Oh,enableImageDrag:Ih,preventOutline:Wc,restoreOutline:_i,getSizedParentNode:bo,getScale:Ki};function mr(d,x,S,T){if(x&&typeof x=="object")for(var $ in x)ep(d,$,x[$],S);else{x=y(x);for(var te=0,xe=x.length;te<xe;te++)ep(d,x[te],S,T)}return this}var Bs="_leaflet_events";function In(d,x,S,T){if(arguments.length===1)Jf(d),delete d[Bs];else if(x&&typeof x=="object")for(var $ in x)Mh(d,$,x[$],S);else if(x=y(x),arguments.length===2)Jf(d,function(Ae){return O(x,Ae)!==-1});else for(var te=0,xe=x.length;te<xe;te++)Mh(d,x[te],S,T);return this}function Jf(d,x){for(var S in d[Bs]){var T=S.split(/\d/)[0];(!x||x(T))&&Mh(d,T,null,null,S)}}var ql={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ep(d,x,S,T){var $=x+u(S)+(T?"_"+u(T):"");if(d[Bs]&&d[Bs][$])return this;var te=function(Ae){return S.call(T||d,Ae||window.event)},xe=te;!Ht.touchNative&&Ht.pointer&&x.indexOf("touch")===0?te=iw(d,x,te):Ht.touch&&x==="dblclick"?te=ov(d,te):"addEventListener"in d?x==="touchstart"||x==="touchmove"||x==="wheel"||x==="mousewheel"?d.addEventListener(ql[x]||x,te,Ht.passiveEvents?{passive:!1}:!1):x==="mouseenter"||x==="mouseleave"?(te=function(Ae){Ae=Ae||window.event,cu(d,Ae)&&xe(Ae)},d.addEventListener(ql[x],te,!1)):d.addEventListener(x,xe,!1):d.attachEvent("on"+x,te),d[Bs]=d[Bs]||{},d[Bs][$]=te}function Mh(d,x,S,T,$){$=$||x+u(S)+(T?"_"+u(T):"");var te=d[Bs]&&d[Bs][$];if(!te)return this;!Ht.touchNative&&Ht.pointer&&x.indexOf("touch")===0?sv(d,x,te):Ht.touch&&x==="dblclick"?Ah(d,te):"removeEventListener"in d?d.removeEventListener(ql[x]||x,te,!1):d.detachEvent("on"+x,te),d[Bs][$]=null}function Wi(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,this}function Dh(d){return ep(d,"wheel",Wi),this}function ou(d){return mr(d,"mousedown touchstart dblclick contextmenu",Wi),d._leaflet_disable_click=!0,this}function os(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function Ni(d){return os(d),Wi(d),this}function Ul(d){if(d.composedPath)return d.composedPath();for(var x=[],S=d.target;S;)x.push(S),S=S.parentNode;return x}function lu(d,x){if(!x)return new W(d.clientX,d.clientY);var S=Ki(x),T=S.boundingClientRect;return new W((d.clientX-T.left)/S.x-x.clientLeft,(d.clientY-T.top)/S.y-x.clientTop)}var cw=Ht.linux&&Ht.chrome?window.devicePixelRatio:Ht.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function cv(d){return Ht.edge?d.wheelDeltaY/2:d.deltaY&&d.deltaMode===0?-d.deltaY/cw:d.deltaY&&d.deltaMode===1?-d.deltaY*20:d.deltaY&&d.deltaMode===2?-d.deltaY*60:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&Math.abs(d.detail)<32765?-d.detail*20:d.detail?d.detail/-32765*60:0}function cu(d,x){var S=x.relatedTarget;if(!S)return!0;try{for(;S&&S!==d;)S=S.parentNode}catch{return!1}return S!==d}var Rh={__proto__:null,on:mr,off:In,stopPropagation:Wi,disableScrollPropagation:Dh,disableClickPropagation:ou,preventDefault:os,stop:Ni,getPropagationPath:Ul,getMousePosition:lu,getWheelDelta:cv,isExternalTarget:cu,addListener:mr,removeListener:In},Lh=U.extend({run:function(d,x,S,T){this.stop(),this._el=d,this._inProgress=!0,this._duration=S||.25,this._easeOutPower=1/Math.max(T||.5,.2),this._startPos=yo(d),this._offset=x.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=G(this._animate,this),this._step()},_step:function(d){var x=+new Date-this._startTime,S=this._duration*1e3;x<S?this._runFrame(this._easeOut(x/S),d):(this._runFrame(1),this._complete())},_runFrame:function(d,x){var S=this._startPos.add(this._offset.multiplyBy(d));x&&S._round(),fs(this._el,S),this.fire("step")},_complete:function(){J(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),Vr=U.extend({options:{crs:qt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,x){x=_(this,x),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(d),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),x.maxBounds&&this.setMaxBounds(x.maxBounds),x.zoom!==void 0&&(this._zoom=this._limitZoom(x.zoom)),x.center&&x.zoom!==void 0&&this.setView(Le(x.center),x.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Bc&&Ht.any3d&&!Ht.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),mr(this._proxy,ru,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(d,x,S){if(x=x===void 0?this._zoom:this._limitZoom(x),d=this._limitCenter(Le(d),x,this.options.maxBounds),S=S||{},this._stop(),this._loaded&&!S.reset&&S!==!0){S.animate!==void 0&&(S.zoom=a({animate:S.animate},S.zoom),S.pan=a({animate:S.animate,duration:S.duration},S.pan));var T=this._zoom!==x?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,x,S.zoom):this._tryAnimatedPan(d,S.pan);if(T)return clearTimeout(this._sizeTimer),this}return this._resetView(d,x,S.pan&&S.pan.noMoveStart),this},setZoom:function(d,x){return this._loaded?this.setView(this.getCenter(),d,{zoom:x}):(this._zoom=d,this)},zoomIn:function(d,x){return d=d||(Ht.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+d,x)},zoomOut:function(d,x){return d=d||(Ht.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-d,x)},setZoomAround:function(d,x,S){var T=this.getZoomScale(x),$=this.getSize().divideBy(2),te=d instanceof W?d:this.latLngToContainerPoint(d),xe=te.subtract($).multiplyBy(1-1/T),Ae=this.containerPointToLatLng($.add(xe));return this.setView(Ae,x,{zoom:S})},_getBoundsCenterZoom:function(d,x){x=x||{},d=d.getBounds?d.getBounds():ke(d);var S=de(x.paddingTopLeft||x.padding||[0,0]),T=de(x.paddingBottomRight||x.padding||[0,0]),$=this.getBoundsZoom(d,!1,S.add(T));if($=typeof x.maxZoom=="number"?Math.min(x.maxZoom,$):$,$===1/0)return{center:d.getCenter(),zoom:$};var te=T.subtract(S).divideBy(2),xe=this.project(d.getSouthWest(),$),Ae=this.project(d.getNorthEast(),$),Fe=this.unproject(xe.add(Ae).divideBy(2).add(te),$);return{center:Fe,zoom:$}},fitBounds:function(d,x){if(d=ke(d),!d.isValid())throw new Error("Bounds are not valid.");var S=this._getBoundsCenterZoom(d,x);return this.setView(S.center,S.zoom,x)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,x){return this.setView(d,this._zoom,{pan:x})},panBy:function(d,x){if(d=de(d).round(),x=x||{},!d.x&&!d.y)return this.fire("moveend");if(x.animate!==!0&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Lh,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),x.noMoveStart||this.fire("movestart"),x.animate!==!1){vr(this._mapPane,"leaflet-pan-anim");var S=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,S,x.duration||.25,x.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,x,S){if(S=S||{},S.animate===!1||!Ht.any3d)return this.setView(d,x,S);this._stop();var T=this.project(this.getCenter()),$=this.project(d),te=this.getSize(),xe=this._zoom;d=Le(d),x=x===void 0?xe:x;var Ae=Math.max(te.x,te.y),Fe=Ae*this.getZoomScale(xe,x),it=$.distanceTo(T)||1,Dt=1.42,nr=Dt*Dt;function Ar(xn){var od=xn?-1:1,_w=xn?Fe:Ae,Nw=Fe*Fe-Ae*Ae+od*nr*nr*it*it,Yl=2*_w*nr*it,Ql=Nw/Yl,Xl=Math.sqrt(Ql*Ql+1)-Ql,Qh=Xl<1e-9?-18:Math.log(Xl);return Qh}function qs(xn){return(Math.exp(xn)-Math.exp(-xn))/2}function Os(xn){return(Math.exp(xn)+Math.exp(-xn))/2}function Ua(xn){return qs(xn)/Os(xn)}var ja=Ar(0);function ad(xn){return Ae*(Os(ja)/Os(ja+Dt*xn))}function jp(xn){return Ae*(Os(ja)*Ua(ja+Dt*xn)-qs(ja))/nr}function cl(xn){return 1-Math.pow(1-xn,1.5)}var Tv=Date.now(),Zl=(Ar(1)-ja)/Dt,Yi=S.duration?1e3*S.duration:1e3*Zl*.8;function id(){var xn=(Date.now()-Tv)/Yi,od=cl(xn)*Zl;xn<=1?(this._flyToFrame=G(id,this),this._move(this.unproject(T.add($.subtract(T).multiplyBy(jp(od)/it)),xe),this.getScaleZoom(Ae/ad(od),xe),{flyTo:!0})):this._move(d,x)._moveEnd(!0)}return this._moveStart(!0,S.noMoveStart),id.call(this),this},flyToBounds:function(d,x){var S=this._getBoundsCenterZoom(d,x);return this.flyTo(S.center,S.zoom,x)},setMaxBounds:function(d){return d=ke(d),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),d.isValid()?(this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(d){var x=this.options.minZoom;return this.options.minZoom=d,this._loaded&&x!==d&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(d):this},setMaxZoom:function(d){var x=this.options.maxZoom;return this.options.maxZoom=d,this._loaded&&x!==d&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(d):this},panInsideBounds:function(d,x){this._enforcingBounds=!0;var S=this.getCenter(),T=this._limitCenter(S,this._zoom,ke(d));return S.equals(T)||this.panTo(T,x),this._enforcingBounds=!1,this},panInside:function(d,x){x=x||{};var S=de(x.paddingTopLeft||x.padding||[0,0]),T=de(x.paddingBottomRight||x.padding||[0,0]),$=this.project(this.getCenter()),te=this.project(d),xe=this.getPixelBounds(),Ae=oe([xe.min.add(S),xe.max.subtract(T)]),Fe=Ae.getSize();if(!Ae.contains(te)){this._enforcingBounds=!0;var it=te.subtract(Ae.getCenter()),Dt=Ae.extend(te).getSize().subtract(Fe);$.x+=it.x<0?-Dt.x:Dt.x,$.y+=it.y<0?-Dt.y:Dt.y,this.panTo(this.unproject($),x),this._enforcingBounds=!1}return this},invalidateSize:function(d){if(!this._loaded)return this;d=a({animate:!1,pan:!0},d===!0?{animate:!0}:d);var x=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var S=this.getSize(),T=x.divideBy(2).round(),$=S.divideBy(2).round(),te=T.subtract($);return!te.x&&!te.y?this:(d.animate&&d.pan?this.panBy(te):(d.pan&&this._rawPanBy(te),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:x,newSize:S}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=a({timeout:1e4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var x=o(this._handleGeolocationResponse,this),S=o(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(x,S,d):navigator.geolocation.getCurrentPosition(x,S,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){if(this._container._leaflet_id){var x=d.code,S=d.message||(x===1?"permission denied":x===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:x,message:"Geolocation error: "+S+"."})}},_handleGeolocationResponse:function(d){if(this._container._leaflet_id){var x=d.coords.latitude,S=d.coords.longitude,T=new _e(x,S),$=T.toBounds(d.coords.accuracy*2),te=this._locateOptions;if(te.setView){var xe=this.getBoundsZoom($);this.setView(T,te.maxZoom?Math.min(xe,te.maxZoom):xe)}var Ae={latlng:T,bounds:$,timestamp:d.timestamp};for(var Fe in d.coords)typeof d.coords[Fe]=="number"&&(Ae[Fe]=d.coords[Fe]);this.fire("locationfound",Ae)}},addHandler:function(d,x){if(!x)return this;var S=this[d]=new x(this);return this._handlers.push(S),this.options[d]&&S.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Wn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(J(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var d;for(d in this._layers)this._layers[d].remove();for(d in this._panes)Wn(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,x){var S="leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),T=Nr("div",S,x||this._mapPane);return d&&(this._panes[d]=T),T},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds(),x=this.unproject(d.getBottomLeft()),S=this.unproject(d.getTopRight());return new Ce(x,S)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,x,S){d=ke(d),S=de(S||[0,0]);var T=this.getZoom()||0,$=this.getMinZoom(),te=this.getMaxZoom(),xe=d.getNorthWest(),Ae=d.getSouthEast(),Fe=this.getSize().subtract(S),it=oe(this.project(Ae,T),this.project(xe,T)).getSize(),Dt=Ht.any3d?this.options.zoomSnap:1,nr=Fe.x/it.x,Ar=Fe.y/it.y,qs=x?Math.max(nr,Ar):Math.min(nr,Ar);return T=this.getScaleZoom(qs,T),Dt&&(T=Math.round(T/(Dt/100))*(Dt/100),T=x?Math.ceil(T/Dt)*Dt:Math.floor(T/Dt)*Dt),Math.max($,Math.min(te,T))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,x){var S=this._getTopLeftPoint(d,x);return new z(S,S.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(d===void 0?this.getZoom():d)},getPane:function(d){return typeof d=="string"?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(d,x){var S=this.options.crs;return x=x===void 0?this._zoom:x,S.scale(d)/S.scale(x)},getScaleZoom:function(d,x){var S=this.options.crs;x=x===void 0?this._zoom:x;var T=S.zoom(d*S.scale(x));return isNaN(T)?1/0:T},project:function(d,x){return x=x===void 0?this._zoom:x,this.options.crs.latLngToPoint(Le(d),x)},unproject:function(d,x){return x=x===void 0?this._zoom:x,this.options.crs.pointToLatLng(de(d),x)},layerPointToLatLng:function(d){var x=de(d).add(this.getPixelOrigin());return this.unproject(x)},latLngToLayerPoint:function(d){var x=this.project(Le(d))._round();return x._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(Le(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(ke(d))},distance:function(d,x){return this.options.crs.distance(Le(d),Le(x))},containerPointToLayerPoint:function(d){return de(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return de(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){var x=this.containerPointToLayerPoint(de(d));return this.layerPointToLatLng(x)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Le(d)))},mouseEventToContainerPoint:function(d){return lu(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){var x=this._container=ji(d);if(x){if(x._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");mr(x,"scroll",this._onScroll,this),this._containerId=u(x)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ht.any3d,vr(d,"leaflet-container"+(Ht.touch?" leaflet-touch":"")+(Ht.retina?" leaflet-retina":"")+(Ht.ielt9?" leaflet-oldie":"")+(Ht.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var x=nu(d,"position");x!=="absolute"&&x!=="relative"&&x!=="fixed"&&x!=="sticky"&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),fs(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(vr(d.markerPane,"leaflet-zoom-hide"),vr(d.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,x,S){fs(this._mapPane,new W(0,0));var T=!this._loaded;this._loaded=!0,x=this._limitZoom(x),this.fire("viewprereset");var $=this._zoom!==x;this._moveStart($,S)._move(d,x)._moveEnd($),this.fire("viewreset"),T&&this.fire("load")},_moveStart:function(d,x){return d&&this.fire("zoomstart"),x||this.fire("movestart"),this},_move:function(d,x,S,T){x===void 0&&(x=this._zoom);var $=this._zoom!==x;return this._zoom=x,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),T?S&&S.pinch&&this.fire("zoom",S):(($||S&&S.pinch)&&this.fire("zoom",S),this.fire("move",S)),this},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return J(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){fs(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(d){this._targets={},this._targets[u(this._container)]=this;var x=d?In:mr;x(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&x(window,"resize",this._onResize,this),Ht.any3d&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){J(this._resizeRequest),this._resizeRequest=G(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,x){for(var S=[],T,$=x==="mouseout"||x==="mouseover",te=d.target||d.srcElement,xe=!1;te;){if(T=this._targets[u(te)],T&&(x==="click"||x==="preclick")&&this._draggableMoved(T)){xe=!0;break}if(T&&T.listens(x,!0)&&($&&!cu(te,d)||(S.push(T),$))||te===this._container)break;te=te.parentNode}return!S.length&&!xe&&!$&&this.listens(x,!0)&&(S=[this]),S},_isClickDisabled:function(d){for(;d&&d!==this._container;){if(d._leaflet_disable_click)return!0;d=d.parentNode}},_handleDOMEvent:function(d){var x=d.target||d.srcElement;if(!(!this._loaded||x._leaflet_disable_events||d.type==="click"&&this._isClickDisabled(x))){var S=d.type;S==="mousedown"&&Wc(x),this._fireDOMEvent(d,S)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,x,S){if(d.type==="click"){var T=a({},d);T.type="preclick",this._fireDOMEvent(T,T.type,S)}var $=this._findEventTargets(d,x);if(S){for(var te=[],xe=0;xe<S.length;xe++)S[xe].listens(x,!0)&&te.push(S[xe]);$=te.concat($)}if($.length){x==="contextmenu"&&os(d);var Ae=$[0],Fe={originalEvent:d};if(d.type!=="keypress"&&d.type!=="keydown"&&d.type!=="keyup"){var it=Ae.getLatLng&&(!Ae._radius||Ae._radius<=10);Fe.containerPoint=it?this.latLngToContainerPoint(Ae.getLatLng()):this.mouseEventToContainerPoint(d),Fe.layerPoint=this.containerPointToLayerPoint(Fe.containerPoint),Fe.latlng=it?Ae.getLatLng():this.layerPointToLatLng(Fe.layerPoint)}for(xe=0;xe<$.length;xe++)if($[xe].fire(x,Fe,!0),Fe.originalEvent._stopped||$[xe].options.bubblingMouseEvents===!1&&O(this._mouseEvents,x)!==-1)return}},_draggableMoved:function(d){return d=d.dragging&&d.dragging.enabled()?d:this,d.dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,x=this._handlers.length;d<x;d++)this._handlers[d].disable()},whenReady:function(d,x){return this._loaded?d.call(x||this,{target:this}):this.on("load",d,x),this},_getMapPanePos:function(){return yo(this._mapPane)||new W(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,x){var S=d&&x!==void 0?this._getNewPixelOrigin(d,x):this.getPixelOrigin();return S.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,x){var S=this.getSize()._divideBy(2);return this.project(d,x)._subtract(S)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,x,S){var T=this._getNewPixelOrigin(S,x);return this.project(d,x)._subtract(T)},_latLngBoundsToNewLayerBounds:function(d,x,S){var T=this._getNewPixelOrigin(S,x);return oe([this.project(d.getSouthWest(),x)._subtract(T),this.project(d.getNorthWest(),x)._subtract(T),this.project(d.getSouthEast(),x)._subtract(T),this.project(d.getNorthEast(),x)._subtract(T)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,x,S){if(!S)return d;var T=this.project(d,x),$=this.getSize().divideBy(2),te=new z(T.subtract($),T.add($)),xe=this._getBoundsOffset(te,S,x);return Math.abs(xe.x)<=1&&Math.abs(xe.y)<=1?d:this.unproject(T.add(xe),x)},_limitOffset:function(d,x){if(!x)return d;var S=this.getPixelBounds(),T=new z(S.min.add(d),S.max.add(d));return d.add(this._getBoundsOffset(T,x))},_getBoundsOffset:function(d,x,S){var T=oe(this.project(x.getNorthEast(),S),this.project(x.getSouthWest(),S)),$=T.min.subtract(d.min),te=T.max.subtract(d.max),xe=this._rebound($.x,-te.x),Ae=this._rebound($.y,-te.y);return new W(xe,Ae)},_rebound:function(d,x){return d+x>0?Math.round(d-x)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(x))},_limitZoom:function(d){var x=this.getMinZoom(),S=this.getMaxZoom(),T=Ht.any3d?this.options.zoomSnap:1;return T&&(d=Math.round(d/T)*T),Math.max(x,Math.min(S,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){zn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(d,x){var S=this._getCenterOffset(d)._trunc();return(x&&x.animate)!==!0&&!this.getSize().contains(S)?!1:(this.panBy(S,x),!0)},_createAnimProxy:function(){var d=this._proxy=Nr("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d),this.on("zoomanim",function(x){var S=Qf,T=this._proxy.style[S];wi(this._proxy,this.project(x.center,x.zoom),this.getZoomScale(x.zoom,1)),T===this._proxy.style[S]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Wn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var d=this.getCenter(),x=this.getZoom();wi(this._proxy,this.project(d,x),this.getZoomScale(x,1))},_catchTransitionEnd:function(d){this._animatingZoom&&d.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,x,S){if(this._animatingZoom)return!0;if(S=S||{},!this._zoomAnimated||S.animate===!1||this._nothingToAnimate()||Math.abs(x-this._zoom)>this.options.zoomAnimationThreshold)return!1;var T=this.getZoomScale(x),$=this._getCenterOffset(d)._divideBy(1-1/T);return S.animate!==!0&&!this.getSize().contains($)?!1:(G(function(){this._moveStart(!0,S.noMoveStart||!1)._animateZoom(d,x,!0)},this),!0)},_animateZoom:function(d,x,S,T){this._mapPane&&(S&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=x,vr(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:d,zoom:x,noUpdate:T}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&zn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rl(d,x){return new Vr(d,x)}var Ba=ne.extend({options:{position:"topright"},initialize:function(d){_(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var x=this._map;return x&&x.removeControl(this),this.options.position=d,x&&x.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove(),this._map=d;var x=this._container=this.onAdd(d),S=this.getPosition(),T=d._controlCorners[S];return vr(x,"leaflet-control"),S.indexOf("bottom")!==-1?T.insertBefore(x,T.firstChild):T.appendChild(x),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Wn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&d.screenX>0&&d.screenY>0&&this._map.getContainer().focus()}}),nl=function(d){return new Ba(d)};Vr.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){var d=this._controlCorners={},x="leaflet-",S=this._controlContainer=Nr("div",x+"control-container",this._container);function T($,te){var xe=x+$+" "+x+te;d[$+te]=Nr("div",xe,S)}T("top","left"),T("top","right"),T("bottom","left"),T("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)Wn(this._controlCorners[d]);Wn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var tp=Ba.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,x,S,T){return S<T?-1:T<S?1:0}},initialize:function(d,x,S){_(this,S),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var T in d)this._addLayer(d[T],T);for(T in x)this._addLayer(x[T],T,!0)},onAdd:function(d){this._initLayout(),this._update(),this._map=d,d.on("zoomend",this._checkDisabledLayers,this);for(var x=0;x<this._layers.length;x++)this._layers[x].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return Ba.prototype.addTo.call(this,d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,x){return this._addLayer(d,x),this._map?this._update():this},addOverlay:function(d,x){return this._addLayer(d,x,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);var x=this._getLayer(u(d));return x&&this._layers.splice(this._layers.indexOf(x),1),this._map?this._update():this},expand:function(){vr(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._section.clientHeight?(vr(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=d+"px"):zn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return zn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d="leaflet-control-layers",x=this._container=Nr("div",d),S=this.options.collapsed;x.setAttribute("aria-haspopup",!0),ou(x),Dh(x);var T=this._section=Nr("section",d+"-list");S&&(this._map.on("click",this.collapse,this),mr(x,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var $=this._layersLink=Nr("a",d+"-toggle",x);$.href="#",$.title="Layers",$.setAttribute("role","button"),mr($,{keydown:function(te){te.keyCode===13&&this._expandSafely()},click:function(te){os(te),this._expandSafely()}},this),S||this.expand(),this._baseLayersList=Nr("div",d+"-base",T),this._separator=Nr("div",d+"-separator",T),this._overlaysList=Nr("div",d+"-overlays",T),x.appendChild(T)},_getLayer:function(d){for(var x=0;x<this._layers.length;x++)if(this._layers[x]&&u(this._layers[x].layer)===d)return this._layers[x]},_addLayer:function(d,x,S){this._map&&d.on("add remove",this._onLayerChange,this),this._layers.push({layer:d,name:x,overlay:S}),this.options.sortLayers&&this._layers.sort(o(function(T,$){return this.options.sortFunction(T.layer,$.layer,T.name,$.name)},this)),this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ph(this._baseLayersList),Ph(this._overlaysList),this._layerControlInputs=[];var d,x,S,T,$=0;for(S=0;S<this._layers.length;S++)T=this._layers[S],this._addItem(T),x=x||T.overlay,d=d||!T.overlay,$+=T.overlay?0:1;return this.options.hideSingleBase&&(d=d&&$>1,this._baseLayersList.style.display=d?"":"none"),this._separator.style.display=x&&d?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var x=this._getLayer(u(d.target)),S=x.overlay?d.type==="add"?"overlayadd":"overlayremove":d.type==="add"?"baselayerchange":null;S&&this._map.fire(S,x)},_createRadioElement:function(d,x){var S='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(x?' checked="checked"':"")+"/>",T=document.createElement("div");return T.innerHTML=S,T.firstChild},_addItem:function(d){var x=document.createElement("label"),S=this._map.hasLayer(d.layer),T;d.overlay?(T=document.createElement("input"),T.type="checkbox",T.className="leaflet-control-layers-selector",T.defaultChecked=S):T=this._createRadioElement("leaflet-base-layers_"+u(this),S),this._layerControlInputs.push(T),T.layerId=u(d.layer),mr(T,"click",this._onInputClick,this);var $=document.createElement("span");$.innerHTML=" "+d.name;var te=document.createElement("span");x.appendChild(te),te.appendChild(T),te.appendChild($);var xe=d.overlay?this._overlaysList:this._baseLayersList;return xe.appendChild(x),this._checkDisabledLayers(),x},_onInputClick:function(){if(!this._preventClick){var d=this._layerControlInputs,x,S,T=[],$=[];this._handlingClick=!0;for(var te=d.length-1;te>=0;te--)x=d[te],S=this._getLayer(x.layerId).layer,x.checked?T.push(S):x.checked||$.push(S);for(te=0;te<$.length;te++)this._map.hasLayer($[te])&&this._map.removeLayer($[te]);for(te=0;te<T.length;te++)this._map.hasLayer(T[te])||this._map.addLayer(T[te]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d=this._layerControlInputs,x,S,T=this._map.getZoom(),$=d.length-1;$>=0;$--)x=d[$],S=this._getLayer(x.layerId).layer,x.disabled=S.options.minZoom!==void 0&&T<S.options.minZoom||S.options.maxZoom!==void 0&&T>S.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var d=this._section;this._preventClick=!0,mr(d,"click",os),this.expand();var x=this;setTimeout(function(){In(d,"click",os),x._preventClick=!1})}}),Fh=function(d,x,S){return new tp(d,x,S)},Hc=Ba.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var x="leaflet-control-zoom",S=Nr("div",x+" leaflet-bar"),T=this.options;return this._zoomInButton=this._createButton(T.zoomInText,T.zoomInTitle,x+"-in",S,this._zoomIn),this._zoomOutButton=this._createButton(T.zoomOutText,T.zoomOutTitle,x+"-out",S,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),S},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,x,S,T,$){var te=Nr("a",S,T);return te.innerHTML=d,te.href="#",te.title=x,te.setAttribute("role","button"),te.setAttribute("aria-label",x),ou(te),mr(te,"click",Ni),mr(te,"click",$,this),mr(te,"click",this._refocusOnMap,this),te},_updateDisabled:function(){var d=this._map,x="leaflet-disabled";zn(this._zoomInButton,x),zn(this._zoomOutButton,x),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||d._zoom===d.getMinZoom())&&(vr(this._zoomOutButton,x),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||d._zoom===d.getMaxZoom())&&(vr(this._zoomInButton,x),this._zoomInButton.setAttribute("aria-disabled","true"))}});Vr.mergeOptions({zoomControl:!0}),Vr.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Hc,this.addControl(this.zoomControl))});var dv=function(d){return new Hc(d)},ba=Ba.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var x="leaflet-control-scale",S=Nr("div",x),T=this.options;return this._addScales(T,x+"-line",S),d.on(T.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),S},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,x,S){d.metric&&(this._mScale=Nr("div",x,S)),d.imperial&&(this._iScale=Nr("div",x,S))},_update:function(){var d=this._map,x=d.getSize().y/2,S=d.distance(d.containerPointToLatLng([0,x]),d.containerPointToLatLng([this.options.maxWidth,x]));this._updateScales(S)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d),this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var x=this._getRoundNum(d),S=x<1e3?x+" m":x/1e3+" km";this._updateScale(this._mScale,S,x/d)},_updateImperial:function(d){var x=d*3.2808399,S,T,$;x>5280?(S=x/5280,T=this._getRoundNum(S),this._updateScale(this._iScale,T+" mi",T/S)):($=this._getRoundNum(x),this._updateScale(this._iScale,$+" ft",$/x))},_updateScale:function(d,x,S){d.style.width=Math.round(this.options.maxWidth*S)+"px",d.innerHTML=x},_getRoundNum:function(d){var x=Math.pow(10,(Math.floor(d)+"").length-1),S=d/x;return S=S>=10?10:S>=5?5:S>=3?3:S>=2?2:1,x*S}}),Gc=function(d){return new ba(d)},rp='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Vl=Ba.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ht.inlineSvg?rp+" ":"")+"Leaflet</a>"},initialize:function(d){_(this,d),this._attributions={}},onAdd:function(d){d.attributionControl=this,this._container=Nr("div","leaflet-control-attribution"),ou(this._container);for(var x in d._layers)d._layers[x].getAttribution&&this.addAttribution(d._layers[x].getAttribution());return this._update(),d.on("layeradd",this._addAttribution,this),this._container},onRemove:function(d){d.off("layeradd",this._addAttribution,this)},_addAttribution:function(d){d.layer.getAttribution&&(this.addAttribution(d.layer.getAttribution()),d.layer.once("remove",function(){this.removeAttribution(d.layer.getAttribution())},this))},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(var x in this._attributions)this._attributions[x]&&d.push(x);var S=[];this.options.prefix&&S.push(this.options.prefix),d.length&&S.push(d.join(", ")),this._container.innerHTML=S.join(' <span aria-hidden="true">|</span> ')}}});Vr.mergeOptions({attributionControl:!0}),Vr.addInitHook(function(){this.options.attributionControl&&new Vl().addTo(this)});var dw=function(d){return new Vl(d)};Ba.Layers=tp,Ba.Zoom=Hc,Ba.Scale=ba,Ba.Attribution=Vl,nl.layers=Fh,nl.zoom=dv,nl.scale=Gc,nl.attribution=dw;var ni=ne.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ni.addTo=function(d,x){return d.addHandler(x,this),this};var np={Events:ae},Zc=Ht.touch?"touchstart mousedown":"mousedown",Si=U.extend({options:{clickTolerance:3},initialize:function(d,x,S,T){_(this,T),this._element=d,this._dragStartTarget=x||d,this._preventOutline=S},enable:function(){this._enabled||(mr(this._dragStartTarget,Zc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Si._dragging===this&&this.finishDrag(!0),In(this._dragStartTarget,Zc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(this._enabled&&(this._moved=!1,!Uc(this._element,"leaflet-zoom-anim"))){if(d.touches&&d.touches.length!==1){Si._dragging===this&&this.finishDrag();return}if(!(Si._dragging||d.shiftKey||d.which!==1&&d.button!==1&&!d.touches)&&(Si._dragging=this,this._preventOutline&&Wc(this._element),Oh(),Zr(),!this._moving)){this.fire("down");var x=d.touches?d.touches[0]:d,S=bo(this._element);this._startPoint=new W(x.clientX,x.clientY),this._startPos=yo(this._element),this._parentScale=Ki(S);var T=d.type==="mousedown";mr(document,T?"mousemove":"touchmove",this._onMove,this),mr(document,T?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(d){if(this._enabled){if(d.touches&&d.touches.length>1){this._moved=!0;return}var x=d.touches&&d.touches.length===1?d.touches[0]:d,S=new W(x.clientX,x.clientY)._subtract(this._startPoint);!S.x&&!S.y||Math.abs(S.x)+Math.abs(S.y)<this.options.clickTolerance||(S.x/=this._parentScale.x,S.y/=this._parentScale.y,os(d),this._moved||(this.fire("dragstart"),this._moved=!0,vr(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),vr(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(S),this._moving=!0,this._lastEvent=d,this._updatePosition())}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d),fs(this._element,this._newPos),this.fire("drag",d)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(d){zn(document.body,"leaflet-dragging"),this._lastTarget&&(zn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),In(document,"mousemove touchmove",this._onMove,this),In(document,"mouseup touchend touchcancel",this._onUp,this),Ih(),Kc();var x=this._moved&&this._moving;this._moving=!1,Si._dragging=!1,x&&this.fire("dragend",{noInertia:d,distance:this._newPos.distanceTo(this._startPos)})}});function sp(d,x,S){var T,$=[1,4,2,8],te,xe,Ae,Fe,it,Dt,nr,Ar;for(te=0,Dt=d.length;te<Dt;te++)d[te]._code=Kl(d[te],x);for(Ae=0;Ae<4;Ae++){for(nr=$[Ae],T=[],te=0,Dt=d.length,xe=Dt-1;te<Dt;xe=te++)Fe=d[te],it=d[xe],Fe._code&nr?it._code&nr||(Ar=zh(it,Fe,nr,x,S),Ar._code=Kl(Ar,x),T.push(Ar)):(it._code&nr&&(Ar=zh(it,Fe,nr,x,S),Ar._code=Kl(Ar,x),T.push(Ar)),T.push(Fe));d=T}return d}function uv(d,x){var S,T,$,te,xe,Ae,Fe,it,Dt;if(!d||d.length===0)throw new Error("latlngs not passed");si(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var nr=Le([0,0]),Ar=ke(d),qs=Ar.getNorthWest().distanceTo(Ar.getSouthWest())*Ar.getNorthEast().distanceTo(Ar.getNorthWest());qs<1700&&(nr=ap(d));var Os=d.length,Ua=[];for(S=0;S<Os;S++){var ja=Le(d[S]);Ua.push(x.project(Le([ja.lat-nr.lat,ja.lng-nr.lng])))}for(Ae=Fe=it=0,S=0,T=Os-1;S<Os;T=S++)$=Ua[S],te=Ua[T],xe=$.y*te.x-te.y*$.x,Fe+=($.x+te.x)*xe,it+=($.y+te.y)*xe,Ae+=xe*3;Ae===0?Dt=Ua[0]:Dt=[Fe/Ae,it/Ae];var ad=x.unproject(de(Dt));return Le([ad.lat+nr.lat,ad.lng+nr.lng])}function ap(d){for(var x=0,S=0,T=0,$=0;$<d.length;$++){var te=Le(d[$]);x+=te.lat,S+=te.lng,T++}return Le([x/T,S/T])}var uw={__proto__:null,clipPolygon:sp,polygonCenter:uv,centroid:ap};function $h(d,x){if(!x||!d.length)return d.slice();var S=x*x;return d=fw(d,S),d=mw(d,S),d}function hv(d,x,S){return Math.sqrt(Wl(d,x,S,!0))}function hw(d,x,S){return Wl(d,x,S)}function mw(d,x){var S=d.length,T=typeof Uint8Array<"u"?Uint8Array:Array,$=new T(S);$[0]=$[S-1]=1,ip(d,$,x,0,S-1);var te,xe=[];for(te=0;te<S;te++)$[te]&&xe.push(d[te]);return xe}function ip(d,x,S,T,$){var te=0,xe,Ae,Fe;for(Ae=T+1;Ae<=$-1;Ae++)Fe=Wl(d[Ae],d[T],d[$],!0),Fe>te&&(xe=Ae,te=Fe);te>S&&(x[xe]=1,ip(d,x,S,T,xe),ip(d,x,S,xe,$))}function fw(d,x){for(var S=[d[0]],T=1,$=0,te=d.length;T<te;T++)pw(d[T],d[$])>x&&(S.push(d[T]),$=T);return $<te-1&&S.push(d[te-1]),S}var op;function mv(d,x,S,T,$){var te=T?op:Kl(d,S),xe=Kl(x,S),Ae,Fe,it;for(op=xe;;){if(!(te|xe))return[d,x];if(te&xe)return!1;Ae=te||xe,Fe=zh(d,x,Ae,S,$),it=Kl(Fe,S),Ae===te?(d=Fe,te=it):(x=Fe,xe=it)}}function zh(d,x,S,T,$){var te=x.x-d.x,xe=x.y-d.y,Ae=T.min,Fe=T.max,it,Dt;return S&8?(it=d.x+te*(Fe.y-d.y)/xe,Dt=Fe.y):S&4?(it=d.x+te*(Ae.y-d.y)/xe,Dt=Ae.y):S&2?(it=Fe.x,Dt=d.y+xe*(Fe.x-d.x)/te):S&1&&(it=Ae.x,Dt=d.y+xe*(Ae.x-d.x)/te),new W(it,Dt,$)}function Kl(d,x){var S=0;return d.x<x.min.x?S|=1:d.x>x.max.x&&(S|=2),d.y<x.min.y?S|=4:d.y>x.max.y&&(S|=8),S}function pw(d,x){var S=x.x-d.x,T=x.y-d.y;return S*S+T*T}function Wl(d,x,S,T){var $=x.x,te=x.y,xe=S.x-$,Ae=S.y-te,Fe=xe*xe+Ae*Ae,it;return Fe>0&&(it=((d.x-$)*xe+(d.y-te)*Ae)/Fe,it>1?($=S.x,te=S.y):it>0&&($+=xe*it,te+=Ae*it)),xe=d.x-$,Ae=d.y-te,T?xe*xe+Ae*Ae:new W($,te)}function si(d){return!P(d[0])||typeof d[0][0]!="object"&&typeof d[0][0]<"u"}function fv(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),si(d)}function pv(d,x){var S,T,$,te,xe,Ae,Fe,it;if(!d||d.length===0)throw new Error("latlngs not passed");si(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var Dt=Le([0,0]),nr=ke(d),Ar=nr.getNorthWest().distanceTo(nr.getSouthWest())*nr.getNorthEast().distanceTo(nr.getNorthWest());Ar<1700&&(Dt=ap(d));var qs=d.length,Os=[];for(S=0;S<qs;S++){var Ua=Le(d[S]);Os.push(x.project(Le([Ua.lat-Dt.lat,Ua.lng-Dt.lng])))}for(S=0,T=0;S<qs-1;S++)T+=Os[S].distanceTo(Os[S+1])/2;if(T===0)it=Os[0];else for(S=0,te=0;S<qs-1;S++)if(xe=Os[S],Ae=Os[S+1],$=xe.distanceTo(Ae),te+=$,te>T){Fe=(te-T)/$,it=[Ae.x-Fe*(Ae.x-xe.x),Ae.y-Fe*(Ae.y-xe.y)];break}var ja=x.unproject(de(it));return Le([ja.lat+Dt.lat,ja.lng+Dt.lng])}var xv={__proto__:null,simplify:$h,pointToSegmentDistance:hv,closestPointOnSegment:hw,clipSegment:mv,_getEdgeIntersection:zh,_getBitCode:Kl,_sqClosestPointOnSegment:Wl,isFlat:si,_flat:fv,polylineCenter:pv},lp={project:function(d){return new W(d.lng,d.lat)},unproject:function(d){return new _e(d.y,d.x)},bounds:new z([-180,-90],[180,90])},cp={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(d){var x=Math.PI/180,S=this.R,T=d.lat*x,$=this.R_MINOR/S,te=Math.sqrt(1-$*$),xe=te*Math.sin(T),Ae=Math.tan(Math.PI/4-T/2)/Math.pow((1-xe)/(1+xe),te/2);return T=-S*Math.log(Math.max(Ae,1e-10)),new W(d.lng*x*S,T)},unproject:function(d){for(var x=180/Math.PI,S=this.R,T=this.R_MINOR/S,$=Math.sqrt(1-T*T),te=Math.exp(-d.y/S),xe=Math.PI/2-2*Math.atan(te),Ae=0,Fe=.1,it;Ae<15&&Math.abs(Fe)>1e-7;Ae++)it=$*Math.sin(xe),it=Math.pow((1-it)/(1+it),$/2),Fe=Math.PI/2-2*Math.atan(te*it)-xe,xe+=Fe;return new _e(xe*x,d.x*x/S)}},xw={__proto__:null,LonLat:lp,Mercator:cp,SphericalMercator:tt},gw=a({},Xe,{code:"EPSG:3395",projection:cp,transformation:(function(){var d=.5/(Math.PI*cp.R);return Oe(d,.5,-d,.5)})()}),gv=a({},Xe,{code:"EPSG:4326",projection:lp,transformation:Oe(1/180,1,-1/180,.5)}),vw=a({},je,{projection:lp,transformation:Oe(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,x){var S=x.lng-d.lng,T=x.lat-d.lat;return Math.sqrt(S*S+T*T)},infinite:!0});je.Earth=Xe,je.EPSG3395=gw,je.EPSG3857=qt,je.EPSG900913=Et,je.EPSG4326=gv,je.Simple=vw;var Ci=U.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[u(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[u(d)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var x=d.target;if(x.hasLayer(this)){if(this._map=x,this._zoomAnimated=x._zoomAnimated,this.getEvents){var S=this.getEvents();x.on(S,this),this.once("remove",function(){x.off(S,this)},this)}this.onAdd(x),this.fire("add"),x.fire("layeradd",{layer:this})}}});Vr.include({addLayer:function(d){if(!d._layerAdd)throw new Error("The provided object is not a Layer.");var x=u(d);return this._layers[x]?this:(this._layers[x]=d,d._mapToAdd=this,d.beforeAdd&&d.beforeAdd(this),this.whenReady(d._layerAdd,d),this)},removeLayer:function(d){var x=u(d);return this._layers[x]?(this._loaded&&d.onRemove(this),delete this._layers[x],this._loaded&&(this.fire("layerremove",{layer:d}),d.fire("remove")),d._map=d._mapToAdd=null,this):this},hasLayer:function(d){return u(d)in this._layers},eachLayer:function(d,x){for(var S in this._layers)d.call(x,this._layers[S]);return this},_addLayers:function(d){d=d?P(d)?d:[d]:[];for(var x=0,S=d.length;x<S;x++)this.addLayer(d[x])},_addZoomLimit:function(d){(!isNaN(d.options.maxZoom)||!isNaN(d.options.minZoom))&&(this._zoomBoundLayers[u(d)]=d,this._updateZoomLevels())},_removeZoomLimit:function(d){var x=u(d);this._zoomBoundLayers[x]&&(delete this._zoomBoundLayers[x],this._updateZoomLevels())},_updateZoomLevels:function(){var d=1/0,x=-1/0,S=this._getZoomSpan();for(var T in this._zoomBoundLayers){var $=this._zoomBoundLayers[T].options;d=$.minZoom===void 0?d:Math.min(d,$.minZoom),x=$.maxZoom===void 0?x:Math.max(x,$.maxZoom)}this._layersMaxZoom=x===-1/0?void 0:x,this._layersMinZoom=d===1/0?void 0:d,S!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var sl=Ci.extend({initialize:function(d,x){_(this,x),this._layers={};var S,T;if(d)for(S=0,T=d.length;S<T;S++)this.addLayer(d[S])},addLayer:function(d){var x=this.getLayerId(d);return this._layers[x]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var x=d in this._layers?d:this.getLayerId(d);return this._map&&this._layers[x]&&this._map.removeLayer(this._layers[x]),delete this._layers[x],this},hasLayer:function(d){var x=typeof d=="number"?d:this.getLayerId(d);return x in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(d){var x=Array.prototype.slice.call(arguments,1),S,T;for(S in this._layers)T=this._layers[S],T[d]&&T[d].apply(T,x);return this},onAdd:function(d){this.eachLayer(d.addLayer,d)},onRemove:function(d){this.eachLayer(d.removeLayer,d)},eachLayer:function(d,x){for(var S in this._layers)d.call(x,this._layers[S]);return this},getLayer:function(d){return this._layers[d]},getLayers:function(){var d=[];return this.eachLayer(d.push,d),d},setZIndex:function(d){return this.invoke("setZIndex",d)},getLayerId:function(d){return u(d)}}),du=function(d,x){return new sl(d,x)},jo=sl.extend({addLayer:function(d){return this.hasLayer(d)?this:(d.addEventParent(this),sl.prototype.addLayer.call(this,d),this.fire("layeradd",{layer:d}))},removeLayer:function(d){return this.hasLayer(d)?(d in this._layers&&(d=this._layers[d]),d.removeEventParent(this),sl.prototype.removeLayer.call(this,d),this.fire("layerremove",{layer:d})):this},setStyle:function(d){return this.invoke("setStyle",d)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var d=new Ce;for(var x in this._layers){var S=this._layers[x];d.extend(S.getBounds?S.getBounds():S.getLatLng())}return d}}),vv=function(d,x){return new jo(d,x)},Hl=ne.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(d){_(this,d)},createIcon:function(d){return this._createIcon("icon",d)},createShadow:function(d){return this._createIcon("shadow",d)},_createIcon:function(d,x){var S=this._getIconUrl(d);if(!S){if(d==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var T=this._createImg(S,x&&x.tagName==="IMG"?x:null);return this._setIconStyles(T,d),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),T},_setIconStyles:function(d,x){var S=this.options,T=S[x+"Size"];typeof T=="number"&&(T=[T,T]);var $=de(T),te=de(x==="shadow"&&S.shadowAnchor||S.iconAnchor||$&&$.divideBy(2,!0));d.className="leaflet-marker-"+x+" "+(S.className||""),te&&(d.style.marginLeft=-te.x+"px",d.style.marginTop=-te.y+"px"),$&&(d.style.width=$.x+"px",d.style.height=$.y+"px")},_createImg:function(d,x){return x=x||document.createElement("img"),x.src=d,x},_getIconUrl:function(d){return Ht.retina&&this.options[d+"RetinaUrl"]||this.options[d+"Url"]}});function yv(d){return new Hl(d)}var Yc=Hl.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(d){return typeof Yc.imagePath!="string"&&(Yc.imagePath=this._detectIconPath()),(this.options.imagePath||Yc.imagePath)+Hl.prototype._getIconUrl.call(this,d)},_stripUrl:function(d){var x=function(S,T,$){var te=T.exec(S);return te&&te[$]};return d=x(d,/^url\((['"])?(.+)\1\)$/,2),d&&x(d,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var d=Nr("div","leaflet-default-icon-path",document.body),x=nu(d,"background-image")||nu(d,"backgroundImage");if(document.body.removeChild(d),x=this._stripUrl(x),x)return x;var S=document.querySelector('link[href$="leaflet.css"]');return S?S.href.substring(0,S.href.length-11-1):""}}),dp=ni.extend({initialize:function(d){this._marker=d},addHooks:function(){var d=this._marker._icon;this._draggable||(this._draggable=new Si(d,d,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),vr(d,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&zn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(d){var x=this._marker,S=x._map,T=this._marker.options.autoPanSpeed,$=this._marker.options.autoPanPadding,te=yo(x._icon),xe=S.getPixelBounds(),Ae=S.getPixelOrigin(),Fe=oe(xe.min._subtract(Ae).add($),xe.max._subtract(Ae).subtract($));if(!Fe.contains(te)){var it=de((Math.max(Fe.max.x,te.x)-Fe.max.x)/(xe.max.x-Fe.max.x)-(Math.min(Fe.min.x,te.x)-Fe.min.x)/(xe.min.x-Fe.min.x),(Math.max(Fe.max.y,te.y)-Fe.max.y)/(xe.max.y-Fe.max.y)-(Math.min(Fe.min.y,te.y)-Fe.min.y)/(xe.min.y-Fe.min.y)).multiplyBy(T);S.panBy(it,{animate:!1}),this._draggable._newPos._add(it),this._draggable._startPos._add(it),fs(x._icon,this._draggable._newPos),this._onDrag(d),this._panRequest=G(this._adjustPan.bind(this,d))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(d){this._marker.options.autoPan&&(J(this._panRequest),this._panRequest=G(this._adjustPan.bind(this,d)))},_onDrag:function(d){var x=this._marker,S=x._shadow,T=yo(x._icon),$=x._map.layerPointToLatLng(T);S&&fs(S,T),x._latlng=$,d.latlng=$,d.oldLatLng=this._oldLatLng,x.fire("move",d).fire("drag",d)},_onDragEnd:function(d){J(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",d)}}),wo=Ci.extend({options:{icon:new Yc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(d,x){_(this,x),this._latlng=Le(d)},onAdd:function(d){this._zoomAnimated=this._zoomAnimated&&d.options.markerZoomAnimation,this._zoomAnimated&&d.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(d){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&d.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(d){var x=this._latlng;return this._latlng=Le(d),this.update(),this.fire("move",{oldLatLng:x,latlng:this._latlng})},setZIndexOffset:function(d){return this.options.zIndexOffset=d,this.update()},getIcon:function(){return this.options.icon},setIcon:function(d){return this.options.icon=d,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var d=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(d)}return this},_initIcon:function(){var d=this.options,x="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),S=d.icon.createIcon(this._icon),T=!1;S!==this._icon&&(this._icon&&this._removeIcon(),T=!0,d.title&&(S.title=d.title),S.tagName==="IMG"&&(S.alt=d.alt||"")),vr(S,x),d.keyboard&&(S.tabIndex="0",S.setAttribute("role","button")),this._icon=S,d.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&mr(S,"focus",this._panOnFocus,this);var $=d.icon.createShadow(this._shadow),te=!1;$!==this._shadow&&(this._removeShadow(),te=!0),$&&(vr($,x),$.alt=""),this._shadow=$,d.opacity<1&&this._updateOpacity(),T&&this.getPane().appendChild(this._icon),this._initInteraction(),$&&te&&this.getPane(d.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&In(this._icon,"focus",this._panOnFocus,this),Wn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Wn(this._shadow),this._shadow=null},_setPos:function(d){this._icon&&fs(this._icon,d),this._shadow&&fs(this._shadow,d),this._zIndex=d.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(d){this._icon&&(this._icon.style.zIndex=this._zIndex+d)},_animateZoom:function(d){var x=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center).round();this._setPos(x)},_initInteraction:function(){if(this.options.interactive&&(vr(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),dp)){var d=this.options.draggable;this.dragging&&(d=this.dragging.enabled(),this.dragging.disable()),this.dragging=new dp(this),d&&this.dragging.enable()}},setOpacity:function(d){return this.options.opacity=d,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var d=this.options.opacity;this._icon&&ya(this._icon,d),this._shadow&&ya(this._shadow,d)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var d=this._map;if(d){var x=this.options.icon.options,S=x.iconSize?de(x.iconSize):de(0,0),T=x.iconAnchor?de(x.iconAnchor):de(0,0);d.panInside(this._latlng,{paddingTopLeft:T,paddingBottomRight:S.subtract(T)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function yw(d,x){return new wo(d,x)}var al=Ci.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(d){this._renderer=d.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(d){return _(this,d),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&d&&Object.prototype.hasOwnProperty.call(d,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Bh=al.extend({options:{fill:!0,radius:10},initialize:function(d,x){_(this,x),this._latlng=Le(d),this._radius=this.options.radius},setLatLng:function(d){var x=this._latlng;return this._latlng=Le(d),this.redraw(),this.fire("move",{oldLatLng:x,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(d){return this.options.radius=this._radius=d,this.redraw()},getRadius:function(){return this._radius},setStyle:function(d){var x=d&&d.radius||this._radius;return al.prototype.setStyle.call(this,d),this.setRadius(x),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var d=this._radius,x=this._radiusY||d,S=this._clickTolerance(),T=[d+S,x+S];this._pxBounds=new z(this._point.subtract(T),this._point.add(T))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(d){return d.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function bv(d,x){return new Bh(d,x)}var qh=Bh.extend({initialize:function(d,x,S){if(typeof x=="number"&&(x=a({},S,{radius:x})),_(this,x),this._latlng=Le(d),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(d){return this._mRadius=d,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var d=[this._radius,this._radiusY||this._radius];return new Ce(this._map.layerPointToLatLng(this._point.subtract(d)),this._map.layerPointToLatLng(this._point.add(d)))},setStyle:al.prototype.setStyle,_project:function(){var d=this._latlng.lng,x=this._latlng.lat,S=this._map,T=S.options.crs;if(T.distance===Xe.distance){var $=Math.PI/180,te=this._mRadius/Xe.R/$,xe=S.project([x+te,d]),Ae=S.project([x-te,d]),Fe=xe.add(Ae).divideBy(2),it=S.unproject(Fe).lat,Dt=Math.acos((Math.cos(te*$)-Math.sin(x*$)*Math.sin(it*$))/(Math.cos(x*$)*Math.cos(it*$)))/$;(isNaN(Dt)||Dt===0)&&(Dt=te/Math.cos(Math.PI/180*x)),this._point=Fe.subtract(S.getPixelOrigin()),this._radius=isNaN(Dt)?0:Fe.x-S.project([it,d-Dt]).x,this._radiusY=Fe.y-xe.y}else{var nr=T.unproject(T.project(this._latlng).subtract([this._mRadius,0]));this._point=S.latLngToLayerPoint(this._latlng),this._radius=this._point.x-S.latLngToLayerPoint(nr).x}this._updateBounds()}});function uu(d,x,S){return new qh(d,x,S)}var qa=al.extend({options:{smoothFactor:1,noClip:!1},initialize:function(d,x){_(this,x),this._setLatLngs(d)},getLatLngs:function(){return this._latlngs},setLatLngs:function(d){return this._setLatLngs(d),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(d){for(var x=1/0,S=null,T=Wl,$,te,xe=0,Ae=this._parts.length;xe<Ae;xe++)for(var Fe=this._parts[xe],it=1,Dt=Fe.length;it<Dt;it++){$=Fe[it-1],te=Fe[it];var nr=T(d,$,te,!0);nr<x&&(x=nr,S=T(d,$,te))}return S&&(S.distance=Math.sqrt(x)),S},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return pv(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(d,x){return x=x||this._defaultShape(),d=Le(d),x.push(d),this._bounds.extend(d),this.redraw()},_setLatLngs:function(d){this._bounds=new Ce,this._latlngs=this._convertLatLngs(d)},_defaultShape:function(){return si(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(d){for(var x=[],S=si(d),T=0,$=d.length;T<$;T++)S?(x[T]=Le(d[T]),this._bounds.extend(x[T])):x[T]=this._convertLatLngs(d[T]);return x},_project:function(){var d=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,d),this._bounds.isValid()&&d.isValid()&&(this._rawPxBounds=d,this._updateBounds())},_updateBounds:function(){var d=this._clickTolerance(),x=new W(d,d);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(x),this._rawPxBounds.max.add(x)]))},_projectLatlngs:function(d,x,S){var T=d[0]instanceof _e,$=d.length,te,xe;if(T){for(xe=[],te=0;te<$;te++)xe[te]=this._map.latLngToLayerPoint(d[te]),S.extend(xe[te]);x.push(xe)}else for(te=0;te<$;te++)this._projectLatlngs(d[te],x,S)},_clipPoints:function(){var d=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}var x=this._parts,S,T,$,te,xe,Ae,Fe;for(S=0,$=0,te=this._rings.length;S<te;S++)for(Fe=this._rings[S],T=0,xe=Fe.length;T<xe-1;T++)Ae=mv(Fe[T],Fe[T+1],d,T,!0),Ae&&(x[$]=x[$]||[],x[$].push(Ae[0]),(Ae[1]!==Fe[T+1]||T===xe-2)&&(x[$].push(Ae[1]),$++))}},_simplifyPoints:function(){for(var d=this._parts,x=this.options.smoothFactor,S=0,T=d.length;S<T;S++)d[S]=$h(d[S],x)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(d,x){var S,T,$,te,xe,Ae,Fe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(S=0,te=this._parts.length;S<te;S++)for(Ae=this._parts[S],T=0,xe=Ae.length,$=xe-1;T<xe;$=T++)if(!(!x&&T===0)&&hv(d,Ae[$],Ae[T])<=Fe)return!0;return!1}});function bw(d,x){return new qa(d,x)}qa._flat=fv;var _o=qa.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return uv(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(d){var x=qa.prototype._convertLatLngs.call(this,d),S=x.length;return S>=2&&x[0]instanceof _e&&x[0].equals(x[S-1])&&x.pop(),x},_setLatLngs:function(d){qa.prototype._setLatLngs.call(this,d),si(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return si(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var d=this._renderer._bounds,x=this.options.weight,S=new W(x,x);if(d=new z(d.min.subtract(S),d.max.add(S)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}for(var T=0,$=this._rings.length,te;T<$;T++)te=sp(this._rings[T],d,!0),te.length&&this._parts.push(te)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(d){var x=!1,S,T,$,te,xe,Ae,Fe,it;if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(te=0,Fe=this._parts.length;te<Fe;te++)for(S=this._parts[te],xe=0,it=S.length,Ae=it-1;xe<it;Ae=xe++)T=S[xe],$=S[Ae],T.y>d.y!=$.y>d.y&&d.x<($.x-T.x)*(d.y-T.y)/($.y-T.y)+T.x&&(x=!x);return x||qa.prototype._containsPoint.call(this,d,!0)}});function jw(d,x){return new _o(d,x)}var Hi=jo.extend({initialize:function(d,x){_(this,x),this._layers={},d&&this.addData(d)},addData:function(d){var x=P(d)?d:d.features,S,T,$;if(x){for(S=0,T=x.length;S<T;S++)$=x[S],($.geometries||$.geometry||$.features||$.coordinates)&&this.addData($);return this}var te=this.options;if(te.filter&&!te.filter(d))return this;var xe=Qc(d,te);return xe?(xe.feature=Hh(d),xe.defaultOptions=xe.options,this.resetStyle(xe),te.onEachFeature&&te.onEachFeature(d,xe),this.addLayer(xe)):this},resetStyle:function(d){return d===void 0?this.eachLayer(this.resetStyle,this):(d.options=a({},d.defaultOptions),this._setLayerStyle(d,this.options.style),this)},setStyle:function(d){return this.eachLayer(function(x){this._setLayerStyle(x,d)},this)},_setLayerStyle:function(d,x){d.setStyle&&(typeof x=="function"&&(x=x(d.feature)),d.setStyle(x))}});function Qc(d,x){var S=d.type==="Feature"?d.geometry:d,T=S?S.coordinates:null,$=[],te=x&&x.pointToLayer,xe=x&&x.coordsToLatLng||Vh,Ae,Fe,it,Dt;if(!T&&!S)return null;switch(S.type){case"Point":return Ae=xe(T),Uh(te,d,Ae,x);case"MultiPoint":for(it=0,Dt=T.length;it<Dt;it++)Ae=xe(T[it]),$.push(Uh(te,d,Ae,x));return new jo($);case"LineString":case"MultiLineString":return Fe=hu(T,S.type==="LineString"?0:1,xe),new qa(Fe,x);case"Polygon":case"MultiPolygon":return Fe=hu(T,S.type==="Polygon"?1:2,xe),new _o(Fe,x);case"GeometryCollection":for(it=0,Dt=S.geometries.length;it<Dt;it++){var nr=Qc({geometry:S.geometries[it],type:"Feature",properties:d.properties},x);nr&&$.push(nr)}return new jo($);case"FeatureCollection":for(it=0,Dt=S.features.length;it<Dt;it++){var Ar=Qc(S.features[it],x);Ar&&$.push(Ar)}return new jo($);default:throw new Error("Invalid GeoJSON object.")}}function Uh(d,x,S,T){return d?d(x,S):new wo(S,T&&T.markersInheritOptions&&T)}function Vh(d){return new _e(d[1],d[0],d[2])}function hu(d,x,S){for(var T=[],$=0,te=d.length,xe;$<te;$++)xe=x?hu(d[$],x-1,S):(S||Vh)(d[$]),T.push(xe);return T}function Kh(d,x){return d=Le(d),d.alt!==void 0?[g(d.lng,x),g(d.lat,x),g(d.alt,x)]:[g(d.lng,x),g(d.lat,x)]}function Wh(d,x,S,T){for(var $=[],te=0,xe=d.length;te<xe;te++)$.push(x?Wh(d[te],si(d[te])?0:x-1,S,T):Kh(d[te],T));return!x&&S&&$.length>0&&$.push($[0].slice()),$}function Xc(d,x){return d.feature?a({},d.feature,{geometry:x}):Hh(x)}function Hh(d){return d.type==="Feature"||d.type==="FeatureCollection"?d:{type:"Feature",properties:{},geometry:d}}var up={toGeoJSON:function(d){return Xc(this,{type:"Point",coordinates:Kh(this.getLatLng(),d)})}};wo.include(up),qh.include(up),Bh.include(up),qa.include({toGeoJSON:function(d){var x=!si(this._latlngs),S=Wh(this._latlngs,x?1:0,!1,d);return Xc(this,{type:(x?"Multi":"")+"LineString",coordinates:S})}}),_o.include({toGeoJSON:function(d){var x=!si(this._latlngs),S=x&&!si(this._latlngs[0]),T=Wh(this._latlngs,S?2:x?1:0,!0,d);return x||(T=[T]),Xc(this,{type:(S?"Multi":"")+"Polygon",coordinates:T})}}),sl.include({toMultiPoint:function(d){var x=[];return this.eachLayer(function(S){x.push(S.toGeoJSON(d).geometry.coordinates)}),Xc(this,{type:"MultiPoint",coordinates:x})},toGeoJSON:function(d){var x=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(x==="MultiPoint")return this.toMultiPoint(d);var S=x==="GeometryCollection",T=[];return this.eachLayer(function($){if($.toGeoJSON){var te=$.toGeoJSON(d);if(S)T.push(te.geometry);else{var xe=Hh(te);xe.type==="FeatureCollection"?T.push.apply(T,xe.features):T.push(xe)}}}),S?Xc(this,{geometries:T,type:"GeometryCollection"}):{type:"FeatureCollection",features:T}}});function jv(d,x){return new Hi(d,x)}var ki=jv,il=Ci.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(d,x,S){this._url=d,this._bounds=ke(x),_(this,S)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(vr(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Wn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(d){return this.options.opacity=d,this._image&&this._updateOpacity(),this},setStyle:function(d){return d.opacity&&this.setOpacity(d.opacity),this},bringToFront:function(){return this._map&&qc(this._image),this},bringToBack:function(){return this._map&&vo(this._image),this},setUrl:function(d){return this._url=d,this._image&&(this._image.src=d),this},setBounds:function(d){return this._bounds=ke(d),this._map&&this._reset(),this},getEvents:function(){var d={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var d=this._url.tagName==="IMG",x=this._image=d?this._url:Nr("img");if(vr(x,"leaflet-image-layer"),this._zoomAnimated&&vr(x,"leaflet-zoom-animated"),this.options.className&&vr(x,this.options.className),x.onselectstart=p,x.onmousemove=p,x.onload=o(this.fire,this,"load"),x.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),d){this._url=x.src;return}x.src=this._url,x.alt=this.options.alt},_animateZoom:function(d){var x=this._map.getZoomScale(d.zoom),S=this._map._latLngBoundsToNewLayerBounds(this._bounds,d.zoom,d.center).min;wi(this._image,S,x)},_reset:function(){var d=this._image,x=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),S=x.getSize();fs(d,x.min),d.style.width=S.x+"px",d.style.height=S.y+"px"},_updateOpacity:function(){ya(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var d=this.options.errorOverlayUrl;d&&this._url!==d&&(this._url=d,this._image.src=d)},getCenter:function(){return this._bounds.getCenter()}}),wv=function(d,x,S){return new il(d,x,S)},hp=il.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var d=this._url.tagName==="VIDEO",x=this._image=d?this._url:Nr("video");if(vr(x,"leaflet-image-layer"),this._zoomAnimated&&vr(x,"leaflet-zoom-animated"),this.options.className&&vr(x,this.options.className),x.onselectstart=p,x.onmousemove=p,x.onloadeddata=o(this.fire,this,"load"),d){for(var S=x.getElementsByTagName("source"),T=[],$=0;$<S.length;$++)T.push(S[$].src);this._url=S.length>0?T:[x.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(x.style,"objectFit")&&(x.style.objectFit="fill"),x.autoplay=!!this.options.autoplay,x.loop=!!this.options.loop,x.muted=!!this.options.muted,x.playsInline=!!this.options.playsInline;for(var te=0;te<this._url.length;te++){var xe=Nr("source");xe.src=this._url[te],x.appendChild(xe)}}});function _v(d,x,S){return new hp(d,x,S)}var mp=il.extend({_initImage:function(){var d=this._image=this._url;vr(d,"leaflet-image-layer"),this._zoomAnimated&&vr(d,"leaflet-zoom-animated"),this.options.className&&vr(d,this.options.className),d.onselectstart=p,d.onmousemove=p}});function fp(d,x,S){return new mp(d,x,S)}var Gi=Ci.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(d,x){d&&(d instanceof _e||P(d))?(this._latlng=Le(d),_(this,x)):(_(this,d),this._source=x),this.options.content&&(this._content=this.options.content)},openOn:function(d){return d=arguments.length?d:this._source._map,d.hasLayer(this)||d.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(d){return this._map?this.close():(arguments.length?this._source=d:d=this._source,this._prepareOpen(),this.openOn(d._map)),this},onAdd:function(d){this._zoomAnimated=d._zoomAnimated,this._container||this._initLayout(),d._fadeAnimated&&ya(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),d._fadeAnimated&&ya(this._container,1),this.bringToFront(),this.options.interactive&&(vr(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(d){d._fadeAnimated?(ya(this._container,0),this._removeTimeout=setTimeout(o(Wn,void 0,this._container),200)):Wn(this._container),this.options.interactive&&(zn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(d){return this._latlng=Le(d),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(d){return this._content=d,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var d={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&qc(this._container),this},bringToBack:function(){return this._map&&vo(this._container),this},_prepareOpen:function(d){var x=this._source;if(!x._map)return!1;if(x instanceof jo){x=null;var S=this._source._layers;for(var T in S)if(S[T]._map){x=S[T];break}if(!x)return!1;this._source=x}if(!d)if(x.getCenter)d=x.getCenter();else if(x.getLatLng)d=x.getLatLng();else if(x.getBounds)d=x.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(d),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var d=this._contentNode,x=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof x=="string")d.innerHTML=x;else{for(;d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(x)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var d=this._map.latLngToLayerPoint(this._latlng),x=de(this.options.offset),S=this._getAnchor();this._zoomAnimated?fs(this._container,d.add(S)):x=x.add(d).add(S);var T=this._containerBottom=-x.y,$=this._containerLeft=-Math.round(this._containerWidth/2)+x.x;this._container.style.bottom=T+"px",this._container.style.left=$+"px"}},_getAnchor:function(){return[0,0]}});Vr.include({_initOverlay:function(d,x,S,T){var $=x;return $ instanceof d||($=new d(T).setContent(x)),S&&$.setLatLng(S),$}}),Ci.include({_initOverlay:function(d,x,S,T){var $=S;return $ instanceof d?(_($,T),$._source=this):($=x&&!T?x:new d(T,this),$.setContent(S)),$}});var Gh=Gi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(d){return d=arguments.length?d:this._source._map,!d.hasLayer(this)&&d._popup&&d._popup.options.autoClose&&d.removeLayer(d._popup),d._popup=this,Gi.prototype.openOn.call(this,d)},onAdd:function(d){Gi.prototype.onAdd.call(this,d),d.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof al||this._source.on("preclick",Wi))},onRemove:function(d){Gi.prototype.onRemove.call(this,d),d.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof al||this._source.off("preclick",Wi))},getEvents:function(){var d=Gi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(d.preclick=this.close),this.options.keepInView&&(d.moveend=this._adjustPan),d},_initLayout:function(){var d="leaflet-popup",x=this._container=Nr("div",d+" "+(this.options.className||"")+" leaflet-zoom-animated"),S=this._wrapper=Nr("div",d+"-content-wrapper",x);if(this._contentNode=Nr("div",d+"-content",S),ou(x),Dh(this._contentNode),mr(x,"contextmenu",Wi),this._tipContainer=Nr("div",d+"-tip-container",x),this._tip=Nr("div",d+"-tip",this._tipContainer),this.options.closeButton){var T=this._closeButton=Nr("a",d+"-close-button",x);T.setAttribute("role","button"),T.setAttribute("aria-label","Close popup"),T.href="#close",T.innerHTML='<span aria-hidden="true">&#215;</span>',mr(T,"click",function($){os($),this.close()},this)}},_updateLayout:function(){var d=this._contentNode,x=d.style;x.width="",x.whiteSpace="nowrap";var S=d.offsetWidth;S=Math.min(S,this.options.maxWidth),S=Math.max(S,this.options.minWidth),x.width=S+1+"px",x.whiteSpace="",x.height="";var T=d.offsetHeight,$=this.options.maxHeight,te="leaflet-popup-scrolled";$&&T>$?(x.height=$+"px",vr(d,te)):zn(d,te),this._containerWidth=this._container.offsetWidth},_animateZoom:function(d){var x=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center),S=this._getAnchor();fs(this._container,x.add(S))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var d=this._map,x=parseInt(nu(this._container,"marginBottom"),10)||0,S=this._container.offsetHeight+x,T=this._containerWidth,$=new W(this._containerLeft,-S-this._containerBottom);$._add(yo(this._container));var te=d.layerPointToContainerPoint($),xe=de(this.options.autoPanPadding),Ae=de(this.options.autoPanPaddingTopLeft||xe),Fe=de(this.options.autoPanPaddingBottomRight||xe),it=d.getSize(),Dt=0,nr=0;te.x+T+Fe.x>it.x&&(Dt=te.x+T-it.x+Fe.x),te.x-Dt-Ae.x<0&&(Dt=te.x-Ae.x),te.y+S+Fe.y>it.y&&(nr=te.y+S-it.y+Fe.y),te.y-nr-Ae.y<0&&(nr=te.y-Ae.y),(Dt||nr)&&(this.options.keepInView&&(this._autopanning=!0),d.fire("autopanstart").panBy([Dt,nr]))}},_getAnchor:function(){return de(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Jc=function(d,x){return new Gh(d,x)};Vr.mergeOptions({closePopupOnClick:!0}),Vr.include({openPopup:function(d,x,S){return this._initOverlay(Gh,d,x,S).openOn(this),this},closePopup:function(d){return d=arguments.length?d:this._popup,d&&d.close(),this}}),Ci.include({bindPopup:function(d,x){return this._popup=this._initOverlay(Gh,this._popup,d,x),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(d){return this._popup&&(this instanceof jo||(this._popup._source=this),this._popup._prepareOpen(d||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(d){return this._popup&&this._popup.setContent(d),this},getPopup:function(){return this._popup},_openPopup:function(d){if(!(!this._popup||!this._map)){Ni(d);var x=d.layer||d.target;if(this._popup._source===x&&!(x instanceof al)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(d.latlng);return}this._popup._source=x,this.openPopup(d.latlng)}},_movePopup:function(d){this._popup.setLatLng(d.latlng)},_onKeyPress:function(d){d.originalEvent.keyCode===13&&this._openPopup(d)}});var ed=Gi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(d){Gi.prototype.onAdd.call(this,d),this.setOpacity(this.options.opacity),d.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(d){Gi.prototype.onRemove.call(this,d),d.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var d=Gi.prototype.getEvents.call(this);return this.options.permanent||(d.preclick=this.close),d},_initLayout:function(){var d="leaflet-tooltip",x=d+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Nr("div",x),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(d){var x,S,T=this._map,$=this._container,te=T.latLngToContainerPoint(T.getCenter()),xe=T.layerPointToContainerPoint(d),Ae=this.options.direction,Fe=$.offsetWidth,it=$.offsetHeight,Dt=de(this.options.offset),nr=this._getAnchor();Ae==="top"?(x=Fe/2,S=it):Ae==="bottom"?(x=Fe/2,S=0):Ae==="center"?(x=Fe/2,S=it/2):Ae==="right"?(x=0,S=it/2):Ae==="left"?(x=Fe,S=it/2):xe.x<te.x?(Ae="right",x=0,S=it/2):(Ae="left",x=Fe+(Dt.x+nr.x)*2,S=it/2),d=d.subtract(de(x,S,!0)).add(Dt).add(nr),zn($,"leaflet-tooltip-right"),zn($,"leaflet-tooltip-left"),zn($,"leaflet-tooltip-top"),zn($,"leaflet-tooltip-bottom"),vr($,"leaflet-tooltip-"+Ae),fs($,d)},_updatePosition:function(){var d=this._map.latLngToLayerPoint(this._latlng);this._setPosition(d)},setOpacity:function(d){this.options.opacity=d,this._container&&ya(this._container,d)},_animateZoom:function(d){var x=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center);this._setPosition(x)},_getAnchor:function(){return de(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),mu=function(d,x){return new ed(d,x)};Vr.include({openTooltip:function(d,x,S){return this._initOverlay(ed,d,x,S).openOn(this),this},closeTooltip:function(d){return d.close(),this}}),Ci.include({bindTooltip:function(d,x){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ed,this._tooltip,d,x),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(d){if(!(!d&&this._tooltipHandlersAdded)){var x=d?"off":"on",S={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?S.add=this._openTooltip:(S.mouseover=this._openTooltip,S.mouseout=this.closeTooltip,S.click=this._openTooltip,this._map?this._addFocusListeners():S.add=this._addFocusListeners),this._tooltip.options.sticky&&(S.mousemove=this._moveTooltip),this[x](S),this._tooltipHandlersAdded=!d}},openTooltip:function(d){return this._tooltip&&(this instanceof jo||(this._tooltip._source=this),this._tooltip._prepareOpen(d)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(d){return this._tooltip&&this._tooltip.setContent(d),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(d){var x=typeof d.getElement=="function"&&d.getElement();x&&(mr(x,"focus",function(){this._tooltip._source=d,this.openTooltip()},this),mr(x,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(d){var x=typeof d.getElement=="function"&&d.getElement();x&&x.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(d){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var x=this;this._map.once("moveend",function(){x._openOnceFlag=!1,x._openTooltip(d)});return}this._tooltip._source=d.layer||d.target,this.openTooltip(this._tooltip.options.sticky?d.latlng:void 0)}},_moveTooltip:function(d){var x=d.latlng,S,T;this._tooltip.options.sticky&&d.originalEvent&&(S=this._map.mouseEventToContainerPoint(d.originalEvent),T=this._map.containerPointToLayerPoint(S),x=this._map.layerPointToLatLng(T)),this._tooltip.setLatLng(x)}});var Zh=Hl.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(d){var x=d&&d.tagName==="DIV"?d:document.createElement("div"),S=this.options;if(S.html instanceof Element?(Ph(x),x.appendChild(S.html)):x.innerHTML=S.html!==!1?S.html:"",S.bgPos){var T=de(S.bgPos);x.style.backgroundPosition=-T.x+"px "+-T.y+"px"}return this._setIconStyles(x,"icon"),x},createShadow:function(){return null}});function Nv(d){return new Zh(d)}Hl.Default=Yc;var ol=Ci.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ht.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(d){_(this,d)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(d){d._addZoomLimit(this)},onRemove:function(d){this._removeAllTiles(),Wn(this._container),d._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(qc(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(vo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(d){return this.options.opacity=d,this._updateOpacity(),this},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var d=this._clampZoom(this._map.getZoom());d!==this._tileZoom&&(this._tileZoom=d,this._updateLevels()),this._update()}return this},getEvents:function(){var d={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),d.move=this._onMove),this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},createTile:function(){return document.createElement("div")},getTileSize:function(){var d=this.options.tileSize;return d instanceof W?d:new W(d,d)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(d){for(var x=this.getPane().children,S=-d(-1/0,1/0),T=0,$=x.length,te;T<$;T++)te=x[T].style.zIndex,x[T]!==this._container&&te&&(S=d(S,+te));isFinite(S)&&(this.options.zIndex=S+d(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ht.ielt9){ya(this._container,this.options.opacity);var d=+new Date,x=!1,S=!1;for(var T in this._tiles){var $=this._tiles[T];if(!(!$.current||!$.loaded)){var te=Math.min(1,(d-$.loaded)/200);ya($.el,te),te<1?x=!0:($.active?S=!0:this._onOpaqueTile($),$.active=!0)}}S&&!this._noPrune&&this._pruneTiles(),x&&(J(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=Nr("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var d=this._tileZoom,x=this.options.maxZoom;if(d!==void 0){for(var S in this._levels)S=Number(S),this._levels[S].el.children.length||S===d?(this._levels[S].el.style.zIndex=x-Math.abs(d-S),this._onUpdateLevel(S)):(Wn(this._levels[S].el),this._removeTilesAtZoom(S),this._onRemoveLevel(S),delete this._levels[S]);var T=this._levels[d],$=this._map;return T||(T=this._levels[d]={},T.el=Nr("div","leaflet-tile-container leaflet-zoom-animated",this._container),T.el.style.zIndex=x,T.origin=$.project($.unproject($.getPixelOrigin()),d).round(),T.zoom=d,this._setZoomTransform(T,$.getCenter(),$.getZoom()),p(T.el.offsetWidth),this._onCreateLevel(T)),this._level=T,T}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var d,x,S=this._map.getZoom();if(S>this.options.maxZoom||S<this.options.minZoom){this._removeAllTiles();return}for(d in this._tiles)x=this._tiles[d],x.retain=x.current;for(d in this._tiles)if(x=this._tiles[d],x.current&&!x.active){var T=x.coords;this._retainParent(T.x,T.y,T.z,T.z-5)||this._retainChildren(T.x,T.y,T.z,T.z+2)}for(d in this._tiles)this._tiles[d].retain||this._removeTile(d)}},_removeTilesAtZoom:function(d){for(var x in this._tiles)this._tiles[x].coords.z===d&&this._removeTile(x)},_removeAllTiles:function(){for(var d in this._tiles)this._removeTile(d)},_invalidateAll:function(){for(var d in this._levels)Wn(this._levels[d].el),this._onRemoveLevel(Number(d)),delete this._levels[d];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,x,S,T){var $=Math.floor(d/2),te=Math.floor(x/2),xe=S-1,Ae=new W(+$,+te);Ae.z=+xe;var Fe=this._tileCoordsToKey(Ae),it=this._tiles[Fe];return it&&it.active?(it.retain=!0,!0):(it&&it.loaded&&(it.retain=!0),xe>T?this._retainParent($,te,xe,T):!1)},_retainChildren:function(d,x,S,T){for(var $=2*d;$<2*d+2;$++)for(var te=2*x;te<2*x+2;te++){var xe=new W($,te);xe.z=S+1;var Ae=this._tileCoordsToKey(xe),Fe=this._tiles[Ae];if(Fe&&Fe.active){Fe.retain=!0;continue}else Fe&&Fe.loaded&&(Fe.retain=!0);S+1<T&&this._retainChildren($,te,S+1,T)}},_resetView:function(d){var x=d&&(d.pinch||d.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),x,x)},_animateZoom:function(d){this._setView(d.center,d.zoom,!0,d.noUpdate)},_clampZoom:function(d){var x=this.options;return x.minNativeZoom!==void 0&&d<x.minNativeZoom?x.minNativeZoom:x.maxNativeZoom!==void 0&&x.maxNativeZoom<d?x.maxNativeZoom:d},_setView:function(d,x,S,T){var $=Math.round(x);this.options.maxZoom!==void 0&&$>this.options.maxZoom||this.options.minZoom!==void 0&&$<this.options.minZoom?$=void 0:$=this._clampZoom($);var te=this.options.updateWhenZooming&&$!==this._tileZoom;(!T||te)&&(this._tileZoom=$,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),$!==void 0&&this._update(d),S||this._pruneTiles(),this._noPrune=!!S),this._setZoomTransforms(d,x)},_setZoomTransforms:function(d,x){for(var S in this._levels)this._setZoomTransform(this._levels[S],d,x)},_setZoomTransform:function(d,x,S){var T=this._map.getZoomScale(S,d.zoom),$=d.origin.multiplyBy(T).subtract(this._map._getNewPixelOrigin(x,S)).round();Ht.any3d?wi(d.el,$,T):fs(d.el,$)},_resetGrid:function(){var d=this._map,x=d.options.crs,S=this._tileSize=this.getTileSize(),T=this._tileZoom,$=this._map.getPixelWorldBounds(this._tileZoom);$&&(this._globalTileRange=this._pxBoundsToTileRange($)),this._wrapX=x.wrapLng&&!this.options.noWrap&&[Math.floor(d.project([0,x.wrapLng[0]],T).x/S.x),Math.ceil(d.project([0,x.wrapLng[1]],T).x/S.y)],this._wrapY=x.wrapLat&&!this.options.noWrap&&[Math.floor(d.project([x.wrapLat[0],0],T).y/S.x),Math.ceil(d.project([x.wrapLat[1],0],T).y/S.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(d){var x=this._map,S=x._animatingZoom?Math.max(x._animateToZoom,x.getZoom()):x.getZoom(),T=x.getZoomScale(S,this._tileZoom),$=x.project(d,this._tileZoom).floor(),te=x.getSize().divideBy(T*2);return new z($.subtract(te),$.add(te))},_update:function(d){var x=this._map;if(x){var S=this._clampZoom(x.getZoom());if(d===void 0&&(d=x.getCenter()),this._tileZoom!==void 0){var T=this._getTiledPixelBounds(d),$=this._pxBoundsToTileRange(T),te=$.getCenter(),xe=[],Ae=this.options.keepBuffer,Fe=new z($.getBottomLeft().subtract([Ae,-Ae]),$.getTopRight().add([Ae,-Ae]));if(!(isFinite($.min.x)&&isFinite($.min.y)&&isFinite($.max.x)&&isFinite($.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var it in this._tiles){var Dt=this._tiles[it].coords;(Dt.z!==this._tileZoom||!Fe.contains(new W(Dt.x,Dt.y)))&&(this._tiles[it].current=!1)}if(Math.abs(S-this._tileZoom)>1){this._setView(d,S);return}for(var nr=$.min.y;nr<=$.max.y;nr++)for(var Ar=$.min.x;Ar<=$.max.x;Ar++){var qs=new W(Ar,nr);if(qs.z=this._tileZoom,!!this._isValidTile(qs)){var Os=this._tiles[this._tileCoordsToKey(qs)];Os?Os.current=!0:xe.push(qs)}}if(xe.sort(function(ja,ad){return ja.distanceTo(te)-ad.distanceTo(te)}),xe.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ua=document.createDocumentFragment();for(Ar=0;Ar<xe.length;Ar++)this._addTile(xe[Ar],Ua);this._level.el.appendChild(Ua)}}}},_isValidTile:function(d){var x=this._map.options.crs;if(!x.infinite){var S=this._globalTileRange;if(!x.wrapLng&&(d.x<S.min.x||d.x>S.max.x)||!x.wrapLat&&(d.y<S.min.y||d.y>S.max.y))return!1}if(!this.options.bounds)return!0;var T=this._tileCoordsToBounds(d);return ke(this.options.bounds).overlaps(T)},_keyToBounds:function(d){return this._tileCoordsToBounds(this._keyToTileCoords(d))},_tileCoordsToNwSe:function(d){var x=this._map,S=this.getTileSize(),T=d.scaleBy(S),$=T.add(S),te=x.unproject(T,d.z),xe=x.unproject($,d.z);return[te,xe]},_tileCoordsToBounds:function(d){var x=this._tileCoordsToNwSe(d),S=new Ce(x[0],x[1]);return this.options.noWrap||(S=this._map.wrapLatLngBounds(S)),S},_tileCoordsToKey:function(d){return d.x+":"+d.y+":"+d.z},_keyToTileCoords:function(d){var x=d.split(":"),S=new W(+x[0],+x[1]);return S.z=+x[2],S},_removeTile:function(d){var x=this._tiles[d];x&&(Wn(x.el),delete this._tiles[d],this.fire("tileunload",{tile:x.el,coords:this._keyToTileCoords(d)}))},_initTile:function(d){vr(d,"leaflet-tile");var x=this.getTileSize();d.style.width=x.x+"px",d.style.height=x.y+"px",d.onselectstart=p,d.onmousemove=p,Ht.ielt9&&this.options.opacity<1&&ya(d,this.options.opacity)},_addTile:function(d,x){var S=this._getTilePos(d),T=this._tileCoordsToKey(d),$=this.createTile(this._wrapCoords(d),o(this._tileReady,this,d));this._initTile($),this.createTile.length<2&&G(o(this._tileReady,this,d,null,$)),fs($,S),this._tiles[T]={el:$,coords:d,current:!0},x.appendChild($),this.fire("tileloadstart",{tile:$,coords:d})},_tileReady:function(d,x,S){x&&this.fire("tileerror",{error:x,tile:S,coords:d});var T=this._tileCoordsToKey(d);S=this._tiles[T],S&&(S.loaded=+new Date,this._map._fadeAnimated?(ya(S.el,0),J(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this)):(S.active=!0,this._pruneTiles()),x||(vr(S.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:S.el,coords:d})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ht.ielt9||!this._map._fadeAnimated?G(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(d){return d.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(d){var x=new W(this._wrapX?f(d.x,this._wrapX):d.x,this._wrapY?f(d.y,this._wrapY):d.y);return x.z=d.z,x},_pxBoundsToTileRange:function(d){var x=this.getTileSize();return new z(d.min.unscaleBy(x).floor(),d.max.unscaleBy(x).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var d in this._tiles)if(!this._tiles[d].loaded)return!1;return!0}});function td(d){return new ol(d)}var ll=ol.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(d,x){this._url=d,x=_(this,x),x.detectRetina&&Ht.retina&&x.maxZoom>0?(x.tileSize=Math.floor(x.tileSize/2),x.zoomReverse?(x.zoomOffset--,x.minZoom=Math.min(x.maxZoom,x.minZoom+1)):(x.zoomOffset++,x.maxZoom=Math.max(x.minZoom,x.maxZoom-1)),x.minZoom=Math.max(0,x.minZoom)):x.zoomReverse?x.minZoom=Math.min(x.maxZoom,x.minZoom):x.maxZoom=Math.max(x.minZoom,x.maxZoom),typeof x.subdomains=="string"&&(x.subdomains=x.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(d,x){return this._url===d&&x===void 0&&(x=!0),this._url=d,x||this.redraw(),this},createTile:function(d,x){var S=document.createElement("img");return mr(S,"load",o(this._tileOnLoad,this,x,S)),mr(S,"error",o(this._tileOnError,this,x,S)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(S.referrerPolicy=this.options.referrerPolicy),S.alt="",S.src=this.getTileUrl(d),S},getTileUrl:function(d){var x={r:Ht.retina?"@2x":"",s:this._getSubdomain(d),x:d.x,y:d.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var S=this._globalTileRange.max.y-d.y;this.options.tms&&(x.y=S),x["-y"]=S}return A(this._url,a(x,this.options))},_tileOnLoad:function(d,x){Ht.ielt9?setTimeout(o(d,this,null,x),0):d(null,x)},_tileOnError:function(d,x,S){var T=this.options.errorTileUrl;T&&x.getAttribute("src")!==T&&(x.src=T),d(S,x)},_onTileRemove:function(d){d.tile.onload=null},_getZoomForUrl:function(){var d=this._tileZoom,x=this.options.maxZoom,S=this.options.zoomReverse,T=this.options.zoomOffset;return S&&(d=x-d),d+T},_getSubdomain:function(d){var x=Math.abs(d.x+d.y)%this.options.subdomains.length;return this.options.subdomains[x]},_abortLoading:function(){var d,x;for(d in this._tiles)if(this._tiles[d].coords.z!==this._tileZoom&&(x=this._tiles[d].el,x.onload=p,x.onerror=p,!x.complete)){x.src=I;var S=this._tiles[d].coords;Wn(x),delete this._tiles[d],this.fire("tileabort",{tile:x,coords:S})}},_removeTile:function(d){var x=this._tiles[d];if(x)return x.el.setAttribute("src",I),ol.prototype._removeTile.call(this,d)},_tileReady:function(d,x,S){if(!(!this._map||S&&S.getAttribute("src")===I))return ol.prototype._tileReady.call(this,d,x,S)}});function pp(d,x){return new ll(d,x)}var fu=ll.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,x){this._url=d;var S=a({},this.defaultWmsParams);for(var T in x)T in this.options||(S[T]=x[T]);x=_(this,x);var $=x.detectRetina&&Ht.retina?2:1,te=this.getTileSize();S.width=te.x*$,S.height=te.y*$,this.wmsParams=S},onAdd:function(d){this._crs=this.options.crs||d.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var x=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[x]=this._crs.code,ll.prototype.onAdd.call(this,d)},getTileUrl:function(d){var x=this._tileCoordsToNwSe(d),S=this._crs,T=oe(S.project(x[0]),S.project(x[1])),$=T.min,te=T.max,xe=(this._wmsVersion>=1.3&&this._crs===gv?[$.y,$.x,te.y,te.x]:[$.x,$.y,te.x,te.y]).join(","),Ae=ll.prototype.getTileUrl.call(this,d);return Ae+w(this.wmsParams,Ae,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+xe},setParams:function(d,x){return a(this.wmsParams,d),x||this.redraw(),this}});function Sv(d,x){return new fu(d,x)}ll.WMS=fu,pp.wms=Sv;var Zi=Ci.extend({options:{padding:.1},initialize:function(d){_(this,d),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),vr(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var d={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(d.zoomanim=this._onAnimZoom),d},_onAnimZoom:function(d){this._updateTransform(d.center,d.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,x){var S=this._map.getZoomScale(x,this._zoom),T=this._map.getSize().multiplyBy(.5+this.options.padding),$=this._map.project(this._center,x),te=T.multiplyBy(-S).add($).subtract(this._map._getNewPixelOrigin(d,x));Ht.any3d?wi(this._container,te,S):fs(this._container,te)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var d in this._layers)this._layers[d]._reset()},_onZoomEnd:function(){for(var d in this._layers)this._layers[d]._project()},_updatePaths:function(){for(var d in this._layers)this._layers[d]._update()},_update:function(){var d=this.options.padding,x=this._map.getSize(),S=this._map.containerPointToLayerPoint(x.multiplyBy(-d)).round();this._bounds=new z(S,S.add(x.multiplyBy(1+d*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),xp=Zi.extend({options:{tolerance:0},getEvents:function(){var d=Zi.prototype.getEvents.call(this);return d.viewprereset=this._onViewPreReset,d},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Zi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var d=this._container=document.createElement("canvas");mr(d,"mousemove",this._onMouseMove,this),mr(d,"click dblclick mousedown mouseup contextmenu",this._onClick,this),mr(d,"mouseout",this._handleMouseOut,this),d._leaflet_disable_events=!0,this._ctx=d.getContext("2d")},_destroyContainer:function(){J(this._redrawRequest),delete this._ctx,Wn(this._container),In(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var d;this._redrawBounds=null;for(var x in this._layers)d=this._layers[x],d._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zi.prototype._update.call(this);var d=this._bounds,x=this._container,S=d.getSize(),T=Ht.retina?2:1;fs(x,d.min),x.width=T*S.x,x.height=T*S.y,x.style.width=S.x+"px",x.style.height=S.y+"px",Ht.retina&&this._ctx.scale(2,2),this._ctx.translate(-d.min.x,-d.min.y),this.fire("update")}},_reset:function(){Zi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(d){this._updateDashArray(d),this._layers[u(d)]=d;var x=d._order={layer:d,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=x),this._drawLast=x,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(d){this._requestRedraw(d)},_removePath:function(d){var x=d._order,S=x.next,T=x.prev;S?S.prev=T:this._drawLast=T,T?T.next=S:this._drawFirst=S,delete d._order,delete this._layers[u(d)],this._requestRedraw(d)},_updatePath:function(d){this._extendRedrawBounds(d),d._project(),d._update(),this._requestRedraw(d)},_updateStyle:function(d){this._updateDashArray(d),this._requestRedraw(d)},_updateDashArray:function(d){if(typeof d.options.dashArray=="string"){var x=d.options.dashArray.split(/[, ]+/),S=[],T,$;for($=0;$<x.length;$++){if(T=Number(x[$]),isNaN(T))return;S.push(T)}d.options._dashArray=S}else d.options._dashArray=d.options.dashArray},_requestRedraw:function(d){this._map&&(this._extendRedrawBounds(d),this._redrawRequest=this._redrawRequest||G(this._redraw,this))},_extendRedrawBounds:function(d){if(d._pxBounds){var x=(d.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(d._pxBounds.min.subtract([x,x])),this._redrawBounds.extend(d._pxBounds.max.add([x,x]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var d=this._redrawBounds;if(d){var x=d.getSize();this._ctx.clearRect(d.min.x,d.min.y,x.x,x.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var d,x=this._redrawBounds;if(this._ctx.save(),x){var S=x.getSize();this._ctx.beginPath(),this._ctx.rect(x.min.x,x.min.y,S.x,S.y),this._ctx.clip()}this._drawing=!0;for(var T=this._drawFirst;T;T=T.next)d=T.layer,(!x||d._pxBounds&&d._pxBounds.intersects(x))&&d._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,x){if(this._drawing){var S,T,$,te,xe=d._parts,Ae=xe.length,Fe=this._ctx;if(Ae){for(Fe.beginPath(),S=0;S<Ae;S++){for(T=0,$=xe[S].length;T<$;T++)te=xe[S][T],Fe[T?"lineTo":"moveTo"](te.x,te.y);x&&Fe.closePath()}this._fillStroke(Fe,d)}}},_updateCircle:function(d){if(!(!this._drawing||d._empty())){var x=d._point,S=this._ctx,T=Math.max(Math.round(d._radius),1),$=(Math.max(Math.round(d._radiusY),1)||T)/T;$!==1&&(S.save(),S.scale(1,$)),S.beginPath(),S.arc(x.x,x.y/$,T,0,Math.PI*2,!1),$!==1&&S.restore(),this._fillStroke(S,d)}},_fillStroke:function(d,x){var S=x.options;S.fill&&(d.globalAlpha=S.fillOpacity,d.fillStyle=S.fillColor||S.color,d.fill(S.fillRule||"evenodd")),S.stroke&&S.weight!==0&&(d.setLineDash&&d.setLineDash(x.options&&x.options._dashArray||[]),d.globalAlpha=S.opacity,d.lineWidth=S.weight,d.strokeStyle=S.color,d.lineCap=S.lineCap,d.lineJoin=S.lineJoin,d.stroke())},_onClick:function(d){for(var x=this._map.mouseEventToLayerPoint(d),S,T,$=this._drawFirst;$;$=$.next)S=$.layer,S.options.interactive&&S._containsPoint(x)&&(!(d.type==="click"||d.type==="preclick")||!this._map._draggableMoved(S))&&(T=S);this._fireEvent(T?[T]:!1,d)},_onMouseMove:function(d){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var x=this._map.mouseEventToLayerPoint(d);this._handleMouseHover(d,x)}},_handleMouseOut:function(d){var x=this._hoveredLayer;x&&(zn(this._container,"leaflet-interactive"),this._fireEvent([x],d,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,x){if(!this._mouseHoverThrottled){for(var S,T,$=this._drawFirst;$;$=$.next)S=$.layer,S.options.interactive&&S._containsPoint(x)&&(T=S);T!==this._hoveredLayer&&(this._handleMouseOut(d),T&&(vr(this._container,"leaflet-interactive"),this._fireEvent([T],d,"mouseover"),this._hoveredLayer=T)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,d),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(d,x,S){this._map._fireDOMEvent(x,S||x.type,d)},_bringToFront:function(d){var x=d._order;if(x){var S=x.next,T=x.prev;if(S)S.prev=T;else return;T?T.next=S:S&&(this._drawFirst=S),x.prev=this._drawLast,this._drawLast.next=x,x.next=null,this._drawLast=x,this._requestRedraw(d)}},_bringToBack:function(d){var x=d._order;if(x){var S=x.next,T=x.prev;if(T)T.next=S;else return;S?S.prev=T:T&&(this._drawLast=T),x.prev=null,x.next=this._drawFirst,this._drawFirst.prev=x,this._drawFirst=x,this._requestRedraw(d)}}});function gp(d){return Ht.canvas?new xp(d):null}var rd=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(d){return document.createElement("<lvml:"+d+' class="lvml">')}}catch{}return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Cv={_initContainer:function(){this._container=Nr("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Zi.prototype._update.call(this),this.fire("update"))},_initPath:function(d){var x=d._container=rd("shape");vr(x,"leaflet-vml-shape "+(this.options.className||"")),x.coordsize="1 1",d._path=rd("path"),x.appendChild(d._path),this._updateStyle(d),this._layers[u(d)]=d},_addPath:function(d){var x=d._container;this._container.appendChild(x),d.options.interactive&&d.addInteractiveTarget(x)},_removePath:function(d){var x=d._container;Wn(x),d.removeInteractiveTarget(x),delete this._layers[u(d)]},_updateStyle:function(d){var x=d._stroke,S=d._fill,T=d.options,$=d._container;$.stroked=!!T.stroke,$.filled=!!T.fill,T.stroke?(x||(x=d._stroke=rd("stroke")),$.appendChild(x),x.weight=T.weight+"px",x.color=T.color,x.opacity=T.opacity,T.dashArray?x.dashStyle=P(T.dashArray)?T.dashArray.join(" "):T.dashArray.replace(/( *, *)/g," "):x.dashStyle="",x.endcap=T.lineCap.replace("butt","flat"),x.joinstyle=T.lineJoin):x&&($.removeChild(x),d._stroke=null),T.fill?(S||(S=d._fill=rd("fill")),$.appendChild(S),S.color=T.fillColor||T.color,S.opacity=T.fillOpacity):S&&($.removeChild(S),d._fill=null)},_updateCircle:function(d){var x=d._point.round(),S=Math.round(d._radius),T=Math.round(d._radiusY||S);this._setPath(d,d._empty()?"M0 0":"AL "+x.x+","+x.y+" "+S+","+T+" 0,"+65535*360)},_setPath:function(d,x){d._path.v=x},_bringToFront:function(d){qc(d._container)},_bringToBack:function(d){vo(d._container)}},Ai=Ht.vml?rd:sr,Gl=Zi.extend({_initContainer:function(){this._container=Ai("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ai("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Wn(this._container),In(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zi.prototype._update.call(this);var d=this._bounds,x=d.getSize(),S=this._container;(!this._svgSize||!this._svgSize.equals(x))&&(this._svgSize=x,S.setAttribute("width",x.x),S.setAttribute("height",x.y)),fs(S,d.min),S.setAttribute("viewBox",[d.min.x,d.min.y,x.x,x.y].join(" ")),this.fire("update")}},_initPath:function(d){var x=d._path=Ai("path");d.options.className&&vr(x,d.options.className),d.options.interactive&&vr(x,"leaflet-interactive"),this._updateStyle(d),this._layers[u(d)]=d},_addPath:function(d){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(d._path),d.addInteractiveTarget(d._path)},_removePath:function(d){Wn(d._path),d.removeInteractiveTarget(d._path),delete this._layers[u(d)]},_updatePath:function(d){d._project(),d._update()},_updateStyle:function(d){var x=d._path,S=d.options;x&&(S.stroke?(x.setAttribute("stroke",S.color),x.setAttribute("stroke-opacity",S.opacity),x.setAttribute("stroke-width",S.weight),x.setAttribute("stroke-linecap",S.lineCap),x.setAttribute("stroke-linejoin",S.lineJoin),S.dashArray?x.setAttribute("stroke-dasharray",S.dashArray):x.removeAttribute("stroke-dasharray"),S.dashOffset?x.setAttribute("stroke-dashoffset",S.dashOffset):x.removeAttribute("stroke-dashoffset")):x.setAttribute("stroke","none"),S.fill?(x.setAttribute("fill",S.fillColor||S.color),x.setAttribute("fill-opacity",S.fillOpacity),x.setAttribute("fill-rule",S.fillRule||"evenodd")):x.setAttribute("fill","none"))},_updatePoly:function(d,x){this._setPath(d,Jt(d._parts,x))},_updateCircle:function(d){var x=d._point,S=Math.max(Math.round(d._radius),1),T=Math.max(Math.round(d._radiusY),1)||S,$="a"+S+","+T+" 0 1,0 ",te=d._empty()?"M0 0":"M"+(x.x-S)+","+x.y+$+S*2+",0 "+$+-S*2+",0 ";this._setPath(d,te)},_setPath:function(d,x){d._path.setAttribute("d",x)},_bringToFront:function(d){qc(d._path)},_bringToBack:function(d){vo(d._path)}});Ht.vml&&Gl.include(Cv);function Yh(d){return Ht.svg||Ht.vml?new Gl(d):null}Vr.include({getRenderer:function(d){var x=d.options.renderer||this._getPaneRenderer(d.options.pane)||this.options.renderer||this._renderer;return x||(x=this._renderer=this._createRenderer()),this.hasLayer(x)||this.addLayer(x),x},_getPaneRenderer:function(d){if(d==="overlayPane"||d===void 0)return!1;var x=this._paneRenderers[d];return x===void 0&&(x=this._createRenderer({pane:d}),this._paneRenderers[d]=x),x},_createRenderer:function(d){return this.options.preferCanvas&&gp(d)||Yh(d)}});var kv=_o.extend({initialize:function(d,x){_o.prototype.initialize.call(this,this._boundsToLatLngs(d),x)},setBounds:function(d){return this.setLatLngs(this._boundsToLatLngs(d))},_boundsToLatLngs:function(d){return d=ke(d),[d.getSouthWest(),d.getNorthWest(),d.getNorthEast(),d.getSouthEast()]}});function ww(d,x){return new kv(d,x)}Gl.create=Ai,Gl.pointsToPath=Jt,Hi.geometryToLayer=Qc,Hi.coordsToLatLng=Vh,Hi.coordsToLatLngs=hu,Hi.latLngToCoords=Kh,Hi.latLngsToCoords=Wh,Hi.getFeature=Xc,Hi.asFeature=Hh,Vr.mergeOptions({boxZoom:!0});var nd=ni.extend({initialize:function(d){this._map=d,this._container=d._container,this._pane=d._panes.overlayPane,this._resetStateTimeout=0,d.on("unload",this._destroy,this)},addHooks:function(){mr(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){In(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Wn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(d){if(!d.shiftKey||d.which!==1&&d.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Zr(),Oh(),this._startPoint=this._map.mouseEventToContainerPoint(d),mr(document,{contextmenu:Ni,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=Nr("div","leaflet-zoom-box",this._container),vr(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var x=new z(this._point,this._startPoint),S=x.getSize();fs(this._box,x.min),this._box.style.width=S.x+"px",this._box.style.height=S.y+"px"},_finish:function(){this._moved&&(Wn(this._box),zn(this._container,"leaflet-crosshair")),Kc(),Ih(),In(document,{contextmenu:Ni,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(d){if(!(d.which!==1&&d.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var x=new Ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(x).fire("boxzoomend",{boxZoomBounds:x})}},_onKeyDown:function(d){d.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Vr.addInitHook("addHandler","boxZoom",nd),Vr.mergeOptions({doubleClickZoom:!0});var Av=ni.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(d){var x=this._map,S=x.getZoom(),T=x.options.zoomDelta,$=d.originalEvent.shiftKey?S-T:S+T;x.options.doubleClickZoom==="center"?x.setZoom($):x.setZoomAround(d.containerPoint,$)}});Vr.addInitHook("addHandler","doubleClickZoom",Av),Vr.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var vp=ni.extend({addHooks:function(){if(!this._draggable){var d=this._map;this._draggable=new Si(d._mapPane,d._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),d.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),d.on("zoomend",this._onZoomEnd,this),d.whenReady(this._onZoomEnd,this))}vr(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){zn(this._map._container,"leaflet-grab"),zn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var d=this._map;if(d._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var x=ke(this._map.options.maxBounds);this._offsetLimit=oe(this._map.latLngToContainerPoint(x.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(x.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;d.fire("movestart").fire("dragstart"),d.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(d){if(this._map.options.inertia){var x=this._lastTime=+new Date,S=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(S),this._times.push(x),this._prunePositions(x)}this._map.fire("move",d).fire("drag",d)},_prunePositions:function(d){for(;this._positions.length>1&&d-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var d=this._map.getSize().divideBy(2),x=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=x.subtract(d).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(d,x){return d-(d-x)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var d=this._draggable._newPos.subtract(this._draggable._startPos),x=this._offsetLimit;d.x<x.min.x&&(d.x=this._viscousLimit(d.x,x.min.x)),d.y<x.min.y&&(d.y=this._viscousLimit(d.y,x.min.y)),d.x>x.max.x&&(d.x=this._viscousLimit(d.x,x.max.x)),d.y>x.max.y&&(d.y=this._viscousLimit(d.y,x.max.y)),this._draggable._newPos=this._draggable._startPos.add(d)}},_onPreDragWrap:function(){var d=this._worldWidth,x=Math.round(d/2),S=this._initialWorldOffset,T=this._draggable._newPos.x,$=(T-x+S)%d+x-S,te=(T+x+S)%d-x-S,xe=Math.abs($+S)<Math.abs(te+S)?$:te;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=xe},_onDragEnd:function(d){var x=this._map,S=x.options,T=!S.inertia||d.noInertia||this._times.length<2;if(x.fire("dragend",d),T)x.fire("moveend");else{this._prunePositions(+new Date);var $=this._lastPos.subtract(this._positions[0]),te=(this._lastTime-this._times[0])/1e3,xe=S.easeLinearity,Ae=$.multiplyBy(xe/te),Fe=Ae.distanceTo([0,0]),it=Math.min(S.inertiaMaxSpeed,Fe),Dt=Ae.multiplyBy(it/Fe),nr=it/(S.inertiaDeceleration*xe),Ar=Dt.multiplyBy(-nr/2).round();!Ar.x&&!Ar.y?x.fire("moveend"):(Ar=x._limitOffset(Ar,x.options.maxBounds),G(function(){x.panBy(Ar,{duration:nr,easeLinearity:xe,noMoveStart:!0,animate:!0})}))}}});Vr.addInitHook("addHandler","dragging",vp),Vr.mergeOptions({keyboard:!0,keyboardPanDelta:80});var yp=ni.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(d){this._map=d,this._setPanDelta(d.options.keyboardPanDelta),this._setZoomDelta(d.options.zoomDelta)},addHooks:function(){var d=this._map._container;d.tabIndex<=0&&(d.tabIndex="0"),mr(d,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),In(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var d=document.body,x=document.documentElement,S=d.scrollTop||x.scrollTop,T=d.scrollLeft||x.scrollLeft;this._map._container.focus(),window.scrollTo(T,S)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var x=this._panKeys={},S=this.keyCodes,T,$;for(T=0,$=S.left.length;T<$;T++)x[S.left[T]]=[-1*d,0];for(T=0,$=S.right.length;T<$;T++)x[S.right[T]]=[d,0];for(T=0,$=S.down.length;T<$;T++)x[S.down[T]]=[0,d];for(T=0,$=S.up.length;T<$;T++)x[S.up[T]]=[0,-1*d]},_setZoomDelta:function(d){var x=this._zoomKeys={},S=this.keyCodes,T,$;for(T=0,$=S.zoomIn.length;T<$;T++)x[S.zoomIn[T]]=d;for(T=0,$=S.zoomOut.length;T<$;T++)x[S.zoomOut[T]]=-d},_addHooks:function(){mr(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){In(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(d){if(!(d.altKey||d.ctrlKey||d.metaKey)){var x=d.keyCode,S=this._map,T;if(x in this._panKeys){if(!S._panAnim||!S._panAnim._inProgress)if(T=this._panKeys[x],d.shiftKey&&(T=de(T).multiplyBy(3)),S.options.maxBounds&&(T=S._limitOffset(de(T),S.options.maxBounds)),S.options.worldCopyJump){var $=S.wrapLatLng(S.unproject(S.project(S.getCenter()).add(T)));S.panTo($)}else S.panBy(T)}else if(x in this._zoomKeys)S.setZoom(S.getZoom()+(d.shiftKey?3:1)*this._zoomKeys[x]);else if(x===27&&S._popup&&S._popup.options.closeOnEscapeKey)S.closePopup();else return;Ni(d)}}});Vr.addInitHook("addHandler","keyboard",yp),Vr.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Mn=ni.extend({addHooks:function(){mr(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){In(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(d){var x=cv(d),S=this._map.options.wheelDebounceTime;this._delta+=x,this._lastMousePos=this._map.mouseEventToContainerPoint(d),this._startTime||(this._startTime=+new Date);var T=Math.max(S-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),T),Ni(d)},_performZoom:function(){var d=this._map,x=d.getZoom(),S=this._map.options.zoomSnap||0;d._stop();var T=this._delta/(this._map.options.wheelPxPerZoomLevel*4),$=4*Math.log(2/(1+Math.exp(-Math.abs(T))))/Math.LN2,te=S?Math.ceil($/S)*S:$,xe=d._limitZoom(x+(this._delta>0?te:-te))-x;this._delta=0,this._startTime=null,xe&&(d.options.scrollWheelZoom==="center"?d.setZoom(x+xe):d.setZoomAround(this._lastMousePos,x+xe))}});Vr.addInitHook("addHandler","scrollWheelZoom",Mn);var bp=600;Vr.mergeOptions({tapHold:Ht.touchNative&&Ht.safari&&Ht.mobile,tapTolerance:15});var pu=ni.extend({addHooks:function(){mr(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){In(this._map._container,"touchstart",this._onDown,this)},_onDown:function(d){if(clearTimeout(this._holdTimeout),d.touches.length===1){var x=d.touches[0];this._startPos=this._newPos=new W(x.clientX,x.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(mr(document,"touchend",os),mr(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",x))},this),bp),mr(document,"touchend touchcancel contextmenu",this._cancel,this),mr(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function d(){In(document,"touchend",os),In(document,"touchend touchcancel",d)},_cancel:function(){clearTimeout(this._holdTimeout),In(document,"touchend touchcancel contextmenu",this._cancel,this),In(document,"touchmove",this._onMove,this)},_onMove:function(d){var x=d.touches[0];this._newPos=new W(x.clientX,x.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(d,x){var S=new MouseEvent(d,{bubbles:!0,cancelable:!0,view:window,screenX:x.screenX,screenY:x.screenY,clientX:x.clientX,clientY:x.clientY});S._simulated=!0,x.target.dispatchEvent(S)}});Vr.addInitHook("addHandler","tapHold",pu),Vr.mergeOptions({touchZoom:Ht.touch,bounceAtZoomLimits:!0});var sd=ni.extend({addHooks:function(){vr(this._map._container,"leaflet-touch-zoom"),mr(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){zn(this._map._container,"leaflet-touch-zoom"),In(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(d){var x=this._map;if(!(!d.touches||d.touches.length!==2||x._animatingZoom||this._zooming)){var S=x.mouseEventToContainerPoint(d.touches[0]),T=x.mouseEventToContainerPoint(d.touches[1]);this._centerPoint=x.getSize()._divideBy(2),this._startLatLng=x.containerPointToLatLng(this._centerPoint),x.options.touchZoom!=="center"&&(this._pinchStartLatLng=x.containerPointToLatLng(S.add(T)._divideBy(2))),this._startDist=S.distanceTo(T),this._startZoom=x.getZoom(),this._moved=!1,this._zooming=!0,x._stop(),mr(document,"touchmove",this._onTouchMove,this),mr(document,"touchend touchcancel",this._onTouchEnd,this),os(d)}},_onTouchMove:function(d){if(!(!d.touches||d.touches.length!==2||!this._zooming)){var x=this._map,S=x.mouseEventToContainerPoint(d.touches[0]),T=x.mouseEventToContainerPoint(d.touches[1]),$=S.distanceTo(T)/this._startDist;if(this._zoom=x.getScaleZoom($,this._startZoom),!x.options.bounceAtZoomLimits&&(this._zoom<x.getMinZoom()&&$<1||this._zoom>x.getMaxZoom()&&$>1)&&(this._zoom=x._limitZoom(this._zoom)),x.options.touchZoom==="center"){if(this._center=this._startLatLng,$===1)return}else{var te=S._add(T)._divideBy(2)._subtract(this._centerPoint);if($===1&&te.x===0&&te.y===0)return;this._center=x.unproject(x.project(this._pinchStartLatLng,this._zoom).subtract(te),this._zoom)}this._moved||(x._moveStart(!0,!1),this._moved=!0),J(this._animRequest);var xe=o(x._move,x,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=G(xe,this,!0),os(d)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,J(this._animRequest),In(document,"touchmove",this._onTouchMove,this),In(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Vr.addInitHook("addHandler","touchZoom",sd),Vr.BoxZoom=nd,Vr.DoubleClickZoom=Av,Vr.Drag=vp,Vr.Keyboard=yp,Vr.ScrollWheelZoom=Mn,Vr.TapHold=pu,Vr.TouchZoom=sd,n.Bounds=z,n.Browser=Ht,n.CRS=je,n.Canvas=xp,n.Circle=qh,n.CircleMarker=Bh,n.Class=ne,n.Control=Ba,n.DivIcon=Zh,n.DivOverlay=Gi,n.DomEvent=Rh,n.DomUtil=iu,n.Draggable=Si,n.Evented=U,n.FeatureGroup=jo,n.GeoJSON=Hi,n.GridLayer=ol,n.Handler=ni,n.Icon=Hl,n.ImageOverlay=il,n.LatLng=_e,n.LatLngBounds=Ce,n.Layer=Ci,n.LayerGroup=sl,n.LineUtil=xv,n.Map=Vr,n.Marker=wo,n.Mixin=np,n.Path=al,n.Point=W,n.PolyUtil=uw,n.Polygon=_o,n.Polyline=qa,n.Popup=Gh,n.PosAnimation=Lh,n.Projection=xw,n.Rectangle=kv,n.Renderer=Zi,n.SVG=Gl,n.SVGOverlay=mp,n.TileLayer=ll,n.Tooltip=ed,n.Transformation=St,n.Util=Z,n.VideoOverlay=hp,n.bind=o,n.bounds=oe,n.canvas=gp,n.circle=uu,n.circleMarker=bv,n.control=nl,n.divIcon=Nv,n.extend=a,n.featureGroup=vv,n.geoJSON=jv,n.geoJson=ki,n.gridLayer=td,n.icon=yv,n.imageOverlay=wv,n.latLng=Le,n.latLngBounds=ke,n.layerGroup=du,n.map=rl,n.marker=yw,n.point=de,n.polygon=jw,n.polyline=bw,n.popup=Jc,n.rectangle=ww,n.setOptions=_,n.stamp=u,n.svg=Yh,n.svgOverlay=fp,n.tileLayer=pp,n.tooltip=mu,n.transformation=Oe,n.version=s,n.videoOverlay=_v;var Pv=window.L;n.noConflict=function(){return window.L=Pv,this},window.L=n}))})(ex,ex.exports)),ex.exports}var Og=Xte();const aj=mn(Og);function IP(t,r,n){return Object.freeze({instance:t,context:r,container:n})}function MP(t,r){return r==null?function(s,a){const i=j.useRef();return i.current||(i.current=t(s,a)),i}:function(s,a){const i=j.useRef();i.current||(i.current=t(s,a));const o=j.useRef(s),{instance:l}=i.current;return j.useEffect(function(){o.current!==s&&(r(l,s,o.current),o.current=s)},[l,s,a]),i}}function Jte(t,r){j.useEffect(function(){return(r.layerContainer??r.map).addLayer(t.instance),function(){r.layerContainer?.removeLayer(t.instance),r.map.removeLayer(t.instance)}},[r,t])}function TB(t){return function(n){const s=AB(),a=t(OP(n,s),s);return SB(s.map,n.attribution),PB(a.current,n.eventHandlers),Jte(a.current,s),a}}function ere(t,r){const n=MP(t,r),s=TB(n);return Hte(s)}function tre(t,r){const n=MP(t),s=Yte(n,r);return Gte(s)}function rre(t,r){const n=MP(t,r),s=TB(n);return Zte(s)}function nre(t,r,n){const{opacity:s,zIndex:a}=r;s!=null&&s!==n.opacity&&t.setOpacity(s),a!=null&&a!==n.zIndex&&t.setZIndex(a)}function QC(){return QC=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},QC.apply(this,arguments)}function sre({bounds:t,boundsOptions:r,center:n,children:s,className:a,id:i,placeholder:o,style:l,whenReady:u,zoom:m,...f},p){const[g]=j.useState({className:a,id:i,style:l}),[b,y]=j.useState(null);j.useImperativeHandle(p,()=>b?.map??null,[b]);const _=j.useCallback(k=>{if(k!==null&&b===null){const A=new Og.Map(k,f);n!=null&&m!=null?A.setView(n,m):t!=null&&A.fitBounds(t,r),u!=null&&A.whenReady(u),y(Kte(A))}},[]);j.useEffect(()=>()=>{b?.map.remove()},[b]);const w=b?le.createElement(kB,{value:b},s):o??null;return le.createElement("div",QC({},g,{ref:_}),w)}const are=j.forwardRef(sre),ire=ere(function({position:r,...n},s){const a=new Og.Marker(r,n);return IP(a,Wte(s,{overlayContainer:a}))},function(r,n,s){n.position!==s.position&&r.setLatLng(n.position),n.icon!=null&&n.icon!==s.icon&&r.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==s.zIndexOffset&&r.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==s.opacity&&r.setOpacity(n.opacity),r.dragging!=null&&n.draggable!==s.draggable&&(n.draggable===!0?r.dragging.enable():r.dragging.disable())}),ore=tre(function(r,n){const s=new Og.Popup(r,n.overlayContainer);return IP(s,n)},function(r,n,{position:s},a){j.useEffect(function(){const{instance:o}=r;function l(m){m.popup===o&&(o.update(),a(!0))}function u(m){m.popup===o&&a(!1)}return n.map.on({popupopen:l,popupclose:u}),n.overlayContainer==null?(s!=null&&o.setLatLng(s),o.openOn(n.map)):n.overlayContainer.bindPopup(o),function(){n.map.off({popupopen:l,popupclose:u}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(o)}},[r,n,a,s])}),lre=rre(function({url:r,...n},s){const a=new Og.TileLayer(r,OP(n,s));return IP(a,s)},function(r,n,s){nre(r,n,s);const{url:a}=n;a!=null&&a!==s.url&&r.setUrl(a)});delete aj.Icon.Default.prototype._getIconUrl;aj.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});const cre=new aj.Icon({iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),dre=new aj.Icon({iconUrl:"data:image/svg+xml;base64,"+btoa(`
    <svg width="25" height="41" viewBox="0 0 25 41" xmlns="http://www.w3.org/2000/svg">
      <path d="M12.5 0C5.596 0 0 5.596 0 12.5c0 12.5 12.5 28.5 12.5 28.5s12.5-16 12.5-28.5C25 5.596 19.404 0 12.5 0z" fill="#10b981"/>
      <circle cx="12.5" cy="12.5" r="8" fill="white"/>
      <circle cx="12.5" cy="12.5" r="5" fill="#10b981"/>
    </svg>
  `),iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]}),ure=({creators:t,center:r})=>e.jsxs(are,{center:r,zoom:11,style:{height:"400px",width:"100%"},className:"rounded-lg overflow-hidden",children:[e.jsx(lre,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t.map(n=>e.jsx(ire,{position:[n.location.lat,n.location.lng],icon:n.isOnline?dre:cre,children:e.jsx(ore,{children:e.jsxs("div",{className:"p-2 min-w-[200px]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center text-xs font-bold",children:n.username[0]?.toUpperCase()}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-sm",children:n.username}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[n.location.city,", ",n.location.state]})]})]}),e.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:[n.followerCount.toLocaleString()," followers  ",n.distance.toFixed(1)," mi"]}),n.bio&&e.jsx("div",{className:"text-xs text-muted-foreground mb-2 line-clamp-2",children:n.bio}),e.jsx("div",{className:"flex gap-1",children:e.jsx(_t,{href:`/creator/${n.id}`,className:"text-xs bg-primary text-primary-foreground px-2 py-1 rounded hover:bg-primary/80 transition-colors inline-block",children:"View Profile"})})]})})},n.id))]});function hre(){kr();const[t,r]=j.useState(25),[n,s]=j.useState(""),[a,i]=j.useState("list"),[o,l]=j.useState([40.7128,-74.006]);j.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(y=>{l([y.coords.latitude,y.coords.longitude])},y=>{console.log("Location access denied, using default location")})},[]);const{data:u=[],isLoading:m}=Ve({queryKey:["/api/creators/nearby",{radius:t,center:o}]}),f=y=>y<1?`${Math.round(y*5280)} ft away`:`${y.toFixed(1)} miles away`,p=y=>{const _=new Date(y),k=new Date().getTime()-_.getTime(),A=Math.floor(k/36e5),P=Math.floor(k/864e5);return A<1?"Active now":A<24?`Active ${A}h ago`:`Active ${P}d ago`},g=u.filter(y=>n===""||y.location.city.toLowerCase().includes(n.toLowerCase())||y.location.state.toLowerCase().includes(n.toLowerCase())),b=g.filter(y=>y.location?.lat&&y.location?.lng&&Number.isFinite(y.location.lat)&&Number.isFinite(y.location.lng));return m?e.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-muted rounded w-48 mb-2"}),e.jsx("div",{className:"h-4 bg-muted rounded w-96"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((y,_)=>e.jsx(Y,{className:"animate-pulse",children:e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-muted rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-muted rounded mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]})})},_))})]})}):e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl","data-testid":"nearby-page",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(Od,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-display","data-testid":"page-title",children:"Near by me"}),e.jsx("p",{className:"text-muted-foreground",children:"Discover creators in your area and connect locally"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsxs(V,{variant:a==="list"?"default":"outline",size:"sm",onClick:()=>i("list"),"data-testid":"list-view-button",children:[e.jsx(lr,{className:"h-4 w-4 mr-2"}),"List View"]}),e.jsxs(V,{variant:a==="map"?"default":"outline",size:"sm",onClick:()=>i("map"),"data-testid":"map-view-button",children:[e.jsx(GO,{className:"h-4 w-4 mr-2"}),"Map View"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsx(Y,{className:"p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Search Radius"}),e.jsxs("select",{value:t,onChange:y=>r(Number(y.target.value)),className:"w-full p-2 border rounded-md bg-background","data-testid":"radius-select",children:[e.jsx("option",{value:5,children:"5 miles"}),e.jsx("option",{value:10,children:"10 miles"}),e.jsx("option",{value:25,children:"25 miles"}),e.jsx("option",{value:50,children:"50 miles"}),e.jsx("option",{value:100,children:"100 miles"})]})]})}),e.jsx(Y,{className:"p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Location Filter"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ue,{placeholder:"City or state...",value:n,onChange:y=>s(y.target.value),className:"pl-10","data-testid":"location-filter"})]})]})}),e.jsx(Y,{className:"p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Results"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lr,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm","data-testid":"results-count",children:[g.length," creators found"]})]})]})})]}),a==="map"&&e.jsxs(Y,{className:"mb-8",children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(GO,{className:"h-5 w-5"}),"Creators Map"]}),e.jsxs(lt,{children:["Click on markers to view creator profiles  Green markers indicate online creators",b.length===0&&g.length>0&&e.jsx("span",{className:"text-yellow-600",children:"  Some creators may not appear due to missing location data"})]})]}),e.jsx(ee,{children:e.jsx(ure,{creators:b,center:o})})]}),g.length===0?e.jsx(Y,{className:"text-center py-16",children:e.jsx(ee,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(Od,{className:"h-16 w-16 mx-auto text-muted-foreground/50"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No creators found nearby"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Try expanding your search radius or check back later for new creators in your area."}),e.jsxs(V,{onClick:()=>r(t*2),"data-testid":"expand-search-button",children:[e.jsx(ZO,{className:"h-4 w-4 mr-2"}),"Expand Search to ",t*2," miles"]})]})]})})}):a==="list"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(y=>e.jsxs(Y,{className:"overflow-hidden hover:shadow-lg transition-all duration-200 group","data-testid":`creator-${y.id}`,children:[e.jsxs(ue,{className:"pb-3",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(_t,{href:`/creator/${y.id}`,children:e.jsxs(un,{className:"h-12 w-12 cursor-pointer ring-2 ring-primary/20 group-hover:ring-primary/40 transition-all",children:[e.jsx(En,{src:y.profileImageUrl}),e.jsx(hn,{className:"bg-primary/10 text-primary",children:y.username[0]?.toUpperCase()})]})}),y.isOnline&&e.jsx("div",{className:"absolute -bottom-1 -right-1 h-4 w-4 bg-green-500 border-2 border-background rounded-full"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(_t,{href:`/creator/${y.id}`,children:e.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:text-primary transition-colors",children:[e.jsx("h3",{className:"font-semibold truncate","data-testid":`creator-name-${y.id}`,children:y.username}),y.isVerified&&e.jsx(ce,{variant:"secondary",className:"text-xs px-1 py-0",children:""})]})}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(Od,{className:"h-3 w-3"}),e.jsxs("span",{children:[y.location.city,", ",y.location.state]})]})]})]})}),y.bio&&e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-2","data-testid":`creator-bio-${y.id}`,children:y.bio})]}),e.jsxs(ee,{className:"pt-0",children:[y.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[y.tags.slice(0,3).map((_,w)=>e.jsx(ce,{variant:"outline",className:"text-xs",children:_},w)),y.tags.length>3&&e.jsxs(ce,{variant:"outline",className:"text-xs",children:["+",y.tags.length-3]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(lr,{className:"h-3 w-3"}),e.jsxs("span",{children:[y.followerCount.toLocaleString()," followers"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ZO,{className:"h-3 w-3"}),e.jsx("span",{"data-testid":`creator-distance-${y.id}`,children:f(y.distance)})]})]}),e.jsx("div",{className:"flex items-center justify-between text-xs mb-4",children:e.jsx("span",{className:y.isOnline?"text-green-500":"text-muted-foreground",children:p(y.lastActiveAt)})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(_t,{href:`/creator/${y.id}`,children:e.jsx(V,{size:"sm",className:"flex-1","data-testid":`view-profile-${y.id}`,children:"View Profile"})}),e.jsx(V,{variant:"outline",size:"sm","data-testid":`message-${y.id}`,children:e.jsx(Pn,{className:"h-4 w-4"})}),e.jsx(V,{variant:"outline",size:"sm","data-testid":`follow-${y.id}`,children:e.jsx(Ma,{className:"h-4 w-4"})})]})]})]},y.id))})]})}function II(){const{user:t}=kr(),[r,n]=j.useState({open:!1,item:null,action:null}),[s,a]=j.useState(""),i=ws(),{toast:o}=or(),{data:l,isLoading:u}=Ve({queryKey:["/api/moderation/queue"],enabled:t?.role==="admin"||t?.role==="moderator"}),m=ot({mutationFn:async({id:y,notes:_})=>Ze("PUT",`/api/moderation/${y}/approve`,{notes:_}),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/moderation/queue"]}),n({open:!1,item:null,action:null}),a(""),o({title:"Success",description:"Content approved successfully"})},onError:y=>{o({title:"Error",description:y.message,variant:"destructive"})}}),f=ot({mutationFn:async({id:y,notes:_})=>Ze("PUT",`/api/moderation/${y}/reject`,{notes:_}),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/moderation/queue"]}),n({open:!1,item:null,action:null}),a(""),o({title:"Success",description:"Content rejected successfully"})},onError:y=>{o({title:"Error",description:y.message,variant:"destructive"})}}),p=(y,_)=>{n({open:!0,item:y,action:_}),a("")},g=()=>{!r.item||!r.action||(r.action==="approve"?m.mutate({id:r.item.id,notes:s}):f.mutate({id:r.item.id,notes:s}))},b=y=>{if(y===0)return"0 Bytes";const _=1024,w=["Bytes","KB","MB","GB"],k=Math.floor(Math.log(y)/Math.log(_));return parseFloat((y/Math.pow(_,k)).toFixed(2))+" "+w[k]};return t?.role!=="admin"?e.jsx("div",{className:"space-y-6","data-testid":"access-denied",children:e.jsxs(bn,{className:"border-destructive/50 bg-destructive/10",children:[e.jsx(Qr,{className:"h-4 w-4 text-destructive"}),e.jsx(jn,{className:"text-destructive",children:"Access denied. Admin privileges required to view moderation queue."})]})}):e.jsxs("div",{className:"space-y-6","data-testid":"moderation-queue-page",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-display","data-testid":"page-title",children:"Moderation Queue"}),e.jsx("p",{className:"text-muted-foreground","data-testid":"page-description",children:"Review and moderate user-submitted content"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-yellow-500/10 rounded-lg flex items-center justify-center",children:e.jsx(wr,{className:"h-6 w-6 text-yellow-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Review"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-500","data-testid":"pending-count",children:Array.isArray(l)?l.length:0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-accent/10 rounded-lg flex items-center justify-center",children:e.jsx(Cr,{className:"h-6 w-6 text-accent"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Approved Today"}),e.jsx("p",{className:"text-2xl font-bold text-accent","data-testid":"approved-today",children:"12"})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-destructive/10 rounded-lg flex items-center justify-center",children:e.jsx(Ln,{className:"h-6 w-6 text-destructive"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Rejected Today"}),e.jsx("p",{className:"text-2xl font-bold text-destructive","data-testid":"rejected-today",children:"3"})]})]})})})]}),e.jsxs(Y,{className:"bg-card border-border",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Pending Reviews"}),e.jsx(lt,{children:"Content awaiting moderation approval"})]}),e.jsx(ee,{children:u?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(y=>e.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg animate-pulse",children:[e.jsx("div",{className:"h-16 w-16 bg-muted rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-muted rounded mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-8 w-16 bg-muted rounded"}),e.jsx("div",{className:"h-8 w-16 bg-muted rounded"})]})]},y))}):Array.isArray(l)&&l.length>0?e.jsx("div",{className:"space-y-4",children:l?.map(y=>e.jsxs("div",{className:"flex items-center gap-4 p-4 border border-border rounded-lg hover:bg-muted/50 transition-colors","data-testid":`moderation-item-${y.id}`,children:[e.jsx("div",{className:"h-16 w-16 bg-muted rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("i",{className:"fas fa-image text-2xl text-muted-foreground"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-medium truncate","data-testid":`item-title-${y.id}`,children:y.media?.title||"Untitled"}),e.jsx(ce,{variant:"secondary","data-testid":`item-type-${y.id}`,children:y.media?.mimeType?.split("/")[0]||"unknown"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{"data-testid":`item-creator-${y.id}`,children:["Creator: ",y.owner?.firstName," ",y.owner?.lastName]}),e.jsx("span",{"data-testid":`item-size-${y.id}`,children:b(y.media?.size||0)}),e.jsx("span",{"data-testid":`item-date-${y.id}`,children:new Date(y.createdAt).toLocaleDateString()})]}),y.reason&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-1","data-testid":`item-reason-${y.id}`,children:["Reason: ",y.reason]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{variant:"outline",size:"sm","data-testid":`view-item-${y.id}`,children:e.jsx(pr,{className:"h-4 w-4"})}),e.jsxs(V,{variant:"default",size:"sm",onClick:()=>p(y,"approve"),className:"bg-accent hover:bg-accent/90 text-accent-foreground","data-testid":`approve-item-${y.id}`,children:[e.jsx(Cr,{className:"h-4 w-4 mr-1"}),"Approve"]}),e.jsxs(V,{variant:"destructive",size:"sm",onClick:()=>p(y,"reject"),"data-testid":`reject-item-${y.id}`,children:[e.jsx(Ln,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]},y.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"h-16 w-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Cr,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2","data-testid":"empty-queue-title",children:"Queue is empty"}),e.jsx("p",{className:"text-muted-foreground","data-testid":"empty-queue-description",children:"All content has been reviewed. Great job!"})]})})]}),e.jsx(Ur,{open:r.open,onOpenChange:y=>n(_=>({..._,open:y})),children:e.jsxs(Lr,{className:"sm:max-w-md","data-testid":"review-dialog",children:[e.jsxs(Fr,{children:[e.jsx($r,{children:r.action==="approve"?"Approve Content":"Reject Content"}),e.jsx(Wr,{children:r.action==="approve"?"Add any notes about the approval (optional)":"Please provide a reason for rejection"})]}),r.item&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"font-medium","data-testid":"review-item-title",children:r.item.media?.title}),e.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":"review-item-creator",children:["By: ",r.item.owner?.firstName," ",r.item.owner?.lastName]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:r.action==="approve"?"Notes (Optional)":"Rejection Reason *"}),e.jsx(on,{value:s,onChange:y=>a(y.target.value),placeholder:r.action==="approve"?"Add any notes about this approval...":"Please explain why this content is being rejected...",rows:3,"data-testid":"review-notes-input"})]})]}),e.jsxs(pa,{children:[e.jsx(V,{variant:"outline",onClick:()=>n({open:!1,item:null,action:null}),"data-testid":"review-cancel-button",children:"Cancel"}),e.jsx(V,{onClick:g,disabled:m.isPending||f.isPending||r.action==="reject"&&!s.trim(),className:r.action==="approve"?"bg-accent hover:bg-accent/90":"",variant:r.action==="approve"?"default":"destructive","data-testid":"review-submit-button",children:m.isPending||f.isPending?"Processing...":r.action==="approve"?"Approve Content":"Reject Content"})]})]})})]})}var ij="Checkbox",[mre]=ga(ij),[fre,DP]=mre(ij);function pre(t){const{__scopeCheckbox:r,checked:n,children:s,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:u,required:m,value:f="on",internal_do_not_use_render:p}=t,[g,b]=Sl({prop:n,defaultProp:a??!1,onChange:u,caller:ij}),[y,_]=j.useState(null),[w,k]=j.useState(null),A=j.useRef(!1),P=y?!!o||!!y.closest("form"):!0,O={checked:g,disabled:i,setChecked:b,control:y,setControl:_,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:A,required:m,defaultChecked:Id(a)?!1:a,isFormControl:P,bubbleInput:w,setBubbleInput:k};return e.jsx(fre,{scope:r,...O,children:xre(p)?p(O):s})}var EB="CheckboxTrigger",OB=j.forwardRef(({__scopeCheckbox:t,onKeyDown:r,onClick:n,...s},a)=>{const{control:i,value:o,disabled:l,checked:u,required:m,setControl:f,setChecked:p,hasConsumerStoppedPropagationRef:g,isFormControl:b,bubbleInput:y}=DP(EB,t),_=_r(a,f),w=j.useRef(u);return j.useEffect(()=>{const k=i?.form;if(k){const A=()=>p(w.current);return k.addEventListener("reset",A),()=>k.removeEventListener("reset",A)}},[i,p]),e.jsx(Vt.button,{type:"button",role:"checkbox","aria-checked":Id(u)?"mixed":u,"aria-required":m,"data-state":LB(u),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:_,onKeyDown:wt(r,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:wt(n,k=>{p(A=>Id(A)?!0:!A),y&&b&&(g.current=k.isPropagationStopped(),g.current||k.stopPropagation())})})});OB.displayName=EB;var RP=j.forwardRef((t,r)=>{const{__scopeCheckbox:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:u,onCheckedChange:m,form:f,...p}=t;return e.jsx(pre,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:m,name:s,form:f,value:u,internal_do_not_use_render:({isFormControl:g})=>e.jsxs(e.Fragment,{children:[e.jsx(OB,{...p,ref:r,__scopeCheckbox:n}),g&&e.jsx(RB,{__scopeCheckbox:n})]})})});RP.displayName=ij;var IB="CheckboxIndicator",MB=j.forwardRef((t,r)=>{const{__scopeCheckbox:n,forceMount:s,...a}=t,i=DP(IB,n);return e.jsx(la,{present:s||Id(i.checked)||i.checked===!0,children:e.jsx(Vt.span,{"data-state":LB(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:r,style:{pointerEvents:"none",...t.style}})})});MB.displayName=IB;var DB="CheckboxBubbleInput",RB=j.forwardRef(({__scopeCheckbox:t,...r},n)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:u,name:m,value:f,form:p,bubbleInput:g,setBubbleInput:b}=DP(DB,t),y=_r(n,b),_=pP(i),w=dP(s);j.useEffect(()=>{const A=g;if(!A)return;const P=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(P,"checked").set,D=!a.current;if(_!==i&&I){const F=new Event("click",{bubbles:D});A.indeterminate=Id(i),I.call(A,Id(i)?!1:i),A.dispatchEvent(F)}},[g,_,i,a]);const k=j.useRef(Id(i)?!1:i);return e.jsx(Vt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??k.current,required:l,disabled:u,name:m,value:f,form:p,...r,tabIndex:-1,ref:y,style:{...r.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});RB.displayName=DB;function xre(t){return typeof t=="function"}function Id(t){return t==="indeterminate"}function LB(t){return Id(t)?"indeterminate":t?"checked":"unchecked"}const Jn=j.forwardRef(({className:t,...r},n)=>e.jsx(RP,{ref:n,className:He("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...r,children:e.jsx(MB,{className:He("flex items-center justify-center text-current"),children:e.jsx(vl,{className:"h-4 w-4"})})}));Jn.displayName=RP.displayName;var tN="rovingFocusGroup.onEntryFocus",gre={bubbles:!1,cancelable:!0},Ig="RovingFocusGroup",[XC,FB,vre]=Db(Ig),[yre,oj]=ga(Ig,[vre]),[bre,jre]=yre(Ig),$B=j.forwardRef((t,r)=>e.jsx(XC.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(XC.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(wre,{...t,ref:r})})}));$B.displayName=Ig;var wre=j.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:m,preventScrollOnEntryFocus:f=!1,...p}=t,g=j.useRef(null),b=_r(r,g),y=Eg(i),[_,w]=Sl({prop:o,defaultProp:l??null,onChange:u,caller:Ig}),[k,A]=j.useState(!1),P=gs(m),O=FB(n),I=j.useRef(!1),[D,F]=j.useState(0);return j.useEffect(()=>{const B=g.current;if(B)return B.addEventListener(tN,P),()=>B.removeEventListener(tN,P)},[P]),e.jsx(bre,{scope:n,orientation:s,dir:y,loop:a,currentTabStopId:_,onItemFocus:j.useCallback(B=>w(B),[w]),onItemShiftTab:j.useCallback(()=>A(!0),[]),onFocusableItemAdd:j.useCallback(()=>F(B=>B+1),[]),onFocusableItemRemove:j.useCallback(()=>F(B=>B-1),[]),children:e.jsx(Vt.div,{tabIndex:k||D===0?-1:0,"data-orientation":s,...p,ref:b,style:{outline:"none",...t.style},onMouseDown:wt(t.onMouseDown,()=>{I.current=!0}),onFocus:wt(t.onFocus,B=>{const H=!I.current;if(B.target===B.currentTarget&&H&&!k){const re=new CustomEvent(tN,gre);if(B.currentTarget.dispatchEvent(re),!re.defaultPrevented){const G=O().filter(ae=>ae.focusable),J=G.find(ae=>ae.active),Z=G.find(ae=>ae.id===_),K=[J,Z,...G].filter(Boolean).map(ae=>ae.ref.current);qB(K,f)}}I.current=!1}),onBlur:wt(t.onBlur,()=>A(!1))})})}),zB="RovingFocusGroupItem",BB=j.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...l}=t,u=qo(),m=i||u,f=jre(zB,n),p=f.currentTabStopId===m,g=FB(n),{onFocusableItemAdd:b,onFocusableItemRemove:y,currentTabStopId:_}=f;return j.useEffect(()=>{if(s)return b(),()=>y()},[s,b,y]),e.jsx(XC.ItemSlot,{scope:n,id:m,focusable:s,active:a,children:e.jsx(Vt.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...l,ref:r,onMouseDown:wt(t.onMouseDown,w=>{s?f.onItemFocus(m):w.preventDefault()}),onFocus:wt(t.onFocus,()=>f.onItemFocus(m)),onKeyDown:wt(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const k=Sre(w,f.orientation,f.dir);if(k!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let P=g().filter(O=>O.focusable).map(O=>O.ref.current);if(k==="last")P.reverse();else if(k==="prev"||k==="next"){k==="prev"&&P.reverse();const O=P.indexOf(w.currentTarget);P=f.loop?Cre(P,O+1):P.slice(O+1)}setTimeout(()=>qB(P))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:_!=null}):o})})});BB.displayName=zB;var _re={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Nre(t,r){return r!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Sre(t,r,n){const s=Nre(t.key,n);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return _re[s]}function qB(t,r=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:r}),document.activeElement!==n))return}function Cre(t,r){return t.map((n,s)=>t[(r+s)%t.length])}var UB=$B,VB=BB,JC=["Enter"," "],kre=["ArrowDown","PageUp","Home"],KB=["ArrowUp","PageDown","End"],Are=[...kre,...KB],Pre={ltr:[...JC,"ArrowRight"],rtl:[...JC,"ArrowLeft"]},Tre={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Mg="Menu",[Sx,Ere,Ore]=Db(Mg),[yh,WB]=ga(Mg,[Ore,Kd,oj]),lj=Kd(),HB=oj(),[Ire,bh]=yh(Mg),[Mre,Dg]=yh(Mg),GB=t=>{const{__scopeMenu:r,open:n=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=t,l=lj(r),[u,m]=j.useState(null),f=j.useRef(!1),p=gs(i),g=Eg(a);return j.useEffect(()=>{const b=()=>{f.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>f.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),e.jsx(mP,{...l,children:e.jsx(Ire,{scope:r,open:n,onOpenChange:p,content:u,onContentChange:m,children:e.jsx(Mre,{scope:r,onClose:j.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:g,modal:o,children:s})})})};GB.displayName=Mg;var Dre="MenuAnchor",LP=j.forwardRef((t,r)=>{const{__scopeMenu:n,...s}=t,a=lj(n);return e.jsx(Ng,{...a,...s,ref:r})});LP.displayName=Dre;var FP="MenuPortal",[Rre,ZB]=yh(FP,{forceMount:void 0}),YB=t=>{const{__scopeMenu:r,forceMount:n,children:s,container:a}=t,i=bh(FP,r);return e.jsx(Rre,{scope:r,forceMount:n,children:e.jsx(la,{present:n||i.open,children:e.jsx(Af,{asChild:!0,container:a,children:s})})})};YB.displayName=FP;var uo="MenuContent",[Lre,$P]=yh(uo),QB=j.forwardRef((t,r)=>{const n=ZB(uo,t.__scopeMenu),{forceMount:s=n.forceMount,...a}=t,i=bh(uo,t.__scopeMenu),o=Dg(uo,t.__scopeMenu);return e.jsx(Sx.Provider,{scope:t.__scopeMenu,children:e.jsx(la,{present:s||i.open,children:e.jsx(Sx.Slot,{scope:t.__scopeMenu,children:o.modal?e.jsx(Fre,{...a,ref:r}):e.jsx($re,{...a,ref:r})})})})}),Fre=j.forwardRef((t,r)=>{const n=bh(uo,t.__scopeMenu),s=j.useRef(null),a=_r(r,s);return j.useEffect(()=>{const i=s.current;if(i)return Qb(i)},[]),e.jsx(zP,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:wt(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),$re=j.forwardRef((t,r)=>{const n=bh(uo,t.__scopeMenu);return e.jsx(zP,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),zre=Dd("MenuContent.ScrollLock"),zP=j.forwardRef((t,r)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:m,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:b,disableOutsideScroll:y,..._}=t,w=bh(uo,n),k=Dg(uo,n),A=lj(n),P=HB(n),O=Ere(n),[I,D]=j.useState(null),F=j.useRef(null),B=_r(r,F,w.onContentChange),H=j.useRef(0),re=j.useRef(""),G=j.useRef(0),J=j.useRef(null),Z=j.useRef("right"),ne=j.useRef(0),K=y?Cg:j.Fragment,ae=y?{as:zre,allowPinchZoom:!0}:void 0,U=se=>{const de=re.current+se,z=O().filter(je=>!je.disabled),oe=document.activeElement,Ce=z.find(je=>je.ref.current===oe)?.textValue,ke=z.map(je=>je.textValue),_e=Xre(ke,de,Ce),Le=z.find(je=>je.textValue===_e)?.ref.current;(function je(Xe){re.current=Xe,window.clearTimeout(H.current),Xe!==""&&(H.current=window.setTimeout(()=>je(""),1e3))})(de),Le&&setTimeout(()=>Le.focus())};j.useEffect(()=>()=>window.clearTimeout(H.current),[]),Zb();const W=j.useCallback(se=>Z.current===J.current?.side&&ene(se,J.current?.area),[]);return e.jsx(Lre,{scope:n,searchRef:re,onItemEnter:j.useCallback(se=>{W(se)&&se.preventDefault()},[W]),onItemLeave:j.useCallback(se=>{W(se)||(F.current?.focus(),D(null))},[W]),onTriggerLeave:j.useCallback(se=>{W(se)&&se.preventDefault()},[W]),pointerGraceTimerRef:G,onPointerGraceIntentChange:j.useCallback(se=>{J.current=se},[]),children:e.jsx(K,{...ae,children:e.jsx(Sg,{asChild:!0,trapped:a,onMountAutoFocus:wt(i,se=>{se.preventDefault(),F.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:e.jsx(xh,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:m,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:b,children:e.jsx(UB,{asChild:!0,...P,dir:k.dir,orientation:"vertical",loop:s,currentTabStopId:I,onCurrentTabStopIdChange:D,onEntryFocus:wt(u,se=>{k.isUsingKeyboardRef.current||se.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(Vb,{role:"menu","aria-orientation":"vertical","data-state":m9(w.open),"data-radix-menu-content":"",dir:k.dir,...A,..._,ref:B,style:{outline:"none",..._.style},onKeyDown:wt(_.onKeyDown,se=>{const z=se.target.closest("[data-radix-menu-content]")===se.currentTarget,oe=se.ctrlKey||se.altKey||se.metaKey,Ce=se.key.length===1;z&&(se.key==="Tab"&&se.preventDefault(),!oe&&Ce&&U(se.key));const ke=F.current;if(se.target!==ke||!Are.includes(se.key))return;se.preventDefault();const Le=O().filter(je=>!je.disabled).map(je=>je.ref.current);KB.includes(se.key)&&Le.reverse(),Yre(Le)}),onBlur:wt(t.onBlur,se=>{se.currentTarget.contains(se.target)||(window.clearTimeout(H.current),re.current="")}),onPointerMove:wt(t.onPointerMove,Cx(se=>{const de=se.target,z=ne.current!==se.clientX;if(se.currentTarget.contains(de)&&z){const oe=se.clientX>ne.current?"right":"left";Z.current=oe,ne.current=se.clientX}}))})})})})})})});QB.displayName=uo;var Bre="MenuGroup",BP=j.forwardRef((t,r)=>{const{__scopeMenu:n,...s}=t;return e.jsx(Vt.div,{role:"group",...s,ref:r})});BP.displayName=Bre;var qre="MenuLabel",XB=j.forwardRef((t,r)=>{const{__scopeMenu:n,...s}=t;return e.jsx(Vt.div,{...s,ref:r})});XB.displayName=qre;var g0="MenuItem",MI="menu.itemSelect",cj=j.forwardRef((t,r)=>{const{disabled:n=!1,onSelect:s,...a}=t,i=j.useRef(null),o=Dg(g0,t.__scopeMenu),l=$P(g0,t.__scopeMenu),u=_r(r,i),m=j.useRef(!1),f=()=>{const p=i.current;if(!n&&p){const g=new CustomEvent(MI,{bubbles:!0,cancelable:!0});p.addEventListener(MI,b=>s?.(b),{once:!0}),UA(p,g),g.defaultPrevented?m.current=!1:o.onClose()}};return e.jsx(JB,{...a,ref:u,disabled:n,onClick:wt(t.onClick,f),onPointerDown:p=>{t.onPointerDown?.(p),m.current=!0},onPointerUp:wt(t.onPointerUp,p=>{m.current||p.currentTarget?.click()}),onKeyDown:wt(t.onKeyDown,p=>{const g=l.searchRef.current!=="";n||g&&p.key===" "||JC.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});cj.displayName=g0;var JB=j.forwardRef((t,r)=>{const{__scopeMenu:n,disabled:s=!1,textValue:a,...i}=t,o=$P(g0,n),l=HB(n),u=j.useRef(null),m=_r(r,u),[f,p]=j.useState(!1),[g,b]=j.useState("");return j.useEffect(()=>{const y=u.current;y&&b((y.textContent??"").trim())},[i.children]),e.jsx(Sx.ItemSlot,{scope:n,disabled:s,textValue:a??g,children:e.jsx(VB,{asChild:!0,...l,focusable:!s,children:e.jsx(Vt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:m,onPointerMove:wt(t.onPointerMove,Cx(y=>{s?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:wt(t.onPointerLeave,Cx(y=>o.onItemLeave(y))),onFocus:wt(t.onFocus,()=>p(!0)),onBlur:wt(t.onBlur,()=>p(!1))})})})}),Ure="MenuCheckboxItem",e9=j.forwardRef((t,r)=>{const{checked:n=!1,onCheckedChange:s,...a}=t;return e.jsx(a9,{scope:t.__scopeMenu,checked:n,children:e.jsx(cj,{role:"menuitemcheckbox","aria-checked":v0(n)?"mixed":n,...a,ref:r,"data-state":UP(n),onSelect:wt(a.onSelect,()=>s?.(v0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});e9.displayName=Ure;var t9="MenuRadioGroup",[Vre,Kre]=yh(t9,{value:void 0,onValueChange:()=>{}}),r9=j.forwardRef((t,r)=>{const{value:n,onValueChange:s,...a}=t,i=gs(s);return e.jsx(Vre,{scope:t.__scopeMenu,value:n,onValueChange:i,children:e.jsx(BP,{...a,ref:r})})});r9.displayName=t9;var n9="MenuRadioItem",s9=j.forwardRef((t,r)=>{const{value:n,...s}=t,a=Kre(n9,t.__scopeMenu),i=n===a.value;return e.jsx(a9,{scope:t.__scopeMenu,checked:i,children:e.jsx(cj,{role:"menuitemradio","aria-checked":i,...s,ref:r,"data-state":UP(i),onSelect:wt(s.onSelect,()=>a.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});s9.displayName=n9;var qP="MenuItemIndicator",[a9,Wre]=yh(qP,{checked:!1}),i9=j.forwardRef((t,r)=>{const{__scopeMenu:n,forceMount:s,...a}=t,i=Wre(qP,n);return e.jsx(la,{present:s||v0(i.checked)||i.checked===!0,children:e.jsx(Vt.span,{...a,ref:r,"data-state":UP(i.checked)})})});i9.displayName=qP;var Hre="MenuSeparator",o9=j.forwardRef((t,r)=>{const{__scopeMenu:n,...s}=t;return e.jsx(Vt.div,{role:"separator","aria-orientation":"horizontal",...s,ref:r})});o9.displayName=Hre;var Gre="MenuArrow",l9=j.forwardRef((t,r)=>{const{__scopeMenu:n,...s}=t,a=lj(n);return e.jsx(Kb,{...a,...s,ref:r})});l9.displayName=Gre;var Zre="MenuSub",[cOe,c9]=yh(Zre),tx="MenuSubTrigger",d9=j.forwardRef((t,r)=>{const n=bh(tx,t.__scopeMenu),s=Dg(tx,t.__scopeMenu),a=c9(tx,t.__scopeMenu),i=$P(tx,t.__scopeMenu),o=j.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=i,m={__scopeMenu:t.__scopeMenu},f=j.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return j.useEffect(()=>f,[f]),j.useEffect(()=>{const p=l.current;return()=>{window.clearTimeout(p),u(null)}},[l,u]),e.jsx(LP,{asChild:!0,...m,children:e.jsx(JB,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":m9(n.open),...t,ref:Mb(r,a.onTriggerChange),onClick:p=>{t.onClick?.(p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:wt(t.onPointerMove,Cx(p=>{i.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:wt(t.onPointerLeave,Cx(p=>{f();const g=n.content?.getBoundingClientRect();if(g){const b=n.content?.dataset.side,y=b==="right",_=y?-5:5,w=g[y?"left":"right"],k=g[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+_,y:p.clientY},{x:w,y:g.top},{x:k,y:g.top},{x:k,y:g.bottom},{x:w,y:g.bottom}],side:b}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:wt(t.onKeyDown,p=>{const g=i.searchRef.current!=="";t.disabled||g&&p.key===" "||Pre[s.dir].includes(p.key)&&(n.onOpenChange(!0),n.content?.focus(),p.preventDefault())})})})});d9.displayName=tx;var u9="MenuSubContent",h9=j.forwardRef((t,r)=>{const n=ZB(uo,t.__scopeMenu),{forceMount:s=n.forceMount,...a}=t,i=bh(uo,t.__scopeMenu),o=Dg(uo,t.__scopeMenu),l=c9(u9,t.__scopeMenu),u=j.useRef(null),m=_r(r,u);return e.jsx(Sx.Provider,{scope:t.__scopeMenu,children:e.jsx(la,{present:s||i.open,children:e.jsx(Sx.Slot,{scope:t.__scopeMenu,children:e.jsx(zP,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:m,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{o.isUsingKeyboardRef.current&&u.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:wt(t.onFocusOutside,f=>{f.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:wt(t.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:wt(t.onKeyDown,f=>{const p=f.currentTarget.contains(f.target),g=Tre[o.dir].includes(f.key);p&&g&&(i.onOpenChange(!1),l.trigger?.focus(),f.preventDefault())})})})})})});h9.displayName=u9;function m9(t){return t?"open":"closed"}function v0(t){return t==="indeterminate"}function UP(t){return v0(t)?"indeterminate":t?"checked":"unchecked"}function Yre(t){const r=document.activeElement;for(const n of t)if(n===r||(n.focus(),document.activeElement!==r))return}function Qre(t,r){return t.map((n,s)=>t[(r+s)%t.length])}function Xre(t,r,n){const a=r.length>1&&Array.from(r).every(m=>m===r[0])?r[0]:r,i=n?t.indexOf(n):-1;let o=Qre(t,Math.max(i,0));a.length===1&&(o=o.filter(m=>m!==n));const u=o.find(m=>m.toLowerCase().startsWith(a.toLowerCase()));return u!==n?u:void 0}function Jre(t,r){const{x:n,y:s}=t;let a=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const l=r[i],u=r[o],m=l.x,f=l.y,p=u.x,g=u.y;f>s!=g>s&&n<(p-m)*(s-f)/(g-f)+m&&(a=!a)}return a}function ene(t,r){if(!r)return!1;const n={x:t.clientX,y:t.clientY};return Jre(n,r)}function Cx(t){return r=>r.pointerType==="mouse"?t(r):void 0}var tne=GB,rne=LP,nne=YB,sne=QB,ane=BP,ine=XB,one=cj,lne=e9,cne=r9,dne=s9,une=i9,hne=o9,mne=l9,fne=d9,pne=h9,dj="DropdownMenu",[xne]=ga(dj,[WB]),ri=WB(),[gne,f9]=xne(dj),p9=t=>{const{__scopeDropdownMenu:r,children:n,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=t,u=ri(r),m=j.useRef(null),[f,p]=Sl({prop:a,defaultProp:i??!1,onChange:o,caller:dj});return e.jsx(gne,{scope:r,triggerId:qo(),triggerRef:m,contentId:qo(),open:f,onOpenChange:p,onOpenToggle:j.useCallback(()=>p(g=>!g),[p]),modal:l,children:e.jsx(tne,{...u,open:f,onOpenChange:p,dir:s,modal:l,children:n})})};p9.displayName=dj;var x9="DropdownMenuTrigger",g9=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...a}=t,i=f9(x9,n),o=ri(n);return e.jsx(rne,{asChild:!0,...o,children:e.jsx(Vt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:Mb(r,i.triggerRef),onPointerDown:wt(t.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:wt(t.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});g9.displayName=x9;var vne="DropdownMenuPortal",v9=t=>{const{__scopeDropdownMenu:r,...n}=t,s=ri(r);return e.jsx(nne,{...s,...n})};v9.displayName=vne;var y9="DropdownMenuContent",b9=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=f9(y9,n),i=ri(n),o=j.useRef(!1);return e.jsx(sne,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:r,onCloseAutoFocus:wt(t.onCloseAutoFocus,l=>{o.current||a.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:wt(t.onInteractOutside,l=>{const u=l.detail.originalEvent,m=u.button===0&&u.ctrlKey===!0,f=u.button===2||m;(!a.modal||f)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});b9.displayName=y9;var yne="DropdownMenuGroup",bne=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=ri(n);return e.jsx(ane,{...a,...s,ref:r})});bne.displayName=yne;var jne="DropdownMenuLabel",j9=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=ri(n);return e.jsx(ine,{...a,...s,ref:r})});j9.displayName=jne;var wne="DropdownMenuItem",w9=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=ri(n);return e.jsx(one,{...a,...s,ref:r})});w9.displayName=wne;var _ne="DropdownMenuCheckboxItem",_9=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=ri(n);return e.jsx(lne,{...a,...s,ref:r})});_9.displayName=_ne;var Nne="DropdownMenuRadioGroup",Sne=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=ri(n);return e.jsx(cne,{...a,...s,ref:r})});Sne.displayName=Nne;var Cne="DropdownMenuRadioItem",N9=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=ri(n);return e.jsx(dne,{...a,...s,ref:r})});N9.displayName=Cne;var kne="DropdownMenuItemIndicator",S9=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=ri(n);return e.jsx(une,{...a,...s,ref:r})});S9.displayName=kne;var Ane="DropdownMenuSeparator",C9=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=ri(n);return e.jsx(hne,{...a,...s,ref:r})});C9.displayName=Ane;var Pne="DropdownMenuArrow",Tne=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=ri(n);return e.jsx(mne,{...a,...s,ref:r})});Tne.displayName=Pne;var Ene="DropdownMenuSubTrigger",k9=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=ri(n);return e.jsx(fne,{...a,...s,ref:r})});k9.displayName=Ene;var One="DropdownMenuSubContent",A9=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=ri(n);return e.jsx(pne,{...a,...s,ref:r,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});A9.displayName=One;var Ine=p9,Mne=g9,Dne=v9,P9=b9,T9=j9,E9=w9,O9=_9,I9=N9,M9=S9,D9=C9,R9=k9,L9=A9;const ns=Ine,ss=Mne,Rne=j.forwardRef(({className:t,inset:r,children:n,...s},a)=>e.jsxs(R9,{ref:a,className:He("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",t),...s,children:[n,e.jsx(GA,{className:"ml-auto"})]}));Rne.displayName=R9.displayName;const Lne=j.forwardRef(({className:t,...r},n)=>e.jsx(L9,{ref:n,className:He("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...r}));Lne.displayName=L9.displayName;const es=j.forwardRef(({className:t,sideOffset:r=4,...n},s)=>e.jsx(Dne,{children:e.jsx(P9,{ref:s,sideOffset:r,className:He("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));es.displayName=P9.displayName;const rt=j.forwardRef(({className:t,inset:r,...n},s)=>e.jsx(E9,{ref:s,className:He("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",t),...n}));rt.displayName=E9.displayName;const Fne=j.forwardRef(({className:t,children:r,checked:n,...s},a)=>e.jsxs(O9,{ref:a,className:He("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(M9,{children:e.jsx(vl,{className:"h-4 w-4"})})}),r]}));Fne.displayName=O9.displayName;const $ne=j.forwardRef(({className:t,children:r,...n},s)=>e.jsxs(I9,{ref:s,className:He("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(M9,{children:e.jsx(JZ,{className:"h-2 w-2 fill-current"})})}),r]}));$ne.displayName=I9.displayName;const F9=j.forwardRef(({className:t,inset:r,...n},s)=>e.jsx(T9,{ref:s,className:He("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",t),...n}));F9.displayName=T9.displayName;const lo=j.forwardRef(({className:t,...r},n)=>e.jsx(D9,{ref:n,className:He("-mx-1 my-1 h-px bg-muted",t),...r}));lo.displayName=D9.displayName;const Ta=j.forwardRef(({className:t,...r},n)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:n,className:He("w-full caption-bottom text-sm",t),...r})}));Ta.displayName="Table";const Ea=j.forwardRef(({className:t,...r},n)=>e.jsx("thead",{ref:n,className:He("[&_tr]:border-b",t),...r}));Ea.displayName="TableHeader";const Oa=j.forwardRef(({className:t,...r},n)=>e.jsx("tbody",{ref:n,className:He("[&_tr:last-child]:border-0",t),...r}));Oa.displayName="TableBody";const zne=j.forwardRef(({className:t,...r},n)=>e.jsx("tfoot",{ref:n,className:He("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r}));zne.displayName="TableFooter";const Sr=j.forwardRef(({className:t,...r},n)=>e.jsx("tr",{ref:n,className:He("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...r}));Sr.displayName="TableRow";const We=j.forwardRef(({className:t,...r},n)=>e.jsx("th",{ref:n,className:He("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...r}));We.displayName="TableHead";const Be=j.forwardRef(({className:t,...r},n)=>e.jsx("td",{ref:n,className:He("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...r}));Be.displayName="TableCell";const Bne=j.forwardRef(({className:t,...r},n)=>e.jsx("caption",{ref:n,className:He("mt-4 text-sm text-muted-foreground",t),...r}));Bne.displayName="TableCaption";var uj="Tabs",[qne]=ga(uj,[oj]),$9=oj(),[Une,VP]=qne(uj),z9=j.forwardRef((t,r)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:u="automatic",...m}=t,f=Eg(l),[p,g]=Sl({prop:s,onChange:a,defaultProp:i??"",caller:uj});return e.jsx(Une,{scope:n,baseId:qo(),value:p,onValueChange:g,orientation:o,dir:f,activationMode:u,children:e.jsx(Vt.div,{dir:f,"data-orientation":o,...m,ref:r})})});z9.displayName=uj;var B9="TabsList",q9=j.forwardRef((t,r)=>{const{__scopeTabs:n,loop:s=!0,...a}=t,i=VP(B9,n),o=$9(n);return e.jsx(UB,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:e.jsx(Vt.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:r})})});q9.displayName=B9;var U9="TabsTrigger",V9=j.forwardRef((t,r)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...i}=t,o=VP(U9,n),l=$9(n),u=H9(o.baseId,s),m=G9(o.baseId,s),f=s===o.value;return e.jsx(VB,{asChild:!0,...l,focusable:!a,active:f,children:e.jsx(Vt.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":m,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:u,...i,ref:r,onMouseDown:wt(t.onMouseDown,p=>{!a&&p.button===0&&p.ctrlKey===!1?o.onValueChange(s):p.preventDefault()}),onKeyDown:wt(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(s)}),onFocus:wt(t.onFocus,()=>{const p=o.activationMode!=="manual";!f&&!a&&p&&o.onValueChange(s)})})})});V9.displayName=U9;var K9="TabsContent",W9=j.forwardRef((t,r)=>{const{__scopeTabs:n,value:s,forceMount:a,children:i,...o}=t,l=VP(K9,n),u=H9(l.baseId,s),m=G9(l.baseId,s),f=s===l.value,p=j.useRef(f);return j.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),e.jsx(la,{present:a||f,children:({present:g})=>e.jsx(Vt.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!g,id:m,tabIndex:0,...o,ref:r,style:{...t.style,animationDuration:p.current?"0s":void 0},children:g&&i})})});W9.displayName=K9;function H9(t,r){return`${t}-trigger-${r}`}function G9(t,r){return`${t}-content-${r}`}var Vne=z9,Z9=q9,Y9=V9,Q9=W9;const Xs=Vne,zs=j.forwardRef(({className:t,...r},n)=>e.jsx(Z9,{ref:n,className:He("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r}));zs.displayName=Z9.displayName;const Kt=j.forwardRef(({className:t,...r},n)=>e.jsx(Y9,{ref:n,className:He("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r}));Kt.displayName=Y9.displayName;const Qt=j.forwardRef(({className:t,...r},n)=>e.jsx(Q9,{ref:n,className:He("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r}));Qt.displayName=Q9.displayName;function yr(t){const r=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&r==="[object Date]"?new t.constructor(+t):typeof t=="number"||r==="[object Number]"||typeof t=="string"||r==="[object String]"?new Date(t):new Date(NaN)}function vi(t,r){return t instanceof Date?new t.constructor(r):new Date(r)}function Ha(t,r){const n=yr(t);return isNaN(r)?vi(t,NaN):(r&&n.setDate(n.getDate()+r),n)}function Go(t,r){const n=yr(t);if(isNaN(r))return vi(t,NaN);if(!r)return n;const s=n.getDate(),a=vi(t,n.getTime());a.setMonth(n.getMonth()+r+1,0);const i=a.getDate();return s>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),s),n)}const KP=6048e5,Kne=864e5,Py=43200,DI=1440;let Wne={};function Mf(){return Wne}function Pl(t,r){const n=Mf(),s=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=yr(t),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function nh(t){return Pl(t,{weekStartsOn:1})}function X9(t){const r=yr(t),n=r.getFullYear(),s=vi(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const a=nh(s),i=vi(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=nh(i);return r.getTime()>=a.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function Vm(t){const r=yr(t);return r.setHours(0,0,0,0),r}function Km(t){const r=yr(t),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+t-+n}function fl(t,r){const n=Vm(t),s=Vm(r),a=+n-Km(n),i=+s-Km(s);return Math.round((a-i)/Kne)}function Hne(t){const r=X9(t),n=vi(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),nh(n)}function ek(t,r){const n=r*7;return Ha(t,n)}function Gne(t,r){return Go(t,r*12)}function Zne(t){let r;return t.forEach(function(n){const s=yr(n);(r===void 0||r<s||isNaN(Number(s)))&&(r=s)}),r||new Date(NaN)}function Yne(t){let r;return t.forEach(n=>{const s=yr(n);(!r||r>s||isNaN(+s))&&(r=s)}),r||new Date(NaN)}function Qy(t,r){const n=yr(t),s=yr(r),a=n.getTime()-s.getTime();return a<0?-1:a>0?1:a}function Qne(t){return vi(t,Date.now())}function hi(t,r){const n=Vm(t),s=Vm(r);return+n==+s}function WP(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Xne(t){if(!WP(t)&&typeof t!="number")return!1;const r=yr(t);return!isNaN(Number(r))}function Wm(t,r){const n=yr(t),s=yr(r),a=n.getFullYear()-s.getFullYear(),i=n.getMonth()-s.getMonth();return a*12+i}function Jne(t,r,n){const s=Pl(t,n),a=Pl(r,n),i=+s-Km(s),o=+a-Km(a);return Math.round((i-o)/KP)}function ese(t){return r=>{const s=(t?Math[t]:Math.trunc)(r);return s===0?0:s}}function tse(t,r){return+yr(t)-+yr(r)}function rse(t){const r=yr(t);return r.setHours(23,59,59,999),r}function hj(t){const r=yr(t),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function nse(t){const r=yr(t);return+rse(r)==+hj(r)}function sse(t,r){const n=yr(t),s=yr(r),a=Qy(n,s),i=Math.abs(Wm(n,s));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*i);let l=Qy(n,s)===-a;nse(yr(t))&&i===1&&Qy(t,s)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function ase(t,r,n){const s=tse(t,r)/1e3;return ese(n?.roundingMethod)(s)}function pi(t){const r=yr(t);return r.setDate(1),r.setHours(0,0,0,0),r}function J9(t){const r=yr(t),n=vi(t,0);return n.setFullYear(r.getFullYear(),0,1),n.setHours(0,0,0,0),n}function HP(t,r){const n=Mf(),s=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=yr(t),i=a.getDay(),o=(i<s?-7:0)+6-(i-s);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function eq(t){return HP(t,{weekStartsOn:1})}const ise={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ose=(t,r,n)=>{let s;const a=ise[t];return typeof a=="string"?s=a:r===1?s=a.one:s=a.other.replace("{{count}}",r.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function rN(t){return(r={})=>{const n=r.width?String(r.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const lse={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cse={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dse={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},use={date:rN({formats:lse,defaultWidth:"full"}),time:rN({formats:cse,defaultWidth:"full"}),dateTime:rN({formats:dse,defaultWidth:"full"})},hse={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mse=(t,r,n,s)=>hse[t];function zp(t){return(r,n)=>{const s=n?.context?String(n.context):"standalone";let a;if(s==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n?.width?String(n.width):o;a=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n?.width?String(n.width):t.defaultWidth;a=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(r):r;return a[i]}}const fse={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pse={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xse={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gse={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bse=(t,r)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},jse={ordinalNumber:bse,era:zp({values:fse,defaultWidth:"wide"}),quarter:zp({values:pse,defaultWidth:"wide",argumentCallback:t=>t-1}),month:zp({values:xse,defaultWidth:"wide"}),day:zp({values:gse,defaultWidth:"wide"}),dayPeriod:zp({values:vse,defaultWidth:"wide",formattingValues:yse,defaultFormattingWidth:"wide"})};function Bp(t){return(r,n={})=>{const s=n.width,a=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],i=r.match(a);if(!i)return null;const o=i[0],l=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?_se(l,p=>p.test(o)):wse(l,p=>p.test(o));let m;m=t.valueCallback?t.valueCallback(u):u,m=n.valueCallback?n.valueCallback(m):m;const f=r.slice(o.length);return{value:m,rest:f}}}function wse(t,r){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r(t[n]))return n}function _se(t,r){for(let n=0;n<t.length;n++)if(r(t[n]))return n}function Nse(t){return(r,n={})=>{const s=r.match(t.matchPattern);if(!s)return null;const a=s[0],i=r.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=r.slice(a.length);return{value:o,rest:l}}}const Sse=/^(\d+)(th|st|nd|rd)?/i,Cse=/\d+/i,kse={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ase={any:[/^b/i,/^(a|c)/i]},Pse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Tse={any:[/1/i,/2/i,/3/i,/4/i]},Ese={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ose={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ise={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Mse={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Dse={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Rse={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Lse={ordinalNumber:Nse({matchPattern:Sse,parsePattern:Cse,valueCallback:t=>parseInt(t,10)}),era:Bp({matchPatterns:kse,defaultMatchWidth:"wide",parsePatterns:Ase,defaultParseWidth:"any"}),quarter:Bp({matchPatterns:Pse,defaultMatchWidth:"wide",parsePatterns:Tse,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Bp({matchPatterns:Ese,defaultMatchWidth:"wide",parsePatterns:Ose,defaultParseWidth:"any"}),day:Bp({matchPatterns:Ise,defaultMatchWidth:"wide",parsePatterns:Mse,defaultParseWidth:"any"}),dayPeriod:Bp({matchPatterns:Dse,defaultMatchWidth:"any",parsePatterns:Rse,defaultParseWidth:"any"})},GP={code:"en-US",formatDistance:ose,formatLong:use,formatRelative:mse,localize:jse,match:Lse,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Fse(t){const r=yr(t);return fl(r,J9(r))+1}function tq(t){const r=yr(t),n=+nh(r)-+Hne(r);return Math.round(n/KP)+1}function rq(t,r){const n=yr(t),s=n.getFullYear(),a=Mf(),i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=vi(t,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=Pl(o,r),u=vi(t,0);u.setFullYear(s,0,i),u.setHours(0,0,0,0);const m=Pl(u,r);return n.getTime()>=l.getTime()?s+1:n.getTime()>=m.getTime()?s:s-1}function $se(t,r){const n=Mf(),s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=rq(t,r),i=vi(t,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),Pl(i,r)}function nq(t,r){const n=yr(t),s=+Pl(n,r)-+$se(n,r);return Math.round(s/KP)+1}function Nn(t,r){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(r,"0");return n+s}const wd={y(t,r){const n=t.getFullYear(),s=n>0?n:1-n;return Nn(r==="yy"?s%100:s,r.length)},M(t,r){const n=t.getMonth();return r==="M"?String(n+1):Nn(n+1,2)},d(t,r){return Nn(t.getDate(),r.length)},a(t,r){const n=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,r){return Nn(t.getHours()%12||12,r.length)},H(t,r){return Nn(t.getHours(),r.length)},m(t,r){return Nn(t.getMinutes(),r.length)},s(t,r){return Nn(t.getSeconds(),r.length)},S(t,r){const n=r.length,s=t.getMilliseconds(),a=Math.trunc(s*Math.pow(10,n-3));return Nn(a,r.length)}},pm={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},RI={G:function(t,r,n){const s=t.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){const s=t.getFullYear(),a=s>0?s:1-s;return n.ordinalNumber(a,{unit:"year"})}return wd.y(t,r)},Y:function(t,r,n,s){const a=rq(t,s),i=a>0?a:1-a;if(r==="YY"){const o=i%100;return Nn(o,2)}return r==="Yo"?n.ordinalNumber(i,{unit:"year"}):Nn(i,r.length)},R:function(t,r){const n=X9(t);return Nn(n,r.length)},u:function(t,r){const n=t.getFullYear();return Nn(n,r.length)},Q:function(t,r,n){const s=Math.ceil((t.getMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return Nn(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,r,n){const s=Math.ceil((t.getMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return Nn(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,r,n){const s=t.getMonth();switch(r){case"M":case"MM":return wd.M(t,r);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,r,n){const s=t.getMonth();switch(r){case"L":return String(s+1);case"LL":return Nn(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,r,n,s){const a=nq(t,s);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):Nn(a,r.length)},I:function(t,r,n){const s=tq(t);return r==="Io"?n.ordinalNumber(s,{unit:"week"}):Nn(s,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):wd.d(t,r)},D:function(t,r,n){const s=Fse(t);return r==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Nn(s,r.length)},E:function(t,r,n){const s=t.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,r,n,s){const a=t.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return Nn(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,r,n,s){const a=t.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return Nn(i,r.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,r,n){const s=t.getDay(),a=s===0?7:s;switch(r){case"i":return String(a);case"ii":return Nn(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,r,n){const a=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,r,n){const s=t.getHours();let a;switch(s===12?a=pm.noon:s===0?a=pm.midnight:a=s/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,r,n){const s=t.getHours();let a;switch(s>=17?a=pm.evening:s>=12?a=pm.afternoon:s>=4?a=pm.morning:a=pm.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return wd.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):wd.H(t,r)},K:function(t,r,n){const s=t.getHours()%12;return r==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Nn(s,r.length)},k:function(t,r,n){let s=t.getHours();return s===0&&(s=24),r==="ko"?n.ordinalNumber(s,{unit:"hour"}):Nn(s,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):wd.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):wd.s(t,r)},S:function(t,r){return wd.S(t,r)},X:function(t,r,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return FI(s);case"XXXX":case"XX":return Eu(s);case"XXXXX":case"XXX":default:return Eu(s,":")}},x:function(t,r,n){const s=t.getTimezoneOffset();switch(r){case"x":return FI(s);case"xxxx":case"xx":return Eu(s);case"xxxxx":case"xxx":default:return Eu(s,":")}},O:function(t,r,n){const s=t.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+LI(s,":");case"OOOO":default:return"GMT"+Eu(s,":")}},z:function(t,r,n){const s=t.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+LI(s,":");case"zzzz":default:return"GMT"+Eu(s,":")}},t:function(t,r,n){const s=Math.trunc(t.getTime()/1e3);return Nn(s,r.length)},T:function(t,r,n){const s=t.getTime();return Nn(s,r.length)}};function LI(t,r=""){const n=t>0?"-":"+",s=Math.abs(t),a=Math.trunc(s/60),i=s%60;return i===0?n+String(a):n+String(a)+r+Nn(i,2)}function FI(t,r){return t%60===0?(t>0?"-":"+")+Nn(Math.abs(t)/60,2):Eu(t,r)}function Eu(t,r=""){const n=t>0?"-":"+",s=Math.abs(t),a=Nn(Math.trunc(s/60),2),i=Nn(s%60,2);return n+a+r+i}const $I=(t,r)=>{switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},sq=(t,r)=>{switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},zse=(t,r)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],a=n[2];if(!a)return $I(t,r);let i;switch(s){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",$I(s,r)).replace("{{time}}",sq(a,r))},Bse={p:sq,P:zse},qse=/^D+$/,Use=/^Y+$/,Vse=["D","DD","YY","YYYY"];function Kse(t){return qse.test(t)}function Wse(t){return Use.test(t)}function Hse(t,r,n){const s=Gse(t,r,n);if(console.warn(s),Vse.includes(t))throw new RangeError(s)}function Gse(t,r,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${r}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Zse=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Yse=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Qse=/^'([^]*?)'?$/,Xse=/''/g,Jse=/[a-zA-Z]/;function Ir(t,r,n){const s=Mf(),a=n?.locale??s.locale??GP,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=yr(t);if(!Xne(l))throw new RangeError("Invalid time value");let u=r.match(Yse).map(f=>{const p=f[0];if(p==="p"||p==="P"){const g=Bse[p];return g(f,a.formatLong)}return f}).join("").match(Zse).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const p=f[0];if(p==="'")return{isToken:!1,value:eae(f)};if(RI[p])return{isToken:!0,value:f};if(p.match(Jse))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:f}});a.localize.preprocessor&&(u=a.localize.preprocessor(l,u));const m={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return u.map(f=>{if(!f.isToken)return f.value;const p=f.value;(!n?.useAdditionalWeekYearTokens&&Wse(p)||!n?.useAdditionalDayOfYearTokens&&Kse(p))&&Hse(p,r,String(t));const g=RI[p[0]];return g(l,p,a.localize,m)}).join("")}function eae(t){const r=t.match(Qse);return r?r[1].replace(Xse,"'"):t}function tae(t,r,n){const s=Mf(),a=n?.locale??s.locale??GP,i=2520,o=Qy(t,r);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:o});let u,m;o>0?(u=yr(r),m=yr(t)):(u=yr(t),m=yr(r));const f=ase(m,u),p=(Km(m)-Km(u))/1e3,g=Math.round((f-p)/60);let b;if(g<2)return n?.includeSeconds?f<5?a.formatDistance("lessThanXSeconds",5,l):f<10?a.formatDistance("lessThanXSeconds",10,l):f<20?a.formatDistance("lessThanXSeconds",20,l):f<40?a.formatDistance("halfAMinute",0,l):f<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):g===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",g,l);if(g<45)return a.formatDistance("xMinutes",g,l);if(g<90)return a.formatDistance("aboutXHours",1,l);if(g<DI){const y=Math.round(g/60);return a.formatDistance("aboutXHours",y,l)}else{if(g<i)return a.formatDistance("xDays",1,l);if(g<Py){const y=Math.round(g/DI);return a.formatDistance("xDays",y,l)}else if(g<Py*2)return b=Math.round(g/Py),a.formatDistance("aboutXMonths",b,l)}if(b=sse(m,u),b<12){const y=Math.round(g/Py);return a.formatDistance("xMonths",y,l)}else{const y=b%12,_=Math.trunc(b/12);return y<3?a.formatDistance("aboutXYears",_,l):y<9?a.formatDistance("overXYears",_,l):a.formatDistance("almostXYears",_+1,l)}}function Cc(t,r){return tae(t,Qne(t),r)}function rae(t){const r=yr(t),n=r.getFullYear(),s=r.getMonth(),a=vi(t,0);return a.setFullYear(n,s+1,0),a.setHours(0,0,0,0),a.getDate()}function nae(t){return Math.trunc(+yr(t)/1e3)}function sae(t){const r=yr(t),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(0,0,0,0),r}function aae(t,r){return Jne(sae(t),pi(t),r)+1}function Im(t,r){const n=yr(t),s=yr(r);return n.getTime()>s.getTime()}function aq(t,r){const n=yr(t),s=yr(r);return+n<+s}function ZP(t,r){const n=yr(t),s=yr(r);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function iae(t,r){const n=yr(t),s=yr(r);return n.getFullYear()===s.getFullYear()}function ix(t,r){return Ha(t,-r)}function nN(t,r){const n=yr(t),s=n.getFullYear(),a=n.getDate(),i=vi(t,0);i.setFullYear(s,r,15),i.setHours(0,0,0,0);const o=rae(i);return n.setMonth(r,Math.min(a,o)),n}function zI(t,r){const n=yr(t);return isNaN(+n)?vi(t,NaN):(n.setFullYear(r),n)}function oae(){const{user:t}=kr(),{toast:r}=or(),[n,s]=j.useState(""),[a,i]=j.useState("all"),[o,l]=j.useState("all"),[u,m]=j.useState("all"),[f,p]=j.useState("all"),[g,b]=j.useState("all"),[y,_]=j.useState("all"),[w,k]=j.useState(1),[A,P]=j.useState(20),[O,I]=j.useState("createdAt"),[D,F]=j.useState("desc"),[B,H]=j.useState([]),[re,G]=j.useState(!1),[J,Z]=j.useState(!1),[ne,K]=j.useState(!1),[ae,U]=j.useState(!1),[W,se]=j.useState(null),[de,z]=j.useState(""),[oe,Ce]=j.useState(""),[ke,_e]=j.useState(""),[Le,je]=j.useState(""),{data:Xe,isLoading:qe,error:tt,refetch:St}=Ve({queryKey:["/api/admin/users",{searchQuery:n,role:a!=="all"?a:void 0,status:o!=="all"?o:void 0,verificationLevel:u!=="all"?u:void 0,subscriptionTier:f!=="all"?f:void 0,isSuspended:y!=="all"?y==="suspended":void 0,page:w,pageSize:A,sortBy:O,sortOrder:D}],enabled:t?.role==="admin"}),{data:Oe}=Ve({queryKey:["/api/admin/users/stats"],enabled:t?.role==="admin"}),qt=Xe?.users||[],Et=Xe?.total||0,sr=Math.ceil(Et/A),Jt=ot({mutationFn:ze=>Ze("/api/admin/users/suspend",{method:"POST",body:JSON.stringify(ze)}),onSuccess:()=>{r({title:"User suspended successfully"}),Rt.invalidateQueries({queryKey:["/api/admin/users"]}),K(!1)},onError:()=>{r({title:"Failed to suspend user",variant:"destructive"})}}),gr=ot({mutationFn:ze=>Ze("/api/admin/users/bulk",{method:"POST",body:JSON.stringify(ze)}),onSuccess:()=>{r({title:"Bulk operation completed successfully"}),Rt.invalidateQueries({queryKey:["/api/admin/users"]}),H([]),U(!1)},onError:()=>{r({title:"Bulk operation failed",variant:"destructive"})}});ot({mutationFn:ze=>Ze(`/api/admin/users/${ze.userId}`,{method:"PATCH",body:JSON.stringify(ze.updates)}),onSuccess:()=>{r({title:"User updated successfully"}),Rt.invalidateQueries({queryKey:["/api/admin/users"]}),Z(!1)},onError:()=>{r({title:"Failed to update user",variant:"destructive"})}});const Hr=ze=>{switch(ze){case"admin":return"bg-destructive text-destructive-foreground";case"creator":return"bg-primary text-primary-foreground";case"moderator":return"bg-orange-500 text-white";case"fan":return"bg-secondary text-secondary-foreground";default:return"bg-muted text-muted-foreground"}},Jr=ze=>{switch(ze){case"active":return"bg-green-500 text-white";case"suspended":return"bg-destructive text-destructive-foreground";case"pending":return"bg-yellow-500 text-yellow-50";default:return"bg-muted text-muted-foreground"}},me=ze=>ze.profile?.kycStatus==="verified"&&ze.profile?.ageVerified?e.jsxs(ce,{className:"bg-green-500 text-white",children:[e.jsx(Cr,{className:"w-3 h-3 mr-1"}),"Verified"]}):ze.profile?.kycStatus==="pending"?e.jsxs(ce,{className:"bg-yellow-500 text-white",children:[e.jsx(wr,{className:"w-3 h-3 mr-1"}),"Pending"]}):e.jsxs(ce,{variant:"outline",children:[e.jsx(Ln,{className:"w-3 h-3 mr-1"}),"Unverified"]}),Ne=(ze,Gt)=>{H(Gt?[...B,ze]:B.filter(rr=>rr!==ze))},Ie=ze=>{H(ze?qt.map(Gt=>Gt.id):[])},ht=ze=>{z(ze),U(!0)},dt=()=>{let ze={};de==="message"?ze.message=Le:de==="suspend"&&(ze.reason=oe,ze.duration=ke),gr.mutate({userIds:B,operation:de,data:ze})},Je=j.useMemo(()=>n?qt.filter(ze=>ze.firstName?.toLowerCase().includes(n.toLowerCase())||ze.lastName?.toLowerCase().includes(n.toLowerCase())||ze.email?.toLowerCase().includes(n.toLowerCase())||ze.username?.toLowerCase().includes(n.toLowerCase())):qt,[qt,n]);return t?.role!=="admin"?e.jsx("div",{className:"space-y-6","data-testid":"access-denied",children:e.jsxs(bn,{className:"border-destructive/50 bg-destructive/10",children:[e.jsx(Qr,{className:"h-4 w-4 text-destructive"}),e.jsx(jn,{className:"text-destructive",children:"Access denied. Admin privileges required to manage users."})]})}):tt?e.jsx("div",{className:"space-y-6",children:e.jsxs(bn,{className:"border-destructive/50 bg-destructive/10",children:[e.jsx(Qr,{className:"h-4 w-4 text-destructive"}),e.jsx(jn,{className:"text-destructive",children:"Failed to load users. Please try again."})]})}):e.jsxs("div",{className:"space-y-6","data-testid":"user-management-page",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-display","data-testid":"page-title",children:"User Management"}),e.jsx("p",{className:"text-muted-foreground","data-testid":"page-description",children:"Comprehensive user management with advanced filtering and bulk operations"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",className:"gap-2",children:[e.jsx($n,{className:"h-4 w-4"}),"Export Users"]}),e.jsxs(V,{variant:"outline",className:"gap-2",children:[e.jsx(zi,{className:"h-4 w-4"}),"Import Users"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-4",children:[e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(lr,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Users"}),e.jsx("p",{className:"text-xl font-bold","data-testid":"total-users",children:Oe?.totalUsers||Et})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:e.jsx(zF,{className:"h-5 w-5 text-green-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active Users"}),e.jsx("p",{className:"text-xl font-bold text-green-500","data-testid":"active-users",children:Oe?.activeUsers||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(Mr,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Creators"}),e.jsx("p",{className:"text-xl font-bold text-primary","data-testid":"creators-count",children:Oe?.creatorCount||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:e.jsx(lr,{className:"h-5 w-5 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Fans"}),e.jsx("p",{className:"text-xl font-bold text-blue-500","data-testid":"fans-count",children:Oe?.fanCount||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-destructive/10 rounded-lg flex items-center justify-center",children:e.jsx(FY,{className:"h-5 w-5 text-destructive"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Suspended"}),e.jsx("p",{className:"text-xl font-bold text-destructive","data-testid":"suspended-users",children:Oe?.suspendedUsers||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-yellow-500/10 rounded-lg flex items-center justify-center",children:e.jsx(Cr,{className:"h-5 w-5 text-yellow-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Verified"}),e.jsx("p",{className:"text-xl font-bold text-yellow-500","data-testid":"verified-users",children:Oe?.verifiedUsers||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-cyan-500/10 rounded-lg flex items-center justify-center",children:e.jsx(ys,{className:"h-5 w-5 text-cyan-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"New Today"}),e.jsx("p",{className:"text-xl font-bold text-cyan-500","data-testid":"new-users-today",children:Oe?.newUsersToday||0})]})]})})})]}),e.jsxs(Y,{className:"bg-card border-border",children:[e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(fe,{children:"Advanced User Filtering"}),e.jsx(lt,{children:"Use multiple filters to find specific users efficiently"})]}),B.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ce,{variant:"secondary",children:[B.length," selected"]}),e.jsxs(ns,{children:[e.jsx(ss,{asChild:!0,children:e.jsx(V,{variant:"outline",size:"sm",children:"Bulk Actions"})}),e.jsxs(es,{children:[e.jsxs(rt,{onClick:()=>ht("suspend"),children:[e.jsx(HO,{className:"h-4 w-4 mr-2"}),"Suspend Users"]}),e.jsxs(rt,{onClick:()=>ht("verify"),children:[e.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Mark as Verified"]}),e.jsxs(rt,{onClick:()=>ht("message"),children:[e.jsx(fi,{className:"h-4 w-4 mr-2"}),"Send Message"]}),e.jsxs(rt,{onClick:()=>ht("export"),children:[e.jsx($n,{className:"h-4 w-4 mr-2"}),"Export Selected"]})]})]})]})]})}),e.jsxs(ee,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ue,{placeholder:"Search users...",value:n,onChange:ze=>s(ze.target.value),className:"pl-10","data-testid":"user-search-input"})]}),e.jsxs(yt,{value:a,onValueChange:i,children:[e.jsx(xt,{"data-testid":"role-filter",children:e.jsx(bt,{placeholder:"Role"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Roles"}),e.jsx(Q,{value:"admin",children:"Admin"}),e.jsx(Q,{value:"moderator",children:"Moderator"}),e.jsx(Q,{value:"creator",children:"Creator"}),e.jsx(Q,{value:"fan",children:"Fan"})]})]}),e.jsxs(yt,{value:o,onValueChange:l,children:[e.jsx(xt,{"data-testid":"status-filter",children:e.jsx(bt,{placeholder:"Status"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Status"}),e.jsx(Q,{value:"active",children:"Active"}),e.jsx(Q,{value:"suspended",children:"Suspended"}),e.jsx(Q,{value:"pending",children:"Pending"})]})]}),e.jsxs(yt,{value:u,onValueChange:m,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Verification"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Verification"}),e.jsx(Q,{value:"verified",children:"Verified"}),e.jsx(Q,{value:"pending",children:"Pending"}),e.jsx(Q,{value:"unverified",children:"Unverified"})]})]}),e.jsxs(yt,{value:f,onValueChange:p,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Subscription"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Tiers"}),e.jsx(Q,{value:"free",children:"Free"}),e.jsx(Q,{value:"premium",children:"Premium"}),e.jsx(Q,{value:"vip",children:"VIP"})]})]}),e.jsxs(yt,{value:y,onValueChange:_,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Suspension"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All"}),e.jsx(Q,{value:"suspended",children:"Suspended"}),e.jsx(Q,{value:"active",children:"Not Suspended"})]})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(Ta,{children:[e.jsx(Ea,{children:e.jsxs(Sr,{children:[e.jsx(We,{className:"w-12",children:e.jsx(Jn,{checked:B.length===qt.length&&qt.length>0,onCheckedChange:Ie})}),e.jsx(We,{children:"User"}),e.jsx(We,{children:"Role & Status"}),e.jsx(We,{children:"Verification"}),e.jsx(We,{children:"Activity"}),e.jsx(We,{children:"Joined"}),e.jsx(We,{className:"w-32",children:"Actions"})]})}),e.jsx(Oa,{children:qe?Array.from({length:5}).map((ze,Gt)=>e.jsx(Sr,{children:e.jsx(Be,{colSpan:7,children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-10 w-10 bg-muted rounded-full animate-pulse"}),e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"h-3 bg-muted rounded w-2/3 animate-pulse"})]})]})})},Gt)):Je.length===0?e.jsx(Sr,{children:e.jsxs(Be,{colSpan:7,className:"text-center py-12",children:[e.jsx("div",{className:"h-16 w-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(lr,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No users found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search criteria or filters."})]})}):Je.map(ze=>e.jsxs(Sr,{"data-testid":`user-row-${ze.id}`,children:[e.jsx(Be,{children:e.jsx(Jn,{checked:B.includes(ze.id),onCheckedChange:Gt=>Ne(ze.id,Gt)})}),e.jsx(Be,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:ze.profileImageUrl||"/default-avatar.png",alt:`${ze.firstName||""} ${ze.lastName||""}`,className:"h-10 w-10 rounded-full ring-2 ring-primary/20","data-testid":`user-avatar-${ze.id}`}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium","data-testid":`user-name-${ze.id}`,children:[ze.firstName," ",ze.lastName]}),e.jsx("div",{className:"text-sm text-muted-foreground","data-testid":`user-email-${ze.id}`,children:ze.email}),ze.username&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["@",ze.username]})]})]})}),e.jsx(Be,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsx(ce,{className:Hr(ze.role),"data-testid":`user-role-${ze.id}`,children:ze.role}),e.jsx("br",{}),e.jsx(ce,{className:Jr(ze.status),"data-testid":`user-status-${ze.id}`,children:ze.status})]})}),e.jsx(Be,{children:me(ze)}),e.jsx(Be,{children:e.jsx("div",{className:"text-sm",children:ze.onlineStatus?e.jsx(ce,{className:"bg-green-500 text-white",children:"Online"}):e.jsxs("span",{className:"text-muted-foreground",children:["Last seen: ",ze.lastSeenAt?Ir(new Date(ze.lastSeenAt),"MMM d, h:mm a"):"Never"]})})}),e.jsx(Be,{children:e.jsx("div",{className:"text-sm text-muted-foreground",children:Ir(new Date(ze.createdAt),"MMM d, yyyy")})}),e.jsx(Be,{children:e.jsxs(ns,{children:[e.jsx(ss,{asChild:!0,children:e.jsx(V,{variant:"ghost",size:"sm","data-testid":`user-menu-${ze.id}`,children:e.jsx(Ja,{className:"h-4 w-4"})})}),e.jsxs(es,{align:"end",children:[e.jsx(F9,{children:"Actions"}),e.jsxs(rt,{onClick:()=>{se(ze),Z(!0)},children:[e.jsx(pr,{className:"h-4 w-4 mr-2"}),"View Details"]}),e.jsxs(rt,{onClick:()=>{se(ze),Z(!0)},children:[e.jsx(Ko,{className:"h-4 w-4 mr-2"}),"Edit Profile"]}),e.jsx(lo,{}),e.jsxs(rt,{onClick:()=>{se(ze),K(!0)},children:[e.jsx(HO,{className:"h-4 w-4 mr-2"}),"Suspend User"]}),e.jsxs(rt,{children:[e.jsx(fi,{className:"h-4 w-4 mr-2"}),"Send Message"]}),e.jsxs(rt,{children:[e.jsx($o,{className:"h-4 w-4 mr-2"}),"View Activity"]})]})]})})]},ze.id))})]})}),sr>1&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(w-1)*A+1," to ",Math.min(w*A,Et)," of ",Et," users"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{variant:"outline",size:"sm",disabled:w===1,onClick:()=>k(w-1),children:"Previous"}),e.jsxs("span",{className:"text-sm",children:["Page ",w," of ",sr]}),e.jsx(V,{variant:"outline",size:"sm",disabled:w===sr,onClick:()=>k(w+1),children:"Next"})]})]})]})]}),e.jsx(Ur,{open:J,onOpenChange:Z,children:e.jsxs(Lr,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"User Details"}),e.jsx(Wr,{children:"View and edit user information and settings"})]}),W&&e.jsxs(Xs,{defaultValue:"profile",children:[e.jsxs(zs,{children:[e.jsx(Kt,{value:"profile",children:"Profile"}),e.jsx(Kt,{value:"activity",children:"Activity"}),e.jsx(Kt,{value:"suspensions",children:"Suspensions"}),e.jsx(Kt,{value:"analytics",children:"Analytics"})]}),e.jsx(Qt,{value:"profile",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"First Name"}),e.jsx(Ue,{defaultValue:W.firstName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Last Name"}),e.jsx(Ue,{defaultValue:W.lastName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Email"}),e.jsx(Ue,{defaultValue:W.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Role"}),e.jsxs(yt,{defaultValue:W.role,children:[e.jsx(xt,{children:e.jsx(bt,{})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"fan",children:"Fan"}),e.jsx(Q,{value:"creator",children:"Creator"}),e.jsx(Q,{value:"moderator",children:"Moderator"}),e.jsx(Q,{value:"admin",children:"Admin"})]})]})]})]})}),e.jsx(Qt,{value:"activity",children:e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Activity logs will be displayed here"})}),e.jsx(Qt,{value:"suspensions",children:e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Suspension history will be displayed here"})}),e.jsx(Qt,{value:"analytics",children:e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"User analytics will be displayed here"})})]}),e.jsxs(pa,{children:[e.jsx(V,{variant:"outline",onClick:()=>Z(!1),children:"Cancel"}),e.jsx(V,{onClick:()=>Z(!1),children:"Save Changes"})]})]})}),e.jsx(Ur,{open:ne,onOpenChange:K,children:e.jsxs(Lr,{children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Suspend User"}),e.jsxs(Wr,{children:["Suspend ",W?.firstName," ",W?.lastName," from the platform"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Reason for Suspension"}),e.jsx(on,{placeholder:"Enter the reason for suspension...",value:oe,onChange:ze=>Ce(ze.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Duration"}),e.jsxs(yt,{value:ke,onValueChange:_e,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Select duration"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"24h",children:"24 Hours"}),e.jsx(Q,{value:"3d",children:"3 Days"}),e.jsx(Q,{value:"7d",children:"7 Days"}),e.jsx(Q,{value:"30d",children:"30 Days"}),e.jsx(Q,{value:"permanent",children:"Permanent"})]})]})]})]}),e.jsxs(pa,{children:[e.jsx(V,{variant:"outline",onClick:()=>K(!1),children:"Cancel"}),e.jsx(V,{variant:"destructive",onClick:()=>{W&&Jt.mutate({userId:W.id,reason:oe,duration:ke})},disabled:!oe||!ke,children:"Suspend User"})]})]})}),e.jsx(Ur,{open:ae,onOpenChange:U,children:e.jsxs(Lr,{children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Bulk Operation"}),e.jsxs(Wr,{children:["Perform ",de," on ",B.length," selected users"]})]}),de==="message"&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Message"}),e.jsx(on,{placeholder:"Enter your message...",value:Le,onChange:ze=>je(ze.target.value)})]}),de==="suspend"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Reason"}),e.jsx(on,{placeholder:"Enter suspension reason...",value:oe,onChange:ze=>Ce(ze.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Duration"}),e.jsxs(yt,{value:ke,onValueChange:_e,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Select duration"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"24h",children:"24 Hours"}),e.jsx(Q,{value:"3d",children:"3 Days"}),e.jsx(Q,{value:"7d",children:"7 Days"}),e.jsx(Q,{value:"30d",children:"30 Days"})]})]})]})]}),e.jsxs(pa,{children:[e.jsx(V,{variant:"outline",onClick:()=>U(!1),children:"Cancel"}),e.jsx(V,{onClick:dt,children:"Execute"})]})]})})]})}const lae=[{id:"moderation_queue",label:"Moderation Queue",description:"View and manage content moderation queue"},{id:"content_approval",label:"Content Approval",description:"Approve or reject user content"},{id:"theme_management",label:"Theme Management",description:"Create, edit and manage site themes"},{id:"analytics_access",label:"Analytics Access",description:"View system analytics and reports"},{id:"user_management",label:"User Management",description:"Manage user accounts and profiles"}];function cae(){const{user:t,isLoading:r}=kr(),{toast:n}=or(),s=ws(),[a,i]=j.useState(null),[o,l]=j.useState(!1),[u,m]=j.useState(""),[f,p]=j.useState(!1);if(r)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground ml-4",children:"Loading..."})]})});if(t?.role!=="admin")return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(Y,{children:e.jsxs(ee,{className:"p-8 text-center",children:[e.jsx(Mr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-muted-foreground",children:"Only administrators can access delegation management."})]})})});const{data:g,isLoading:b}=Ve({queryKey:["/api/admin/users"],enabled:t?.role==="admin"}),{data:y,isLoading:_}=Ve({queryKey:["/api/admin/delegations"],enabled:t?.role==="admin"}),w=ot({mutationFn:async({userId:F,role:B})=>Ze("PUT",`/api/admin/users/${F}/role`,{role:B}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/admin/users"]}),p(!1),i(null),n({title:"Success",description:"User role updated successfully"})},onError:F=>{n({title:"Error",description:F.message,variant:"destructive"})}}),k=ot({mutationFn:async({userId:F,permission:B})=>Ze("POST","/api/admin/delegations/grant",{userId:F,permission:B}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/admin/delegations"]}),n({title:"Success",description:"Permission granted successfully"})},onError:F=>{n({title:"Error",description:F.message,variant:"destructive"})}}),A=ot({mutationFn:async({userId:F,permission:B})=>Ze("POST","/api/admin/delegations/revoke",{userId:F,permission:B}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/admin/delegations"]}),n({title:"Success",description:"Permission revoked successfully"})},onError:F=>{n({title:"Error",description:F.message,variant:"destructive"})}}),P=Array.isArray(g)?g.filter(F=>(F.username?.toLowerCase()??"").includes(u.toLowerCase())||(F.email?.toLowerCase()??"").includes(u.toLowerCase())):[],O=F=>Array.isArray(y)?y.filter(B=>B.userId===F&&B.granted):[],I=(F,B)=>O(F).some(H=>H.permission===B),D=(F,B)=>{I(F,B)?A.mutate({userId:F,permission:B}):k.mutate({userId:F,permission:B})};return e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(i0,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-display","data-testid":"page-title",children:"Delegation Manager"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage user roles and delegate admin permissions"})]})]}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs(Y,{children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(lr,{className:"h-5 w-5"}),"User Role Management"]}),e.jsx(lt,{children:"Manage user roles and delegate admin permissions to other users"})]}),e.jsxs(ee,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(et,{htmlFor:"user-search",children:"Search Users"}),e.jsx(Ue,{id:"user-search",placeholder:"Search by username or email...",value:u,onChange:F=>m(F.target.value),className:"mt-1","data-testid":"user-search-input"})]}),e.jsxs("div",{className:"space-y-4",children:[b&&e.jsx("div",{className:"text-center py-4",children:e.jsx("p",{className:"text-muted-foreground",children:"Loading users..."})}),P?.map(F=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx("span",{className:"font-medium text-primary",children:F.username.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium","data-testid":`user-name-${F.username}`,children:F.username}),e.jsx("p",{className:"text-sm text-muted-foreground",children:F.email})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ce,{variant:F.role==="admin"?"destructive":F.role==="moderator"?"default":F.role==="creator"?"secondary":"outline",children:[F.role==="admin"&&e.jsx(Rd,{className:"h-3 w-3 mr-1"}),F.role==="moderator"&&e.jsx(Mr,{className:"h-3 w-3 mr-1"}),F.role]}),F.role!=="admin"&&e.jsxs(Ur,{open:a?.id===F.id&&f,onOpenChange:B=>{p(B),B||i(null)},children:[e.jsx(Dl,{asChild:!0,children:e.jsx(V,{variant:"outline",size:"sm",onClick:()=>i(F),"data-testid":`change-role-${F.username}`,children:"Change Role"})}),e.jsxs(Lr,{children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Change User Role"}),e.jsxs(Wr,{children:["Change the role for ",F.username]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(V,{variant:F.role==="moderator"?"default":"outline",onClick:()=>w.mutate({userId:F.id,role:"moderator"}),disabled:w.isPending,"data-testid":"role-moderator",children:[e.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Moderator"]}),e.jsx(V,{variant:F.role==="fan"?"default":"outline",onClick:()=>w.mutate({userId:F.id,role:"fan"}),disabled:w.isPending,"data-testid":"role-fan",children:"Fan"})]})})]})]})]})]}),F.role!=="admin"&&e.jsxs("div",{children:[e.jsx(Tn,{className:"mb-3"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(et,{className:"text-sm font-medium",children:"Delegated Permissions"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:lae.map(B=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:B.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:B.description})]}),e.jsx(kn,{checked:I(F.id,B.id),onCheckedChange:()=>D(F.id,B.id),disabled:k.isPending||A.isPending,"data-testid":`permission-${B.id}-${F.username}`})]},B.id))})]})]})]},F.id))]})]})]}),e.jsxs(Y,{children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Active Delegations Summary"}),e.jsx(lt,{children:"Overview of all active permission delegations"})]}),e.jsxs(ee,{children:[_&&e.jsx("div",{className:"text-center py-4",children:e.jsx("p",{className:"text-muted-foreground",children:"Loading delegations..."})}),Array.isArray(y)&&y.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(i0,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("p",{className:"text-muted-foreground",children:"No active delegations"})]}),Array.isArray(y)&&y.length>0&&e.jsx("div",{className:"space-y-2",children:y.map(F=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ce,{variant:"outline",children:F.permission.replace("_"," ")}),e.jsx("span",{className:"text-sm",children:Array.isArray(g)&&g.find(B=>B.id===F.userId)?.username||"Unknown User"})]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Granted: ",new Date(F.createdAt).toLocaleDateString()]})]},`${F.userId}-${F.permission}`))})]})]})]})]})}function dae(){const{user:t}=kr(),{toast:r}=or(),n=ws(),[s,a]=j.useState(null),[i,o]=j.useState(!1),[l,u]=j.useState({name:"",colors:{primary:"hsl(0, 100%, 50%)",primaryForeground:"hsl(0, 0%, 100%)",secondary:"hsl(45, 80%, 60%)",secondaryForeground:"hsl(0, 0%, 0%)",background:"hsl(0, 0%, 1%)",foreground:"hsl(0, 0%, 100%)",card:"hsl(15, 15%, 4%)",cardForeground:"hsl(0, 0%, 100%)",accent:"hsl(50, 100%, 65%)",accentForeground:"hsl(0, 0%, 0%)",border:"hsl(15, 15%, 15%)",input:"hsl(15, 15%, 18%)",muted:"hsl(0, 0%, 10%)",mutedForeground:"hsl(0, 0%, 60%)",destructive:"hsl(0, 84%, 60%)",destructiveForeground:"hsl(0, 0%, 100%)"},typography:{fontDisplay:"Orbitron",fontHeading:"Rajdhani",fontBody:"Inter"},effects:{neonIntensity:1,glowEnabled:!0,smokyBackground:!0,flickerEnabled:!0}}),{data:m,isLoading:f}=Ve({queryKey:["/api/themes"],enabled:t?.role==="admin"||t?.role==="moderator"}),{data:p}=Ve({queryKey:["/api/themes/active"]}),g=ot({mutationFn:async w=>Ze("POST","/api/themes",w),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/themes"]}),o(!1),u({name:"",colors:l.colors,typography:l.typography,effects:l.effects}),r({title:"Success",description:"Theme created successfully"})},onError:w=>{r({title:"Error",description:w.message,variant:"destructive"})}});ot({mutationFn:async({id:w,theme:k})=>Ze("PUT",`/api/themes/${w}`,k),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/themes"]}),a(null),r({title:"Success",description:"Theme updated successfully"})},onError:w=>{r({title:"Error",description:w.message,variant:"destructive"})}});const b=ot({mutationFn:async w=>Ze("PUT",`/api/themes/${w}/activate`,{}),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/themes"]}),n.invalidateQueries({queryKey:["/api/themes/active"]}),r({title:"Success",description:"Theme activated successfully"})},onError:w=>{r({title:"Error",description:w.message,variant:"destructive"})}}),y=ot({mutationFn:async w=>Ze("DELETE",`/api/themes/${w}`,{}),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/themes"]}),r({title:"Success",description:"Theme deleted successfully"})},onError:w=>{r({title:"Error",description:w.message,variant:"destructive"})}});if(t?.role!=="admin")return e.jsx("div",{className:"p-6",children:e.jsx(Y,{children:e.jsx(ee,{className:"pt-6",children:e.jsx("p",{className:"text-muted-foreground",children:"Access denied. Admin privileges required."})})})});const _=({label:w,value:k,onChange:A})=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(et,{className:"text-sm font-medium",children:w}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded border-2 border-border",style:{backgroundColor:k.startsWith("hsl")?k:`hsl(${k})`}}),e.jsx(Ue,{value:k,onChange:P=>A(P.target.value),placeholder:"hsl(0, 100%, 50%)",className:"flex-1"})]})]});return e.jsxs("div",{className:"space-y-6 p-6","data-testid":"theme-manager",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-heading font-bold neon-sign",children:"Theme Manager"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Customize the platform's visual appearance and branding"})]}),e.jsxs(Ur,{open:i,onOpenChange:o,children:[e.jsx(Dl,{asChild:!0,children:e.jsxs(V,{className:"bg-primary hover:bg-primary/90 neon-sign",children:[e.jsx(hs,{className:"mr-2 h-4 w-4"}),"Create Theme"]})}),e.jsxs(Lr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Fr,{children:[e.jsx($r,{className:"neon-sign",children:"Create New Theme"}),e.jsx(Wr,{children:"Design a custom theme with your own colors, typography, and effects"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(et,{htmlFor:"theme-name",children:"Theme Name"}),e.jsx(Ue,{id:"theme-name",value:l.name,onChange:w=>u({...l,name:w.target.value}),placeholder:"e.g., Dark Neon, Midnight Club, Electric Dreams"})]}),e.jsx(Tn,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 neon-sign-golden",children:"Color Scheme"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(_,{label:"Primary (Red Neon)",value:l.colors.primary,onChange:w=>u({...l,colors:{...l.colors,primary:w}})}),e.jsx(_,{label:"Secondary (Golden Accent)",value:l.colors.secondary,onChange:w=>u({...l,colors:{...l.colors,secondary:w}})}),e.jsx(_,{label:"Background (Smoky Dark)",value:l.colors.background,onChange:w=>u({...l,colors:{...l.colors,background:w}})}),e.jsx(_,{label:"Accent (Bright Highlight)",value:l.colors.accent,onChange:w=>u({...l,colors:{...l.colors,accent:w}})})]})]}),e.jsx(Tn,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 neon-sign-golden",children:"Typography"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(et,{children:"Display Font"}),e.jsx(Ue,{value:l.typography.fontDisplay,onChange:w=>u({...l,typography:{...l.typography,fontDisplay:w.target.value}})})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Heading Font"}),e.jsx(Ue,{value:l.typography.fontHeading,onChange:w=>u({...l,typography:{...l.typography,fontHeading:w.target.value}})})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Body Font"}),e.jsx(Ue,{value:l.typography.fontBody,onChange:w=>u({...l,typography:{...l.typography,fontBody:w.target.value}})})]})]})]}),e.jsx(Tn,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 neon-sign-golden",children:"Visual Effects"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(et,{children:"Neon Glow Effects"}),e.jsx(kn,{checked:l.effects.glowEnabled,onCheckedChange:w=>u({...l,effects:{...l.effects,glowEnabled:w}})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(et,{children:"Smoky Background"}),e.jsx(kn,{checked:l.effects.smokyBackground,onCheckedChange:w=>u({...l,effects:{...l.effects,smokyBackground:w}})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(et,{children:"Neon Flicker Animation"}),e.jsx(kn,{checked:l.effects.flickerEnabled,onCheckedChange:w=>u({...l,effects:{...l.effects,flickerEnabled:w}})})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Neon Intensity (0-2)"}),e.jsx(Ue,{type:"number",min:"0",max:"2",step:"0.1",value:l.effects.neonIntensity,onChange:w=>u({...l,effects:{...l.effects,neonIntensity:parseFloat(w.target.value)}})})]})]})]})]}),e.jsxs(pa,{children:[e.jsx(V,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsx(V,{onClick:()=>g.mutate(l),disabled:!l.name||g.isPending,className:"bg-primary hover:bg-primary/90 neon-sign",children:g.isPending?"Creating...":"Create Theme"})]})]})]})]}),f?e.jsxs("div",{className:"text-center p-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading themes..."})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:m?.map(w=>e.jsxs(Y,{className:`retro-border club-glow ${w.isActive?"border-primary":""}`,children:[e.jsxs(ue,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(fe,{className:"neon-sign-golden",children:w.name}),w.isActive&&e.jsx(ce,{className:"bg-primary text-primary-foreground",children:"Active"})]}),e.jsxs(lt,{children:["Created ",w.createdAt?new Date(w.createdAt).toLocaleDateString():"Unknown"]})]}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded border",style:{backgroundColor:w.colors?.primary||"#ff0000"},title:"Primary Color"}),e.jsx("div",{className:"w-8 h-8 rounded border",style:{backgroundColor:w.colors?.secondary||"#ffcc00"},title:"Secondary Color"}),e.jsx("div",{className:"w-8 h-8 rounded border",style:{backgroundColor:w.colors?.accent||"#ffff00"},title:"Accent Color"}),e.jsx("div",{className:"w-8 h-8 rounded border",style:{backgroundColor:w.colors?.background||"#000000"},title:"Background Color"})]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.jsxs("p",{children:["Display: ",w.typography?.fontDisplay||"Orbitron"]}),e.jsxs("p",{children:["Heading: ",w.typography?.fontHeading||"Rajdhani"]}),e.jsxs("p",{children:["Body: ",w.typography?.fontBody||"Inter"]})]}),e.jsxs("div",{className:"flex gap-2",children:[!w.isActive&&e.jsxs(V,{size:"sm",onClick:()=>b.mutate(w.id),disabled:b.isPending,className:"flex-1 bg-primary hover:bg-primary/90",children:[e.jsx(pr,{className:"mr-1 h-3 w-3"}),"Activate"]}),e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>a(w),className:"flex-1",children:[e.jsx(CY,{className:"mr-1 h-3 w-3"}),"Edit"]}),e.jsx(V,{size:"sm",variant:"destructive",onClick:()=>y.mutate(w.id),disabled:w.isActive||y.isPending,children:e.jsx(Bo,{className:"h-3 w-3"})})]})]})]},w.id))})]})}var sN,BI;function yi(){if(BI)return sN;BI=1;var t=Array.isArray;return sN=t,sN}var aN,qI;function iq(){if(qI)return aN;qI=1;var t=typeof py=="object"&&py&&py.Object===Object&&py;return aN=t,aN}var iN,UI;function Ll(){if(UI)return iN;UI=1;var t=iq(),r=typeof self=="object"&&self&&self.Object===Object&&self,n=t||r||Function("return this")();return iN=n,iN}var oN,VI;function Rg(){if(VI)return oN;VI=1;var t=Ll(),r=t.Symbol;return oN=r,oN}var lN,KI;function uae(){if(KI)return lN;KI=1;var t=Rg(),r=Object.prototype,n=r.hasOwnProperty,s=r.toString,a=t?t.toStringTag:void 0;function i(o){var l=n.call(o,a),u=o[a];try{o[a]=void 0;var m=!0}catch{}var f=s.call(o);return m&&(l?o[a]=u:delete o[a]),f}return lN=i,lN}var cN,WI;function hae(){if(WI)return cN;WI=1;var t=Object.prototype,r=t.toString;function n(s){return r.call(s)}return cN=n,cN}var dN,HI;function Mc(){if(HI)return dN;HI=1;var t=Rg(),r=uae(),n=hae(),s="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?a:s:i&&i in Object(l)?r(l):n(l)}return dN=o,dN}var uN,GI;function Dc(){if(GI)return uN;GI=1;function t(r){return r!=null&&typeof r=="object"}return uN=t,uN}var hN,ZI;function Df(){if(ZI)return hN;ZI=1;var t=Mc(),r=Dc(),n="[object Symbol]";function s(a){return typeof a=="symbol"||r(a)&&t(a)==n}return hN=s,hN}var mN,YI;function YP(){if(YI)return mN;YI=1;var t=yi(),r=Df(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function a(i,o){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||r(i)?!0:s.test(i)||!n.test(i)||o!=null&&i in Object(o)}return mN=a,mN}var fN,QI;function Gd(){if(QI)return fN;QI=1;function t(r){var n=typeof r;return r!=null&&(n=="object"||n=="function")}return fN=t,fN}var pN,XI;function QP(){if(XI)return pN;XI=1;var t=Mc(),r=Gd(),n="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!r(l))return!1;var u=t(l);return u==s||u==a||u==n||u==i}return pN=o,pN}var xN,JI;function mae(){if(JI)return xN;JI=1;var t=Ll(),r=t["__core-js_shared__"];return xN=r,xN}var gN,eM;function fae(){if(eM)return gN;eM=1;var t=mae(),r=(function(){var s=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""})();function n(s){return!!r&&r in s}return gN=n,gN}var vN,tM;function oq(){if(tM)return vN;tM=1;var t=Function.prototype,r=t.toString;function n(s){if(s!=null){try{return r.call(s)}catch{}try{return s+""}catch{}}return""}return vN=n,vN}var yN,rM;function pae(){if(rM)return yN;rM=1;var t=QP(),r=fae(),n=Gd(),s=oq(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,u=o.toString,m=l.hasOwnProperty,f=RegExp("^"+u.call(m).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!n(g)||r(g))return!1;var b=t(g)?f:i;return b.test(s(g))}return yN=p,yN}var bN,nM;function xae(){if(nM)return bN;nM=1;function t(r,n){return r?.[n]}return bN=t,bN}var jN,sM;function jh(){if(sM)return jN;sM=1;var t=pae(),r=xae();function n(s,a){var i=r(s,a);return t(i)?i:void 0}return jN=n,jN}var wN,aM;function mj(){if(aM)return wN;aM=1;var t=jh(),r=t(Object,"create");return wN=r,wN}var _N,iM;function gae(){if(iM)return _N;iM=1;var t=mj();function r(){this.__data__=t?t(null):{},this.size=0}return _N=r,_N}var NN,oM;function vae(){if(oM)return NN;oM=1;function t(r){var n=this.has(r)&&delete this.__data__[r];return this.size-=n?1:0,n}return NN=t,NN}var SN,lM;function yae(){if(lM)return SN;lM=1;var t=mj(),r="__lodash_hash_undefined__",n=Object.prototype,s=n.hasOwnProperty;function a(i){var o=this.__data__;if(t){var l=o[i];return l===r?void 0:l}return s.call(o,i)?o[i]:void 0}return SN=a,SN}var CN,cM;function bae(){if(cM)return CN;cM=1;var t=mj(),r=Object.prototype,n=r.hasOwnProperty;function s(a){var i=this.__data__;return t?i[a]!==void 0:n.call(i,a)}return CN=s,CN}var kN,dM;function jae(){if(dM)return kN;dM=1;var t=mj(),r="__lodash_hash_undefined__";function n(s,a){var i=this.__data__;return this.size+=this.has(s)?0:1,i[s]=t&&a===void 0?r:a,this}return kN=n,kN}var AN,uM;function wae(){if(uM)return AN;uM=1;var t=gae(),r=vae(),n=yae(),s=bae(),a=jae();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var m=o[l];this.set(m[0],m[1])}}return i.prototype.clear=t,i.prototype.delete=r,i.prototype.get=n,i.prototype.has=s,i.prototype.set=a,AN=i,AN}var PN,hM;function _ae(){if(hM)return PN;hM=1;function t(){this.__data__=[],this.size=0}return PN=t,PN}var TN,mM;function XP(){if(mM)return TN;mM=1;function t(r,n){return r===n||r!==r&&n!==n}return TN=t,TN}var EN,fM;function fj(){if(fM)return EN;fM=1;var t=XP();function r(n,s){for(var a=n.length;a--;)if(t(n[a][0],s))return a;return-1}return EN=r,EN}var ON,pM;function Nae(){if(pM)return ON;pM=1;var t=fj(),r=Array.prototype,n=r.splice;function s(a){var i=this.__data__,o=t(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():n.call(i,o,1),--this.size,!0}return ON=s,ON}var IN,xM;function Sae(){if(xM)return IN;xM=1;var t=fj();function r(n){var s=this.__data__,a=t(s,n);return a<0?void 0:s[a][1]}return IN=r,IN}var MN,gM;function Cae(){if(gM)return MN;gM=1;var t=fj();function r(n){return t(this.__data__,n)>-1}return MN=r,MN}var DN,vM;function kae(){if(vM)return DN;vM=1;var t=fj();function r(n,s){var a=this.__data__,i=t(a,n);return i<0?(++this.size,a.push([n,s])):a[i][1]=s,this}return DN=r,DN}var RN,yM;function pj(){if(yM)return RN;yM=1;var t=_ae(),r=Nae(),n=Sae(),s=Cae(),a=kae();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var m=o[l];this.set(m[0],m[1])}}return i.prototype.clear=t,i.prototype.delete=r,i.prototype.get=n,i.prototype.has=s,i.prototype.set=a,RN=i,RN}var LN,bM;function JP(){if(bM)return LN;bM=1;var t=jh(),r=Ll(),n=t(r,"Map");return LN=n,LN}var FN,jM;function Aae(){if(jM)return FN;jM=1;var t=wae(),r=pj(),n=JP();function s(){this.size=0,this.__data__={hash:new t,map:new(n||r),string:new t}}return FN=s,FN}var $N,wM;function Pae(){if(wM)return $N;wM=1;function t(r){var n=typeof r;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?r!=="__proto__":r===null}return $N=t,$N}var zN,_M;function xj(){if(_M)return zN;_M=1;var t=Pae();function r(n,s){var a=n.__data__;return t(s)?a[typeof s=="string"?"string":"hash"]:a.map}return zN=r,zN}var BN,NM;function Tae(){if(NM)return BN;NM=1;var t=xj();function r(n){var s=t(this,n).delete(n);return this.size-=s?1:0,s}return BN=r,BN}var qN,SM;function Eae(){if(SM)return qN;SM=1;var t=xj();function r(n){return t(this,n).get(n)}return qN=r,qN}var UN,CM;function Oae(){if(CM)return UN;CM=1;var t=xj();function r(n){return t(this,n).has(n)}return UN=r,UN}var VN,kM;function Iae(){if(kM)return VN;kM=1;var t=xj();function r(n,s){var a=t(this,n),i=a.size;return a.set(n,s),this.size+=a.size==i?0:1,this}return VN=r,VN}var KN,AM;function e4(){if(AM)return KN;AM=1;var t=Aae(),r=Tae(),n=Eae(),s=Oae(),a=Iae();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var m=o[l];this.set(m[0],m[1])}}return i.prototype.clear=t,i.prototype.delete=r,i.prototype.get=n,i.prototype.has=s,i.prototype.set=a,KN=i,KN}var WN,PM;function lq(){if(PM)return WN;PM=1;var t=e4(),r="Expected a function";function n(s,a){if(typeof s!="function"||a!=null&&typeof a!="function")throw new TypeError(r);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],u=i.cache;if(u.has(l))return u.get(l);var m=s.apply(this,o);return i.cache=u.set(l,m)||u,m};return i.cache=new(n.Cache||t),i}return n.Cache=t,WN=n,WN}var HN,TM;function Mae(){if(TM)return HN;TM=1;var t=lq(),r=500;function n(s){var a=t(s,function(o){return i.size===r&&i.clear(),o}),i=a.cache;return a}return HN=n,HN}var GN,EM;function Dae(){if(EM)return GN;EM=1;var t=Mae(),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,s=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(r,function(o,l,u,m){i.push(u?m.replace(n,"$1"):l||o)}),i});return GN=s,GN}var ZN,OM;function t4(){if(OM)return ZN;OM=1;function t(r,n){for(var s=-1,a=r==null?0:r.length,i=Array(a);++s<a;)i[s]=n(r[s],s,r);return i}return ZN=t,ZN}var YN,IM;function Rae(){if(IM)return YN;IM=1;var t=Rg(),r=t4(),n=yi(),s=Df(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return r(l,o)+"";if(s(l))return i?i.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}return YN=o,YN}var QN,MM;function cq(){if(MM)return QN;MM=1;var t=Rae();function r(n){return n==null?"":t(n)}return QN=r,QN}var XN,DM;function dq(){if(DM)return XN;DM=1;var t=yi(),r=YP(),n=Dae(),s=cq();function a(i,o){return t(i)?i:r(i,o)?[i]:n(s(i))}return XN=a,XN}var JN,RM;function gj(){if(RM)return JN;RM=1;var t=Df();function r(n){if(typeof n=="string"||t(n))return n;var s=n+"";return s=="0"&&1/n==-1/0?"-0":s}return JN=r,JN}var e1,LM;function r4(){if(LM)return e1;LM=1;var t=dq(),r=gj();function n(s,a){a=t(a,s);for(var i=0,o=a.length;s!=null&&i<o;)s=s[r(a[i++])];return i&&i==o?s:void 0}return e1=n,e1}var t1,FM;function uq(){if(FM)return t1;FM=1;var t=r4();function r(n,s,a){var i=n==null?void 0:t(n,s);return i===void 0?a:i}return t1=r,t1}var Lae=uq();const qi=mn(Lae);var r1,$M;function Fae(){if($M)return r1;$M=1;function t(r){return r==null}return r1=t,r1}var $ae=Fae();const br=mn($ae);var n1,zM;function zae(){if(zM)return n1;zM=1;var t=Mc(),r=yi(),n=Dc(),s="[object String]";function a(i){return typeof i=="string"||!r(i)&&n(i)&&t(i)==s}return n1=a,n1}var Bae=zae();const sh=mn(Bae);var qae=QP();const dr=mn(qae);var Uae=Gd();const Rf=mn(Uae);var s1={exports:{}},gn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BM;function Vae(){if(BM)return gn;BM=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function _(w){if(typeof w=="object"&&w!==null){var k=w.$$typeof;switch(k){case t:switch(w=w.type,w){case n:case a:case s:case m:case f:return w;default:switch(w=w&&w.$$typeof,w){case l:case o:case u:case g:case p:case i:return w;default:return k}}case r:return k}}}return gn.ContextConsumer=o,gn.ContextProvider=i,gn.Element=t,gn.ForwardRef=u,gn.Fragment=n,gn.Lazy=g,gn.Memo=p,gn.Portal=r,gn.Profiler=a,gn.StrictMode=s,gn.Suspense=m,gn.SuspenseList=f,gn.isAsyncMode=function(){return!1},gn.isConcurrentMode=function(){return!1},gn.isContextConsumer=function(w){return _(w)===o},gn.isContextProvider=function(w){return _(w)===i},gn.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},gn.isForwardRef=function(w){return _(w)===u},gn.isFragment=function(w){return _(w)===n},gn.isLazy=function(w){return _(w)===g},gn.isMemo=function(w){return _(w)===p},gn.isPortal=function(w){return _(w)===r},gn.isProfiler=function(w){return _(w)===a},gn.isStrictMode=function(w){return _(w)===s},gn.isSuspense=function(w){return _(w)===m},gn.isSuspenseList=function(w){return _(w)===f},gn.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===a||w===s||w===m||w===f||w===b||typeof w=="object"&&w!==null&&(w.$$typeof===g||w.$$typeof===p||w.$$typeof===i||w.$$typeof===o||w.$$typeof===u||w.$$typeof===y||w.getModuleId!==void 0)},gn.typeOf=_,gn}var qM;function Kae(){return qM||(qM=1,s1.exports=Vae()),s1.exports}var Wae=Kae(),a1,UM;function hq(){if(UM)return a1;UM=1;var t=Mc(),r=Dc(),n="[object Number]";function s(a){return typeof a=="number"||r(a)&&t(a)==n}return a1=s,a1}var i1,VM;function Hae(){if(VM)return i1;VM=1;var t=hq();function r(n){return t(n)&&n!=+n}return i1=r,i1}var Gae=Hae();const Lf=mn(Gae);var Zae=hq();const Yae=mn(Zae);var Za=function(r){return r===0?0:r>0?1:-1},Ru=function(r){return sh(r)&&r.indexOf("%")===r.length-1},jt=function(r){return Yae(r)&&!Lf(r)},Qae=function(r){return br(r)},Ys=function(r){return jt(r)||sh(r)},Xae=0,wh=function(r){var n=++Xae;return"".concat(r||"").concat(n)},Ya=function(r,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!jt(r)&&!sh(r))return s;var i;if(Ru(r)){var o=r.indexOf("%");i=n*parseFloat(r.slice(0,o))/100}else i=+r;return Lf(i)&&(i=s),a&&i>n&&(i=n),i},kd=function(r){if(!r)return null;var n=Object.keys(r);return n&&n.length?r[n[0]]:null},Jae=function(r){if(!Array.isArray(r))return!1;for(var n=r.length,s={},a=0;a<n;a++)if(!s[r[a]])s[r[a]]=!0;else return!0;return!1},Zs=function(r,n){return jt(r)&&jt(n)?function(s){return r+s*(n-r)}:function(){return n}};function y0(t,r,n){return!t||!t.length?null:t.find(function(s){return s&&(typeof r=="function"?r(s):qi(s,r))===n})}var eie=function(r,n){return jt(r)&&jt(n)?r-n:sh(r)&&sh(n)?r.localeCompare(n):r instanceof Date&&n instanceof Date?r.getTime()-n.getTime():String(r).localeCompare(String(n))};function Mm(t,r){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(r,n)||t[n]!==r[n]))return!1;for(var s in r)if({}.hasOwnProperty.call(r,s)&&!{}.hasOwnProperty.call(t,s))return!1;return!0}function tk(t){"@babel/helpers - typeof";return tk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},tk(t)}var tie=["viewBox","children"],rie=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],KM=["points","pathLength"],o1={svg:tie,polygon:KM,polyline:KM},n4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],b0=function(r,n){if(!r||typeof r=="function"||typeof r=="boolean")return null;var s=r;if(j.isValidElement(r)&&(s=r.props),!Rf(s))return null;var a={};return Object.keys(s).forEach(function(i){n4.includes(i)&&(a[i]=n||function(o){return s[i](s,o)})}),a},nie=function(r,n,s){return function(a){return r(n,s,a),null}},ah=function(r,n,s){if(!Rf(r)||tk(r)!=="object")return null;var a=null;return Object.keys(r).forEach(function(i){var o=r[i];n4.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=nie(o,n,s))}),a},sie=["children"],aie=["children"];function WM(t,r){if(t==null)return{};var n=iie(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function iie(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function rk(t){"@babel/helpers - typeof";return rk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rk(t)}var HM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},bc=function(r){return typeof r=="string"?r:r?r.displayName||r.name||"Component":""},GM=null,l1=null,s4=function t(r){if(r===GM&&Array.isArray(l1))return l1;var n=[];return j.Children.forEach(r,function(s){br(s)||(Wae.isFragment(s)?n=n.concat(t(s.props.children)):n.push(s))}),l1=n,GM=r,n};function Ui(t,r){var n=[],s=[];return Array.isArray(r)?s=r.map(function(a){return bc(a)}):s=[bc(r)],s4(t).forEach(function(a){var i=qi(a,"type.displayName")||qi(a,"type.name");s.indexOf(i)!==-1&&n.push(a)}),n}function Mi(t,r){var n=Ui(t,r);return n&&n[0]}var ZM=function(r){if(!r||!r.props)return!1;var n=r.props,s=n.width,a=n.height;return!(!jt(s)||s<=0||!jt(a)||a<=0)},oie=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],lie=function(r){return r&&r.type&&sh(r.type)&&oie.indexOf(r.type)>=0},mq=function(r){return r&&rk(r)==="object"&&"clipDot"in r},cie=function(r,n,s,a){var i,o=(i=o1?.[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!dr(r)&&(a&&o.includes(n)||rie.includes(n))||s&&n4.includes(n)},Xt=function(r,n,s){if(!r||typeof r=="function"||typeof r=="boolean")return null;var a=r;if(j.isValidElement(r)&&(a=r.props),!Rf(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;cie((l=a)===null||l===void 0?void 0:l[o],o,n,s)&&(i[o]=a[o])}),i},nk=function t(r,n){if(r===n)return!0;var s=j.Children.count(r);if(s!==j.Children.count(n))return!1;if(s===0)return!0;if(s===1)return YM(Array.isArray(r)?r[0]:r,Array.isArray(n)?n[0]:n);for(var a=0;a<s;a++){var i=r[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!YM(i,o))return!1}return!0},YM=function(r,n){if(br(r)&&br(n))return!0;if(!br(r)&&!br(n)){var s=r.props||{},a=s.children,i=WM(s,sie),o=n.props||{},l=o.children,u=WM(o,aie);return a&&l?Mm(i,u)&&nk(a,l):!a&&!l?Mm(i,u):!1}return!1},QM=function(r,n){var s=[],a={};return s4(r).forEach(function(i,o){if(lie(i))s.push(i);else if(i){var l=bc(i.type),u=n[l]||{},m=u.handler,f=u.once;if(m&&(!f||!a[l])){var p=m(i,l,o);s.push(p),a[l]=!0}}}),s},die=function(r){var n=r&&r.type;return n&&HM[n]?HM[n]:null},uie=function(r,n){return s4(n).indexOf(r)},hie=["children","width","height","viewBox","className","style","title","desc"];function sk(){return sk=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},sk.apply(this,arguments)}function mie(t,r){if(t==null)return{};var n=fie(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function fie(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function ak(t){var r=t.children,n=t.width,s=t.height,a=t.viewBox,i=t.className,o=t.style,l=t.title,u=t.desc,m=mie(t,hie),f=a||{width:n,height:s,x:0,y:0},p=jr("recharts-surface",i);return le.createElement("svg",sk({},Xt(m,!0,"svg"),{className:p,width:n,height:s,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),le.createElement("title",null,l),le.createElement("desc",null,u),r)}var pie=["children","className"];function ik(){return ik=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ik.apply(this,arguments)}function xie(t,r){if(t==null)return{};var n=gie(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function gie(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}var Kr=le.forwardRef(function(t,r){var n=t.children,s=t.className,a=xie(t,pie),i=jr("recharts-layer",s);return le.createElement("g",ik({className:i},Xt(a,!0),{ref:r}),n)}),Uo=function(r,n){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]},c1,XM;function vie(){if(XM)return c1;XM=1;function t(r,n,s){var a=-1,i=r.length;n<0&&(n=-n>i?0:i+n),s=s>i?i:s,s<0&&(s+=i),i=n>s?0:s-n>>>0,n>>>=0;for(var o=Array(i);++a<i;)o[a]=r[a+n];return o}return c1=t,c1}var d1,JM;function yie(){if(JM)return d1;JM=1;var t=vie();function r(n,s,a){var i=n.length;return a=a===void 0?i:a,!s&&a>=i?n:t(n,s,a)}return d1=r,d1}var u1,e5;function fq(){if(e5)return u1;e5=1;var t="\\ud800-\\udfff",r="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",a=r+n+s,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+a+i+"]");function u(m){return l.test(m)}return u1=u,u1}var h1,t5;function bie(){if(t5)return h1;t5=1;function t(r){return r.split("")}return h1=t,h1}var m1,r5;function jie(){if(r5)return m1;r5=1;var t="\\ud800-\\udfff",r="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",a=r+n+s,i="\\ufe0e\\ufe0f",o="["+t+"]",l="["+a+"]",u="\\ud83c[\\udffb-\\udfff]",m="(?:"+l+"|"+u+")",f="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",y=m+"?",_="["+i+"]?",w="(?:"+b+"(?:"+[f,p,g].join("|")+")"+_+y+")*",k=_+y+w,A="(?:"+[f+l+"?",l,p,g,o].join("|")+")",P=RegExp(u+"(?="+u+")|"+A+k,"g");function O(I){return I.match(P)||[]}return m1=O,m1}var f1,n5;function wie(){if(n5)return f1;n5=1;var t=bie(),r=fq(),n=jie();function s(a){return r(a)?n(a):t(a)}return f1=s,f1}var p1,s5;function _ie(){if(s5)return p1;s5=1;var t=yie(),r=fq(),n=wie(),s=cq();function a(i){return function(o){o=s(o);var l=r(o)?n(o):void 0,u=l?l[0]:o.charAt(0),m=l?t(l,1).join(""):o.slice(1);return u[i]()+m}}return p1=a,p1}var x1,a5;function Nie(){if(a5)return x1;a5=1;var t=_ie(),r=t("toUpperCase");return x1=r,x1}var Sie=Nie();const vj=mn(Sie);function Un(t){return function(){return t}}const pq=Math.cos,j0=Math.sin,Jo=Math.sqrt,w0=Math.PI,yj=2*w0,ok=Math.PI,lk=2*ok,Ou=1e-6,Cie=lk-Ou;function xq(t){this._+=t[0];for(let r=1,n=t.length;r<n;++r)this._+=arguments[r]+t[r]}function kie(t){let r=Math.floor(t);if(!(r>=0))throw new Error(`invalid digits: ${t}`);if(r>15)return xq;const n=10**r;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+s[a]}}class Aie{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?xq:kie(r)}moveTo(r,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,n){this._append`L${this._x1=+r},${this._y1=+n}`}quadraticCurveTo(r,n,s,a){this._append`Q${+r},${+n},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(r,n,s,a,i,o){this._append`C${+r},${+n},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(r,n,s,a,i){if(r=+r,n=+n,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,u=s-r,m=a-n,f=o-r,p=l-n,g=f*f+p*p;if(this._x1===null)this._append`M${this._x1=r},${this._y1=n}`;else if(g>Ou)if(!(Math.abs(p*u-m*f)>Ou)||!i)this._append`L${this._x1=r},${this._y1=n}`;else{let b=s-o,y=a-l,_=u*u+m*m,w=b*b+y*y,k=Math.sqrt(_),A=Math.sqrt(g),P=i*Math.tan((ok-Math.acos((_+g-w)/(2*k*A)))/2),O=P/A,I=P/k;Math.abs(O-1)>Ou&&this._append`L${r+O*f},${n+O*p}`,this._append`A${i},${i},0,0,${+(p*b>f*y)},${this._x1=r+I*u},${this._y1=n+I*m}`}}arc(r,n,s,a,i,o){if(r=+r,n=+n,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(a),u=s*Math.sin(a),m=r+l,f=n+u,p=1^o,g=o?a-i:i-a;this._x1===null?this._append`M${m},${f}`:(Math.abs(this._x1-m)>Ou||Math.abs(this._y1-f)>Ou)&&this._append`L${m},${f}`,s&&(g<0&&(g=g%lk+lk),g>Cie?this._append`A${s},${s},0,1,${p},${r-l},${n-u}A${s},${s},0,1,${p},${this._x1=m},${this._y1=f}`:g>Ou&&this._append`A${s},${s},0,${+(g>=ok)},${p},${this._x1=r+s*Math.cos(i)},${this._y1=n+s*Math.sin(i)}`)}rect(r,n,s,a){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function a4(t){let r=3;return t.digits=function(n){if(!arguments.length)return r;if(n==null)r=null;else{const s=Math.floor(n);if(!(s>=0))throw new RangeError(`invalid digits: ${n}`);r=s}return t},()=>new Aie(r)}function i4(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function gq(t){this._context=t}gq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:this._context.lineTo(t,r);break}}};function bj(t){return new gq(t)}function vq(t){return t[0]}function yq(t){return t[1]}function bq(t,r){var n=Un(!0),s=null,a=bj,i=null,o=a4(l);t=typeof t=="function"?t:t===void 0?vq:Un(t),r=typeof r=="function"?r:r===void 0?yq:Un(r);function l(u){var m,f=(u=i4(u)).length,p,g=!1,b;for(s==null&&(i=a(b=o())),m=0;m<=f;++m)!(m<f&&n(p=u[m],m,u))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+t(p,m,u),+r(p,m,u));if(b)return i=null,b+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:Un(+u),l):t},l.y=function(u){return arguments.length?(r=typeof u=="function"?u:Un(+u),l):r},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Un(!!u),l):n},l.curve=function(u){return arguments.length?(a=u,s!=null&&(i=a(s)),l):a},l.context=function(u){return arguments.length?(u==null?s=i=null:i=a(s=u),l):s},l}function Ty(t,r,n){var s=null,a=Un(!0),i=null,o=bj,l=null,u=a4(m);t=typeof t=="function"?t:t===void 0?vq:Un(+t),r=typeof r=="function"?r:Un(r===void 0?0:+r),n=typeof n=="function"?n:n===void 0?yq:Un(+n);function m(p){var g,b,y,_=(p=i4(p)).length,w,k=!1,A,P=new Array(_),O=new Array(_);for(i==null&&(l=o(A=u())),g=0;g<=_;++g){if(!(g<_&&a(w=p[g],g,p))===k)if(k=!k)b=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=g-1;y>=b;--y)l.point(P[y],O[y]);l.lineEnd(),l.areaEnd()}k&&(P[g]=+t(w,g,p),O[g]=+r(w,g,p),l.point(s?+s(w,g,p):P[g],n?+n(w,g,p):O[g]))}if(A)return l=null,A+""||null}function f(){return bq().defined(a).curve(o).context(i)}return m.x=function(p){return arguments.length?(t=typeof p=="function"?p:Un(+p),s=null,m):t},m.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Un(+p),m):t},m.x1=function(p){return arguments.length?(s=p==null?null:typeof p=="function"?p:Un(+p),m):s},m.y=function(p){return arguments.length?(r=typeof p=="function"?p:Un(+p),n=null,m):r},m.y0=function(p){return arguments.length?(r=typeof p=="function"?p:Un(+p),m):r},m.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Un(+p),m):n},m.lineX0=m.lineY0=function(){return f().x(t).y(r)},m.lineY1=function(){return f().x(t).y(n)},m.lineX1=function(){return f().x(s).y(r)},m.defined=function(p){return arguments.length?(a=typeof p=="function"?p:Un(!!p),m):a},m.curve=function(p){return arguments.length?(o=p,i!=null&&(l=o(i)),m):o},m.context=function(p){return arguments.length?(p==null?i=l=null:l=o(i=p),m):i},m}class jq{constructor(r,n){this._context=r,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,n){switch(r=+r,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,n,r,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,r,this._y0,r,n);break}}this._x0=r,this._y0=n}}function Pie(t){return new jq(t,!0)}function Tie(t){return new jq(t,!1)}const o4={draw(t,r){const n=Jo(r/w0);t.moveTo(n,0),t.arc(0,0,n,0,yj)}},Eie={draw(t,r){const n=Jo(r/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},wq=Jo(1/3),Oie=wq*2,Iie={draw(t,r){const n=Jo(r/Oie),s=n*wq;t.moveTo(0,-n),t.lineTo(s,0),t.lineTo(0,n),t.lineTo(-s,0),t.closePath()}},Mie={draw(t,r){const n=Jo(r),s=-n/2;t.rect(s,s,n,n)}},Die=.8908130915292852,_q=j0(w0/10)/j0(7*w0/10),Rie=j0(yj/10)*_q,Lie=-pq(yj/10)*_q,Fie={draw(t,r){const n=Jo(r*Die),s=Rie*n,a=Lie*n;t.moveTo(0,-n),t.lineTo(s,a);for(let i=1;i<5;++i){const o=yj*i/5,l=pq(o),u=j0(o);t.lineTo(u*n,-l*n),t.lineTo(l*s-u*a,u*s+l*a)}t.closePath()}},g1=Jo(3),$ie={draw(t,r){const n=-Jo(r/(g1*3));t.moveTo(0,n*2),t.lineTo(-g1*n,-n),t.lineTo(g1*n,-n),t.closePath()}},no=-.5,so=Jo(3)/2,ck=1/Jo(12),zie=(ck/2+1)*3,Bie={draw(t,r){const n=Jo(r/zie),s=n/2,a=n*ck,i=s,o=n*ck+n,l=-i,u=o;t.moveTo(s,a),t.lineTo(i,o),t.lineTo(l,u),t.lineTo(no*s-so*a,so*s+no*a),t.lineTo(no*i-so*o,so*i+no*o),t.lineTo(no*l-so*u,so*l+no*u),t.lineTo(no*s+so*a,no*a-so*s),t.lineTo(no*i+so*o,no*o-so*i),t.lineTo(no*l+so*u,no*u-so*l),t.closePath()}};function qie(t,r){let n=null,s=a4(a);t=typeof t=="function"?t:Un(t||o4),r=typeof r=="function"?r:Un(r===void 0?64:+r);function a(){let i;if(n||(n=i=s()),t.apply(this,arguments).draw(n,+r.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Un(i),a):t},a.size=function(i){return arguments.length?(r=typeof i=="function"?i:Un(+i),a):r},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function _0(){}function N0(t,r,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+r)/6,(t._y0+4*t._y1+n)/6)}function Nq(t){this._context=t}Nq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:N0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:N0(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function Uie(t){return new Nq(t)}function Sq(t){this._context=t}Sq.prototype={areaStart:_0,areaEnd:_0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._x2=t,this._y2=r;break;case 1:this._point=2,this._x3=t,this._y3=r;break;case 2:this._point=3,this._x4=t,this._y4=r,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+r)/6);break;default:N0(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function Vie(t){return new Sq(t)}function Cq(t){this._context=t}Cq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,s=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:N0(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function Kie(t){return new Cq(t)}function kq(t){this._context=t}kq.prototype={areaStart:_0,areaEnd:_0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,r){t=+t,r=+r,this._point?this._context.lineTo(t,r):(this._point=1,this._context.moveTo(t,r))}};function Wie(t){return new kq(t)}function i5(t){return t<0?-1:1}function o5(t,r,n){var s=t._x1-t._x0,a=r-t._x1,i=(t._y1-t._y0)/(s||a<0&&-0),o=(n-t._y1)/(a||s<0&&-0),l=(i*a+o*s)/(s+a);return(i5(i)+i5(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function l5(t,r){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-r)/2:r}function v1(t,r,n){var s=t._x0,a=t._y0,i=t._x1,o=t._y1,l=(i-s)/3;t._context.bezierCurveTo(s+l,a+l*r,i-l,o-l*n,i,o)}function S0(t){this._context=t}S0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:v1(this,this._t0,l5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){var n=NaN;if(t=+t,r=+r,!(t===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,v1(this,l5(this,n=o5(this,t,r)),n);break;default:v1(this,this._t0,n=o5(this,t,r));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r,this._t0=n}}};function Aq(t){this._context=new Pq(t)}(Aq.prototype=Object.create(S0.prototype)).point=function(t,r){S0.prototype.point.call(this,r,t)};function Pq(t){this._context=t}Pq.prototype={moveTo:function(t,r){this._context.moveTo(r,t)},closePath:function(){this._context.closePath()},lineTo:function(t,r){this._context.lineTo(r,t)},bezierCurveTo:function(t,r,n,s,a,i){this._context.bezierCurveTo(r,t,s,n,i,a)}};function Hie(t){return new S0(t)}function Gie(t){return new Aq(t)}function Tq(t){this._context=t}Tq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,r=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],r[0]):this._context.moveTo(t[0],r[0]),n===2)this._context.lineTo(t[1],r[1]);else for(var s=c5(t),a=c5(r),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],t[o],r[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,r){this._x.push(+t),this._y.push(+r)}};function c5(t){var r,n=t.length-1,s,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],r=1;r<n-1;++r)a[r]=1,i[r]=4,o[r]=4*t[r]+2*t[r+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*t[n-1]+t[n],r=1;r<n;++r)s=a[r]/i[r-1],i[r]-=s,o[r]-=s*o[r-1];for(a[n-1]=o[n-1]/i[n-1],r=n-2;r>=0;--r)a[r]=(o[r]-a[r+1])/i[r];for(i[n-1]=(t[n]+a[n-1])/2,r=0;r<n-1;++r)i[r]=2*t[r+1]-a[r+1];return[a,i]}function Zie(t){return new Tq(t)}function jj(t,r){this._context=t,this._t=r}jj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(t,r);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,r)}break}}this._x=t,this._y=r}};function Yie(t){return new jj(t,.5)}function Qie(t){return new jj(t,0)}function Xie(t){return new jj(t,1)}function Hm(t,r){if((o=t.length)>1)for(var n=1,s,a,i=t[r[0]],o,l=i.length;n<o;++n)for(a=i,i=t[r[n]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function dk(t){for(var r=t.length,n=new Array(r);--r>=0;)n[r]=r;return n}function Jie(t,r){return t[r]}function eoe(t){const r=[];return r.key=t,r}function toe(){var t=Un([]),r=dk,n=Hm,s=Jie;function a(i){var o=Array.from(t.apply(this,arguments),eoe),l,u=o.length,m=-1,f;for(const p of i)for(l=0,++m;l<u;++l)(o[l][m]=[0,+s(p,o[l].key,m,i)]).data=p;for(l=0,f=i4(r(o));l<u;++l)o[f[l]].index=l;return n(o,f),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Un(Array.from(i)),a):t},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:Un(+i),a):s},a.order=function(i){return arguments.length?(r=i==null?dk:typeof i=="function"?i:Un(Array.from(i)),a):r},a.offset=function(i){return arguments.length?(n=i??Hm,a):n},a}function roe(t,r){if((s=t.length)>0){for(var n,s,a=0,i=t[0].length,o;a<i;++a){for(o=n=0;n<s;++n)o+=t[n][a][1]||0;if(o)for(n=0;n<s;++n)t[n][a][1]/=o}Hm(t,r)}}function noe(t,r){if((a=t.length)>0){for(var n=0,s=t[r[0]],a,i=s.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=t[o][n][1]||0;s[n][1]+=s[n][0]=-l/2}Hm(t,r)}}function soe(t,r){if(!(!((o=t.length)>0)||!((i=(a=t[r[0]]).length)>0))){for(var n=0,s=1,a,i,o;s<i;++s){for(var l=0,u=0,m=0;l<o;++l){for(var f=t[r[l]],p=f[s][1]||0,g=f[s-1][1]||0,b=(p-g)/2,y=0;y<l;++y){var _=t[r[y]],w=_[s][1]||0,k=_[s-1][1]||0;b+=w-k}u+=p,m+=b*p}a[s-1][1]+=a[s-1][0]=n,u&&(n-=m/u)}a[s-1][1]+=a[s-1][0]=n,Hm(t,r)}}function kx(t){"@babel/helpers - typeof";return kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},kx(t)}var aoe=["type","size","sizeType"];function uk(){return uk=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},uk.apply(this,arguments)}function d5(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function u5(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?d5(Object(n),!0).forEach(function(s){ioe(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d5(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function ioe(t,r,n){return r=ooe(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function ooe(t){var r=loe(t,"string");return kx(r)=="symbol"?r:r+""}function loe(t,r){if(kx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(kx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function coe(t,r){if(t==null)return{};var n=doe(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function doe(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}var Eq={symbolCircle:o4,symbolCross:Eie,symbolDiamond:Iie,symbolSquare:Mie,symbolStar:Fie,symbolTriangle:$ie,symbolWye:Bie},uoe=Math.PI/180,hoe=function(r){var n="symbol".concat(vj(r));return Eq[n]||o4},moe=function(r,n,s){if(n==="area")return r;switch(s){case"cross":return 5*r*r/9;case"diamond":return .5*r*r/Math.sqrt(3);case"square":return r*r;case"star":{var a=18*uoe;return 1.25*r*r*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*r*r/4;case"wye":return(21-10*Math.sqrt(3))*r*r/8;default:return Math.PI*r*r/4}},foe=function(r,n){Eq["symbol".concat(vj(r))]=n},l4=function(r){var n=r.type,s=n===void 0?"circle":n,a=r.size,i=a===void 0?64:a,o=r.sizeType,l=o===void 0?"area":o,u=coe(r,aoe),m=u5(u5({},u),{},{type:s,size:i,sizeType:l}),f=function(){var w=hoe(s),k=qie().type(w).size(moe(i,l,s));return k()},p=m.className,g=m.cx,b=m.cy,y=Xt(m,!0);return g===+g&&b===+b&&i===+i?le.createElement("path",uk({},y,{className:jr("recharts-symbols",p),transform:"translate(".concat(g,", ").concat(b,")"),d:f()})):null};l4.registerSymbol=foe;function Gm(t){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gm(t)}function hk(){return hk=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},hk.apply(this,arguments)}function h5(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function poe(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?h5(Object(n),!0).forEach(function(s){Ax(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h5(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function xoe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function goe(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,Iq(s.key),s)}}function voe(t,r,n){return r&&goe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yoe(t,r,n){return r=C0(r),boe(t,Oq()?Reflect.construct(r,n||[],C0(t).constructor):r.apply(t,n))}function boe(t,r){if(r&&(Gm(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return joe(t)}function joe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oq=function(){return!!t})()}function C0(t){return C0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},C0(t)}function woe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&mk(t,r)}function mk(t,r){return mk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},mk(t,r)}function Ax(t,r,n){return r=Iq(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Iq(t){var r=_oe(t,"string");return Gm(r)=="symbol"?r:r+""}function _oe(t,r){if(Gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Gm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ao=32,c4=(function(t){function r(){return xoe(this,r),yoe(this,r,arguments)}return woe(r,t),voe(r,[{key:"renderIcon",value:function(s){var a=this.props.inactiveColor,i=ao/2,o=ao/6,l=ao/3,u=s.inactive?a:s.color;if(s.type==="plainline")return le.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:i,x2:ao,y2:i,className:"recharts-legend-icon"});if(s.type==="line")return le.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ao,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(s.type==="rect")return le.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(ao/8,"h").concat(ao,"v").concat(ao*3/4,"h").concat(-ao,"z"),className:"recharts-legend-icon"});if(le.isValidElement(s.legendIcon)){var m=poe({},s);return delete m.legendIcon,le.cloneElement(s.legendIcon,m)}return le.createElement(l4,{fill:u,cx:i,cy:i,size:ao,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,u=a.formatter,m=a.inactiveColor,f={x:0,y:0,width:ao,height:ao},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(b,y){var _=b.formatter||u,w=jr(Ax(Ax({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",b.inactive));if(b.type==="none")return null;var k=dr(b.value)?null:b.value;Uo(!dr(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=b.inactive?m:b.color;return le.createElement("li",hk({className:w,style:p,key:"legend-item-".concat(y)},ah(s.props,b,y)),le.createElement(ak,{width:o,height:o,viewBox:f,style:g},s.renderIcon(b)),le.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},_?_(k,b,y):k))})}},{key:"render",value:function(){var s=this.props,a=s.payload,i=s.layout,o=s.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return le.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(j.PureComponent);Ax(c4,"displayName","Legend");Ax(c4,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var y1,m5;function Noe(){if(m5)return y1;m5=1;var t=pj();function r(){this.__data__=new t,this.size=0}return y1=r,y1}var b1,f5;function Soe(){if(f5)return b1;f5=1;function t(r){var n=this.__data__,s=n.delete(r);return this.size=n.size,s}return b1=t,b1}var j1,p5;function Coe(){if(p5)return j1;p5=1;function t(r){return this.__data__.get(r)}return j1=t,j1}var w1,x5;function koe(){if(x5)return w1;x5=1;function t(r){return this.__data__.has(r)}return w1=t,w1}var _1,g5;function Aoe(){if(g5)return _1;g5=1;var t=pj(),r=JP(),n=e4(),s=200;function a(i,o){var l=this.__data__;if(l instanceof t){var u=l.__data__;if(!r||u.length<s-1)return u.push([i,o]),this.size=++l.size,this;l=this.__data__=new n(u)}return l.set(i,o),this.size=l.size,this}return _1=a,_1}var N1,v5;function Mq(){if(v5)return N1;v5=1;var t=pj(),r=Noe(),n=Soe(),s=Coe(),a=koe(),i=Aoe();function o(l){var u=this.__data__=new t(l);this.size=u.size}return o.prototype.clear=r,o.prototype.delete=n,o.prototype.get=s,o.prototype.has=a,o.prototype.set=i,N1=o,N1}var S1,y5;function Poe(){if(y5)return S1;y5=1;var t="__lodash_hash_undefined__";function r(n){return this.__data__.set(n,t),this}return S1=r,S1}var C1,b5;function Toe(){if(b5)return C1;b5=1;function t(r){return this.__data__.has(r)}return C1=t,C1}var k1,j5;function Dq(){if(j5)return k1;j5=1;var t=e4(),r=Poe(),n=Toe();function s(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new t;++i<o;)this.add(a[i])}return s.prototype.add=s.prototype.push=r,s.prototype.has=n,k1=s,k1}var A1,w5;function Rq(){if(w5)return A1;w5=1;function t(r,n){for(var s=-1,a=r==null?0:r.length;++s<a;)if(n(r[s],s,r))return!0;return!1}return A1=t,A1}var P1,_5;function Lq(){if(_5)return P1;_5=1;function t(r,n){return r.has(n)}return P1=t,P1}var T1,N5;function Fq(){if(N5)return T1;N5=1;var t=Dq(),r=Rq(),n=Lq(),s=1,a=2;function i(o,l,u,m,f,p){var g=u&s,b=o.length,y=l.length;if(b!=y&&!(g&&y>b))return!1;var _=p.get(o),w=p.get(l);if(_&&w)return _==l&&w==o;var k=-1,A=!0,P=u&a?new t:void 0;for(p.set(o,l),p.set(l,o);++k<b;){var O=o[k],I=l[k];if(m)var D=g?m(I,O,k,l,o,p):m(O,I,k,o,l,p);if(D!==void 0){if(D)continue;A=!1;break}if(P){if(!r(l,function(F,B){if(!n(P,B)&&(O===F||f(O,F,u,m,p)))return P.push(B)})){A=!1;break}}else if(!(O===I||f(O,I,u,m,p))){A=!1;break}}return p.delete(o),p.delete(l),A}return T1=i,T1}var E1,S5;function Eoe(){if(S5)return E1;S5=1;var t=Ll(),r=t.Uint8Array;return E1=r,E1}var O1,C5;function Ooe(){if(C5)return O1;C5=1;function t(r){var n=-1,s=Array(r.size);return r.forEach(function(a,i){s[++n]=[i,a]}),s}return O1=t,O1}var I1,k5;function d4(){if(k5)return I1;k5=1;function t(r){var n=-1,s=Array(r.size);return r.forEach(function(a){s[++n]=a}),s}return I1=t,I1}var M1,A5;function Ioe(){if(A5)return M1;A5=1;var t=Rg(),r=Eoe(),n=XP(),s=Fq(),a=Ooe(),i=d4(),o=1,l=2,u="[object Boolean]",m="[object Date]",f="[object Error]",p="[object Map]",g="[object Number]",b="[object RegExp]",y="[object Set]",_="[object String]",w="[object Symbol]",k="[object ArrayBuffer]",A="[object DataView]",P=t?t.prototype:void 0,O=P?P.valueOf:void 0;function I(D,F,B,H,re,G,J){switch(B){case A:if(D.byteLength!=F.byteLength||D.byteOffset!=F.byteOffset)return!1;D=D.buffer,F=F.buffer;case k:return!(D.byteLength!=F.byteLength||!G(new r(D),new r(F)));case u:case m:case g:return n(+D,+F);case f:return D.name==F.name&&D.message==F.message;case b:case _:return D==F+"";case p:var Z=a;case y:var ne=H&o;if(Z||(Z=i),D.size!=F.size&&!ne)return!1;var K=J.get(D);if(K)return K==F;H|=l,J.set(D,F);var ae=s(Z(D),Z(F),H,re,G,J);return J.delete(D),ae;case w:if(O)return O.call(D)==O.call(F)}return!1}return M1=I,M1}var D1,P5;function $q(){if(P5)return D1;P5=1;function t(r,n){for(var s=-1,a=n.length,i=r.length;++s<a;)r[i+s]=n[s];return r}return D1=t,D1}var R1,T5;function Moe(){if(T5)return R1;T5=1;var t=$q(),r=yi();function n(s,a,i){var o=a(s);return r(s)?o:t(o,i(s))}return R1=n,R1}var L1,E5;function Doe(){if(E5)return L1;E5=1;function t(r,n){for(var s=-1,a=r==null?0:r.length,i=0,o=[];++s<a;){var l=r[s];n(l,s,r)&&(o[i++]=l)}return o}return L1=t,L1}var F1,O5;function Roe(){if(O5)return F1;O5=1;function t(){return[]}return F1=t,F1}var $1,I5;function Loe(){if(I5)return $1;I5=1;var t=Doe(),r=Roe(),n=Object.prototype,s=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),t(a(o),function(l){return s.call(o,l)}))}:r;return $1=i,$1}var z1,M5;function Foe(){if(M5)return z1;M5=1;function t(r,n){for(var s=-1,a=Array(r);++s<r;)a[s]=n(s);return a}return z1=t,z1}var B1,D5;function $oe(){if(D5)return B1;D5=1;var t=Mc(),r=Dc(),n="[object Arguments]";function s(a){return r(a)&&t(a)==n}return B1=s,B1}var q1,R5;function u4(){if(R5)return q1;R5=1;var t=$oe(),r=Dc(),n=Object.prototype,s=n.hasOwnProperty,a=n.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return r(o)&&s.call(o,"callee")&&!a.call(o,"callee")};return q1=i,q1}var rx={exports:{}},U1,L5;function zoe(){if(L5)return U1;L5=1;function t(){return!1}return U1=t,U1}rx.exports;var F5;function zq(){return F5||(F5=1,(function(t,r){var n=Ll(),s=zoe(),a=r&&!r.nodeType&&r,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,l=o?n.Buffer:void 0,u=l?l.isBuffer:void 0,m=u||s;t.exports=m})(rx,rx.exports)),rx.exports}var V1,$5;function h4(){if($5)return V1;$5=1;var t=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function n(s,a){var i=typeof s;return a=a??t,!!a&&(i=="number"||i!="symbol"&&r.test(s))&&s>-1&&s%1==0&&s<a}return V1=n,V1}var K1,z5;function m4(){if(z5)return K1;z5=1;var t=9007199254740991;function r(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return K1=r,K1}var W1,B5;function Boe(){if(B5)return W1;B5=1;var t=Mc(),r=m4(),n=Dc(),s="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",u="[object Function]",m="[object Map]",f="[object Number]",p="[object Object]",g="[object RegExp]",b="[object Set]",y="[object String]",_="[object WeakMap]",w="[object ArrayBuffer]",k="[object DataView]",A="[object Float32Array]",P="[object Float64Array]",O="[object Int8Array]",I="[object Int16Array]",D="[object Int32Array]",F="[object Uint8Array]",B="[object Uint8ClampedArray]",H="[object Uint16Array]",re="[object Uint32Array]",G={};G[A]=G[P]=G[O]=G[I]=G[D]=G[F]=G[B]=G[H]=G[re]=!0,G[s]=G[a]=G[w]=G[i]=G[k]=G[o]=G[l]=G[u]=G[m]=G[f]=G[p]=G[g]=G[b]=G[y]=G[_]=!1;function J(Z){return n(Z)&&r(Z.length)&&!!G[t(Z)]}return W1=J,W1}var H1,q5;function Bq(){if(q5)return H1;q5=1;function t(r){return function(n){return r(n)}}return H1=t,H1}var nx={exports:{}};nx.exports;var U5;function qoe(){return U5||(U5=1,(function(t,r){var n=iq(),s=r&&!r.nodeType&&r,a=s&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===s,o=i&&n.process,l=(function(){try{var u=a&&a.require&&a.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(nx,nx.exports)),nx.exports}var G1,V5;function qq(){if(V5)return G1;V5=1;var t=Boe(),r=Bq(),n=qoe(),s=n&&n.isTypedArray,a=s?r(s):t;return G1=a,G1}var Z1,K5;function Uoe(){if(K5)return Z1;K5=1;var t=Foe(),r=u4(),n=yi(),s=zq(),a=h4(),i=qq(),o=Object.prototype,l=o.hasOwnProperty;function u(m,f){var p=n(m),g=!p&&r(m),b=!p&&!g&&s(m),y=!p&&!g&&!b&&i(m),_=p||g||b||y,w=_?t(m.length,String):[],k=w.length;for(var A in m)(f||l.call(m,A))&&!(_&&(A=="length"||b&&(A=="offset"||A=="parent")||y&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||a(A,k)))&&w.push(A);return w}return Z1=u,Z1}var Y1,W5;function Voe(){if(W5)return Y1;W5=1;var t=Object.prototype;function r(n){var s=n&&n.constructor,a=typeof s=="function"&&s.prototype||t;return n===a}return Y1=r,Y1}var Q1,H5;function Uq(){if(H5)return Q1;H5=1;function t(r,n){return function(s){return r(n(s))}}return Q1=t,Q1}var X1,G5;function Koe(){if(G5)return X1;G5=1;var t=Uq(),r=t(Object.keys,Object);return X1=r,X1}var J1,Z5;function Woe(){if(Z5)return J1;Z5=1;var t=Voe(),r=Koe(),n=Object.prototype,s=n.hasOwnProperty;function a(i){if(!t(i))return r(i);var o=[];for(var l in Object(i))s.call(i,l)&&l!="constructor"&&o.push(l);return o}return J1=a,J1}var eS,Y5;function Lg(){if(Y5)return eS;Y5=1;var t=QP(),r=m4();function n(s){return s!=null&&r(s.length)&&!t(s)}return eS=n,eS}var tS,Q5;function wj(){if(Q5)return tS;Q5=1;var t=Uoe(),r=Woe(),n=Lg();function s(a){return n(a)?t(a):r(a)}return tS=s,tS}var rS,X5;function Hoe(){if(X5)return rS;X5=1;var t=Moe(),r=Loe(),n=wj();function s(a){return t(a,n,r)}return rS=s,rS}var nS,J5;function Goe(){if(J5)return nS;J5=1;var t=Hoe(),r=1,n=Object.prototype,s=n.hasOwnProperty;function a(i,o,l,u,m,f){var p=l&r,g=t(i),b=g.length,y=t(o),_=y.length;if(b!=_&&!p)return!1;for(var w=b;w--;){var k=g[w];if(!(p?k in o:s.call(o,k)))return!1}var A=f.get(i),P=f.get(o);if(A&&P)return A==o&&P==i;var O=!0;f.set(i,o),f.set(o,i);for(var I=p;++w<b;){k=g[w];var D=i[k],F=o[k];if(u)var B=p?u(F,D,k,o,i,f):u(D,F,k,i,o,f);if(!(B===void 0?D===F||m(D,F,l,u,f):B)){O=!1;break}I||(I=k=="constructor")}if(O&&!I){var H=i.constructor,re=o.constructor;H!=re&&"constructor"in i&&"constructor"in o&&!(typeof H=="function"&&H instanceof H&&typeof re=="function"&&re instanceof re)&&(O=!1)}return f.delete(i),f.delete(o),O}return nS=a,nS}var sS,e3;function Zoe(){if(e3)return sS;e3=1;var t=jh(),r=Ll(),n=t(r,"DataView");return sS=n,sS}var aS,t3;function Yoe(){if(t3)return aS;t3=1;var t=jh(),r=Ll(),n=t(r,"Promise");return aS=n,aS}var iS,r3;function Vq(){if(r3)return iS;r3=1;var t=jh(),r=Ll(),n=t(r,"Set");return iS=n,iS}var oS,n3;function Qoe(){if(n3)return oS;n3=1;var t=jh(),r=Ll(),n=t(r,"WeakMap");return oS=n,oS}var lS,s3;function Xoe(){if(s3)return lS;s3=1;var t=Zoe(),r=JP(),n=Yoe(),s=Vq(),a=Qoe(),i=Mc(),o=oq(),l="[object Map]",u="[object Object]",m="[object Promise]",f="[object Set]",p="[object WeakMap]",g="[object DataView]",b=o(t),y=o(r),_=o(n),w=o(s),k=o(a),A=i;return(t&&A(new t(new ArrayBuffer(1)))!=g||r&&A(new r)!=l||n&&A(n.resolve())!=m||s&&A(new s)!=f||a&&A(new a)!=p)&&(A=function(P){var O=i(P),I=O==u?P.constructor:void 0,D=I?o(I):"";if(D)switch(D){case b:return g;case y:return l;case _:return m;case w:return f;case k:return p}return O}),lS=A,lS}var cS,a3;function Joe(){if(a3)return cS;a3=1;var t=Mq(),r=Fq(),n=Ioe(),s=Goe(),a=Xoe(),i=yi(),o=zq(),l=qq(),u=1,m="[object Arguments]",f="[object Array]",p="[object Object]",g=Object.prototype,b=g.hasOwnProperty;function y(_,w,k,A,P,O){var I=i(_),D=i(w),F=I?f:a(_),B=D?f:a(w);F=F==m?p:F,B=B==m?p:B;var H=F==p,re=B==p,G=F==B;if(G&&o(_)){if(!o(w))return!1;I=!0,H=!1}if(G&&!H)return O||(O=new t),I||l(_)?r(_,w,k,A,P,O):n(_,w,F,k,A,P,O);if(!(k&u)){var J=H&&b.call(_,"__wrapped__"),Z=re&&b.call(w,"__wrapped__");if(J||Z){var ne=J?_.value():_,K=Z?w.value():w;return O||(O=new t),P(ne,K,k,A,O)}}return G?(O||(O=new t),s(_,w,k,A,P,O)):!1}return cS=y,cS}var dS,i3;function f4(){if(i3)return dS;i3=1;var t=Joe(),r=Dc();function n(s,a,i,o,l){return s===a?!0:s==null||a==null||!r(s)&&!r(a)?s!==s&&a!==a:t(s,a,i,o,n,l)}return dS=n,dS}var uS,o3;function ele(){if(o3)return uS;o3=1;var t=Mq(),r=f4(),n=1,s=2;function a(i,o,l,u){var m=l.length,f=m,p=!u;if(i==null)return!f;for(i=Object(i);m--;){var g=l[m];if(p&&g[2]?g[1]!==i[g[0]]:!(g[0]in i))return!1}for(;++m<f;){g=l[m];var b=g[0],y=i[b],_=g[1];if(p&&g[2]){if(y===void 0&&!(b in i))return!1}else{var w=new t;if(u)var k=u(y,_,b,i,o,w);if(!(k===void 0?r(_,y,n|s,u,w):k))return!1}}return!0}return uS=a,uS}var hS,l3;function Kq(){if(l3)return hS;l3=1;var t=Gd();function r(n){return n===n&&!t(n)}return hS=r,hS}var mS,c3;function tle(){if(c3)return mS;c3=1;var t=Kq(),r=wj();function n(s){for(var a=r(s),i=a.length;i--;){var o=a[i],l=s[o];a[i]=[o,l,t(l)]}return a}return mS=n,mS}var fS,d3;function Wq(){if(d3)return fS;d3=1;function t(r,n){return function(s){return s==null?!1:s[r]===n&&(n!==void 0||r in Object(s))}}return fS=t,fS}var pS,u3;function rle(){if(u3)return pS;u3=1;var t=ele(),r=tle(),n=Wq();function s(a){var i=r(a);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(o){return o===a||t(o,a,i)}}return pS=s,pS}var xS,h3;function nle(){if(h3)return xS;h3=1;function t(r,n){return r!=null&&n in Object(r)}return xS=t,xS}var gS,m3;function sle(){if(m3)return gS;m3=1;var t=dq(),r=u4(),n=yi(),s=h4(),a=m4(),i=gj();function o(l,u,m){u=t(u,l);for(var f=-1,p=u.length,g=!1;++f<p;){var b=i(u[f]);if(!(g=l!=null&&m(l,b)))break;l=l[b]}return g||++f!=p?g:(p=l==null?0:l.length,!!p&&a(p)&&s(b,p)&&(n(l)||r(l)))}return gS=o,gS}var vS,f3;function ale(){if(f3)return vS;f3=1;var t=nle(),r=sle();function n(s,a){return s!=null&&r(s,a,t)}return vS=n,vS}var yS,p3;function ile(){if(p3)return yS;p3=1;var t=f4(),r=uq(),n=ale(),s=YP(),a=Kq(),i=Wq(),o=gj(),l=1,u=2;function m(f,p){return s(f)&&a(p)?i(o(f),p):function(g){var b=r(g,f);return b===void 0&&b===p?n(g,f):t(p,b,l|u)}}return yS=m,yS}var bS,x3;function Ff(){if(x3)return bS;x3=1;function t(r){return r}return bS=t,bS}var jS,g3;function ole(){if(g3)return jS;g3=1;function t(r){return function(n){return n?.[r]}}return jS=t,jS}var wS,v3;function lle(){if(v3)return wS;v3=1;var t=r4();function r(n){return function(s){return t(s,n)}}return wS=r,wS}var _S,y3;function cle(){if(y3)return _S;y3=1;var t=ole(),r=lle(),n=YP(),s=gj();function a(i){return n(i)?t(s(i)):r(i)}return _S=a,_S}var NS,b3;function Fl(){if(b3)return NS;b3=1;var t=rle(),r=ile(),n=Ff(),s=yi(),a=cle();function i(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?s(o)?r(o[0],o[1]):t(o):a(o)}return NS=i,NS}var SS,j3;function Hq(){if(j3)return SS;j3=1;function t(r,n,s,a){for(var i=r.length,o=s+(a?1:-1);a?o--:++o<i;)if(n(r[o],o,r))return o;return-1}return SS=t,SS}var CS,w3;function dle(){if(w3)return CS;w3=1;function t(r){return r!==r}return CS=t,CS}var kS,_3;function ule(){if(_3)return kS;_3=1;function t(r,n,s){for(var a=s-1,i=r.length;++a<i;)if(r[a]===n)return a;return-1}return kS=t,kS}var AS,N3;function hle(){if(N3)return AS;N3=1;var t=Hq(),r=dle(),n=ule();function s(a,i,o){return i===i?n(a,i,o):t(a,r,o)}return AS=s,AS}var PS,S3;function mle(){if(S3)return PS;S3=1;var t=hle();function r(n,s){var a=n==null?0:n.length;return!!a&&t(n,s,0)>-1}return PS=r,PS}var TS,C3;function fle(){if(C3)return TS;C3=1;function t(r,n,s){for(var a=-1,i=r==null?0:r.length;++a<i;)if(s(n,r[a]))return!0;return!1}return TS=t,TS}var ES,k3;function ple(){if(k3)return ES;k3=1;function t(){}return ES=t,ES}var OS,A3;function xle(){if(A3)return OS;A3=1;var t=Vq(),r=ple(),n=d4(),s=1/0,a=t&&1/n(new t([,-0]))[1]==s?function(i){return new t(i)}:r;return OS=a,OS}var IS,P3;function gle(){if(P3)return IS;P3=1;var t=Dq(),r=mle(),n=fle(),s=Lq(),a=xle(),i=d4(),o=200;function l(u,m,f){var p=-1,g=r,b=u.length,y=!0,_=[],w=_;if(f)y=!1,g=n;else if(b>=o){var k=m?null:a(u);if(k)return i(k);y=!1,g=s,w=new t}else w=m?[]:_;e:for(;++p<b;){var A=u[p],P=m?m(A):A;if(A=f||A!==0?A:0,y&&P===P){for(var O=w.length;O--;)if(w[O]===P)continue e;m&&w.push(P),_.push(A)}else g(w,P,f)||(w!==_&&w.push(P),_.push(A))}return _}return IS=l,IS}var MS,T3;function vle(){if(T3)return MS;T3=1;var t=Fl(),r=gle();function n(s,a){return s&&s.length?r(s,t(a,2)):[]}return MS=n,MS}var yle=vle();const E3=mn(yle);function Gq(t,r,n){return r===!0?E3(t,n):dr(r)?E3(t,r):t}function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zm(t)}var ble=["ref"];function O3(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function oc(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?O3(Object(n),!0).forEach(function(s){_j(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O3(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function jle(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function I3(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,Yq(s.key),s)}}function wle(t,r,n){return r&&I3(t.prototype,r),n&&I3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _le(t,r,n){return r=k0(r),Nle(t,Zq()?Reflect.construct(r,n||[],k0(t).constructor):r.apply(t,n))}function Nle(t,r){if(r&&(Zm(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sle(t)}function Sle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zq=function(){return!!t})()}function k0(t){return k0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},k0(t)}function Cle(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&fk(t,r)}function fk(t,r){return fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},fk(t,r)}function _j(t,r,n){return r=Yq(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Yq(t){var r=kle(t,"string");return Zm(r)=="symbol"?r:r+""}function kle(t,r){if(Zm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Zm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ale(t,r){if(t==null)return{};var n=Ple(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Ple(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Tle(t){return t.value}function Ele(t,r){if(le.isValidElement(t))return le.cloneElement(t,r);if(typeof t=="function")return le.createElement(t,r);r.ref;var n=Ale(r,ble);return le.createElement(c4,n)}var M3=1,Uu=(function(t){function r(){var n;jle(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=_le(this,r,[].concat(a)),_j(n,"lastBoundingBox",{width:-1,height:-1}),n}return Cle(r,t),wle(r,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>M3||Math.abs(a.height-this.lastBoundingBox.height)>M3)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,s&&s(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?oc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,u=a.margin,m=a.chartWidth,f=a.chartHeight,p,g;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&i==="vertical"){var b=this.getBBoxSnapshot();p={left:((m||0)-b.width)/2}}else p=o==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();g={top:((f||0)-y.height)/2}}else g=l==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return oc(oc({},p),g)}},{key:"render",value:function(){var s=this,a=this.props,i=a.content,o=a.width,l=a.height,u=a.wrapperStyle,m=a.payloadUniqBy,f=a.payload,p=oc(oc({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(u)),u);return le.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(b){s.wrapperNode=b}},Ele(i,oc(oc({},this.props),{},{payload:Gq(f,m,Tle)})))}}],[{key:"getWithHeight",value:function(s,a){var i=oc(oc({},this.defaultProps),s.props),o=i.layout;return o==="vertical"&&jt(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||a}:null}}])})(j.PureComponent);_j(Uu,"displayName","Legend");_j(Uu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var DS,D3;function Ole(){if(D3)return DS;D3=1;var t=Rg(),r=u4(),n=yi(),s=t?t.isConcatSpreadable:void 0;function a(i){return n(i)||r(i)||!!(s&&i&&i[s])}return DS=a,DS}var RS,R3;function Qq(){if(R3)return RS;R3=1;var t=$q(),r=Ole();function n(s,a,i,o,l){var u=-1,m=s.length;for(i||(i=r),l||(l=[]);++u<m;){var f=s[u];a>0&&i(f)?a>1?n(f,a-1,i,o,l):t(l,f):o||(l[l.length]=f)}return l}return RS=n,RS}var LS,L3;function Ile(){if(L3)return LS;L3=1;function t(r){return function(n,s,a){for(var i=-1,o=Object(n),l=a(n),u=l.length;u--;){var m=l[r?u:++i];if(s(o[m],m,o)===!1)break}return n}}return LS=t,LS}var FS,F3;function Mle(){if(F3)return FS;F3=1;var t=Ile(),r=t();return FS=r,FS}var $S,$3;function Xq(){if($3)return $S;$3=1;var t=Mle(),r=wj();function n(s,a){return s&&t(s,a,r)}return $S=n,$S}var zS,z3;function Dle(){if(z3)return zS;z3=1;var t=Lg();function r(n,s){return function(a,i){if(a==null)return a;if(!t(a))return n(a,i);for(var o=a.length,l=s?o:-1,u=Object(a);(s?l--:++l<o)&&i(u[l],l,u)!==!1;);return a}}return zS=r,zS}var BS,B3;function p4(){if(B3)return BS;B3=1;var t=Xq(),r=Dle(),n=r(t);return BS=n,BS}var qS,q3;function Jq(){if(q3)return qS;q3=1;var t=p4(),r=Lg();function n(s,a){var i=-1,o=r(s)?Array(s.length):[];return t(s,function(l,u,m){o[++i]=a(l,u,m)}),o}return qS=n,qS}var US,U3;function Rle(){if(U3)return US;U3=1;function t(r,n){var s=r.length;for(r.sort(n);s--;)r[s]=r[s].value;return r}return US=t,US}var VS,V3;function Lle(){if(V3)return VS;V3=1;var t=Df();function r(n,s){if(n!==s){var a=n!==void 0,i=n===null,o=n===n,l=t(n),u=s!==void 0,m=s===null,f=s===s,p=t(s);if(!m&&!p&&!l&&n>s||l&&u&&f&&!m&&!p||i&&u&&f||!a&&f||!o)return 1;if(!i&&!l&&!p&&n<s||p&&a&&o&&!i&&!l||m&&a&&o||!u&&o||!f)return-1}return 0}return VS=r,VS}var KS,K3;function Fle(){if(K3)return KS;K3=1;var t=Lle();function r(n,s,a){for(var i=-1,o=n.criteria,l=s.criteria,u=o.length,m=a.length;++i<u;){var f=t(o[i],l[i]);if(f){if(i>=m)return f;var p=a[i];return f*(p=="desc"?-1:1)}}return n.index-s.index}return KS=r,KS}var WS,W3;function $le(){if(W3)return WS;W3=1;var t=t4(),r=r4(),n=Fl(),s=Jq(),a=Rle(),i=Bq(),o=Fle(),l=Ff(),u=yi();function m(f,p,g){p.length?p=t(p,function(_){return u(_)?function(w){return r(w,_.length===1?_[0]:_)}:_}):p=[l];var b=-1;p=t(p,i(n));var y=s(f,function(_,w,k){var A=t(p,function(P){return P(_)});return{criteria:A,index:++b,value:_}});return a(y,function(_,w){return o(_,w,g)})}return WS=m,WS}var HS,H3;function zle(){if(H3)return HS;H3=1;function t(r,n,s){switch(s.length){case 0:return r.call(n);case 1:return r.call(n,s[0]);case 2:return r.call(n,s[0],s[1]);case 3:return r.call(n,s[0],s[1],s[2])}return r.apply(n,s)}return HS=t,HS}var GS,G3;function Ble(){if(G3)return GS;G3=1;var t=zle(),r=Math.max;function n(s,a,i){return a=r(a===void 0?s.length-1:a,0),function(){for(var o=arguments,l=-1,u=r(o.length-a,0),m=Array(u);++l<u;)m[l]=o[a+l];l=-1;for(var f=Array(a+1);++l<a;)f[l]=o[l];return f[a]=i(m),t(s,this,f)}}return GS=n,GS}var ZS,Z3;function qle(){if(Z3)return ZS;Z3=1;function t(r){return function(){return r}}return ZS=t,ZS}var YS,Y3;function e7(){if(Y3)return YS;Y3=1;var t=jh(),r=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return YS=r,YS}var QS,Q3;function Ule(){if(Q3)return QS;Q3=1;var t=qle(),r=e7(),n=Ff(),s=r?function(a,i){return r(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:n;return QS=s,QS}var XS,X3;function Vle(){if(X3)return XS;X3=1;var t=800,r=16,n=Date.now;function s(a){var i=0,o=0;return function(){var l=n(),u=r-(l-o);if(o=l,u>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return XS=s,XS}var JS,J3;function Kle(){if(J3)return JS;J3=1;var t=Ule(),r=Vle(),n=r(t);return JS=n,JS}var e2,eD;function Wle(){if(eD)return e2;eD=1;var t=Ff(),r=Ble(),n=Kle();function s(a,i){return n(r(a,i,t),a+"")}return e2=s,e2}var t2,tD;function Nj(){if(tD)return t2;tD=1;var t=XP(),r=Lg(),n=h4(),s=Gd();function a(i,o,l){if(!s(l))return!1;var u=typeof o;return(u=="number"?r(l)&&n(o,l.length):u=="string"&&o in l)?t(l[o],i):!1}return t2=a,t2}var r2,rD;function Hle(){if(rD)return r2;rD=1;var t=Qq(),r=$le(),n=Wle(),s=Nj(),a=n(function(i,o){if(i==null)return[];var l=o.length;return l>1&&s(i,o[0],o[1])?o=[]:l>2&&s(o[0],o[1],o[2])&&(o=[o[0]]),r(i,t(o,1),[])});return r2=a,r2}var Gle=Hle();const x4=mn(Gle);function Px(t){"@babel/helpers - typeof";return Px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Px(t)}function pk(){return pk=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},pk.apply(this,arguments)}function Zle(t,r){return Jle(t)||Xle(t,r)||Qle(t,r)||Yle()}function Yle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qle(t,r){if(t){if(typeof t=="string")return nD(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nD(t,r)}}function nD(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function Xle(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],u=!0,m=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(u=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);u=!0);}catch(f){m=!0,a=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(m)throw a}}return l}}function Jle(t){if(Array.isArray(t))return t}function sD(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function n2(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?sD(Object(n),!0).forEach(function(s){ece(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sD(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function ece(t,r,n){return r=tce(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function tce(t){var r=rce(t,"string");return Px(r)=="symbol"?r:r+""}function rce(t,r){if(Px(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Px(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function nce(t){return Array.isArray(t)&&Ys(t[0])&&Ys(t[1])?t.join(" ~ "):t}var sce=function(r){var n=r.separator,s=n===void 0?" : ":n,a=r.contentStyle,i=a===void 0?{}:a,o=r.itemStyle,l=o===void 0?{}:o,u=r.labelStyle,m=u===void 0?{}:u,f=r.payload,p=r.formatter,g=r.itemSorter,b=r.wrapperClassName,y=r.labelClassName,_=r.label,w=r.labelFormatter,k=r.accessibilityLayer,A=k===void 0?!1:k,P=function(){if(f&&f.length){var J={padding:0,margin:0},Z=(g?x4(f,g):f).map(function(ne,K){if(ne.type==="none")return null;var ae=n2({display:"block",paddingTop:4,paddingBottom:4,color:ne.color||"#000"},l),U=ne.formatter||p||nce,W=ne.value,se=ne.name,de=W,z=se;if(U&&de!=null&&z!=null){var oe=U(W,se,ne,K,f);if(Array.isArray(oe)){var Ce=Zle(oe,2);de=Ce[0],z=Ce[1]}else de=oe}return le.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:ae},Ys(z)?le.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Ys(z)?le.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,le.createElement("span",{className:"recharts-tooltip-item-value"},de),le.createElement("span",{className:"recharts-tooltip-item-unit"},ne.unit||""))});return le.createElement("ul",{className:"recharts-tooltip-item-list",style:J},Z)}return null},O=n2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),I=n2({margin:0},m),D=!br(_),F=D?_:"",B=jr("recharts-default-tooltip",b),H=jr("recharts-tooltip-label",y);D&&w&&f!==void 0&&f!==null&&(F=w(_,f));var re=A?{role:"status","aria-live":"assertive"}:{};return le.createElement("div",pk({className:B,style:O},re),le.createElement("p",{className:H,style:I},le.isValidElement(F)?F:"".concat(F)),P())};function Tx(t){"@babel/helpers - typeof";return Tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Tx(t)}function Ey(t,r,n){return r=ace(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function ace(t){var r=ice(t,"string");return Tx(r)=="symbol"?r:r+""}function ice(t,r){if(Tx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Tx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var qp="recharts-tooltip-wrapper",oce={visibility:"hidden"};function lce(t){var r=t.coordinate,n=t.translateX,s=t.translateY;return jr(qp,Ey(Ey(Ey(Ey({},"".concat(qp,"-right"),jt(n)&&r&&jt(r.x)&&n>=r.x),"".concat(qp,"-left"),jt(n)&&r&&jt(r.x)&&n<r.x),"".concat(qp,"-bottom"),jt(s)&&r&&jt(r.y)&&s>=r.y),"".concat(qp,"-top"),jt(s)&&r&&jt(r.y)&&s<r.y))}function aD(t){var r=t.allowEscapeViewBox,n=t.coordinate,s=t.key,a=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,u=t.viewBox,m=t.viewBoxDimension;if(i&&jt(i[s]))return i[s];var f=n[s]-l-a,p=n[s]+a;if(r[s])return o[s]?f:p;if(o[s]){var g=f,b=u[s];return g<b?Math.max(p,u[s]):Math.max(f,u[s])}var y=p+l,_=u[s]+m;return y>_?Math.max(f,u[s]):Math.max(p,u[s])}function cce(t){var r=t.translateX,n=t.translateY,s=t.useTranslate3d;return{transform:s?"translate3d(".concat(r,"px, ").concat(n,"px, 0)"):"translate(".concat(r,"px, ").concat(n,"px)")}}function dce(t){var r=t.allowEscapeViewBox,n=t.coordinate,s=t.offsetTopLeft,a=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,u=t.viewBox,m,f,p;return o.height>0&&o.width>0&&n?(f=aD({allowEscapeViewBox:r,coordinate:n,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),p=aD({allowEscapeViewBox:r,coordinate:n,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),m=cce({translateX:f,translateY:p,useTranslate3d:l})):m=oce,{cssProperties:m,cssClasses:lce({translateX:f,translateY:p,coordinate:n})}}function Ym(t){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ym(t)}function iD(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function oD(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?iD(Object(n),!0).forEach(function(s){gk(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function uce(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function hce(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,r7(s.key),s)}}function mce(t,r,n){return r&&hce(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fce(t,r,n){return r=A0(r),pce(t,t7()?Reflect.construct(r,n||[],A0(t).constructor):r.apply(t,n))}function pce(t,r){if(r&&(Ym(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xce(t)}function xce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t7=function(){return!!t})()}function A0(t){return A0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},A0(t)}function gce(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&xk(t,r)}function xk(t,r){return xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},xk(t,r)}function gk(t,r,n){return r=r7(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function r7(t){var r=vce(t,"string");return Ym(r)=="symbol"?r:r+""}function vce(t,r){if(Ym(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Ym(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lD=1,yce=(function(t){function r(){var n;uce(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=fce(this,r,[].concat(a)),gk(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),gk(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,u,m,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(u=n.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&l!==void 0?l:0,y:(m=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&m!==void 0?m:0}})}}),n}return gce(r,t),mce(r,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>lD||Math.abs(s.height-this.state.lastBoundingBox.height)>lD)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,u=a.animationEasing,m=a.children,f=a.coordinate,p=a.hasPayload,g=a.isAnimationActive,b=a.offset,y=a.position,_=a.reverseDirection,w=a.useTranslate3d,k=a.viewBox,A=a.wrapperStyle,P=dce({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:b,position:y,reverseDirection:_,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:k}),O=P.cssClasses,I=P.cssProperties,D=oD(oD({transition:g&&i?"transform ".concat(l,"ms ").concat(u):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&p?"visible":"hidden",position:"absolute",top:0,left:0},A);return le.createElement("div",{tabIndex:-1,className:O,style:D,ref:function(B){s.wrapperNode=B}},m)}}])})(j.PureComponent),bce=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Zd={isSsr:bce()};function Qm(t){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qm(t)}function cD(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function dD(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?cD(Object(n),!0).forEach(function(s){g4(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function jce(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function wce(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s7(s.key),s)}}function _ce(t,r,n){return r&&wce(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nce(t,r,n){return r=P0(r),Sce(t,n7()?Reflect.construct(r,n||[],P0(t).constructor):r.apply(t,n))}function Sce(t,r){if(r&&(Qm(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cce(t)}function Cce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n7=function(){return!!t})()}function P0(t){return P0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},P0(t)}function kce(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&vk(t,r)}function vk(t,r){return vk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},vk(t,r)}function g4(t,r,n){return r=s7(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function s7(t){var r=Ace(t,"string");return Qm(r)=="symbol"?r:r+""}function Ace(t,r){if(Qm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Qm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Pce(t){return t.dataKey}function Tce(t,r){return le.isValidElement(t)?le.cloneElement(t,r):typeof t=="function"?le.createElement(t,r):le.createElement(sce,r)}var Br=(function(t){function r(){return jce(this,r),Nce(this,r,arguments)}return kce(r,t),_ce(r,[{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,u=a.animationEasing,m=a.content,f=a.coordinate,p=a.filterNull,g=a.isAnimationActive,b=a.offset,y=a.payload,_=a.payloadUniqBy,w=a.position,k=a.reverseDirection,A=a.useTranslate3d,P=a.viewBox,O=a.wrapperStyle,I=y??[];p&&I.length&&(I=Gq(y.filter(function(F){return F.value!=null&&(F.hide!==!0||s.props.includeHidden)}),_,Pce));var D=I.length>0;return le.createElement(yce,{allowEscapeViewBox:o,animationDuration:l,animationEasing:u,isAnimationActive:g,active:i,coordinate:f,hasPayload:D,offset:b,position:w,reverseDirection:k,useTranslate3d:A,viewBox:P,wrapperStyle:O},Tce(m,dD(dD({},this.props),{},{payload:I})))}}])})(j.PureComponent);g4(Br,"displayName","Tooltip");g4(Br,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Zd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var s2,uD;function Ece(){if(uD)return s2;uD=1;var t=Ll(),r=function(){return t.Date.now()};return s2=r,s2}var a2,hD;function Oce(){if(hD)return a2;hD=1;var t=/\s/;function r(n){for(var s=n.length;s--&&t.test(n.charAt(s)););return s}return a2=r,a2}var i2,mD;function Ice(){if(mD)return i2;mD=1;var t=Oce(),r=/^\s+/;function n(s){return s&&s.slice(0,t(s)+1).replace(r,"")}return i2=n,i2}var o2,fD;function a7(){if(fD)return o2;fD=1;var t=Ice(),r=Gd(),n=Df(),s=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function u(m){if(typeof m=="number")return m;if(n(m))return s;if(r(m)){var f=typeof m.valueOf=="function"?m.valueOf():m;m=r(f)?f+"":f}if(typeof m!="string")return m===0?m:+m;m=t(m);var p=i.test(m);return p||o.test(m)?l(m.slice(2),p?2:8):a.test(m)?s:+m}return o2=u,o2}var l2,pD;function Mce(){if(pD)return l2;pD=1;var t=Gd(),r=Ece(),n=a7(),s="Expected a function",a=Math.max,i=Math.min;function o(l,u,m){var f,p,g,b,y,_,w=0,k=!1,A=!1,P=!0;if(typeof l!="function")throw new TypeError(s);u=n(u)||0,t(m)&&(k=!!m.leading,A="maxWait"in m,g=A?a(n(m.maxWait)||0,u):g,P="trailing"in m?!!m.trailing:P);function O(Z){var ne=f,K=p;return f=p=void 0,w=Z,b=l.apply(K,ne),b}function I(Z){return w=Z,y=setTimeout(B,u),k?O(Z):b}function D(Z){var ne=Z-_,K=Z-w,ae=u-ne;return A?i(ae,g-K):ae}function F(Z){var ne=Z-_,K=Z-w;return _===void 0||ne>=u||ne<0||A&&K>=g}function B(){var Z=r();if(F(Z))return H(Z);y=setTimeout(B,D(Z))}function H(Z){return y=void 0,P&&f?O(Z):(f=p=void 0,b)}function re(){y!==void 0&&clearTimeout(y),w=0,f=_=p=y=void 0}function G(){return y===void 0?b:H(r())}function J(){var Z=r(),ne=F(Z);if(f=arguments,p=this,_=Z,ne){if(y===void 0)return I(_);if(A)return clearTimeout(y),y=setTimeout(B,u),O(_)}return y===void 0&&(y=setTimeout(B,u)),b}return J.cancel=re,J.flush=G,J}return l2=o,l2}var c2,xD;function Dce(){if(xD)return c2;xD=1;var t=Mce(),r=Gd(),n="Expected a function";function s(a,i,o){var l=!0,u=!0;if(typeof a!="function")throw new TypeError(n);return r(o)&&(l="leading"in o?!!o.leading:l,u="trailing"in o?!!o.trailing:u),t(a,i,{leading:l,maxWait:i,trailing:u})}return c2=s,c2}var Rce=Dce();const i7=mn(Rce);function Ex(t){"@babel/helpers - typeof";return Ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ex(t)}function gD(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Oy(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?gD(Object(n),!0).forEach(function(s){Lce(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Lce(t,r,n){return r=Fce(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Fce(t){var r=$ce(t,"string");return Ex(r)=="symbol"?r:r+""}function $ce(t,r){if(Ex(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Ex(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function zce(t,r){return Vce(t)||Uce(t,r)||qce(t,r)||Bce()}function Bce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qce(t,r){if(t){if(typeof t=="string")return vD(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vD(t,r)}}function vD(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function Uce(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],u=!0,m=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(u=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);u=!0);}catch(f){m=!0,a=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(m)throw a}}return l}}function Vce(t){if(Array.isArray(t))return t}var Sn=j.forwardRef(function(t,r){var n=t.aspect,s=t.initialDimension,a=s===void 0?{width:-1,height:-1}:s,i=t.width,o=i===void 0?"100%":i,l=t.height,u=l===void 0?"100%":l,m=t.minWidth,f=m===void 0?0:m,p=t.minHeight,g=t.maxHeight,b=t.children,y=t.debounce,_=y===void 0?0:y,w=t.id,k=t.className,A=t.onResize,P=t.style,O=P===void 0?{}:P,I=j.useRef(null),D=j.useRef();D.current=A,j.useImperativeHandle(r,function(){return Object.defineProperty(I.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),I.current},configurable:!0})});var F=j.useState({containerWidth:a.width,containerHeight:a.height}),B=zce(F,2),H=B[0],re=B[1],G=j.useCallback(function(Z,ne){re(function(K){var ae=Math.round(Z),U=Math.round(ne);return K.containerWidth===ae&&K.containerHeight===U?K:{containerWidth:ae,containerHeight:U}})},[]);j.useEffect(function(){var Z=function(se){var de,z=se[0].contentRect,oe=z.width,Ce=z.height;G(oe,Ce),(de=D.current)===null||de===void 0||de.call(D,oe,Ce)};_>0&&(Z=i7(Z,_,{trailing:!0,leading:!1}));var ne=new ResizeObserver(Z),K=I.current.getBoundingClientRect(),ae=K.width,U=K.height;return G(ae,U),ne.observe(I.current),function(){ne.disconnect()}},[G,_]);var J=j.useMemo(function(){var Z=H.containerWidth,ne=H.containerHeight;if(Z<0||ne<0)return null;Uo(Ru(o)||Ru(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,u),Uo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var K=Ru(o)?Z:o,ae=Ru(u)?ne:u;n&&n>0&&(K?ae=K/n:ae&&(K=ae*n),g&&ae>g&&(ae=g)),Uo(K>0||ae>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,ae,o,u,f,p,n);var U=!Array.isArray(b)&&bc(b.type).endsWith("Chart");return le.Children.map(b,function(W){return le.isValidElement(W)?j.cloneElement(W,Oy({width:K,height:ae},U?{style:Oy({height:"100%",width:"100%",maxHeight:ae,maxWidth:K},W.props.style)}:{})):W})},[n,b,u,g,p,f,H,o]);return le.createElement("div",{id:w?"".concat(w):void 0,className:jr("recharts-responsive-container",k),style:Oy(Oy({},O),{},{width:o,height:u,minWidth:f,minHeight:p,maxHeight:g}),ref:I},J)}),ho=function(r){return null};ho.displayName="Cell";function Ox(t){"@babel/helpers - typeof";return Ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ox(t)}function yD(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function yk(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?yD(Object(n),!0).forEach(function(s){Kce(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Kce(t,r,n){return r=Wce(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Wce(t){var r=Hce(t,"string");return Ox(r)=="symbol"?r:r+""}function Hce(t,r){if(Ox(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Ox(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var xm={widthCache:{},cacheCount:0},Gce=2e3,Zce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},bD="recharts_measurement_span";function Yce(t){var r=yk({},t);return Object.keys(r).forEach(function(n){r[n]||delete r[n]}),r}var ox=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||Zd.isSsr)return{width:0,height:0};var s=Yce(n),a=JSON.stringify({text:r,copyStyle:s});if(xm.widthCache[a])return xm.widthCache[a];try{var i=document.getElementById(bD);i||(i=document.createElement("span"),i.setAttribute("id",bD),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=yk(yk({},Zce),s);Object.assign(i.style,o),i.textContent="".concat(r);var l=i.getBoundingClientRect(),u={width:l.width,height:l.height};return xm.widthCache[a]=u,++xm.cacheCount>Gce&&(xm.cacheCount=0,xm.widthCache={}),u}catch{return{width:0,height:0}}},Qce=function(r){return{top:r.top+window.scrollY-document.documentElement.clientTop,left:r.left+window.scrollX-document.documentElement.clientLeft}};function Ix(t){"@babel/helpers - typeof";return Ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ix(t)}function T0(t,r){return tde(t)||ede(t,r)||Jce(t,r)||Xce()}function Xce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jce(t,r){if(t){if(typeof t=="string")return jD(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jD(t,r)}}function jD(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function ede(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],u=!0,m=!1;try{if(i=(n=n.call(t)).next,r===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);u=!0);}catch(f){m=!0,a=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(m)throw a}}return l}}function tde(t){if(Array.isArray(t))return t}function rde(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function wD(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,sde(s.key),s)}}function nde(t,r,n){return r&&wD(t.prototype,r),n&&wD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sde(t){var r=ade(t,"string");return Ix(r)=="symbol"?r:r+""}function ade(t,r){if(Ix(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Ix(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _D=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ND=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ide=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ode=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,o7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},lde=Object.keys(o7),Nm="NaN";function cde(t,r){return t*o7[r]}var Iy=(function(){function t(r,n){rde(this,t),this.num=r,this.unit=n,this.num=r,this.unit=n,Number.isNaN(r)&&(this.unit=""),n!==""&&!ide.test(n)&&(this.num=NaN,this.unit=""),lde.includes(n)&&(this.num=cde(r,n),this.unit="px")}return nde(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var s,a=(s=ode.exec(n))!==null&&s!==void 0?s:[],i=T0(a,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])})();function l7(t){if(t.includes(Nm))return Nm;for(var r=t;r.includes("*")||r.includes("/");){var n,s=(n=_D.exec(r))!==null&&n!==void 0?n:[],a=T0(s,4),i=a[1],o=a[2],l=a[3],u=Iy.parse(i??""),m=Iy.parse(l??""),f=o==="*"?u.multiply(m):u.divide(m);if(f.isNaN())return Nm;r=r.replace(_D,f.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var p,g=(p=ND.exec(r))!==null&&p!==void 0?p:[],b=T0(g,4),y=b[1],_=b[2],w=b[3],k=Iy.parse(y??""),A=Iy.parse(w??""),P=_==="+"?k.add(A):k.subtract(A);if(P.isNaN())return Nm;r=r.replace(ND,P.toString())}return r}var SD=/\(([^()]*)\)/;function dde(t){for(var r=t;r.includes("(");){var n=SD.exec(r),s=T0(n,2),a=s[1];r=r.replace(SD,l7(a))}return r}function ude(t){var r=t.replace(/\s+/g,"");return r=dde(r),r=l7(r),r}function hde(t){try{return ude(t)}catch{return Nm}}function d2(t){var r=hde(t.slice(5,-1));return r===Nm?"":r}var mde=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],fde=["dx","dy","angle","className","breakAll"];function bk(){return bk=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},bk.apply(this,arguments)}function CD(t,r){if(t==null)return{};var n=pde(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function pde(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function kD(t,r){return yde(t)||vde(t,r)||gde(t,r)||xde()}function xde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gde(t,r){if(t){if(typeof t=="string")return AD(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AD(t,r)}}function AD(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function vde(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],u=!0,m=!1;try{if(i=(n=n.call(t)).next,r===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);u=!0);}catch(f){m=!0,a=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(m)throw a}}return l}}function yde(t){if(Array.isArray(t))return t}var c7=/[ \f\n\r\t\v\u2028\u2029]+/,d7=function(r){var n=r.children,s=r.breakAll,a=r.style;try{var i=[];br(n)||(s?i=n.toString().split(""):i=n.toString().split(c7));var o=i.map(function(u){return{word:u,width:ox(u,a).width}}),l=s?0:ox("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},bde=function(r,n,s,a,i){var o=r.maxLines,l=r.children,u=r.style,m=r.breakAll,f=jt(o),p=l,g=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(ae,U){var W=U.word,se=U.width,de=ae[ae.length-1];if(de&&(a==null||i||de.width+se+s<Number(a)))de.words.push(W),de.width+=se+s;else{var z={words:[W],width:se};ae.push(z)}return ae},[])},b=g(n),y=function(K){return K.reduce(function(ae,U){return ae.width>U.width?ae:U})};if(!f)return b;for(var _="",w=function(K){var ae=p.slice(0,K),U=d7({breakAll:m,style:u,children:ae+_}).wordsWithComputedWidth,W=g(U),se=W.length>o||y(W).width>Number(a);return[se,W]},k=0,A=p.length-1,P=0,O;k<=A&&P<=p.length-1;){var I=Math.floor((k+A)/2),D=I-1,F=w(D),B=kD(F,2),H=B[0],re=B[1],G=w(I),J=kD(G,1),Z=J[0];if(!H&&!Z&&(k=I+1),H&&Z&&(A=I-1),!H&&Z){O=re;break}P++}return O||b},PD=function(r){var n=br(r)?[]:r.toString().split(c7);return[{words:n}]},jde=function(r){var n=r.width,s=r.scaleToFit,a=r.children,i=r.style,o=r.breakAll,l=r.maxLines;if((n||s)&&!Zd.isSsr){var u,m,f=d7({breakAll:o,children:a,style:i});if(f){var p=f.wordsWithComputedWidth,g=f.spaceWidth;u=p,m=g}else return PD(a);return bde({breakAll:o,children:a,maxLines:l,style:i},u,m,n,s)}return PD(a)},TD="#808080",ih=function(r){var n=r.x,s=n===void 0?0:n,a=r.y,i=a===void 0?0:a,o=r.lineHeight,l=o===void 0?"1em":o,u=r.capHeight,m=u===void 0?"0.71em":u,f=r.scaleToFit,p=f===void 0?!1:f,g=r.textAnchor,b=g===void 0?"start":g,y=r.verticalAnchor,_=y===void 0?"end":y,w=r.fill,k=w===void 0?TD:w,A=CD(r,mde),P=j.useMemo(function(){return jde({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:p,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,p,A.style,A.width]),O=A.dx,I=A.dy,D=A.angle,F=A.className,B=A.breakAll,H=CD(A,fde);if(!Ys(s)||!Ys(i))return null;var re=s+(jt(O)?O:0),G=i+(jt(I)?I:0),J;switch(_){case"start":J=d2("calc(".concat(m,")"));break;case"middle":J=d2("calc(".concat((P.length-1)/2," * -").concat(l," + (").concat(m," / 2))"));break;default:J=d2("calc(".concat(P.length-1," * -").concat(l,")"));break}var Z=[];if(p){var ne=P[0].width,K=A.width;Z.push("scale(".concat((jt(K)?K/ne:1)/ne,")"))}return D&&Z.push("rotate(".concat(D,", ").concat(re,", ").concat(G,")")),Z.length&&(H.transform=Z.join(" ")),le.createElement("text",bk({},Xt(H,!0),{x:re,y:G,className:jr("recharts-text",F),textAnchor:b,fill:k.includes("url")?TD:k}),P.map(function(ae,U){var W=ae.words.join(B?"":" ");return le.createElement("tspan",{x:re,dy:U===0?J:l,key:"".concat(W,"-").concat(U)},W)}))};function Md(t,r){return t==null||r==null?NaN:t<r?-1:t>r?1:t>=r?0:NaN}function wde(t,r){return t==null||r==null?NaN:r<t?-1:r>t?1:r>=t?0:NaN}function v4(t){let r,n,s;t.length!==2?(r=Md,n=(l,u)=>Md(t(l),u),s=(l,u)=>t(l)-u):(r=t===Md||t===wde?t:_de,n=t,s=t);function a(l,u,m=0,f=l.length){if(m<f){if(r(u,u)!==0)return f;do{const p=m+f>>>1;n(l[p],u)<0?m=p+1:f=p}while(m<f)}return m}function i(l,u,m=0,f=l.length){if(m<f){if(r(u,u)!==0)return f;do{const p=m+f>>>1;n(l[p],u)<=0?m=p+1:f=p}while(m<f)}return m}function o(l,u,m=0,f=l.length){const p=a(l,u,m,f-1);return p>m&&s(l[p-1],u)>-s(l[p],u)?p-1:p}return{left:a,center:o,right:i}}function _de(){return 0}function u7(t){return t===null?NaN:+t}function*Nde(t,r){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Sde=v4(Md),Fg=Sde.right;v4(u7).center;class ED extends Map{constructor(r,n=Ade){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),r!=null)for(const[s,a]of r)this.set(s,a)}get(r){return super.get(OD(this,r))}has(r){return super.has(OD(this,r))}set(r,n){return super.set(Cde(this,r),n)}delete(r){return super.delete(kde(this,r))}}function OD({_intern:t,_key:r},n){const s=r(n);return t.has(s)?t.get(s):n}function Cde({_intern:t,_key:r},n){const s=r(n);return t.has(s)?t.get(s):(t.set(s,n),n)}function kde({_intern:t,_key:r},n){const s=r(n);return t.has(s)&&(n=t.get(s),t.delete(s)),n}function Ade(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Pde(t=Md){if(t===Md)return h7;if(typeof t!="function")throw new TypeError("compare is not a function");return(r,n)=>{const s=t(r,n);return s||s===0?s:(t(n,n)===0)-(t(r,r)===0)}}function h7(t,r){return(t==null||!(t>=t))-(r==null||!(r>=r))||(t<r?-1:t>r?1:0)}const Tde=Math.sqrt(50),Ede=Math.sqrt(10),Ode=Math.sqrt(2);function E0(t,r,n){const s=(r-t)/Math.max(0,n),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=Tde?10:i>=Ede?5:i>=Ode?2:1;let l,u,m;return a<0?(m=Math.pow(10,-a)/o,l=Math.round(t*m),u=Math.round(r*m),l/m<t&&++l,u/m>r&&--u,m=-m):(m=Math.pow(10,a)*o,l=Math.round(t/m),u=Math.round(r/m),l*m<t&&++l,u*m>r&&--u),u<l&&.5<=n&&n<2?E0(t,r,n*2):[l,u,m]}function jk(t,r,n){if(r=+r,t=+t,n=+n,!(n>0))return[];if(t===r)return[t];const s=r<t,[a,i,o]=s?E0(r,t,n):E0(t,r,n);if(!(i>=a))return[];const l=i-a+1,u=new Array(l);if(s)if(o<0)for(let m=0;m<l;++m)u[m]=(i-m)/-o;else for(let m=0;m<l;++m)u[m]=(i-m)*o;else if(o<0)for(let m=0;m<l;++m)u[m]=(a+m)/-o;else for(let m=0;m<l;++m)u[m]=(a+m)*o;return u}function wk(t,r,n){return r=+r,t=+t,n=+n,E0(t,r,n)[2]}function _k(t,r,n){r=+r,t=+t,n=+n;const s=r<t,a=s?wk(r,t,n):wk(t,r,n);return(s?-1:1)*(a<0?1/-a:a)}function ID(t,r){let n;for(const s of t)s!=null&&(n<s||n===void 0&&s>=s)&&(n=s);return n}function MD(t,r){let n;for(const s of t)s!=null&&(n>s||n===void 0&&s>=s)&&(n=s);return n}function m7(t,r,n=0,s=1/0,a){if(r=Math.floor(r),n=Math.floor(Math.max(0,n)),s=Math.floor(Math.min(t.length-1,s)),!(n<=r&&r<=s))return t;for(a=a===void 0?h7:Pde(a);s>n;){if(s-n>600){const u=s-n+1,m=r-n+1,f=Math.log(u),p=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*p*(u-p)/u)*(m-u/2<0?-1:1),b=Math.max(n,Math.floor(r-m*p/u+g)),y=Math.min(s,Math.floor(r+(u-m)*p/u+g));m7(t,r,b,y,a)}const i=t[r];let o=n,l=s;for(Up(t,n,r),a(t[s],i)>0&&Up(t,n,s);o<l;){for(Up(t,o,l),++o,--l;a(t[o],i)<0;)++o;for(;a(t[l],i)>0;)--l}a(t[n],i)===0?Up(t,n,l):(++l,Up(t,l,s)),l<=r&&(n=l+1),r<=l&&(s=l-1)}return t}function Up(t,r,n){const s=t[r];t[r]=t[n],t[n]=s}function Ide(t,r,n){if(t=Float64Array.from(Nde(t)),!(!(s=t.length)||isNaN(r=+r))){if(r<=0||s<2)return MD(t);if(r>=1)return ID(t);var s,a=(s-1)*r,i=Math.floor(a),o=ID(m7(t,i).subarray(0,i+1)),l=MD(t.subarray(i+1));return o+(l-o)*(a-i)}}function Mde(t,r,n=u7){if(!(!(s=t.length)||isNaN(r=+r))){if(r<=0||s<2)return+n(t[0],0,t);if(r>=1)return+n(t[s-1],s-1,t);var s,a=(s-1)*r,i=Math.floor(a),o=+n(t[i],i,t),l=+n(t[i+1],i+1,t);return o+(l-o)*(a-i)}}function Dde(t,r,n){t=+t,r=+r,n=(a=arguments.length)<2?(r=t,t=0,1):a<3?1:+n;for(var s=-1,a=Math.max(0,Math.ceil((r-t)/n))|0,i=new Array(a);++s<a;)i[s]=t+s*n;return i}function go(t,r){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(r).domain(t);break}return this}function Rc(t,r){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const Nk=Symbol("implicit");function y4(){var t=new ED,r=[],n=[],s=Nk;function a(i){let o=t.get(i);if(o===void 0){if(s!==Nk)return s;t.set(i,o=r.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return r.slice();r=[],t=new ED;for(const o of i)t.has(o)||t.set(o,r.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return y4(r,n).unknown(s)},go.apply(a,arguments),a}function Mx(){var t=y4().unknown(void 0),r=t.domain,n=t.range,s=0,a=1,i,o,l=!1,u=0,m=0,f=.5;delete t.unknown;function p(){var g=r().length,b=a<s,y=b?a:s,_=b?s:a;i=(_-y)/Math.max(1,g-u+m*2),l&&(i=Math.floor(i)),y+=(_-y-i*(g-u))*f,o=i*(1-u),l&&(y=Math.round(y),o=Math.round(o));var w=Dde(g).map(function(k){return y+i*k});return n(b?w.reverse():w)}return t.domain=function(g){return arguments.length?(r(g),p()):r()},t.range=function(g){return arguments.length?([s,a]=g,s=+s,a=+a,p()):[s,a]},t.rangeRound=function(g){return[s,a]=g,s=+s,a=+a,l=!0,p()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(g){return arguments.length?(l=!!g,p()):l},t.padding=function(g){return arguments.length?(u=Math.min(1,m=+g),p()):u},t.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),p()):u},t.paddingOuter=function(g){return arguments.length?(m=+g,p()):m},t.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),p()):f},t.copy=function(){return Mx(r(),[s,a]).round(l).paddingInner(u).paddingOuter(m).align(f)},go.apply(p(),arguments)}function f7(t){var r=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return f7(r())},t}function lx(){return f7(Mx.apply(null,arguments).paddingInner(1))}function b4(t,r,n){t.prototype=r.prototype=n,n.constructor=t}function p7(t,r){var n=Object.create(t.prototype);for(var s in r)n[s]=r[s];return n}function $g(){}var Dx=.7,O0=1/Dx,Dm="\\s*([+-]?\\d+)\\s*",Rx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Rde=/^#([0-9a-f]{3,8})$/,Lde=new RegExp(`^rgb\\(${Dm},${Dm},${Dm}\\)$`),Fde=new RegExp(`^rgb\\(${jl},${jl},${jl}\\)$`),$de=new RegExp(`^rgba\\(${Dm},${Dm},${Dm},${Rx}\\)$`),zde=new RegExp(`^rgba\\(${jl},${jl},${jl},${Rx}\\)$`),Bde=new RegExp(`^hsl\\(${Rx},${jl},${jl}\\)$`),qde=new RegExp(`^hsla\\(${Rx},${jl},${jl},${Rx}\\)$`),DD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};b4($g,Lx,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:RD,formatHex:RD,formatHex8:Ude,formatHsl:Vde,formatRgb:LD,toString:LD});function RD(){return this.rgb().formatHex()}function Ude(){return this.rgb().formatHex8()}function Vde(){return x7(this).formatHsl()}function LD(){return this.rgb().formatRgb()}function Lx(t){var r,n;return t=(t+"").trim().toLowerCase(),(r=Rde.exec(t))?(n=r[1].length,r=parseInt(r[1],16),n===6?FD(r):n===3?new mi(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):n===8?My(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):n===4?My(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Lde.exec(t))?new mi(r[1],r[2],r[3],1):(r=Fde.exec(t))?new mi(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=$de.exec(t))?My(r[1],r[2],r[3],r[4]):(r=zde.exec(t))?My(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=Bde.exec(t))?BD(r[1],r[2]/100,r[3]/100,1):(r=qde.exec(t))?BD(r[1],r[2]/100,r[3]/100,r[4]):DD.hasOwnProperty(t)?FD(DD[t]):t==="transparent"?new mi(NaN,NaN,NaN,0):null}function FD(t){return new mi(t>>16&255,t>>8&255,t&255,1)}function My(t,r,n,s){return s<=0&&(t=r=n=NaN),new mi(t,r,n,s)}function Kde(t){return t instanceof $g||(t=Lx(t)),t?(t=t.rgb(),new mi(t.r,t.g,t.b,t.opacity)):new mi}function Sk(t,r,n,s){return arguments.length===1?Kde(t):new mi(t,r,n,s??1)}function mi(t,r,n,s){this.r=+t,this.g=+r,this.b=+n,this.opacity=+s}b4(mi,Sk,p7($g,{brighter(t){return t=t==null?O0:Math.pow(O0,t),new mi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Dx:Math.pow(Dx,t),new mi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new mi(Vu(this.r),Vu(this.g),Vu(this.b),I0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$D,formatHex:$D,formatHex8:Wde,formatRgb:zD,toString:zD}));function $D(){return`#${Lu(this.r)}${Lu(this.g)}${Lu(this.b)}`}function Wde(){return`#${Lu(this.r)}${Lu(this.g)}${Lu(this.b)}${Lu((isNaN(this.opacity)?1:this.opacity)*255)}`}function zD(){const t=I0(this.opacity);return`${t===1?"rgb(":"rgba("}${Vu(this.r)}, ${Vu(this.g)}, ${Vu(this.b)}${t===1?")":`, ${t})`}`}function I0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Lu(t){return t=Vu(t),(t<16?"0":"")+t.toString(16)}function BD(t,r,n,s){return s<=0?t=r=n=NaN:n<=0||n>=1?t=r=NaN:r<=0&&(t=NaN),new Mo(t,r,n,s)}function x7(t){if(t instanceof Mo)return new Mo(t.h,t.s,t.l,t.opacity);if(t instanceof $g||(t=Lx(t)),!t)return new Mo;if(t instanceof Mo)return t;t=t.rgb();var r=t.r/255,n=t.g/255,s=t.b/255,a=Math.min(r,n,s),i=Math.max(r,n,s),o=NaN,l=i-a,u=(i+a)/2;return l?(r===i?o=(n-s)/l+(n<s)*6:n===i?o=(s-r)/l+2:o=(r-n)/l+4,l/=u<.5?i+a:2-i-a,o*=60):l=u>0&&u<1?0:o,new Mo(o,l,u,t.opacity)}function Hde(t,r,n,s){return arguments.length===1?x7(t):new Mo(t,r,n,s??1)}function Mo(t,r,n,s){this.h=+t,this.s=+r,this.l=+n,this.opacity=+s}b4(Mo,Hde,p7($g,{brighter(t){return t=t==null?O0:Math.pow(O0,t),new Mo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Dx:Math.pow(Dx,t),new Mo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*r,a=2*n-s;return new mi(u2(t>=240?t-240:t+120,a,s),u2(t,a,s),u2(t<120?t+240:t-120,a,s),this.opacity)},clamp(){return new Mo(qD(this.h),Dy(this.s),Dy(this.l),I0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=I0(this.opacity);return`${t===1?"hsl(":"hsla("}${qD(this.h)}, ${Dy(this.s)*100}%, ${Dy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function qD(t){return t=(t||0)%360,t<0?t+360:t}function Dy(t){return Math.max(0,Math.min(1,t||0))}function u2(t,r,n){return(t<60?r+(n-r)*t/60:t<180?n:t<240?r+(n-r)*(240-t)/60:r)*255}const j4=t=>()=>t;function Gde(t,r){return function(n){return t+n*r}}function Zde(t,r,n){return t=Math.pow(t,n),r=Math.pow(r,n)-t,n=1/n,function(s){return Math.pow(t+s*r,n)}}function Yde(t){return(t=+t)==1?g7:function(r,n){return n-r?Zde(r,n,t):j4(isNaN(r)?n:r)}}function g7(t,r){var n=r-t;return n?Gde(t,n):j4(isNaN(t)?r:t)}const UD=(function t(r){var n=Yde(r);function s(a,i){var o=n((a=Sk(a)).r,(i=Sk(i)).r),l=n(a.g,i.g),u=n(a.b,i.b),m=g7(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=l(f),a.b=u(f),a.opacity=m(f),a+""}}return s.gamma=t,s})(1);function Qde(t,r){r||(r=[]);var n=t?Math.min(r.length,t.length):0,s=r.slice(),a;return function(i){for(a=0;a<n;++a)s[a]=t[a]*(1-i)+r[a]*i;return s}}function Xde(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Jde(t,r){var n=r?r.length:0,s=t?Math.min(n,t.length):0,a=new Array(s),i=new Array(n),o;for(o=0;o<s;++o)a[o]=$f(t[o],r[o]);for(;o<n;++o)i[o]=r[o];return function(l){for(o=0;o<s;++o)i[o]=a[o](l);return i}}function eue(t,r){var n=new Date;return t=+t,r=+r,function(s){return n.setTime(t*(1-s)+r*s),n}}function M0(t,r){return t=+t,r=+r,function(n){return t*(1-n)+r*n}}function tue(t,r){var n={},s={},a;(t===null||typeof t!="object")&&(t={}),(r===null||typeof r!="object")&&(r={});for(a in r)a in t?n[a]=$f(t[a],r[a]):s[a]=r[a];return function(i){for(a in n)s[a]=n[a](i);return s}}var Ck=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,h2=new RegExp(Ck.source,"g");function rue(t){return function(){return t}}function nue(t){return function(r){return t(r)+""}}function sue(t,r){var n=Ck.lastIndex=h2.lastIndex=0,s,a,i,o=-1,l=[],u=[];for(t=t+"",r=r+"";(s=Ck.exec(t))&&(a=h2.exec(r));)(i=a.index)>n&&(i=r.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,u.push({i:o,x:M0(s,a)})),n=h2.lastIndex;return n<r.length&&(i=r.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?u[0]?nue(u[0].x):rue(r):(r=u.length,function(m){for(var f=0,p;f<r;++f)l[(p=u[f]).i]=p.x(m);return l.join("")})}function $f(t,r){var n=typeof r,s;return r==null||n==="boolean"?j4(r):(n==="number"?M0:n==="string"?(s=Lx(r))?(r=s,UD):sue:r instanceof Lx?UD:r instanceof Date?eue:Xde(r)?Qde:Array.isArray(r)?Jde:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?tue:M0)(t,r)}function w4(t,r){return t=+t,r=+r,function(n){return Math.round(t*(1-n)+r*n)}}function aue(t,r){r===void 0&&(r=t,t=$f);for(var n=0,s=r.length-1,a=r[0],i=new Array(s<0?0:s);n<s;)i[n]=t(a,a=r[++n]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function iue(t){return function(){return t}}function D0(t){return+t}var VD=[0,1];function Qa(t){return t}function kk(t,r){return(r-=t=+t)?function(n){return(n-t)/r}:iue(isNaN(r)?NaN:.5)}function oue(t,r){var n;return t>r&&(n=t,t=r,r=n),function(s){return Math.max(t,Math.min(r,s))}}function lue(t,r,n){var s=t[0],a=t[1],i=r[0],o=r[1];return a<s?(s=kk(a,s),i=n(o,i)):(s=kk(s,a),i=n(i,o)),function(l){return i(s(l))}}function cue(t,r,n){var s=Math.min(t.length,r.length)-1,a=new Array(s),i=new Array(s),o=-1;for(t[s]<t[0]&&(t=t.slice().reverse(),r=r.slice().reverse());++o<s;)a[o]=kk(t[o],t[o+1]),i[o]=n(r[o],r[o+1]);return function(l){var u=Fg(t,l,1,s)-1;return i[u](a[u](l))}}function zg(t,r){return r.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Sj(){var t=VD,r=VD,n=$f,s,a,i,o=Qa,l,u,m;function f(){var g=Math.min(t.length,r.length);return o!==Qa&&(o=oue(t[0],t[g-1])),l=g>2?cue:lue,u=m=null,p}function p(g){return g==null||isNaN(g=+g)?i:(u||(u=l(t.map(s),r,n)))(s(o(g)))}return p.invert=function(g){return o(a((m||(m=l(r,t.map(s),M0)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,D0),f()):t.slice()},p.range=function(g){return arguments.length?(r=Array.from(g),f()):r.slice()},p.rangeRound=function(g){return r=Array.from(g),n=w4,f()},p.clamp=function(g){return arguments.length?(o=g?!0:Qa,f()):o!==Qa},p.interpolate=function(g){return arguments.length?(n=g,f()):n},p.unknown=function(g){return arguments.length?(i=g,p):i},function(g,b){return s=g,a=b,f()}}function _4(){return Sj()(Qa,Qa)}function due(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function R0(t,r){if((n=(t=r?t.toExponential(r-1):t.toExponential()).indexOf("e"))<0)return null;var n,s=t.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+t.slice(n+1)]}function Xm(t){return t=R0(Math.abs(t)),t?t[1]:NaN}function uue(t,r){return function(n,s){for(var a=n.length,i=[],o=0,l=t[0],u=0;a>0&&l>0&&(u+l+1>s&&(l=Math.max(1,s-u)),i.push(n.substring(a-=l,a+l)),!((u+=l+1)>s));)l=t[o=(o+1)%t.length];return i.reverse().join(r)}}function hue(t){return function(r){return r.replace(/[0-9]/g,function(n){return t[+n]})}}var mue=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fx(t){if(!(r=mue.exec(t)))throw new Error("invalid format: "+t);var r;return new N4({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}Fx.prototype=N4.prototype;function N4(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}N4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fue(t){e:for(var r=t.length,n=1,s=-1,a;n<r;++n)switch(t[n]){case".":s=a=n;break;case"0":s===0&&(s=n),a=n;break;default:if(!+t[n])break e;s>0&&(s=0);break}return s>0?t.slice(0,s)+t.slice(a+1):t}var v7;function pue(t,r){var n=R0(t,r);if(!n)return t+"";var s=n[0],a=n[1],i=a-(v7=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+R0(t,Math.max(0,r+i-1))[0]}function KD(t,r){var n=R0(t,r);if(!n)return t+"";var s=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const WD={"%":(t,r)=>(t*100).toFixed(r),b:t=>Math.round(t).toString(2),c:t=>t+"",d:due,e:(t,r)=>t.toExponential(r),f:(t,r)=>t.toFixed(r),g:(t,r)=>t.toPrecision(r),o:t=>Math.round(t).toString(8),p:(t,r)=>KD(t*100,r),r:KD,s:pue,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function HD(t){return t}var GD=Array.prototype.map,ZD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xue(t){var r=t.grouping===void 0||t.thousands===void 0?HD:uue(GD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",s=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?HD:hue(GD.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function m(p){p=Fx(p);var g=p.fill,b=p.align,y=p.sign,_=p.symbol,w=p.zero,k=p.width,A=p.comma,P=p.precision,O=p.trim,I=p.type;I==="n"?(A=!0,I="g"):WD[I]||(P===void 0&&(P=12),O=!0,I="g"),(w||g==="0"&&b==="=")&&(w=!0,g="0",b="=");var D=_==="$"?n:_==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",F=_==="$"?s:/[%p]/.test(I)?o:"",B=WD[I],H=/[defgprs%]/.test(I);P=P===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function re(G){var J=D,Z=F,ne,K,ae;if(I==="c")Z=B(G)+Z,G="";else{G=+G;var U=G<0||1/G<0;if(G=isNaN(G)?u:B(Math.abs(G),P),O&&(G=fue(G)),U&&+G==0&&y!=="+"&&(U=!1),J=(U?y==="("?y:l:y==="-"||y==="("?"":y)+J,Z=(I==="s"?ZD[8+v7/3]:"")+Z+(U&&y==="("?")":""),H){for(ne=-1,K=G.length;++ne<K;)if(ae=G.charCodeAt(ne),48>ae||ae>57){Z=(ae===46?a+G.slice(ne+1):G.slice(ne))+Z,G=G.slice(0,ne);break}}}A&&!w&&(G=r(G,1/0));var W=J.length+G.length+Z.length,se=W<k?new Array(k-W+1).join(g):"";switch(A&&w&&(G=r(se+G,se.length?k-Z.length:1/0),se=""),b){case"<":G=J+G+Z+se;break;case"=":G=J+se+G+Z;break;case"^":G=se.slice(0,W=se.length>>1)+J+G+Z+se.slice(W);break;default:G=se+J+G+Z;break}return i(G)}return re.toString=function(){return p+""},re}function f(p,g){var b=m((p=Fx(p),p.type="f",p)),y=Math.max(-8,Math.min(8,Math.floor(Xm(g)/3)))*3,_=Math.pow(10,-y),w=ZD[8+y/3];return function(k){return b(_*k)+w}}return{format:m,formatPrefix:f}}var Ry,S4,y7;gue({thousands:",",grouping:[3],currency:["$",""]});function gue(t){return Ry=xue(t),S4=Ry.format,y7=Ry.formatPrefix,Ry}function vue(t){return Math.max(0,-Xm(Math.abs(t)))}function yue(t,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xm(r)/3)))*3-Xm(Math.abs(t)))}function bue(t,r){return t=Math.abs(t),r=Math.abs(r)-t,Math.max(0,Xm(r)-Xm(t))+1}function b7(t,r,n,s){var a=_k(t,r,n),i;switch(s=Fx(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(r));return s.precision==null&&!isNaN(i=yue(a,o))&&(s.precision=i),y7(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=bue(a,Math.max(Math.abs(t),Math.abs(r))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=vue(a))&&(s.precision=i-(s.type==="%")*2);break}}return S4(s)}function Yd(t){var r=t.domain;return t.ticks=function(n){var s=r();return jk(s[0],s[s.length-1],n??10)},t.tickFormat=function(n,s){var a=r();return b7(a[0],a[a.length-1],n??10,s)},t.nice=function(n){n==null&&(n=10);var s=r(),a=0,i=s.length-1,o=s[a],l=s[i],u,m,f=10;for(l<o&&(m=o,o=l,l=m,m=a,a=i,i=m);f-- >0;){if(m=wk(o,l,n),m===u)return s[a]=o,s[i]=l,r(s);if(m>0)o=Math.floor(o/m)*m,l=Math.ceil(l/m)*m;else if(m<0)o=Math.ceil(o*m)/m,l=Math.floor(l*m)/m;else break;u=m}return t},t}function L0(){var t=_4();return t.copy=function(){return zg(t,L0())},go.apply(t,arguments),Yd(t)}function j7(t){var r;function n(s){return s==null||isNaN(s=+s)?r:s}return n.invert=n,n.domain=n.range=function(s){return arguments.length?(t=Array.from(s,D0),n):t.slice()},n.unknown=function(s){return arguments.length?(r=s,n):r},n.copy=function(){return j7(t).unknown(r)},t=arguments.length?Array.from(t,D0):[0,1],Yd(n)}function w7(t,r){t=t.slice();var n=0,s=t.length-1,a=t[n],i=t[s],o;return i<a&&(o=n,n=s,s=o,o=a,a=i,i=o),t[n]=r.floor(a),t[s]=r.ceil(i),t}function YD(t){return Math.log(t)}function QD(t){return Math.exp(t)}function jue(t){return-Math.log(-t)}function wue(t){return-Math.exp(-t)}function _ue(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Nue(t){return t===10?_ue:t===Math.E?Math.exp:r=>Math.pow(t,r)}function Sue(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),r=>Math.log(r)/t)}function XD(t){return(r,n)=>-t(-r,n)}function C4(t){const r=t(YD,QD),n=r.domain;let s=10,a,i;function o(){return a=Sue(s),i=Nue(s),n()[0]<0?(a=XD(a),i=XD(i),t(jue,wue)):t(YD,QD),r}return r.base=function(l){return arguments.length?(s=+l,o()):s},r.domain=function(l){return arguments.length?(n(l),o()):n()},r.ticks=l=>{const u=n();let m=u[0],f=u[u.length-1];const p=f<m;p&&([m,f]=[f,m]);let g=a(m),b=a(f),y,_;const w=l==null?10:+l;let k=[];if(!(s%1)&&b-g<w){if(g=Math.floor(g),b=Math.ceil(b),m>0){for(;g<=b;++g)for(y=1;y<s;++y)if(_=g<0?y/i(-g):y*i(g),!(_<m)){if(_>f)break;k.push(_)}}else for(;g<=b;++g)for(y=s-1;y>=1;--y)if(_=g>0?y/i(-g):y*i(g),!(_<m)){if(_>f)break;k.push(_)}k.length*2<w&&(k=jk(m,f,w))}else k=jk(g,b,Math.min(b-g,w)).map(i);return p?k.reverse():k},r.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=s===10?"s":","),typeof u!="function"&&(!(s%1)&&(u=Fx(u)).precision==null&&(u.trim=!0),u=S4(u)),l===1/0)return u;const m=Math.max(1,s*l/r.ticks().length);return f=>{let p=f/i(Math.round(a(f)));return p*s<s-.5&&(p*=s),p<=m?u(f):""}},r.nice=()=>n(w7(n(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),r}function _7(){const t=C4(Sj()).domain([1,10]);return t.copy=()=>zg(t,_7()).base(t.base()),go.apply(t,arguments),t}function JD(t){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/t))}}function eR(t){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*t}}function k4(t){var r=1,n=t(JD(r),eR(r));return n.constant=function(s){return arguments.length?t(JD(r=+s),eR(r)):r},Yd(n)}function N7(){var t=k4(Sj());return t.copy=function(){return zg(t,N7()).constant(t.constant())},go.apply(t,arguments)}function tR(t){return function(r){return r<0?-Math.pow(-r,t):Math.pow(r,t)}}function Cue(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function kue(t){return t<0?-t*t:t*t}function A4(t){var r=t(Qa,Qa),n=1;function s(){return n===1?t(Qa,Qa):n===.5?t(Cue,kue):t(tR(n),tR(1/n))}return r.exponent=function(a){return arguments.length?(n=+a,s()):n},Yd(r)}function P4(){var t=A4(Sj());return t.copy=function(){return zg(t,P4()).exponent(t.exponent())},go.apply(t,arguments),t}function Aue(){return P4.apply(null,arguments).exponent(.5)}function rR(t){return Math.sign(t)*t*t}function Pue(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function S7(){var t=_4(),r=[0,1],n=!1,s;function a(i){var o=Pue(t(i));return isNaN(o)?s:n?Math.round(o):o}return a.invert=function(i){return t.invert(rR(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((r=Array.from(i,D0)).map(rR)),a):r.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return S7(t.domain(),r).round(n).clamp(t.clamp()).unknown(s)},go.apply(a,arguments),Yd(a)}function C7(){var t=[],r=[],n=[],s;function a(){var o=0,l=Math.max(1,r.length);for(n=new Array(l-1);++o<l;)n[o-1]=Mde(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:r[Fg(n,o)]}return i.invertExtent=function(o){var l=r.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Md),a()},i.range=function(o){return arguments.length?(r=Array.from(o),a()):r.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return n.slice()},i.copy=function(){return C7().domain(t).range(r).unknown(s)},go.apply(i,arguments)}function k7(){var t=0,r=1,n=1,s=[.5],a=[0,1],i;function o(u){return u!=null&&u<=u?a[Fg(s,u,0,n)]:i}function l(){var u=-1;for(s=new Array(n);++u<n;)s[u]=((u+1)*r-(u-n)*t)/(n+1);return o}return o.domain=function(u){return arguments.length?([t,r]=u,t=+t,r=+r,l()):[t,r]},o.range=function(u){return arguments.length?(n=(a=Array.from(u)).length-1,l()):a.slice()},o.invertExtent=function(u){var m=a.indexOf(u);return m<0?[NaN,NaN]:m<1?[t,s[0]]:m>=n?[s[n-1],r]:[s[m-1],s[m]]},o.unknown=function(u){return arguments.length&&(i=u),o},o.thresholds=function(){return s.slice()},o.copy=function(){return k7().domain([t,r]).range(a).unknown(i)},go.apply(Yd(o),arguments)}function A7(){var t=[.5],r=[0,1],n,s=1;function a(i){return i!=null&&i<=i?r[Fg(t,i,0,s)]:n}return a.domain=function(i){return arguments.length?(t=Array.from(i),s=Math.min(t.length,r.length-1),a):t.slice()},a.range=function(i){return arguments.length?(r=Array.from(i),s=Math.min(t.length,r.length-1),a):r.slice()},a.invertExtent=function(i){var o=r.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return A7().domain(t).range(r).unknown(n)},go.apply(a,arguments)}const m2=new Date,f2=new Date;function Js(t,r,n,s){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),r(i,1),t(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(r(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const u=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return u;let m;do u.push(m=new Date(+i)),r(i,l),t(i);while(m<i&&i<o);return u},a.filter=i=>Js(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;r(o,-1),!i(o););else for(;--l>=0;)for(;r(o,1),!i(o););}),n&&(a.count=(i,o)=>(m2.setTime(+i),f2.setTime(+o),t(m2),t(f2),Math.floor(n(m2,f2))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const F0=Js(()=>{},(t,r)=>{t.setTime(+t+r)},(t,r)=>r-t);F0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Js(r=>{r.setTime(Math.floor(r/t)*t)},(r,n)=>{r.setTime(+r+n*t)},(r,n)=>(n-r)/t):F0);F0.range;const gc=1e3,co=gc*60,vc=co*60,kc=vc*24,T4=kc*7,nR=kc*30,p2=kc*365,Fu=Js(t=>{t.setTime(t-t.getMilliseconds())},(t,r)=>{t.setTime(+t+r*gc)},(t,r)=>(r-t)/gc,t=>t.getUTCSeconds());Fu.range;const E4=Js(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gc)},(t,r)=>{t.setTime(+t+r*co)},(t,r)=>(r-t)/co,t=>t.getMinutes());E4.range;const O4=Js(t=>{t.setUTCSeconds(0,0)},(t,r)=>{t.setTime(+t+r*co)},(t,r)=>(r-t)/co,t=>t.getUTCMinutes());O4.range;const I4=Js(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gc-t.getMinutes()*co)},(t,r)=>{t.setTime(+t+r*vc)},(t,r)=>(r-t)/vc,t=>t.getHours());I4.range;const M4=Js(t=>{t.setUTCMinutes(0,0,0)},(t,r)=>{t.setTime(+t+r*vc)},(t,r)=>(r-t)/vc,t=>t.getUTCHours());M4.range;const Bg=Js(t=>t.setHours(0,0,0,0),(t,r)=>t.setDate(t.getDate()+r),(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*co)/kc,t=>t.getDate()-1);Bg.range;const Cj=Js(t=>{t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r)},(t,r)=>(r-t)/kc,t=>t.getUTCDate()-1);Cj.range;const P7=Js(t=>{t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r)},(t,r)=>(r-t)/kc,t=>Math.floor(t/kc));P7.range;function _h(t){return Js(r=>{r.setDate(r.getDate()-(r.getDay()+7-t)%7),r.setHours(0,0,0,0)},(r,n)=>{r.setDate(r.getDate()+n*7)},(r,n)=>(n-r-(n.getTimezoneOffset()-r.getTimezoneOffset())*co)/T4)}const kj=_h(0),$0=_h(1),Tue=_h(2),Eue=_h(3),Jm=_h(4),Oue=_h(5),Iue=_h(6);kj.range;$0.range;Tue.range;Eue.range;Jm.range;Oue.range;Iue.range;function Nh(t){return Js(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-t)%7),r.setUTCHours(0,0,0,0)},(r,n)=>{r.setUTCDate(r.getUTCDate()+n*7)},(r,n)=>(n-r)/T4)}const Aj=Nh(0),z0=Nh(1),Mue=Nh(2),Due=Nh(3),ef=Nh(4),Rue=Nh(5),Lue=Nh(6);Aj.range;z0.range;Mue.range;Due.range;ef.range;Rue.range;Lue.range;const D4=Js(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,r)=>{t.setMonth(t.getMonth()+r)},(t,r)=>r.getMonth()-t.getMonth()+(r.getFullYear()-t.getFullYear())*12,t=>t.getMonth());D4.range;const R4=Js(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCMonth(t.getUTCMonth()+r)},(t,r)=>r.getUTCMonth()-t.getUTCMonth()+(r.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());R4.range;const Ac=Js(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r)},(t,r)=>r.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ac.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Js(r=>{r.setFullYear(Math.floor(r.getFullYear()/t)*t),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,n)=>{r.setFullYear(r.getFullYear()+n*t)});Ac.range;const Pc=Js(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r)},(t,r)=>r.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Pc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Js(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/t)*t),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,n)=>{r.setUTCFullYear(r.getUTCFullYear()+n*t)});Pc.range;function T7(t,r,n,s,a,i){const o=[[Fu,1,gc],[Fu,5,5*gc],[Fu,15,15*gc],[Fu,30,30*gc],[i,1,co],[i,5,5*co],[i,15,15*co],[i,30,30*co],[a,1,vc],[a,3,3*vc],[a,6,6*vc],[a,12,12*vc],[s,1,kc],[s,2,2*kc],[n,1,T4],[r,1,nR],[r,3,3*nR],[t,1,p2]];function l(m,f,p){const g=f<m;g&&([m,f]=[f,m]);const b=p&&typeof p.range=="function"?p:u(m,f,p),y=b?b.range(m,+f+1):[];return g?y.reverse():y}function u(m,f,p){const g=Math.abs(f-m)/p,b=v4(([,,w])=>w).right(o,g);if(b===o.length)return t.every(_k(m/p2,f/p2,p));if(b===0)return F0.every(Math.max(_k(m,f,p),1));const[y,_]=o[g/o[b-1][2]<o[b][2]/g?b-1:b];return y.every(_)}return[l,u]}const[Fue,$ue]=T7(Pc,R4,Aj,P7,M4,O4),[zue,Bue]=T7(Ac,D4,kj,Bg,I4,E4);function x2(t){if(0<=t.y&&t.y<100){var r=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return r.setFullYear(t.y),r}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function g2(t){if(0<=t.y&&t.y<100){var r=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return r.setUTCFullYear(t.y),r}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vp(t,r,n){return{y:t,m:r,d:n,H:0,M:0,S:0,L:0}}function que(t){var r=t.dateTime,n=t.date,s=t.time,a=t.periods,i=t.days,o=t.shortDays,l=t.months,u=t.shortMonths,m=Kp(a),f=Wp(a),p=Kp(i),g=Wp(i),b=Kp(o),y=Wp(o),_=Kp(l),w=Wp(l),k=Kp(u),A=Wp(u),P={a:U,A:W,b:se,B:de,c:null,d:cR,e:cR,f:uhe,g:jhe,G:_he,H:lhe,I:che,j:dhe,L:E7,m:hhe,M:mhe,p:z,q:oe,Q:hR,s:mR,S:fhe,u:phe,U:xhe,V:ghe,w:vhe,W:yhe,x:null,X:null,y:bhe,Y:whe,Z:Nhe,"%":uR},O={a:Ce,A:ke,b:_e,B:Le,c:null,d:dR,e:dR,f:Ahe,g:Fhe,G:zhe,H:She,I:Che,j:khe,L:I7,m:Phe,M:The,p:je,q:Xe,Q:hR,s:mR,S:Ehe,u:Ohe,U:Ihe,V:Mhe,w:Dhe,W:Rhe,x:null,X:null,y:Lhe,Y:$he,Z:Bhe,"%":uR},I={a:re,A:G,b:J,B:Z,c:ne,d:oR,e:oR,f:she,g:iR,G:aR,H:lR,I:lR,j:ehe,L:nhe,m:Jue,M:the,p:H,q:Xue,Q:ihe,s:ohe,S:rhe,u:Hue,U:Gue,V:Zue,w:Wue,W:Yue,x:K,X:ae,y:iR,Y:aR,Z:Que,"%":ahe};P.x=D(n,P),P.X=D(s,P),P.c=D(r,P),O.x=D(n,O),O.X=D(s,O),O.c=D(r,O);function D(qe,tt){return function(St){var Oe=[],qt=-1,Et=0,sr=qe.length,Jt,gr,Hr;for(St instanceof Date||(St=new Date(+St));++qt<sr;)qe.charCodeAt(qt)===37&&(Oe.push(qe.slice(Et,qt)),(gr=sR[Jt=qe.charAt(++qt)])!=null?Jt=qe.charAt(++qt):gr=Jt==="e"?" ":"0",(Hr=tt[Jt])&&(Jt=Hr(St,gr)),Oe.push(Jt),Et=qt+1);return Oe.push(qe.slice(Et,qt)),Oe.join("")}}function F(qe,tt){return function(St){var Oe=Vp(1900,void 0,1),qt=B(Oe,qe,St+="",0),Et,sr;if(qt!=St.length)return null;if("Q"in Oe)return new Date(Oe.Q);if("s"in Oe)return new Date(Oe.s*1e3+("L"in Oe?Oe.L:0));if(tt&&!("Z"in Oe)&&(Oe.Z=0),"p"in Oe&&(Oe.H=Oe.H%12+Oe.p*12),Oe.m===void 0&&(Oe.m="q"in Oe?Oe.q:0),"V"in Oe){if(Oe.V<1||Oe.V>53)return null;"w"in Oe||(Oe.w=1),"Z"in Oe?(Et=g2(Vp(Oe.y,0,1)),sr=Et.getUTCDay(),Et=sr>4||sr===0?z0.ceil(Et):z0(Et),Et=Cj.offset(Et,(Oe.V-1)*7),Oe.y=Et.getUTCFullYear(),Oe.m=Et.getUTCMonth(),Oe.d=Et.getUTCDate()+(Oe.w+6)%7):(Et=x2(Vp(Oe.y,0,1)),sr=Et.getDay(),Et=sr>4||sr===0?$0.ceil(Et):$0(Et),Et=Bg.offset(Et,(Oe.V-1)*7),Oe.y=Et.getFullYear(),Oe.m=Et.getMonth(),Oe.d=Et.getDate()+(Oe.w+6)%7)}else("W"in Oe||"U"in Oe)&&("w"in Oe||(Oe.w="u"in Oe?Oe.u%7:"W"in Oe?1:0),sr="Z"in Oe?g2(Vp(Oe.y,0,1)).getUTCDay():x2(Vp(Oe.y,0,1)).getDay(),Oe.m=0,Oe.d="W"in Oe?(Oe.w+6)%7+Oe.W*7-(sr+5)%7:Oe.w+Oe.U*7-(sr+6)%7);return"Z"in Oe?(Oe.H+=Oe.Z/100|0,Oe.M+=Oe.Z%100,g2(Oe)):x2(Oe)}}function B(qe,tt,St,Oe){for(var qt=0,Et=tt.length,sr=St.length,Jt,gr;qt<Et;){if(Oe>=sr)return-1;if(Jt=tt.charCodeAt(qt++),Jt===37){if(Jt=tt.charAt(qt++),gr=I[Jt in sR?tt.charAt(qt++):Jt],!gr||(Oe=gr(qe,St,Oe))<0)return-1}else if(Jt!=St.charCodeAt(Oe++))return-1}return Oe}function H(qe,tt,St){var Oe=m.exec(tt.slice(St));return Oe?(qe.p=f.get(Oe[0].toLowerCase()),St+Oe[0].length):-1}function re(qe,tt,St){var Oe=b.exec(tt.slice(St));return Oe?(qe.w=y.get(Oe[0].toLowerCase()),St+Oe[0].length):-1}function G(qe,tt,St){var Oe=p.exec(tt.slice(St));return Oe?(qe.w=g.get(Oe[0].toLowerCase()),St+Oe[0].length):-1}function J(qe,tt,St){var Oe=k.exec(tt.slice(St));return Oe?(qe.m=A.get(Oe[0].toLowerCase()),St+Oe[0].length):-1}function Z(qe,tt,St){var Oe=_.exec(tt.slice(St));return Oe?(qe.m=w.get(Oe[0].toLowerCase()),St+Oe[0].length):-1}function ne(qe,tt,St){return B(qe,r,tt,St)}function K(qe,tt,St){return B(qe,n,tt,St)}function ae(qe,tt,St){return B(qe,s,tt,St)}function U(qe){return o[qe.getDay()]}function W(qe){return i[qe.getDay()]}function se(qe){return u[qe.getMonth()]}function de(qe){return l[qe.getMonth()]}function z(qe){return a[+(qe.getHours()>=12)]}function oe(qe){return 1+~~(qe.getMonth()/3)}function Ce(qe){return o[qe.getUTCDay()]}function ke(qe){return i[qe.getUTCDay()]}function _e(qe){return u[qe.getUTCMonth()]}function Le(qe){return l[qe.getUTCMonth()]}function je(qe){return a[+(qe.getUTCHours()>=12)]}function Xe(qe){return 1+~~(qe.getUTCMonth()/3)}return{format:function(qe){var tt=D(qe+="",P);return tt.toString=function(){return qe},tt},parse:function(qe){var tt=F(qe+="",!1);return tt.toString=function(){return qe},tt},utcFormat:function(qe){var tt=D(qe+="",O);return tt.toString=function(){return qe},tt},utcParse:function(qe){var tt=F(qe+="",!0);return tt.toString=function(){return qe},tt}}}var sR={"-":"",_:" ",0:"0"},ca=/^\s*\d+/,Uue=/^%/,Vue=/[\\^$*+?|[\]().{}]/g;function ln(t,r,n){var s=t<0?"-":"",a=(s?-t:t)+"",i=a.length;return s+(i<n?new Array(n-i+1).join(r)+a:a)}function Kue(t){return t.replace(Vue,"\\$&")}function Kp(t){return new RegExp("^(?:"+t.map(Kue).join("|")+")","i")}function Wp(t){return new Map(t.map((r,n)=>[r.toLowerCase(),n]))}function Wue(t,r,n){var s=ca.exec(r.slice(n,n+1));return s?(t.w=+s[0],n+s[0].length):-1}function Hue(t,r,n){var s=ca.exec(r.slice(n,n+1));return s?(t.u=+s[0],n+s[0].length):-1}function Gue(t,r,n){var s=ca.exec(r.slice(n,n+2));return s?(t.U=+s[0],n+s[0].length):-1}function Zue(t,r,n){var s=ca.exec(r.slice(n,n+2));return s?(t.V=+s[0],n+s[0].length):-1}function Yue(t,r,n){var s=ca.exec(r.slice(n,n+2));return s?(t.W=+s[0],n+s[0].length):-1}function aR(t,r,n){var s=ca.exec(r.slice(n,n+4));return s?(t.y=+s[0],n+s[0].length):-1}function iR(t,r,n){var s=ca.exec(r.slice(n,n+2));return s?(t.y=+s[0]+(+s[0]>68?1900:2e3),n+s[0].length):-1}function Que(t,r,n){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(n,n+6));return s?(t.Z=s[1]?0:-(s[2]+(s[3]||"00")),n+s[0].length):-1}function Xue(t,r,n){var s=ca.exec(r.slice(n,n+1));return s?(t.q=s[0]*3-3,n+s[0].length):-1}function Jue(t,r,n){var s=ca.exec(r.slice(n,n+2));return s?(t.m=s[0]-1,n+s[0].length):-1}function oR(t,r,n){var s=ca.exec(r.slice(n,n+2));return s?(t.d=+s[0],n+s[0].length):-1}function ehe(t,r,n){var s=ca.exec(r.slice(n,n+3));return s?(t.m=0,t.d=+s[0],n+s[0].length):-1}function lR(t,r,n){var s=ca.exec(r.slice(n,n+2));return s?(t.H=+s[0],n+s[0].length):-1}function the(t,r,n){var s=ca.exec(r.slice(n,n+2));return s?(t.M=+s[0],n+s[0].length):-1}function rhe(t,r,n){var s=ca.exec(r.slice(n,n+2));return s?(t.S=+s[0],n+s[0].length):-1}function nhe(t,r,n){var s=ca.exec(r.slice(n,n+3));return s?(t.L=+s[0],n+s[0].length):-1}function she(t,r,n){var s=ca.exec(r.slice(n,n+6));return s?(t.L=Math.floor(s[0]/1e3),n+s[0].length):-1}function ahe(t,r,n){var s=Uue.exec(r.slice(n,n+1));return s?n+s[0].length:-1}function ihe(t,r,n){var s=ca.exec(r.slice(n));return s?(t.Q=+s[0],n+s[0].length):-1}function ohe(t,r,n){var s=ca.exec(r.slice(n));return s?(t.s=+s[0],n+s[0].length):-1}function cR(t,r){return ln(t.getDate(),r,2)}function lhe(t,r){return ln(t.getHours(),r,2)}function che(t,r){return ln(t.getHours()%12||12,r,2)}function dhe(t,r){return ln(1+Bg.count(Ac(t),t),r,3)}function E7(t,r){return ln(t.getMilliseconds(),r,3)}function uhe(t,r){return E7(t,r)+"000"}function hhe(t,r){return ln(t.getMonth()+1,r,2)}function mhe(t,r){return ln(t.getMinutes(),r,2)}function fhe(t,r){return ln(t.getSeconds(),r,2)}function phe(t){var r=t.getDay();return r===0?7:r}function xhe(t,r){return ln(kj.count(Ac(t)-1,t),r,2)}function O7(t){var r=t.getDay();return r>=4||r===0?Jm(t):Jm.ceil(t)}function ghe(t,r){return t=O7(t),ln(Jm.count(Ac(t),t)+(Ac(t).getDay()===4),r,2)}function vhe(t){return t.getDay()}function yhe(t,r){return ln($0.count(Ac(t)-1,t),r,2)}function bhe(t,r){return ln(t.getFullYear()%100,r,2)}function jhe(t,r){return t=O7(t),ln(t.getFullYear()%100,r,2)}function whe(t,r){return ln(t.getFullYear()%1e4,r,4)}function _he(t,r){var n=t.getDay();return t=n>=4||n===0?Jm(t):Jm.ceil(t),ln(t.getFullYear()%1e4,r,4)}function Nhe(t){var r=t.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+ln(r/60|0,"0",2)+ln(r%60,"0",2)}function dR(t,r){return ln(t.getUTCDate(),r,2)}function She(t,r){return ln(t.getUTCHours(),r,2)}function Che(t,r){return ln(t.getUTCHours()%12||12,r,2)}function khe(t,r){return ln(1+Cj.count(Pc(t),t),r,3)}function I7(t,r){return ln(t.getUTCMilliseconds(),r,3)}function Ahe(t,r){return I7(t,r)+"000"}function Phe(t,r){return ln(t.getUTCMonth()+1,r,2)}function The(t,r){return ln(t.getUTCMinutes(),r,2)}function Ehe(t,r){return ln(t.getUTCSeconds(),r,2)}function Ohe(t){var r=t.getUTCDay();return r===0?7:r}function Ihe(t,r){return ln(Aj.count(Pc(t)-1,t),r,2)}function M7(t){var r=t.getUTCDay();return r>=4||r===0?ef(t):ef.ceil(t)}function Mhe(t,r){return t=M7(t),ln(ef.count(Pc(t),t)+(Pc(t).getUTCDay()===4),r,2)}function Dhe(t){return t.getUTCDay()}function Rhe(t,r){return ln(z0.count(Pc(t)-1,t),r,2)}function Lhe(t,r){return ln(t.getUTCFullYear()%100,r,2)}function Fhe(t,r){return t=M7(t),ln(t.getUTCFullYear()%100,r,2)}function $he(t,r){return ln(t.getUTCFullYear()%1e4,r,4)}function zhe(t,r){var n=t.getUTCDay();return t=n>=4||n===0?ef(t):ef.ceil(t),ln(t.getUTCFullYear()%1e4,r,4)}function Bhe(){return"+0000"}function uR(){return"%"}function hR(t){return+t}function mR(t){return Math.floor(+t/1e3)}var gm,D7,R7;qhe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qhe(t){return gm=que(t),D7=gm.format,gm.parse,R7=gm.utcFormat,gm.utcParse,gm}function Uhe(t){return new Date(t)}function Vhe(t){return t instanceof Date?+t:+new Date(+t)}function L4(t,r,n,s,a,i,o,l,u,m){var f=_4(),p=f.invert,g=f.domain,b=m(".%L"),y=m(":%S"),_=m("%I:%M"),w=m("%I %p"),k=m("%a %d"),A=m("%b %d"),P=m("%B"),O=m("%Y");function I(D){return(u(D)<D?b:l(D)<D?y:o(D)<D?_:i(D)<D?w:s(D)<D?a(D)<D?k:A:n(D)<D?P:O)(D)}return f.invert=function(D){return new Date(p(D))},f.domain=function(D){return arguments.length?g(Array.from(D,Vhe)):g().map(Uhe)},f.ticks=function(D){var F=g();return t(F[0],F[F.length-1],D??10)},f.tickFormat=function(D,F){return F==null?I:m(F)},f.nice=function(D){var F=g();return(!D||typeof D.range!="function")&&(D=r(F[0],F[F.length-1],D??10)),D?g(w7(F,D)):f},f.copy=function(){return zg(f,L4(t,r,n,s,a,i,o,l,u,m))},f}function Khe(){return go.apply(L4(zue,Bue,Ac,D4,kj,Bg,I4,E4,Fu,D7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Whe(){return go.apply(L4(Fue,$ue,Pc,R4,Aj,Cj,M4,O4,Fu,R7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Pj(){var t=0,r=1,n,s,a,i,o=Qa,l=!1,u;function m(p){return p==null||isNaN(p=+p)?u:o(a===0?.5:(p=(i(p)-n)*a,l?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([t,r]=p,n=i(t=+t),s=i(r=+r),a=n===s?0:1/(s-n),m):[t,r]},m.clamp=function(p){return arguments.length?(l=!!p,m):l},m.interpolator=function(p){return arguments.length?(o=p,m):o};function f(p){return function(g){var b,y;return arguments.length?([b,y]=g,o=p(b,y),m):[o(0),o(1)]}}return m.range=f($f),m.rangeRound=f(w4),m.unknown=function(p){return arguments.length?(u=p,m):u},function(p){return i=p,n=p(t),s=p(r),a=n===s?0:1/(s-n),m}}function Qd(t,r){return r.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function L7(){var t=Yd(Pj()(Qa));return t.copy=function(){return Qd(t,L7())},Rc.apply(t,arguments)}function F7(){var t=C4(Pj()).domain([1,10]);return t.copy=function(){return Qd(t,F7()).base(t.base())},Rc.apply(t,arguments)}function $7(){var t=k4(Pj());return t.copy=function(){return Qd(t,$7()).constant(t.constant())},Rc.apply(t,arguments)}function F4(){var t=A4(Pj());return t.copy=function(){return Qd(t,F4()).exponent(t.exponent())},Rc.apply(t,arguments)}function Hhe(){return F4.apply(null,arguments).exponent(.5)}function z7(){var t=[],r=Qa;function n(s){if(s!=null&&!isNaN(s=+s))return r((Fg(t,s,1)-1)/(t.length-1))}return n.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Md),n},n.interpolator=function(s){return arguments.length?(r=s,n):r},n.range=function(){return t.map((s,a)=>r(a/(t.length-1)))},n.quantiles=function(s){return Array.from({length:s+1},(a,i)=>Ide(t,i/s))},n.copy=function(){return z7(r).domain(t)},Rc.apply(n,arguments)}function Tj(){var t=0,r=.5,n=1,s=1,a,i,o,l,u,m=Qa,f,p=!1,g;function b(_){return isNaN(_=+_)?g:(_=.5+((_=+f(_))-i)*(s*_<s*i?l:u),m(p?Math.max(0,Math.min(1,_)):_))}b.domain=function(_){return arguments.length?([t,r,n]=_,a=f(t=+t),i=f(r=+r),o=f(n=+n),l=a===i?0:.5/(i-a),u=i===o?0:.5/(o-i),s=i<a?-1:1,b):[t,r,n]},b.clamp=function(_){return arguments.length?(p=!!_,b):p},b.interpolator=function(_){return arguments.length?(m=_,b):m};function y(_){return function(w){var k,A,P;return arguments.length?([k,A,P]=w,m=aue(_,[k,A,P]),b):[m(0),m(.5),m(1)]}}return b.range=y($f),b.rangeRound=y(w4),b.unknown=function(_){return arguments.length?(g=_,b):g},function(_){return f=_,a=_(t),i=_(r),o=_(n),l=a===i?0:.5/(i-a),u=i===o?0:.5/(o-i),s=i<a?-1:1,b}}function B7(){var t=Yd(Tj()(Qa));return t.copy=function(){return Qd(t,B7())},Rc.apply(t,arguments)}function q7(){var t=C4(Tj()).domain([.1,1,10]);return t.copy=function(){return Qd(t,q7()).base(t.base())},Rc.apply(t,arguments)}function U7(){var t=k4(Tj());return t.copy=function(){return Qd(t,U7()).constant(t.constant())},Rc.apply(t,arguments)}function $4(){var t=A4(Tj());return t.copy=function(){return Qd(t,$4()).exponent(t.exponent())},Rc.apply(t,arguments)}function Ghe(){return $4.apply(null,arguments).exponent(.5)}const fR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Mx,scaleDiverging:B7,scaleDivergingLog:q7,scaleDivergingPow:$4,scaleDivergingSqrt:Ghe,scaleDivergingSymlog:U7,scaleIdentity:j7,scaleImplicit:Nk,scaleLinear:L0,scaleLog:_7,scaleOrdinal:y4,scalePoint:lx,scalePow:P4,scaleQuantile:C7,scaleQuantize:k7,scaleRadial:S7,scaleSequential:L7,scaleSequentialLog:F7,scaleSequentialPow:F4,scaleSequentialQuantile:z7,scaleSequentialSqrt:Hhe,scaleSequentialSymlog:$7,scaleSqrt:Aue,scaleSymlog:N7,scaleThreshold:A7,scaleTime:Khe,scaleUtc:Whe,tickFormat:b7},Symbol.toStringTag,{value:"Module"}));var v2,pR;function Ej(){if(pR)return v2;pR=1;var t=Df();function r(n,s,a){for(var i=-1,o=n.length;++i<o;){var l=n[i],u=s(l);if(u!=null&&(m===void 0?u===u&&!t(u):a(u,m)))var m=u,f=l}return f}return v2=r,v2}var y2,xR;function V7(){if(xR)return y2;xR=1;function t(r,n){return r>n}return y2=t,y2}var b2,gR;function Zhe(){if(gR)return b2;gR=1;var t=Ej(),r=V7(),n=Ff();function s(a){return a&&a.length?t(a,n,r):void 0}return b2=s,b2}var Yhe=Zhe();const Ad=mn(Yhe);var j2,vR;function K7(){if(vR)return j2;vR=1;function t(r,n){return r<n}return j2=t,j2}var w2,yR;function Qhe(){if(yR)return w2;yR=1;var t=Ej(),r=K7(),n=Ff();function s(a){return a&&a.length?t(a,n,r):void 0}return w2=s,w2}var Xhe=Qhe();const Oj=mn(Xhe);var _2,bR;function Jhe(){if(bR)return _2;bR=1;var t=t4(),r=Fl(),n=Jq(),s=yi();function a(i,o){var l=s(i)?t:n;return l(i,r(o,3))}return _2=a,_2}var N2,jR;function eme(){if(jR)return N2;jR=1;var t=Qq(),r=Jhe();function n(s,a){return t(r(s,a),1)}return N2=n,N2}var tme=eme();const rme=mn(tme);var S2,wR;function nme(){if(wR)return S2;wR=1;var t=f4();function r(n,s){return t(n,s)}return S2=r,S2}var sme=nme();const oh=mn(sme);var zf=1e9,ame={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},B4,rs=!0,mo="[DecimalError] ",Ku=mo+"Invalid argument: ",z4=mo+"Exponent out of range: ",Bf=Math.floor,Iu=Math.pow,ime=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fi,sa=1e7,Zn=7,W7=9007199254740991,B0=Bf(W7/Zn),Bt={};Bt.absoluteValue=Bt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Bt.comparedTo=Bt.cmp=function(t){var r,n,s,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(s=i.d.length,a=t.d.length,r=0,n=s<a?s:a;r<n;++r)if(i.d[r]!==t.d[r])return i.d[r]>t.d[r]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};Bt.decimalPlaces=Bt.dp=function(){var t=this,r=t.d.length-1,n=(r-t.e)*Zn;if(r=t.d[r],r)for(;r%10==0;r/=10)n--;return n<0?0:n};Bt.dividedBy=Bt.div=function(t){return jc(this,new this.constructor(t))};Bt.dividedToIntegerBy=Bt.idiv=function(t){var r=this,n=r.constructor;return Fn(jc(r,new n(t),0,1),n.precision)};Bt.equals=Bt.eq=function(t){return!this.cmp(t)};Bt.exponent=function(){return Fs(this)};Bt.greaterThan=Bt.gt=function(t){return this.cmp(t)>0};Bt.greaterThanOrEqualTo=Bt.gte=function(t){return this.cmp(t)>=0};Bt.isInteger=Bt.isint=function(){return this.e>this.d.length-2};Bt.isNegative=Bt.isneg=function(){return this.s<0};Bt.isPositive=Bt.ispos=function(){return this.s>0};Bt.isZero=function(){return this.s===0};Bt.lessThan=Bt.lt=function(t){return this.cmp(t)<0};Bt.lessThanOrEqualTo=Bt.lte=function(t){return this.cmp(t)<1};Bt.logarithm=Bt.log=function(t){var r,n=this,s=n.constructor,a=s.precision,i=a+5;if(t===void 0)t=new s(10);else if(t=new s(t),t.s<1||t.eq(Fi))throw Error(mo+"NaN");if(n.s<1)throw Error(mo+(n.s?"NaN":"-Infinity"));return n.eq(Fi)?new s(0):(rs=!1,r=jc($x(n,i),$x(t,i),i),rs=!0,Fn(r,a))};Bt.minus=Bt.sub=function(t){var r=this;return t=new r.constructor(t),r.s==t.s?Z7(r,t):H7(r,(t.s=-t.s,t))};Bt.modulo=Bt.mod=function(t){var r,n=this,s=n.constructor,a=s.precision;if(t=new s(t),!t.s)throw Error(mo+"NaN");return n.s?(rs=!1,r=jc(n,t,0,1).times(t),rs=!0,n.minus(r)):Fn(new s(n),a)};Bt.naturalExponential=Bt.exp=function(){return G7(this)};Bt.naturalLogarithm=Bt.ln=function(){return $x(this)};Bt.negated=Bt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Bt.plus=Bt.add=function(t){var r=this;return t=new r.constructor(t),r.s==t.s?H7(r,t):Z7(r,(t.s=-t.s,t))};Bt.precision=Bt.sd=function(t){var r,n,s,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ku+t);if(r=Fs(a)+1,s=a.d.length-1,n=s*Zn+1,s=a.d[s],s){for(;s%10==0;s/=10)n--;for(s=a.d[0];s>=10;s/=10)n++}return t&&r>n?r:n};Bt.squareRoot=Bt.sqrt=function(){var t,r,n,s,a,i,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(mo+"NaN")}for(t=Fs(l),rs=!1,a=Math.sqrt(+l),a==0||a==1/0?(r=pl(l.d),(r.length+t)%2==0&&(r+="0"),a=Math.sqrt(r),t=Bf((t+1)/2)-(t<0||t%2),a==1/0?r="5e"+t:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),s=new u(r)):s=new u(a.toString()),n=u.precision,a=o=n+3;;)if(i=s,s=i.plus(jc(l,i,o+2)).times(.5),pl(i.d).slice(0,o)===(r=pl(s.d)).slice(0,o)){if(r=r.slice(o-3,o+1),a==o&&r=="4999"){if(Fn(i,n+1,0),i.times(i).eq(l)){s=i;break}}else if(r!="9999")break;o+=4}return rs=!0,Fn(s,n)};Bt.times=Bt.mul=function(t){var r,n,s,a,i,o,l,u,m,f=this,p=f.constructor,g=f.d,b=(t=new p(t)).d;if(!f.s||!t.s)return new p(0);for(t.s*=f.s,n=f.e+t.e,u=g.length,m=b.length,u<m&&(i=g,g=b,b=i,o=u,u=m,m=o),i=[],o=u+m,s=o;s--;)i.push(0);for(s=m;--s>=0;){for(r=0,a=u+s;a>s;)l=i[a]+b[s]*g[a-s-1]+r,i[a--]=l%sa|0,r=l/sa|0;i[a]=(i[a]+r)%sa|0}for(;!i[--o];)i.pop();return r?++n:i.shift(),t.d=i,t.e=n,rs?Fn(t,p.precision):t};Bt.toDecimalPlaces=Bt.todp=function(t,r){var n=this,s=n.constructor;return n=new s(n),t===void 0?n:(Tl(t,0,zf),r===void 0?r=s.rounding:Tl(r,0,8),Fn(n,t+Fs(n)+1,r))};Bt.toExponential=function(t,r){var n,s=this,a=s.constructor;return t===void 0?n=lh(s,!0):(Tl(t,0,zf),r===void 0?r=a.rounding:Tl(r,0,8),s=Fn(new a(s),t+1,r),n=lh(s,!0,t+1)),n};Bt.toFixed=function(t,r){var n,s,a=this,i=a.constructor;return t===void 0?lh(a):(Tl(t,0,zf),r===void 0?r=i.rounding:Tl(r,0,8),s=Fn(new i(a),t+Fs(a)+1,r),n=lh(s.abs(),!1,t+Fs(s)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Bt.toInteger=Bt.toint=function(){var t=this,r=t.constructor;return Fn(new r(t),Fs(t)+1,r.rounding)};Bt.toNumber=function(){return+this};Bt.toPower=Bt.pow=function(t){var r,n,s,a,i,o,l=this,u=l.constructor,m=12,f=+(t=new u(t));if(!t.s)return new u(Fi);if(l=new u(l),!l.s){if(t.s<1)throw Error(mo+"Infinity");return l}if(l.eq(Fi))return l;if(s=u.precision,t.eq(Fi))return Fn(l,s);if(r=t.e,n=t.d.length-1,o=r>=n,i=l.s,o){if((n=f<0?-f:f)<=W7){for(a=new u(Fi),r=Math.ceil(s/Zn+4),rs=!1;n%2&&(a=a.times(l),NR(a.d,r)),n=Bf(n/2),n!==0;)l=l.times(l),NR(l.d,r);return rs=!0,t.s<0?new u(Fi).div(a):Fn(a,s)}}else if(i<0)throw Error(mo+"NaN");return i=i<0&&t.d[Math.max(r,n)]&1?-1:1,l.s=1,rs=!1,a=t.times($x(l,s+m)),rs=!0,a=G7(a),a.s=i,a};Bt.toPrecision=function(t,r){var n,s,a=this,i=a.constructor;return t===void 0?(n=Fs(a),s=lh(a,n<=i.toExpNeg||n>=i.toExpPos)):(Tl(t,1,zf),r===void 0?r=i.rounding:Tl(r,0,8),a=Fn(new i(a),t,r),n=Fs(a),s=lh(a,t<=n||n<=i.toExpNeg,t)),s};Bt.toSignificantDigits=Bt.tosd=function(t,r){var n=this,s=n.constructor;return t===void 0?(t=s.precision,r=s.rounding):(Tl(t,1,zf),r===void 0?r=s.rounding:Tl(r,0,8)),Fn(new s(n),t,r)};Bt.toString=Bt.valueOf=Bt.val=Bt.toJSON=Bt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,r=Fs(t),n=t.constructor;return lh(t,r<=n.toExpNeg||r>=n.toExpPos)};function H7(t,r){var n,s,a,i,o,l,u,m,f=t.constructor,p=f.precision;if(!t.s||!r.s)return r.s||(r=new f(t)),rs?Fn(r,p):r;if(u=t.d,m=r.d,o=t.e,a=r.e,u=u.slice(),i=o-a,i){for(i<0?(s=u,i=-i,l=m.length):(s=m,a=o,l=u.length),o=Math.ceil(p/Zn),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=u.length,i=m.length,l-i<0&&(i=l,s=m,m=u,u=s),n=0;i;)n=(u[--i]=u[i]+m[i]+n)/sa|0,u[i]%=sa;for(n&&(u.unshift(n),++a),l=u.length;u[--l]==0;)u.pop();return r.d=u,r.e=a,rs?Fn(r,p):r}function Tl(t,r,n){if(t!==~~t||t<r||t>n)throw Error(Ku+t)}function pl(t){var r,n,s,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,r=1;r<a;r++)s=t[r]+"",n=Zn-s.length,n&&(i+=Cd(n)),i+=s;o=t[r],s=o+"",n=Zn-s.length,n&&(i+=Cd(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var jc=(function(){function t(s,a){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*a+o,s[l]=i%sa|0,o=i/sa|0;return o&&s.unshift(o),s}function r(s,a,i,o){var l,u;if(i!=o)u=i>o?1:-1;else for(l=u=0;l<i;l++)if(s[l]!=a[l]){u=s[l]>a[l]?1:-1;break}return u}function n(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*sa+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var l,u,m,f,p,g,b,y,_,w,k,A,P,O,I,D,F,B,H=s.constructor,re=s.s==a.s?1:-1,G=s.d,J=a.d;if(!s.s)return new H(s);if(!a.s)throw Error(mo+"Division by zero");for(u=s.e-a.e,F=J.length,I=G.length,b=new H(re),y=b.d=[],m=0;J[m]==(G[m]||0);)++m;if(J[m]>(G[m]||0)&&--u,i==null?A=i=H.precision:o?A=i+(Fs(s)-Fs(a))+1:A=i,A<0)return new H(0);if(A=A/Zn+2|0,m=0,F==1)for(f=0,J=J[0],A++;(m<I||f)&&A--;m++)P=f*sa+(G[m]||0),y[m]=P/J|0,f=P%J|0;else{for(f=sa/(J[0]+1)|0,f>1&&(J=t(J,f),G=t(G,f),F=J.length,I=G.length),O=F,_=G.slice(0,F),w=_.length;w<F;)_[w++]=0;B=J.slice(),B.unshift(0),D=J[0],J[1]>=sa/2&&++D;do f=0,l=r(J,_,F,w),l<0?(k=_[0],F!=w&&(k=k*sa+(_[1]||0)),f=k/D|0,f>1?(f>=sa&&(f=sa-1),p=t(J,f),g=p.length,w=_.length,l=r(p,_,g,w),l==1&&(f--,n(p,F<g?B:J,g))):(f==0&&(l=f=1),p=J.slice()),g=p.length,g<w&&p.unshift(0),n(_,p,w),l==-1&&(w=_.length,l=r(J,_,F,w),l<1&&(f++,n(_,F<w?B:J,w))),w=_.length):l===0&&(f++,_=[0]),y[m++]=f,l&&_[0]?_[w++]=G[O]||0:(_=[G[O]],w=1);while((O++<I||_[0]!==void 0)&&A--)}return y[0]||y.shift(),b.e=u,Fn(b,o?i+Fs(b)+1:i)}})();function G7(t,r){var n,s,a,i,o,l,u=0,m=0,f=t.constructor,p=f.precision;if(Fs(t)>16)throw Error(z4+Fs(t));if(!t.s)return new f(Fi);for(rs=!1,l=p,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),m+=5;for(s=Math.log(Iu(2,m))/Math.LN10*2+5|0,l+=s,n=a=i=new f(Fi),f.precision=l;;){if(a=Fn(a.times(t),l),n=n.times(++u),o=i.plus(jc(a,n,l)),pl(o.d).slice(0,l)===pl(i.d).slice(0,l)){for(;m--;)i=Fn(i.times(i),l);return f.precision=p,r==null?(rs=!0,Fn(i,p)):i}i=o}}function Fs(t){for(var r=t.e*Zn,n=t.d[0];n>=10;n/=10)r++;return r}function C2(t,r,n){if(r>t.LN10.sd())throw rs=!0,n&&(t.precision=n),Error(mo+"LN10 precision limit exceeded");return Fn(new t(t.LN10),r)}function Cd(t){for(var r="";t--;)r+="0";return r}function $x(t,r){var n,s,a,i,o,l,u,m,f,p=1,g=10,b=t,y=b.d,_=b.constructor,w=_.precision;if(b.s<1)throw Error(mo+(b.s?"NaN":"-Infinity"));if(b.eq(Fi))return new _(0);if(r==null?(rs=!1,m=w):m=r,b.eq(10))return r==null&&(rs=!0),C2(_,m);if(m+=g,_.precision=m,n=pl(y),s=n.charAt(0),i=Fs(b),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&n.charAt(1)>3;)b=b.times(t),n=pl(b.d),s=n.charAt(0),p++;i=Fs(b),s>1?(b=new _("0."+n),i++):b=new _(s+"."+n.slice(1))}else return u=C2(_,m+2,w).times(i+""),b=$x(new _(s+"."+n.slice(1)),m-g).plus(u),_.precision=w,r==null?(rs=!0,Fn(b,w)):b;for(l=o=b=jc(b.minus(Fi),b.plus(Fi),m),f=Fn(b.times(b),m),a=3;;){if(o=Fn(o.times(f),m),u=l.plus(jc(o,new _(a),m)),pl(u.d).slice(0,m)===pl(l.d).slice(0,m))return l=l.times(2),i!==0&&(l=l.plus(C2(_,m+2,w).times(i+""))),l=jc(l,new _(p),m),_.precision=w,r==null?(rs=!0,Fn(l,w)):l;l=u,a+=2}}function _R(t,r){var n,s,a;for((n=r.indexOf("."))>-1&&(r=r.replace(".","")),(s=r.search(/e/i))>0?(n<0&&(n=s),n+=+r.slice(s+1),r=r.substring(0,s)):n<0&&(n=r.length),s=0;r.charCodeAt(s)===48;)++s;for(a=r.length;r.charCodeAt(a-1)===48;)--a;if(r=r.slice(s,a),r){if(a-=s,n=n-s-1,t.e=Bf(n/Zn),t.d=[],s=(n+1)%Zn,n<0&&(s+=Zn),s<a){for(s&&t.d.push(+r.slice(0,s)),a-=Zn;s<a;)t.d.push(+r.slice(s,s+=Zn));r=r.slice(s),s=Zn-r.length}else s-=a;for(;s--;)r+="0";if(t.d.push(+r),rs&&(t.e>B0||t.e<-B0))throw Error(z4+n)}else t.s=0,t.e=0,t.d=[0];return t}function Fn(t,r,n){var s,a,i,o,l,u,m,f,p=t.d;for(o=1,i=p[0];i>=10;i/=10)o++;if(s=r-o,s<0)s+=Zn,a=r,m=p[f=0];else{if(f=Math.ceil((s+1)/Zn),i=p.length,f>=i)return t;for(m=i=p[f],o=1;i>=10;i/=10)o++;s%=Zn,a=s-Zn+o}if(n!==void 0&&(i=Iu(10,o-a-1),l=m/i%10|0,u=r<0||p[f+1]!==void 0||m%i,u=n<4?(l||u)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(s>0?a>0?m/Iu(10,o-a):0:p[f-1])%10&1||n==(t.s<0?8:7))),r<1||!p[0])return u?(i=Fs(t),p.length=1,r=r-i-1,p[0]=Iu(10,(Zn-r%Zn)%Zn),t.e=Bf(-r/Zn)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(s==0?(p.length=f,i=1,f--):(p.length=f+1,i=Iu(10,Zn-s),p[f]=a>0?(m/Iu(10,o-a)%Iu(10,a)|0)*i:0),u)for(;;)if(f==0){(p[0]+=i)==sa&&(p[0]=1,++t.e);break}else{if(p[f]+=i,p[f]!=sa)break;p[f--]=0,i=1}for(s=p.length;p[--s]===0;)p.pop();if(rs&&(t.e>B0||t.e<-B0))throw Error(z4+Fs(t));return t}function Z7(t,r){var n,s,a,i,o,l,u,m,f,p,g=t.constructor,b=g.precision;if(!t.s||!r.s)return r.s?r.s=-r.s:r=new g(t),rs?Fn(r,b):r;if(u=t.d,p=r.d,s=r.e,m=t.e,u=u.slice(),o=m-s,o){for(f=o<0,f?(n=u,o=-o,l=p.length):(n=p,s=m,l=u.length),a=Math.max(Math.ceil(b/Zn),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=u.length,l=p.length,f=a<l,f&&(l=a),a=0;a<l;a++)if(u[a]!=p[a]){f=u[a]<p[a];break}o=0}for(f&&(n=u,u=p,p=n,r.s=-r.s),l=u.length,a=p.length-l;a>0;--a)u[l++]=0;for(a=p.length;a>o;){if(u[--a]<p[a]){for(i=a;i&&u[--i]===0;)u[i]=sa-1;--u[i],u[a]+=sa}u[a]-=p[a]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--s;return u[0]?(r.d=u,r.e=s,rs?Fn(r,b):r):new g(0)}function lh(t,r,n){var s,a=Fs(t),i=pl(t.d),o=i.length;return r?(n&&(s=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Cd(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Cd(-a-1)+i,n&&(s=n-o)>0&&(i+=Cd(s))):a>=o?(i+=Cd(a+1-o),n&&(s=n-a-1)>0&&(i=i+"."+Cd(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),n&&(s=n-o)>0&&(a+1===o&&(i+="."),i+=Cd(s))),t.s<0?"-"+i:i}function NR(t,r){if(t.length>r)return t.length=r,!0}function Y7(t){var r,n,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ku+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return _R(o,i.toString())}else if(typeof i!="string")throw Error(Ku+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,ime.test(i))_R(o,i);else throw Error(Ku+i)}if(a.prototype=Bt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Y7,a.config=a.set=ome,t===void 0&&(t={}),t)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<s.length;)t.hasOwnProperty(n=s[r++])||(t[n]=this[n]);return a.config(t),a}function ome(t){if(!t||typeof t!="object")throw Error(mo+"Object expected");var r,n,s,a=["precision",1,zf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<a.length;r+=3)if((s=t[n=a[r]])!==void 0)if(Bf(s)===s&&s>=a[r+1]&&s<=a[r+2])this[n]=s;else throw Error(Ku+n+": "+s);if((s=t[n="LN10"])!==void 0)if(s==Math.LN10)this[n]=new this(s);else throw Error(Ku+n+": "+s);return this}var B4=Y7(ame);Fi=new B4(1);const Dn=B4;function lme(t){return hme(t)||ume(t)||dme(t)||cme()}function cme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dme(t,r){if(t){if(typeof t=="string")return Ak(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ak(t,r)}}function ume(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function hme(t){if(Array.isArray(t))return Ak(t)}function Ak(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}var mme=function(r){return r},Q7={},X7=function(r){return r===Q7},SR=function(r){return function n(){return arguments.length===0||arguments.length===1&&X7(arguments.length<=0?void 0:arguments[0])?n:r.apply(void 0,arguments)}},fme=function t(r,n){return r===1?n:SR(function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==Q7}).length;return o>=r?n.apply(void 0,a):t(r-o,SR(function(){for(var l=arguments.length,u=new Array(l),m=0;m<l;m++)u[m]=arguments[m];var f=a.map(function(p){return X7(p)?u.shift():p});return n.apply(void 0,lme(f).concat(u))}))})},Ij=function(r){return fme(r.length,r)},Pk=function(r,n){for(var s=[],a=r;a<n;++a)s[a-r]=a;return s},pme=Ij(function(t,r){return Array.isArray(r)?r.map(t):Object.keys(r).map(function(n){return r[n]}).map(t)}),xme=function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];if(!n.length)return mme;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,u){return u(l)},i.apply(void 0,arguments))}},Tk=function(r){return Array.isArray(r)?r.reverse():r.split("").reverse.join("")},J7=function(r){var n=null,s=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(l,u){return l===n[u]})||(n=i,s=r.apply(void 0,i)),s}};function gme(t){var r;return t===0?r=1:r=Math.floor(new Dn(t).abs().log(10).toNumber())+1,r}function vme(t,r,n){for(var s=new Dn(t),a=0,i=[];s.lt(r)&&a<1e5;)i.push(s.toNumber()),s=s.add(n),a++;return i}var yme=Ij(function(t,r,n){var s=+t,a=+r;return s+n*(a-s)}),bme=Ij(function(t,r,n){var s=r-+t;return s=s||1/0,(n-t)/s}),jme=Ij(function(t,r,n){var s=r-+t;return s=s||1/0,Math.max(0,Math.min(1,(n-t)/s))});const Mj={rangeStep:vme,getDigitCount:gme,interpolateNumber:yme,uninterpolateNumber:bme,uninterpolateTruncation:jme};function Ek(t){return Nme(t)||_me(t)||eU(t)||wme()}function wme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _me(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Nme(t){if(Array.isArray(t))return Ok(t)}function zx(t,r){return kme(t)||Cme(t,r)||eU(t,r)||Sme()}function Sme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eU(t,r){if(t){if(typeof t=="string")return Ok(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ok(t,r)}}function Ok(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function Cme(t,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],s=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(n.push(l.value),!(r&&n.length===r));s=!0);}catch(u){a=!0,i=u}finally{try{!s&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function kme(t){if(Array.isArray(t))return t}function tU(t){var r=zx(t,2),n=r[0],s=r[1],a=n,i=s;return n>s&&(a=s,i=n),[a,i]}function rU(t,r,n){if(t.lte(0))return new Dn(0);var s=Mj.getDigitCount(t.toNumber()),a=new Dn(10).pow(s),i=t.div(a),o=s!==1?.05:.1,l=new Dn(Math.ceil(i.div(o).toNumber())).add(n).mul(o),u=l.mul(a);return r?u:new Dn(Math.ceil(u))}function Ame(t,r,n){var s=1,a=new Dn(t);if(!a.isint()&&n){var i=Math.abs(t);i<1?(s=new Dn(10).pow(Mj.getDigitCount(t)-1),a=new Dn(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new Dn(Math.floor(t)))}else t===0?a=new Dn(Math.floor((r-1)/2)):n||(a=new Dn(Math.floor(t)));var o=Math.floor((r-1)/2),l=xme(pme(function(u){return a.add(new Dn(u-o).mul(s)).toNumber()}),Pk);return l(0,r)}function nU(t,r,n,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Dn(0),tickMin:new Dn(0),tickMax:new Dn(0)};var i=rU(new Dn(r).sub(t).div(n-1),s,a),o;t<=0&&r>=0?o=new Dn(0):(o=new Dn(t).add(r).div(2),o=o.sub(new Dn(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),u=Math.ceil(new Dn(r).sub(o).div(i).toNumber()),m=l+u+1;return m>n?nU(t,r,n,s,a+1):(m<n&&(u=r>0?u+(n-m):u,l=r>0?l:l+(n-m)),{step:i,tickMin:o.sub(new Dn(l).mul(i)),tickMax:o.add(new Dn(u).mul(i))})}function Pme(t){var r=zx(t,2),n=r[0],s=r[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=tU([n,s]),u=zx(l,2),m=u[0],f=u[1];if(m===-1/0||f===1/0){var p=f===1/0?[m].concat(Ek(Pk(0,a-1).map(function(){return 1/0}))):[].concat(Ek(Pk(0,a-1).map(function(){return-1/0})),[f]);return n>s?Tk(p):p}if(m===f)return Ame(m,a,i);var g=nU(m,f,o,i),b=g.step,y=g.tickMin,_=g.tickMax,w=Mj.rangeStep(y,_.add(new Dn(.1).mul(b)),b);return n>s?Tk(w):w}function Tme(t,r){var n=zx(t,2),s=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=tU([s,a]),l=zx(o,2),u=l[0],m=l[1];if(u===-1/0||m===1/0)return[s,a];if(u===m)return[u];var f=Math.max(r,2),p=rU(new Dn(m).sub(u).div(f-1),i,0),g=[].concat(Ek(Mj.rangeStep(new Dn(u),new Dn(m).sub(new Dn(.99).mul(p)),p)),[m]);return s>a?Tk(g):g}var Eme=J7(Pme),Ome=J7(Tme),Ime="Invariant failed";function ch(t,r){throw new Error(Ime)}var Mme=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},tf(t)}function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},q0.apply(this,arguments)}function Dme(t,r){return $me(t)||Fme(t,r)||Lme(t,r)||Rme()}function Rme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lme(t,r){if(t){if(typeof t=="string")return CR(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CR(t,r)}}function CR(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function Fme(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],u=!0,m=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(u=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);u=!0);}catch(f){m=!0,a=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(m)throw a}}return l}}function $me(t){if(Array.isArray(t))return t}function zme(t,r){if(t==null)return{};var n=Bme(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Bme(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function qme(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Ume(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,iU(s.key),s)}}function Vme(t,r,n){return r&&Ume(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kme(t,r,n){return r=U0(r),Wme(t,sU()?Reflect.construct(r,n||[],U0(t).constructor):r.apply(t,n))}function Wme(t,r){if(r&&(tf(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hme(t)}function Hme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sU=function(){return!!t})()}function U0(t){return U0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},U0(t)}function Gme(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Ik(t,r)}function Ik(t,r){return Ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Ik(t,r)}function aU(t,r,n){return r=iU(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function iU(t){var r=Zme(t,"string");return tf(r)=="symbol"?r:r+""}function Zme(t,r){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(tf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qg=(function(t){function r(){return qme(this,r),Kme(this,r,arguments)}return Gme(r,t),Vme(r,[{key:"render",value:function(){var s=this.props,a=s.offset,i=s.layout,o=s.width,l=s.dataKey,u=s.data,m=s.dataPointFormatter,f=s.xAxis,p=s.yAxis,g=zme(s,Mme),b=Xt(g,!1);this.props.direction==="x"&&f.type!=="number"&&ch();var y=u.map(function(_){var w=m(_,l),k=w.x,A=w.y,P=w.value,O=w.errorVal;if(!O)return null;var I=[],D,F;if(Array.isArray(O)){var B=Dme(O,2);D=B[0],F=B[1]}else D=F=O;if(i==="vertical"){var H=f.scale,re=A+a,G=re+o,J=re-o,Z=H(P-D),ne=H(P+F);I.push({x1:ne,y1:G,x2:ne,y2:J}),I.push({x1:Z,y1:re,x2:ne,y2:re}),I.push({x1:Z,y1:G,x2:Z,y2:J})}else if(i==="horizontal"){var K=p.scale,ae=k+a,U=ae-o,W=ae+o,se=K(P-D),de=K(P+F);I.push({x1:U,y1:de,x2:W,y2:de}),I.push({x1:ae,y1:se,x2:ae,y2:de}),I.push({x1:U,y1:se,x2:W,y2:se})}return le.createElement(Kr,q0({className:"recharts-errorBar",key:"bar-".concat(I.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},b),I.map(function(z){return le.createElement("line",q0({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return le.createElement(Kr,{className:"recharts-errorBars"},y)}}])})(le.Component);aU(qg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});aU(qg,"displayName","ErrorBar");function Bx(t){"@babel/helpers - typeof";return Bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Bx(t)}function kR(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function ku(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?kR(Object(n),!0).forEach(function(s){Yme(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Yme(t,r,n){return r=Qme(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Qme(t){var r=Xme(t,"string");return Bx(r)=="symbol"?r:r+""}function Xme(t,r){if(Bx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Bx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var oU=function(r){var n=r.children,s=r.formattedGraphicalItems,a=r.legendWidth,i=r.legendContent,o=Mi(n,Uu);if(!o)return null;var l=Uu.defaultProps,u=l!==void 0?ku(ku({},l),o.props):{},m;return o.props&&o.props.payload?m=o.props&&o.props.payload:i==="children"?m=(s||[]).reduce(function(f,p){var g=p.item,b=p.props,y=b.sectors||b.data||[];return f.concat(y.map(function(_){return{type:o.props.iconType||g.props.legendType,value:_.name,color:_.fill,payload:_}}))},[]):m=(s||[]).map(function(f){var p=f.item,g=p.type.defaultProps,b=g!==void 0?ku(ku({},g),p.props):{},y=b.dataKey,_=b.name,w=b.legendType,k=b.hide;return{inactive:k,dataKey:y,type:u.iconType||w||"square",color:q4(p),value:_||y,payload:b}}),ku(ku(ku({},u),Uu.getWithHeight(o,a)),{},{payload:m,item:o})};function qx(t){"@babel/helpers - typeof";return qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qx(t)}function AR(t){return rfe(t)||tfe(t)||efe(t)||Jme()}function Jme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function efe(t,r){if(t){if(typeof t=="string")return Mk(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mk(t,r)}}function tfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rfe(t){if(Array.isArray(t))return Mk(t)}function Mk(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function PR(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function xs(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?PR(Object(n),!0).forEach(function(s){Rm(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Rm(t,r,n){return r=nfe(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function nfe(t){var r=sfe(t,"string");return qx(r)=="symbol"?r:r+""}function sfe(t,r){if(qx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(qx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function ks(t,r,n){return br(t)||br(r)?n:Ys(r)?qi(t,r,n):dr(r)?r(t):n}function cx(t,r,n,s){var a=rme(t,function(l){return ks(l,r)});if(n==="number"){var i=a.filter(function(l){return jt(l)||parseFloat(l)});return i.length?[Oj(i),Ad(i)]:[1/0,-1/0]}var o=s?a.filter(function(l){return!br(l)}):a;return o.map(function(l){return Ys(l)||l instanceof Date?l:""})}var afe=function(r){var n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=s?.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var u=i.range,m=0;m<l;m++){var f=m>0?a[m-1].coordinate:a[l-1].coordinate,p=a[m].coordinate,g=m>=l-1?a[0].coordinate:a[m+1].coordinate,b=void 0;if(Za(p-f)!==Za(g-p)){var y=[];if(Za(g-p)===Za(u[1]-u[0])){b=g;var _=p+u[1]-u[0];y[0]=Math.min(_,(_+f)/2),y[1]=Math.max(_,(_+f)/2)}else{b=f;var w=g+u[1]-u[0];y[0]=Math.min(p,(w+p)/2),y[1]=Math.max(p,(w+p)/2)}var k=[Math.min(p,(b+p)/2),Math.max(p,(b+p)/2)];if(r>k[0]&&r<=k[1]||r>=y[0]&&r<=y[1]){o=a[m].index;break}}else{var A=Math.min(f,g),P=Math.max(f,g);if(r>(A+p)/2&&r<=(P+p)/2){o=a[m].index;break}}}else for(var O=0;O<l;O++)if(O===0&&r<=(s[O].coordinate+s[O+1].coordinate)/2||O>0&&O<l-1&&r>(s[O].coordinate+s[O-1].coordinate)/2&&r<=(s[O].coordinate+s[O+1].coordinate)/2||O===l-1&&r>(s[O].coordinate+s[O-1].coordinate)/2){o=s[O].index;break}return o},q4=function(r){var n,s=r,a=s.type.displayName,i=(n=r.type)!==null&&n!==void 0&&n.defaultProps?xs(xs({},r.type.defaultProps),r.props):r.props,o=i.stroke,l=i.fill,u;switch(a){case"Line":u=o;break;case"Area":case"Radar":u=o&&o!=="none"?o:l;break;default:u=l;break}return u},ife=function(r){var n=r.barSize,s=r.totalSize,a=r.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),u=0,m=l.length;u<m;u++)for(var f=i[l[u]].stackGroups,p=Object.keys(f),g=0,b=p.length;g<b;g++){var y=f[p[g]],_=y.items,w=y.cateAxisId,k=_.filter(function(F){return bc(F.type).indexOf("Bar")>=0});if(k&&k.length){var A=k[0].type.defaultProps,P=A!==void 0?xs(xs({},A),k[0].props):k[0].props,O=P.barSize,I=P[w];o[I]||(o[I]=[]);var D=br(O)?n:O;o[I].push({item:k[0],stackList:k.slice(1),barSize:br(D)?void 0:Ya(D,s,0)})}}return o},ofe=function(r){var n=r.barGap,s=r.barCategoryGap,a=r.bandSize,i=r.sizeList,o=i===void 0?[]:i,l=r.maxBarSize,u=o.length;if(u<1)return null;var m=Ya(n,a,0,!0),f,p=[];if(o[0].barSize===+o[0].barSize){var g=!1,b=a/u,y=o.reduce(function(O,I){return O+I.barSize||0},0);y+=(u-1)*m,y>=a&&(y-=(u-1)*m,m=0),y>=a&&b>0&&(g=!0,b*=.9,y=u*b);var _=(a-y)/2>>0,w={offset:_-m,size:0};f=o.reduce(function(O,I){var D={item:I.item,position:{offset:w.offset+w.size+m,size:g?b:I.barSize}},F=[].concat(AR(O),[D]);return w=F[F.length-1].position,I.stackList&&I.stackList.length&&I.stackList.forEach(function(B){F.push({item:B,position:w})}),F},p)}else{var k=Ya(s,a,0,!0);a-2*k-(u-1)*m<=0&&(m=0);var A=(a-2*k-(u-1)*m)/u;A>1&&(A>>=0);var P=l===+l?Math.min(A,l):A;f=o.reduce(function(O,I,D){var F=[].concat(AR(O),[{item:I.item,position:{offset:k+(A+m)*D+(A-P)/2,size:P}}]);return I.stackList&&I.stackList.length&&I.stackList.forEach(function(B){F.push({item:B,position:F[F.length-1].position})}),F},p)}return f},lfe=function(r,n,s,a){var i=s.children,o=s.width,l=s.margin,u=o-(l.left||0)-(l.right||0),m=oU({children:i,legendWidth:u});if(m){var f=a||{},p=f.width,g=f.height,b=m.align,y=m.verticalAlign,_=m.layout;if((_==="vertical"||_==="horizontal"&&y==="middle")&&b!=="center"&&jt(r[b]))return xs(xs({},r),{},Rm({},b,r[b]+(p||0)));if((_==="horizontal"||_==="vertical"&&b==="center")&&y!=="middle"&&jt(r[y]))return xs(xs({},r),{},Rm({},y,r[y]+(g||0)))}return r},cfe=function(r,n,s){return br(n)?!0:r==="horizontal"?n==="yAxis":r==="vertical"||s==="x"?n==="xAxis":s==="y"?n==="yAxis":!0},lU=function(r,n,s,a,i){var o=n.props.children,l=Ui(o,qg).filter(function(m){return cfe(a,i,m.props.direction)});if(l&&l.length){var u=l.map(function(m){return m.props.dataKey});return r.reduce(function(m,f){var p=ks(f,s);if(br(p))return m;var g=Array.isArray(p)?[Oj(p),Ad(p)]:[p,p],b=u.reduce(function(y,_){var w=ks(f,_,0),k=g[0]-Math.abs(Array.isArray(w)?w[0]:w),A=g[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(k,y[0]),Math.max(A,y[1])]},[1/0,-1/0]);return[Math.min(b[0],m[0]),Math.max(b[1],m[1])]},[1/0,-1/0])}return null},dfe=function(r,n,s,a,i){var o=n.map(function(l){return lU(r,l,s,i,a)}).filter(function(l){return!br(l)});return o&&o.length?o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]):null},cU=function(r,n,s,a,i){var o=n.map(function(u){var m=u.props.dataKey;return s==="number"&&m&&lU(r,u,m,a)||cx(r,m,s,i)});if(s==="number")return o.reduce(function(u,m){return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);var l={};return o.reduce(function(u,m){for(var f=0,p=m.length;f<p;f++)l[m[f]]||(l[m[f]]=!0,u.push(m[f]));return u},[])},dU=function(r,n){return r==="horizontal"&&n==="xAxis"||r==="vertical"&&n==="yAxis"||r==="centric"&&n==="angleAxis"||r==="radial"&&n==="radiusAxis"},uU=function(r,n,s,a){if(a)return r.map(function(u){return u.coordinate});var i,o,l=r.map(function(u){return u.coordinate===n&&(i=!0),u.coordinate===s&&(o=!0),u.coordinate});return i||l.push(n),o||l.push(s),l},yc=function(r,n,s){if(!r)return null;var a=r.scale,i=r.duplicateDomain,o=r.type,l=r.range,u=r.realScaleType==="scaleBand"?a.bandwidth()/2:2,m=(n||s)&&o==="category"&&a.bandwidth?a.bandwidth()/u:0;if(m=r.axisType==="angleAxis"&&l?.length>=2?Za(l[0]-l[1])*2*m:m,n&&(r.ticks||r.niceTicks)){var f=(r.ticks||r.niceTicks).map(function(p){var g=i?i.indexOf(p):p;return{coordinate:a(g)+m,value:p,offset:m}});return f.filter(function(p){return!Lf(p.coordinate)})}return r.isCategorical&&r.categoricalDomain?r.categoricalDomain.map(function(p,g){return{coordinate:a(p)+m,value:p,index:g,offset:m}}):a.ticks&&!s?a.ticks(r.tickCount).map(function(p){return{coordinate:a(p)+m,value:p,offset:m}}):a.domain().map(function(p,g){return{coordinate:a(p)+m,value:i?i[p]:p,index:g,offset:m}})},k2=new WeakMap,Ly=function(r,n){if(typeof n!="function")return r;k2.has(r)||k2.set(r,new WeakMap);var s=k2.get(r);if(s.has(n))return s.get(n);var a=function(){r.apply(void 0,arguments),n.apply(void 0,arguments)};return s.set(n,a),a},hU=function(r,n,s){var a=r.scale,i=r.type,o=r.layout,l=r.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Mx(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:L0(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!s)?{scale:lx(),realScaleType:"point"}:i==="category"?{scale:Mx(),realScaleType:"band"}:{scale:L0(),realScaleType:"linear"};if(sh(a)){var u="scale".concat(vj(a));return{scale:(fR[u]||lx)(),realScaleType:fR[u]?u:"point"}}return dr(a)?{scale:a}:{scale:lx(),realScaleType:"point"}},TR=1e-4,mU=function(r){var n=r.domain();if(!(!n||n.length<=2)){var s=n.length,a=r.range(),i=Math.min(a[0],a[1])-TR,o=Math.max(a[0],a[1])+TR,l=r(n[0]),u=r(n[s-1]);(l<i||l>o||u<i||u>o)&&r.domain([n[0],n[s-1]])}},ufe=function(r,n){if(!r)return null;for(var s=0,a=r.length;s<a;s++)if(r[s].item===n)return r[s].position;return null},hfe=function(r,n){if(!n||n.length!==2||!jt(n[0])||!jt(n[1]))return r;var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[r[0],r[1]];return(!jt(r[0])||r[0]<s)&&(i[0]=s),(!jt(r[1])||r[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<s&&(i[1]=s),i},mfe=function(r){var n=r.length;if(!(n<=0))for(var s=0,a=r[0].length;s<a;++s)for(var i=0,o=0,l=0;l<n;++l){var u=Lf(r[l][s][1])?r[l][s][0]:r[l][s][1];u>=0?(r[l][s][0]=i,r[l][s][1]=i+u,i=r[l][s][1]):(r[l][s][0]=o,r[l][s][1]=o+u,o=r[l][s][1])}},ffe=function(r){var n=r.length;if(!(n<=0))for(var s=0,a=r[0].length;s<a;++s)for(var i=0,o=0;o<n;++o){var l=Lf(r[o][s][1])?r[o][s][0]:r[o][s][1];l>=0?(r[o][s][0]=i,r[o][s][1]=i+l,i=r[o][s][1]):(r[o][s][0]=0,r[o][s][1]=0)}},pfe={sign:mfe,expand:roe,none:Hm,silhouette:noe,wiggle:soe,positive:ffe},xfe=function(r,n,s){var a=n.map(function(l){return l.props.dataKey}),i=pfe[s],o=toe().keys(a).value(function(l,u){return+ks(l,u,0)}).order(dk).offset(i);return o(r)},gfe=function(r,n,s,a,i,o){if(!r)return null;var l=o?n.reverse():n,u={},m=l.reduce(function(p,g){var b,y=(b=g.type)!==null&&b!==void 0&&b.defaultProps?xs(xs({},g.type.defaultProps),g.props):g.props,_=y.stackId,w=y.hide;if(w)return p;var k=y[s],A=p[k]||{hasStack:!1,stackGroups:{}};if(Ys(_)){var P=A.stackGroups[_]||{numericAxisId:s,cateAxisId:a,items:[]};P.items.push(g),A.hasStack=!0,A.stackGroups[_]=P}else A.stackGroups[wh("_stackId_")]={numericAxisId:s,cateAxisId:a,items:[g]};return xs(xs({},p),{},Rm({},k,A))},u),f={};return Object.keys(m).reduce(function(p,g){var b=m[g];if(b.hasStack){var y={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(_,w){var k=b.stackGroups[w];return xs(xs({},_),{},Rm({},w,{numericAxisId:s,cateAxisId:a,items:k.items,stackedData:xfe(r,k.items,i)}))},y)}return xs(xs({},p),{},Rm({},g,b))},f)},fU=function(r,n){var s=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,u=s||n.scale;if(u!=="auto"&&u!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var m=r.domain();if(!m.length)return null;var f=Eme(m,i,l);return r.domain([Oj(f),Ad(f)]),{niceTicks:f}}if(i&&a==="number"){var p=r.domain(),g=Ome(p,i,l);return{niceTicks:g}}return null};function V0(t){var r=t.axis,n=t.ticks,s=t.bandSize,a=t.entry,i=t.index,o=t.dataKey;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!br(a[r.dataKey])){var l=y0(n,"value",a[r.dataKey]);if(l)return l.coordinate+s/2}return n[i]?n[i].coordinate+s/2:null}var u=ks(a,br(o)?r.dataKey:o);return br(u)?null:r.scale(u)}var ER=function(r){var n=r.axis,s=r.ticks,a=r.offset,i=r.bandSize,o=r.entry,l=r.index;if(n.type==="category")return s[l]?s[l].coordinate+a:null;var u=ks(o,n.dataKey,n.domain[l]);return br(u)?null:n.scale(u)-i/2+a},vfe=function(r){var n=r.numericAxis,s=n.scale.domain();if(n.type==="number"){var a=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return a<=0&&i>=0?0:i<0?i:a}return s[0]},yfe=function(r,n){var s,a=(s=r.type)!==null&&s!==void 0&&s.defaultProps?xs(xs({},r.type.defaultProps),r.props):r.props,i=a.stackId;if(Ys(i)){var o=n[i];if(o){var l=o.items.indexOf(r);return l>=0?o.stackedData[l]:null}}return null},bfe=function(r){return r.reduce(function(n,s){return[Oj(s.concat([n[0]]).filter(jt)),Ad(s.concat([n[1]]).filter(jt))]},[1/0,-1/0])},pU=function(r,n,s){return Object.keys(r).reduce(function(a,i){var o=r[i],l=o.stackedData,u=l.reduce(function(m,f){var p=bfe(f.slice(n,s+1));return[Math.min(m[0],p[0]),Math.max(m[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],a[0]),Math.max(u[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},OR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dk=function(r,n,s){if(dr(r))return r(n,s);if(!Array.isArray(r))return n;var a=[];if(jt(r[0]))a[0]=s?r[0]:Math.min(r[0],n[0]);else if(OR.test(r[0])){var i=+OR.exec(r[0])[1];a[0]=n[0]-i}else dr(r[0])?a[0]=r[0](n[0]):a[0]=n[0];if(jt(r[1]))a[1]=s?r[1]:Math.max(r[1],n[1]);else if(IR.test(r[1])){var o=+IR.exec(r[1])[1];a[1]=n[1]+o}else dr(r[1])?a[1]=r[1](n[1]):a[1]=n[1];return a},K0=function(r,n,s){if(r&&r.scale&&r.scale.bandwidth){var a=r.scale.bandwidth();if(!s||a>0)return a}if(r&&n&&n.length>=2){for(var i=x4(n,function(p){return p.coordinate}),o=1/0,l=1,u=i.length;l<u;l++){var m=i[l],f=i[l-1];o=Math.min((m.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},MR=function(r,n,s){return!r||!r.length||oh(r,qi(s,"type.defaultProps.domain"))?n:r},xU=function(r,n){var s=r.type.defaultProps?xs(xs({},r.type.defaultProps),r.props):r.props,a=s.dataKey,i=s.name,o=s.unit,l=s.formatter,u=s.tooltipType,m=s.chartType,f=s.hide;return xs(xs({},Xt(r,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:q4(r),value:ks(n,a),type:u,payload:n,chartType:m,hide:f})};function Ux(t){"@babel/helpers - typeof";return Ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ux(t)}function DR(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function hc(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?DR(Object(n),!0).forEach(function(s){gU(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function gU(t,r,n){return r=jfe(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function jfe(t){var r=wfe(t,"string");return Ux(r)=="symbol"?r:r+""}function wfe(t,r){if(Ux(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Ux(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function _fe(t,r){return kfe(t)||Cfe(t,r)||Sfe(t,r)||Nfe()}function Nfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sfe(t,r){if(t){if(typeof t=="string")return RR(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RR(t,r)}}function RR(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function Cfe(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],u=!0,m=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(u=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);u=!0);}catch(f){m=!0,a=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(m)throw a}}return l}}function kfe(t){if(Array.isArray(t))return t}var W0=Math.PI/180,Afe=function(r){return r*180/Math.PI},Vn=function(r,n,s,a){return{x:r+Math.cos(-W0*a)*s,y:n+Math.sin(-W0*a)*s}},vU=function(r,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(s.left||0)-(s.right||0)),Math.abs(n-(s.top||0)-(s.bottom||0)))/2},Pfe=function(r,n,s,a,i){var o=r.width,l=r.height,u=r.startAngle,m=r.endAngle,f=Ya(r.cx,o,o/2),p=Ya(r.cy,l,l/2),g=vU(o,l,s),b=Ya(r.innerRadius,g,0),y=Ya(r.outerRadius,g,g*.8),_=Object.keys(n);return _.reduce(function(w,k){var A=n[k],P=A.domain,O=A.reversed,I;if(br(A.range))a==="angleAxis"?I=[u,m]:a==="radiusAxis"&&(I=[b,y]),O&&(I=[I[1],I[0]]);else{I=A.range;var D=I,F=_fe(D,2);u=F[0],m=F[1]}var B=hU(A,i),H=B.realScaleType,re=B.scale;re.domain(P).range(I),mU(re);var G=fU(re,hc(hc({},A),{},{realScaleType:H})),J=hc(hc(hc({},A),G),{},{range:I,radius:y,realScaleType:H,scale:re,cx:f,cy:p,innerRadius:b,outerRadius:y,startAngle:u,endAngle:m});return hc(hc({},w),{},gU({},k,J))},{})},Tfe=function(r,n){var s=r.x,a=r.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2))},Efe=function(r,n){var s=r.x,a=r.y,i=n.cx,o=n.cy,l=Tfe({x:s,y:a},{x:i,y:o});if(l<=0)return{radius:l};var u=(s-i)/l,m=Math.acos(u);return a>o&&(m=2*Math.PI-m),{radius:l,angle:Afe(m),angleInRadian:m}},Ofe=function(r){var n=r.startAngle,s=r.endAngle,a=Math.floor(n/360),i=Math.floor(s/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:s-o*360}},Ife=function(r,n){var s=n.startAngle,a=n.endAngle,i=Math.floor(s/360),o=Math.floor(a/360),l=Math.min(i,o);return r+l*360},LR=function(r,n){var s=r.x,a=r.y,i=Efe({x:s,y:a},n),o=i.radius,l=i.angle,u=n.innerRadius,m=n.outerRadius;if(o<u||o>m)return!1;if(o===0)return!0;var f=Ofe(n),p=f.startAngle,g=f.endAngle,b=l,y;if(p<=g){for(;b>g;)b-=360;for(;b<p;)b+=360;y=b>=p&&b<=g}else{for(;b>p;)b-=360;for(;b<g;)b+=360;y=b>=g&&b<=p}return y?hc(hc({},n),{},{radius:o,angle:Ife(b,n)}):null},yU=function(r){return!j.isValidElement(r)&&!dr(r)&&typeof r!="boolean"?r.className:""};function Vx(t){"@babel/helpers - typeof";return Vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vx(t)}var Mfe=["offset"];function Dfe(t){return $fe(t)||Ffe(t)||Lfe(t)||Rfe()}function Rfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lfe(t,r){if(t){if(typeof t=="string")return Rk(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rk(t,r)}}function Ffe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $fe(t){if(Array.isArray(t))return Rk(t)}function Rk(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function zfe(t,r){if(t==null)return{};var n=Bfe(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Bfe(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function FR(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Ws(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?FR(Object(n),!0).forEach(function(s){qfe(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function qfe(t,r,n){return r=Ufe(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Ufe(t){var r=Vfe(t,"string");return Vx(r)=="symbol"?r:r+""}function Vfe(t,r){if(Vx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Vx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Kx(){return Kx=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Kx.apply(this,arguments)}var Kfe=function(r){var n=r.value,s=r.formatter,a=br(r.children)?n:r.children;return dr(s)?s(a):a},Wfe=function(r,n){var s=Za(n-r),a=Math.min(Math.abs(n-r),360);return s*a},Hfe=function(r,n,s){var a=r.position,i=r.viewBox,o=r.offset,l=r.className,u=i,m=u.cx,f=u.cy,p=u.innerRadius,g=u.outerRadius,b=u.startAngle,y=u.endAngle,_=u.clockWise,w=(p+g)/2,k=Wfe(b,y),A=k>=0?1:-1,P,O;a==="insideStart"?(P=b+A*o,O=_):a==="insideEnd"?(P=y-A*o,O=!_):a==="end"&&(P=y+A*o,O=_),O=k<=0?O:!O;var I=Vn(m,f,w,P),D=Vn(m,f,w,P+(O?1:-1)*359),F="M".concat(I.x,",").concat(I.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(O?0:1,`,
    `).concat(D.x,",").concat(D.y),B=br(r.id)?wh("recharts-radial-line-"):r.id;return le.createElement("text",Kx({},s,{dominantBaseline:"central",className:jr("recharts-radial-bar-label",l)}),le.createElement("defs",null,le.createElement("path",{id:B,d:F})),le.createElement("textPath",{xlinkHref:"#".concat(B)},n))},Gfe=function(r){var n=r.viewBox,s=r.offset,a=r.position,i=n,o=i.cx,l=i.cy,u=i.innerRadius,m=i.outerRadius,f=i.startAngle,p=i.endAngle,g=(f+p)/2;if(a==="outside"){var b=Vn(o,l,m+s,g),y=b.x,_=b.y;return{x:y,y:_,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var w=(u+m)/2,k=Vn(o,l,w,g),A=k.x,P=k.y;return{x:A,y:P,textAnchor:"middle",verticalAnchor:"middle"}},Zfe=function(r){var n=r.viewBox,s=r.parentViewBox,a=r.offset,i=r.position,o=n,l=o.x,u=o.y,m=o.width,f=o.height,p=f>=0?1:-1,g=p*a,b=p>0?"end":"start",y=p>0?"start":"end",_=m>=0?1:-1,w=_*a,k=_>0?"end":"start",A=_>0?"start":"end";if(i==="top"){var P={x:l+m/2,y:u-p*a,textAnchor:"middle",verticalAnchor:b};return Ws(Ws({},P),s?{height:Math.max(u-s.y,0),width:m}:{})}if(i==="bottom"){var O={x:l+m/2,y:u+f+g,textAnchor:"middle",verticalAnchor:y};return Ws(Ws({},O),s?{height:Math.max(s.y+s.height-(u+f),0),width:m}:{})}if(i==="left"){var I={x:l-w,y:u+f/2,textAnchor:k,verticalAnchor:"middle"};return Ws(Ws({},I),s?{width:Math.max(I.x-s.x,0),height:f}:{})}if(i==="right"){var D={x:l+m+w,y:u+f/2,textAnchor:A,verticalAnchor:"middle"};return Ws(Ws({},D),s?{width:Math.max(s.x+s.width-D.x,0),height:f}:{})}var F=s?{width:m,height:f}:{};return i==="insideLeft"?Ws({x:l+w,y:u+f/2,textAnchor:A,verticalAnchor:"middle"},F):i==="insideRight"?Ws({x:l+m-w,y:u+f/2,textAnchor:k,verticalAnchor:"middle"},F):i==="insideTop"?Ws({x:l+m/2,y:u+g,textAnchor:"middle",verticalAnchor:y},F):i==="insideBottom"?Ws({x:l+m/2,y:u+f-g,textAnchor:"middle",verticalAnchor:b},F):i==="insideTopLeft"?Ws({x:l+w,y:u+g,textAnchor:A,verticalAnchor:y},F):i==="insideTopRight"?Ws({x:l+m-w,y:u+g,textAnchor:k,verticalAnchor:y},F):i==="insideBottomLeft"?Ws({x:l+w,y:u+f-g,textAnchor:A,verticalAnchor:b},F):i==="insideBottomRight"?Ws({x:l+m-w,y:u+f-g,textAnchor:k,verticalAnchor:b},F):Rf(i)&&(jt(i.x)||Ru(i.x))&&(jt(i.y)||Ru(i.y))?Ws({x:l+Ya(i.x,m),y:u+Ya(i.y,f),textAnchor:"end",verticalAnchor:"end"},F):Ws({x:l+m/2,y:u+f/2,textAnchor:"middle",verticalAnchor:"middle"},F)},Yfe=function(r){return"cx"in r&&jt(r.cx)};function aa(t){var r=t.offset,n=r===void 0?5:r,s=zfe(t,Mfe),a=Ws({offset:n},s),i=a.viewBox,o=a.position,l=a.value,u=a.children,m=a.content,f=a.className,p=f===void 0?"":f,g=a.textBreakAll;if(!i||br(l)&&br(u)&&!j.isValidElement(m)&&!dr(m))return null;if(j.isValidElement(m))return j.cloneElement(m,a);var b;if(dr(m)){if(b=j.createElement(m,a),j.isValidElement(b))return b}else b=Kfe(a);var y=Yfe(i),_=Xt(a,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Hfe(a,b,_);var w=y?Gfe(a):Zfe(a);return le.createElement(ih,Kx({className:jr("recharts-label",p)},_,w,{breakAll:g}),b)}aa.displayName="Label";var bU=function(r){var n=r.cx,s=r.cy,a=r.angle,i=r.startAngle,o=r.endAngle,l=r.r,u=r.radius,m=r.innerRadius,f=r.outerRadius,p=r.x,g=r.y,b=r.top,y=r.left,_=r.width,w=r.height,k=r.clockWise,A=r.labelViewBox;if(A)return A;if(jt(_)&&jt(w)){if(jt(p)&&jt(g))return{x:p,y:g,width:_,height:w};if(jt(b)&&jt(y))return{x:b,y,width:_,height:w}}return jt(p)&&jt(g)?{x:p,y:g,width:0,height:0}:jt(n)&&jt(s)?{cx:n,cy:s,startAngle:i||a||0,endAngle:o||a||0,innerRadius:m||0,outerRadius:f||u||l||0,clockWise:k}:r.viewBox?r.viewBox:{}},Qfe=function(r,n){return r?r===!0?le.createElement(aa,{key:"label-implicit",viewBox:n}):Ys(r)?le.createElement(aa,{key:"label-implicit",viewBox:n,value:r}):j.isValidElement(r)?r.type===aa?j.cloneElement(r,{key:"label-implicit",viewBox:n}):le.createElement(aa,{key:"label-implicit",content:r,viewBox:n}):dr(r)?le.createElement(aa,{key:"label-implicit",content:r,viewBox:n}):Rf(r)?le.createElement(aa,Kx({viewBox:n},r,{key:"label-implicit"})):null:null},Xfe=function(r,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&s&&!r.label)return null;var a=r.children,i=bU(r),o=Ui(a,aa).map(function(u,m){return j.cloneElement(u,{viewBox:n||i,key:"label-".concat(m)})});if(!s)return o;var l=Qfe(r.label,n||i);return[l].concat(Dfe(o))};aa.parseViewBox=bU;aa.renderCallByParent=Xfe;var A2,$R;function Jfe(){if($R)return A2;$R=1;function t(r){var n=r==null?0:r.length;return n?r[n-1]:void 0}return A2=t,A2}var epe=Jfe();const tpe=mn(epe);function Wx(t){"@babel/helpers - typeof";return Wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wx(t)}var rpe=["valueAccessor"],npe=["data","dataKey","clockWise","id","textBreakAll"];function spe(t){return lpe(t)||ope(t)||ipe(t)||ape()}function ape(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ipe(t,r){if(t){if(typeof t=="string")return Lk(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lk(t,r)}}function ope(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lpe(t){if(Array.isArray(t))return Lk(t)}function Lk(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},H0.apply(this,arguments)}function zR(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function BR(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?zR(Object(n),!0).forEach(function(s){cpe(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function cpe(t,r,n){return r=dpe(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function dpe(t){var r=upe(t,"string");return Wx(r)=="symbol"?r:r+""}function upe(t,r){if(Wx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Wx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function qR(t,r){if(t==null)return{};var n=hpe(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function hpe(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}var mpe=function(r){return Array.isArray(r.value)?tpe(r.value):r.value};function wl(t){var r=t.valueAccessor,n=r===void 0?mpe:r,s=qR(t,rpe),a=s.data,i=s.dataKey,o=s.clockWise,l=s.id,u=s.textBreakAll,m=qR(s,npe);return!a||!a.length?null:le.createElement(Kr,{className:"recharts-label-list"},a.map(function(f,p){var g=br(i)?n(f,p):ks(f&&f.payload,i),b=br(l)?{}:{id:"".concat(l,"-").concat(p)};return le.createElement(aa,H0({},Xt(f,!0),m,b,{parentViewBox:f.parentViewBox,value:g,textBreakAll:u,viewBox:aa.parseViewBox(br(o)?f:BR(BR({},f),{},{clockWise:o})),key:"label-".concat(p),index:p}))}))}wl.displayName="LabelList";function fpe(t,r){return t?t===!0?le.createElement(wl,{key:"labelList-implicit",data:r}):le.isValidElement(t)||dr(t)?le.createElement(wl,{key:"labelList-implicit",data:r,content:t}):Rf(t)?le.createElement(wl,H0({data:r},t,{key:"labelList-implicit"})):null:null}function ppe(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,a=Ui(s,wl).map(function(o,l){return j.cloneElement(o,{data:r,key:"labelList-".concat(l)})});if(!n)return a;var i=fpe(t.label,r);return[i].concat(spe(a))}wl.renderCallByParent=ppe;function Hx(t){"@babel/helpers - typeof";return Hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Hx(t)}function Fk(){return Fk=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Fk.apply(this,arguments)}function UR(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function VR(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?UR(Object(n),!0).forEach(function(s){xpe(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function xpe(t,r,n){return r=gpe(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function gpe(t){var r=vpe(t,"string");return Hx(r)=="symbol"?r:r+""}function vpe(t,r){if(Hx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Hx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var ype=function(r,n){var s=Za(n-r),a=Math.min(Math.abs(n-r),359.999);return s*a},Fy=function(r){var n=r.cx,s=r.cy,a=r.radius,i=r.angle,o=r.sign,l=r.isExternal,u=r.cornerRadius,m=r.cornerIsExternal,f=u*(l?1:-1)+a,p=Math.asin(u/f)/W0,g=m?i:i+o*p,b=Vn(n,s,f,g),y=Vn(n,s,a,g),_=m?i-o*p:i,w=Vn(n,s,f*Math.cos(p*W0),_);return{center:b,circleTangency:y,lineTangency:w,theta:p}},jU=function(r){var n=r.cx,s=r.cy,a=r.innerRadius,i=r.outerRadius,o=r.startAngle,l=r.endAngle,u=ype(o,l),m=o+u,f=Vn(n,s,i,o),p=Vn(n,s,i,m),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>m),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(a>0){var b=Vn(n,s,a,o),y=Vn(n,s,a,m);g+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=m),`,
            `).concat(b.x,",").concat(b.y," Z")}else g+="L ".concat(n,",").concat(s," Z");return g},bpe=function(r){var n=r.cx,s=r.cy,a=r.innerRadius,i=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,m=r.startAngle,f=r.endAngle,p=Za(f-m),g=Fy({cx:n,cy:s,radius:i,angle:m,sign:p,cornerRadius:o,cornerIsExternal:u}),b=g.circleTangency,y=g.lineTangency,_=g.theta,w=Fy({cx:n,cy:s,radius:i,angle:f,sign:-p,cornerRadius:o,cornerIsExternal:u}),k=w.circleTangency,A=w.lineTangency,P=w.theta,O=u?Math.abs(m-f):Math.abs(m-f)-_-P;if(O<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):jU({cx:n,cy:s,innerRadius:a,outerRadius:i,startAngle:m,endAngle:f});var I="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(p<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
  `);if(a>0){var D=Fy({cx:n,cy:s,radius:a,angle:m,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),F=D.circleTangency,B=D.lineTangency,H=D.theta,re=Fy({cx:n,cy:s,radius:a,angle:f,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),G=re.circleTangency,J=re.lineTangency,Z=re.theta,ne=u?Math.abs(m-f):Math.abs(m-f)-H-Z;if(ne<0&&o===0)return"".concat(I,"L").concat(n,",").concat(s,"Z");I+="L".concat(J.x,",").concat(J.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(G.x,",").concat(G.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(ne>180),",").concat(+(p>0),",").concat(F.x,",").concat(F.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(B.x,",").concat(B.y,"Z")}else I+="L".concat(n,",").concat(s,"Z");return I},jpe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wU=function(r){var n=VR(VR({},jpe),r),s=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,u=n.forceCornerRadius,m=n.cornerIsExternal,f=n.startAngle,p=n.endAngle,g=n.className;if(o<i||f===p)return null;var b=jr("recharts-sector",g),y=o-i,_=Ya(l,y,0,!0),w;return _>0&&Math.abs(f-p)<360?w=bpe({cx:s,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(_,y/2),forceCornerRadius:u,cornerIsExternal:m,startAngle:f,endAngle:p}):w=jU({cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:f,endAngle:p}),le.createElement("path",Fk({},Xt(n,!0),{className:b,d:w,role:"img"}))};function Gx(t){"@babel/helpers - typeof";return Gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gx(t)}function $k(){return $k=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},$k.apply(this,arguments)}function KR(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function WR(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?KR(Object(n),!0).forEach(function(s){wpe(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function wpe(t,r,n){return r=_pe(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function _pe(t){var r=Npe(t,"string");return Gx(r)=="symbol"?r:r+""}function Npe(t,r){if(Gx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Gx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var HR={curveBasisClosed:Vie,curveBasisOpen:Kie,curveBasis:Uie,curveBumpX:Pie,curveBumpY:Tie,curveLinearClosed:Wie,curveLinear:bj,curveMonotoneX:Hie,curveMonotoneY:Gie,curveNatural:Zie,curveStep:Yie,curveStepAfter:Xie,curveStepBefore:Qie},$y=function(r){return r.x===+r.x&&r.y===+r.y},Hp=function(r){return r.x},Gp=function(r){return r.y},Spe=function(r,n){if(dr(r))return r;var s="curve".concat(vj(r));return(s==="curveMonotone"||s==="curveBump")&&n?HR["".concat(s).concat(n==="vertical"?"Y":"X")]:HR[s]||bj},Cpe=function(r){var n=r.type,s=n===void 0?"linear":n,a=r.points,i=a===void 0?[]:a,o=r.baseLine,l=r.layout,u=r.connectNulls,m=u===void 0?!1:u,f=Spe(s,l),p=m?i.filter(function(_){return $y(_)}):i,g;if(Array.isArray(o)){var b=m?o.filter(function(_){return $y(_)}):o,y=p.map(function(_,w){return WR(WR({},_),{},{base:b[w]})});return l==="vertical"?g=Ty().y(Gp).x1(Hp).x0(function(_){return _.base.x}):g=Ty().x(Hp).y1(Gp).y0(function(_){return _.base.y}),g.defined($y).curve(f),g(y)}return l==="vertical"&&jt(o)?g=Ty().y(Gp).x1(Hp).x0(o):jt(o)?g=Ty().x(Hp).y1(Gp).y0(o):g=bq().x(Hp).y(Gp),g.defined($y).curve(f),g(p)},Wu=function(r){var n=r.className,s=r.points,a=r.path,i=r.pathRef;if((!s||!s.length)&&!a)return null;var o=s&&s.length?Cpe(r):a;return j.createElement("path",$k({},Xt(r,!1),b0(r),{className:jr("recharts-curve",n),d:o,ref:i}))},P2={exports:{}},T2,GR;function kpe(){if(GR)return T2;GR=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return T2=t,T2}var E2,ZR;function Ape(){if(ZR)return E2;ZR=1;var t=kpe();function r(){}function n(){}return n.resetWarningCache=r,E2=function(){function s(o,l,u,m,f,p){if(p!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}s.isRequired=s;function a(){return s}var i={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:r};return i.PropTypes=i,i},E2}var YR;function Ppe(){return YR||(YR=1,P2.exports=Ape()()),P2.exports}var Tpe=Ppe();const vn=mn(Tpe);var Epe=Object.getOwnPropertyNames,Ope=Object.getOwnPropertySymbols,Ipe=Object.prototype.hasOwnProperty;function QR(t,r){return function(s,a,i){return t(s,a,i)&&r(s,a,i)}}function zy(t){return function(n,s,a){if(!n||!s||typeof n!="object"||typeof s!="object")return t(n,s,a);var i=a.cache,o=i.get(n),l=i.get(s);if(o&&l)return o===s&&l===n;i.set(n,s),i.set(s,n);var u=t(n,s,a);return i.delete(n),i.delete(s),u}}function XR(t){return Epe(t).concat(Ope(t))}var Mpe=Object.hasOwn||(function(t,r){return Ipe.call(t,r)});function Sh(t,r){return t===r||!t&&!r&&t!==t&&r!==r}var Dpe="__v",Rpe="__o",Lpe="_owner",JR=Object.getOwnPropertyDescriptor,eL=Object.keys;function Fpe(t,r,n){var s=t.length;if(r.length!==s)return!1;for(;s-- >0;)if(!n.equals(t[s],r[s],s,s,t,r,n))return!1;return!0}function $pe(t,r){return Sh(t.getTime(),r.getTime())}function zpe(t,r){return t.name===r.name&&t.message===r.message&&t.cause===r.cause&&t.stack===r.stack}function Bpe(t,r){return t===r}function tL(t,r,n){var s=t.size;if(s!==r.size)return!1;if(!s)return!0;for(var a=new Array(s),i=t.entries(),o,l,u=0;(o=i.next())&&!o.done;){for(var m=r.entries(),f=!1,p=0;(l=m.next())&&!l.done;){if(a[p]){p++;continue}var g=o.value,b=l.value;if(n.equals(g[0],b[0],u,p,t,r,n)&&n.equals(g[1],b[1],g[0],b[0],t,r,n)){f=a[p]=!0;break}p++}if(!f)return!1;u++}return!0}var qpe=Sh;function Upe(t,r,n){var s=eL(t),a=s.length;if(eL(r).length!==a)return!1;for(;a-- >0;)if(!_U(t,r,n,s[a]))return!1;return!0}function Zp(t,r,n){var s=XR(t),a=s.length;if(XR(r).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=s[a],!_U(t,r,n,i)||(o=JR(t,i),l=JR(r,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Vpe(t,r){return Sh(t.valueOf(),r.valueOf())}function Kpe(t,r){return t.source===r.source&&t.flags===r.flags}function rL(t,r,n){var s=t.size;if(s!==r.size)return!1;if(!s)return!0;for(var a=new Array(s),i=t.values(),o,l;(o=i.next())&&!o.done;){for(var u=r.values(),m=!1,f=0;(l=u.next())&&!l.done;){if(!a[f]&&n.equals(o.value,l.value,o.value,l.value,t,r,n)){m=a[f]=!0;break}f++}if(!m)return!1}return!0}function Wpe(t,r){var n=t.length;if(r.length!==n)return!1;for(;n-- >0;)if(t[n]!==r[n])return!1;return!0}function Hpe(t,r){return t.hostname===r.hostname&&t.pathname===r.pathname&&t.protocol===r.protocol&&t.port===r.port&&t.hash===r.hash&&t.username===r.username&&t.password===r.password}function _U(t,r,n,s){return(s===Lpe||s===Rpe||s===Dpe)&&(t.$$typeof||r.$$typeof)?!0:Mpe(r,s)&&n.equals(t[s],r[s],s,s,t,r,n)}var Gpe="[object Arguments]",Zpe="[object Boolean]",Ype="[object Date]",Qpe="[object Error]",Xpe="[object Map]",Jpe="[object Number]",exe="[object Object]",txe="[object RegExp]",rxe="[object Set]",nxe="[object String]",sxe="[object URL]",axe=Array.isArray,nL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,sL=Object.assign,ixe=Object.prototype.toString.call.bind(Object.prototype.toString);function oxe(t){var r=t.areArraysEqual,n=t.areDatesEqual,s=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,u=t.arePrimitiveWrappersEqual,m=t.areRegExpsEqual,f=t.areSetsEqual,p=t.areTypedArraysEqual,g=t.areUrlsEqual;return function(y,_,w){if(y===_)return!0;if(y==null||_==null)return!1;var k=typeof y;if(k!==typeof _)return!1;if(k!=="object")return k==="number"?o(y,_,w):k==="function"?a(y,_,w):!1;var A=y.constructor;if(A!==_.constructor)return!1;if(A===Object)return l(y,_,w);if(axe(y))return r(y,_,w);if(nL!=null&&nL(y))return p(y,_,w);if(A===Date)return n(y,_,w);if(A===RegExp)return m(y,_,w);if(A===Map)return i(y,_,w);if(A===Set)return f(y,_,w);var P=ixe(y);return P===Ype?n(y,_,w):P===txe?m(y,_,w):P===Xpe?i(y,_,w):P===rxe?f(y,_,w):P===exe?typeof y.then!="function"&&typeof _.then!="function"&&l(y,_,w):P===sxe?g(y,_,w):P===Qpe?s(y,_,w):P===Gpe?l(y,_,w):P===Zpe||P===Jpe||P===nxe?u(y,_,w):!1}}function lxe(t){var r=t.circular,n=t.createCustomConfig,s=t.strict,a={areArraysEqual:s?Zp:Fpe,areDatesEqual:$pe,areErrorsEqual:zpe,areFunctionsEqual:Bpe,areMapsEqual:s?QR(tL,Zp):tL,areNumbersEqual:qpe,areObjectsEqual:s?Zp:Upe,arePrimitiveWrappersEqual:Vpe,areRegExpsEqual:Kpe,areSetsEqual:s?QR(rL,Zp):rL,areTypedArraysEqual:s?Zp:Wpe,areUrlsEqual:Hpe};if(n&&(a=sL({},a,n(a))),r){var i=zy(a.areArraysEqual),o=zy(a.areMapsEqual),l=zy(a.areObjectsEqual),u=zy(a.areSetsEqual);a=sL({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:u})}return a}function cxe(t){return function(r,n,s,a,i,o,l){return t(r,n,l)}}function dxe(t){var r=t.circular,n=t.comparator,s=t.createState,a=t.equals,i=t.strict;if(s)return function(u,m){var f=s(),p=f.cache,g=p===void 0?r?new WeakMap:void 0:p,b=f.meta;return n(u,m,{cache:g,equals:a,meta:b,strict:i})};if(r)return function(u,m){return n(u,m,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(u,m){return n(u,m,o)}}var uxe=Xd();Xd({strict:!0});Xd({circular:!0});Xd({circular:!0,strict:!0});Xd({createInternalComparator:function(){return Sh}});Xd({strict:!0,createInternalComparator:function(){return Sh}});Xd({circular:!0,createInternalComparator:function(){return Sh}});Xd({circular:!0,createInternalComparator:function(){return Sh},strict:!0});function Xd(t){t===void 0&&(t={});var r=t.circular,n=r===void 0?!1:r,s=t.createInternalComparator,a=t.createState,i=t.strict,o=i===void 0?!1:i,l=lxe(t),u=oxe(l),m=s?s(u):cxe(u);return dxe({circular:n,comparator:u,createState:a,equals:m,strict:o})}function hxe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function aL(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,s=function a(i){n<0&&(n=i),i-n>r?(t(i),n=-1):hxe(a)};requestAnimationFrame(s)}function zk(t){"@babel/helpers - typeof";return zk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zk(t)}function mxe(t){return gxe(t)||xxe(t)||pxe(t)||fxe()}function fxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pxe(t,r){if(t){if(typeof t=="string")return iL(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iL(t,r)}}function iL(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function xxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gxe(t){if(Array.isArray(t))return t}function vxe(){var t={},r=function(){return null},n=!1,s=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=mxe(o),u=l[0],m=l.slice(1);if(typeof u=="number"){aL(a.bind(null,m),u);return}a(u),aL(a.bind(null,m));return}zk(i)==="object"&&(t=i,r(t)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,s(i)},subscribe:function(i){return r=i,function(){r=function(){return null}}}}}function Zx(t){"@babel/helpers - typeof";return Zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zx(t)}function oL(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function lL(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?oL(Object(n),!0).forEach(function(s){NU(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oL(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function NU(t,r,n){return r=yxe(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function yxe(t){var r=bxe(t,"string");return Zx(r)==="symbol"?r:String(r)}function bxe(t,r){if(Zx(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Zx(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var jxe=function(r,n){return[Object.keys(r),Object.keys(n)].reduce(function(s,a){return s.filter(function(i){return a.includes(i)})})},wxe=function(r){return r},_xe=function(r){return r.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},dx=function(r,n){return Object.keys(n).reduce(function(s,a){return lL(lL({},s),{},NU({},a,r(a,n[a])))},{})},cL=function(r,n,s){return r.map(function(a){return"".concat(_xe(a)," ").concat(n,"ms ").concat(s)}).join(",")};function Nxe(t,r){return kxe(t)||Cxe(t,r)||SU(t,r)||Sxe()}function Sxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cxe(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],u=!0,m=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(u=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);u=!0);}catch(f){m=!0,a=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(m)throw a}}return l}}function kxe(t){if(Array.isArray(t))return t}function Axe(t){return Exe(t)||Txe(t)||SU(t)||Pxe()}function Pxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SU(t,r){if(t){if(typeof t=="string")return Bk(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bk(t,r)}}function Txe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Exe(t){if(Array.isArray(t))return Bk(t)}function Bk(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}var G0=1e-4,CU=function(r,n){return[0,3*r,3*n-6*r,3*r-3*n+1]},kU=function(r,n){return r.map(function(s,a){return s*Math.pow(n,a)}).reduce(function(s,a){return s+a})},dL=function(r,n){return function(s){var a=CU(r,n);return kU(a,s)}},Oxe=function(r,n){return function(s){var a=CU(r,n),i=[].concat(Axe(a.map(function(o,l){return o*l}).slice(1)),[0]);return kU(i,s)}},uL=function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var a=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var u=n[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var m=u[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),f=Nxe(m,4);a=f[0],i=f[1],o=f[2],l=f[3]}}}var p=dL(a,o),g=dL(i,l),b=Oxe(a,o),y=function(k){return k>1?1:k<0?0:k},_=function(k){for(var A=k>1?1:k,P=A,O=0;O<8;++O){var I=p(P)-A,D=b(P);if(Math.abs(I-A)<G0||D<G0)return g(P);P=y(P-I/D)}return g(P)};return _.isStepper=!1,_},Ixe=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.stiff,s=n===void 0?100:n,a=r.damping,i=a===void 0?8:a,o=r.dt,l=o===void 0?17:o,u=function(f,p,g){var b=-(f-p)*s,y=g*i,_=g+(b-y)*l/1e3,w=g*l/1e3+f;return Math.abs(w-p)<G0&&Math.abs(_)<G0?[p,0]:[w,_]};return u.isStepper=!0,u.dt=l,u},Mxe=function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return uL(a);case"spring":return Ixe();default:if(a.split("(")[0]==="cubic-bezier")return uL(a)}return typeof a=="function"?a:null};function Yx(t){"@babel/helpers - typeof";return Yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Yx(t)}function hL(t){return Lxe(t)||Rxe(t)||AU(t)||Dxe()}function Dxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lxe(t){if(Array.isArray(t))return Uk(t)}function mL(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function ma(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?mL(Object(n),!0).forEach(function(s){qk(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mL(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function qk(t,r,n){return r=Fxe(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Fxe(t){var r=$xe(t,"string");return Yx(r)==="symbol"?r:String(r)}function $xe(t,r){if(Yx(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Yx(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function zxe(t,r){return Uxe(t)||qxe(t,r)||AU(t,r)||Bxe()}function Bxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AU(t,r){if(t){if(typeof t=="string")return Uk(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uk(t,r)}}function Uk(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function qxe(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],u=!0,m=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(u=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);u=!0);}catch(f){m=!0,a=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(m)throw a}}return l}}function Uxe(t){if(Array.isArray(t))return t}var Z0=function(r,n,s){return r+(n-r)*s},Vk=function(r){var n=r.from,s=r.to;return n!==s},Vxe=function t(r,n,s){var a=dx(function(i,o){if(Vk(o)){var l=r(o.from,o.to,o.velocity),u=zxe(l,2),m=u[0],f=u[1];return ma(ma({},o),{},{from:m,velocity:f})}return o},n);return s<1?dx(function(i,o){return Vk(o)?ma(ma({},o),{},{velocity:Z0(o.velocity,a[i].velocity,s),from:Z0(o.from,a[i].from,s)}):o},n):t(r,a,s-1)};const Kxe=(function(t,r,n,s,a){var i=jxe(t,r),o=i.reduce(function(w,k){return ma(ma({},w),{},qk({},k,[t[k],r[k]]))},{}),l=i.reduce(function(w,k){return ma(ma({},w),{},qk({},k,{from:t[k],velocity:0,to:r[k]}))},{}),u=-1,m,f,p=function(){return null},g=function(){return dx(function(k,A){return A.from},l)},b=function(){return!Object.values(l).filter(Vk).length},y=function(k){m||(m=k);var A=k-m,P=A/n.dt;l=Vxe(n,l,P),a(ma(ma(ma({},t),r),g())),m=k,b()||(u=requestAnimationFrame(p))},_=function(k){f||(f=k);var A=(k-f)/s,P=dx(function(I,D){return Z0.apply(void 0,hL(D).concat([n(A)]))},o);if(a(ma(ma(ma({},t),r),P)),A<1)u=requestAnimationFrame(p);else{var O=dx(function(I,D){return Z0.apply(void 0,hL(D).concat([n(1)]))},o);a(ma(ma(ma({},t),r),O))}};return p=n.isStepper?y:_,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(u)}}});function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rf(t)}var Wxe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Hxe(t,r){if(t==null)return{};var n=Gxe(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Gxe(t,r){if(t==null)return{};var n={},s=Object.keys(t),a,i;for(i=0;i<s.length;i++)a=s[i],!(r.indexOf(a)>=0)&&(n[a]=t[a]);return n}function O2(t){return Xxe(t)||Qxe(t)||Yxe(t)||Zxe()}function Zxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yxe(t,r){if(t){if(typeof t=="string")return Kk(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kk(t,r)}}function Qxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xxe(t){if(Array.isArray(t))return Kk(t)}function Kk(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function fL(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Po(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?fL(Object(n),!0).forEach(function(s){sx(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function sx(t,r,n){return r=PU(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Jxe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function ege(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,PU(s.key),s)}}function tge(t,r,n){return r&&ege(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function PU(t){var r=rge(t,"string");return rf(r)==="symbol"?r:String(r)}function rge(t,r){if(rf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(rf(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function nge(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Wk(t,r)}function Wk(t,r){return Wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Wk(t,r)}function sge(t){var r=age();return function(){var s=Y0(t),a;if(r){var i=Y0(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return Hk(this,a)}}function Hk(t,r){if(r&&(rf(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gk(t)}function Gk(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function age(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Y0(t){return Y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y0(t)}var Zo=(function(t){nge(n,t);var r=sge(n);function n(s,a){var i;Jxe(this,n),i=r.call(this,s,a);var o=i.props,l=o.isActive,u=o.attributeName,m=o.from,f=o.to,p=o.steps,g=o.children,b=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Gk(i)),i.changeStyle=i.changeStyle.bind(Gk(i)),!l||b<=0)return i.state={style:{}},typeof g=="function"&&(i.state={style:f}),Hk(i);if(p&&p.length)i.state={style:p[0].style};else if(m){if(typeof g=="function")return i.state={style:m},Hk(i);i.state={style:u?sx({},u,m):m}}else i.state={style:{}};return i}return tge(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,u=i.attributeName,m=i.shouldReAnimate,f=i.to,p=i.from,g=this.state.style;if(l){if(!o){var b={style:u?sx({},u,f):f};this.state&&g&&(u&&g[u]!==f||!u&&g!==f)&&this.setState(b);return}if(!(uxe(a.to,f)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var _=y||m?p:a.to;if(this.state&&g){var w={style:u?sx({},u,_):_};(u&&g[u]!==_||!u&&g!==_)&&this.setState(w)}this.runAnimation(Po(Po({},this.props),{},{from:_,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,u=a.duration,m=a.easing,f=a.begin,p=a.onAnimationEnd,g=a.onAnimationStart,b=Kxe(o,l,Mxe(m),u,this.changeStyle),y=function(){i.stopJSAnimation=b()};this.manager.start([g,f,y,u,p])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,u=a.onAnimationStart,m=o[0],f=m.style,p=m.duration,g=p===void 0?0:p,b=function(_,w,k){if(k===0)return _;var A=w.duration,P=w.easing,O=P===void 0?"ease":P,I=w.style,D=w.properties,F=w.onAnimationEnd,B=k>0?o[k-1]:w,H=D||Object.keys(I);if(typeof O=="function"||O==="spring")return[].concat(O2(_),[i.runJSAnimation.bind(i,{from:B.style,to:I,duration:A,easing:O}),A]);var re=cL(H,A,O),G=Po(Po(Po({},B.style),I),{},{transition:re});return[].concat(O2(_),[G,A,F]).filter(wxe)};return this.manager.start([u].concat(O2(o.reduce(b,[f,Math.max(g,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=vxe());var i=a.begin,o=a.duration,l=a.attributeName,u=a.to,m=a.easing,f=a.onAnimationStart,p=a.onAnimationEnd,g=a.steps,b=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof m=="function"||typeof b=="function"||m==="spring"){this.runJSAnimation(a);return}if(g.length>1){this.runStepAnimation(a);return}var _=l?sx({},l,u):u,w=cL(Object.keys(_),o,m);y.start([f,i,Po(Po({},_),{},{transition:w}),o,p])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var u=Hxe(a,Wxe),m=j.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!l||m===0||o<=0)return i;var p=function(b){var y=b.props,_=y.style,w=_===void 0?{}:_,k=y.className,A=j.cloneElement(b,Po(Po({},u),{},{style:Po(Po({},w),f),className:k}));return A};return m===1?p(j.Children.only(i)):le.createElement("div",null,j.Children.map(i,function(g){return p(g)}))}}]),n})(j.PureComponent);Zo.displayName="Animate";Zo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Zo.propTypes={from:vn.oneOfType([vn.object,vn.string]),to:vn.oneOfType([vn.object,vn.string]),attributeName:vn.string,duration:vn.number,begin:vn.number,easing:vn.oneOfType([vn.string,vn.func]),steps:vn.arrayOf(vn.shape({duration:vn.number.isRequired,style:vn.object.isRequired,easing:vn.oneOfType([vn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),vn.func]),properties:vn.arrayOf("string"),onAnimationEnd:vn.func})),children:vn.oneOfType([vn.node,vn.func]),isActive:vn.bool,canBegin:vn.bool,onAnimationEnd:vn.func,shouldReAnimate:vn.bool,onAnimationStart:vn.func,onAnimationReStart:vn.func};function Qx(t){"@babel/helpers - typeof";return Qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qx(t)}function Q0(){return Q0=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Q0.apply(this,arguments)}function ige(t,r){return dge(t)||cge(t,r)||lge(t,r)||oge()}function oge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lge(t,r){if(t){if(typeof t=="string")return pL(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pL(t,r)}}function pL(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function cge(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],u=!0,m=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(u=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);u=!0);}catch(f){m=!0,a=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(m)throw a}}return l}}function dge(t){if(Array.isArray(t))return t}function xL(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function gL(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?xL(Object(n),!0).forEach(function(s){uge(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function uge(t,r,n){return r=hge(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function hge(t){var r=mge(t,"string");return Qx(r)=="symbol"?r:r+""}function mge(t,r){if(Qx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Qx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var vL=function(r,n,s,a,i){var o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,u=s>=0?1:-1,m=a>=0&&s>=0||a<0&&s<0?1:0,f;if(o>0&&i instanceof Array){for(var p=[0,0,0,0],g=0,b=4;g<b;g++)p[g]=i[g]>o?o:i[g];f="M".concat(r,",").concat(n+l*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(m,",").concat(r+u*p[0],",").concat(n)),f+="L ".concat(r+s-u*p[1],",").concat(n),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(m,`,
        `).concat(r+s,",").concat(n+l*p[1])),f+="L ".concat(r+s,",").concat(n+a-l*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(m,`,
        `).concat(r+s-u*p[2],",").concat(n+a)),f+="L ".concat(r+u*p[3],",").concat(n+a),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(m,`,
        `).concat(r,",").concat(n+a-l*p[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);f="M ".concat(r,",").concat(n+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(r+u*y,",").concat(n,`
            L `).concat(r+s-u*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(r+s,",").concat(n+l*y,`
            L `).concat(r+s,",").concat(n+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(r+s-u*y,",").concat(n+a,`
            L `).concat(r+u*y,",").concat(n+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(r,",").concat(n+a-l*y," Z")}else f="M ".concat(r,",").concat(n," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return f},fge=function(r,n){if(!r||!n)return!1;var s=r.x,a=r.y,i=n.x,o=n.y,l=n.width,u=n.height;if(Math.abs(l)>0&&Math.abs(u)>0){var m=Math.min(i,i+l),f=Math.max(i,i+l),p=Math.min(o,o+u),g=Math.max(o,o+u);return s>=m&&s<=f&&a>=p&&a<=g}return!1},pge={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},U4=function(r){var n=gL(gL({},pge),r),s=j.useRef(),a=j.useState(-1),i=ige(a,2),o=i[0],l=i[1];j.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var O=s.current.getTotalLength();O&&l(O)}catch{}},[]);var u=n.x,m=n.y,f=n.width,p=n.height,g=n.radius,b=n.className,y=n.animationEasing,_=n.animationDuration,w=n.animationBegin,k=n.isAnimationActive,A=n.isUpdateAnimationActive;if(u!==+u||m!==+m||f!==+f||p!==+p||f===0||p===0)return null;var P=jr("recharts-rectangle",b);return A?le.createElement(Zo,{canBegin:o>0,from:{width:f,height:p,x:u,y:m},to:{width:f,height:p,x:u,y:m},duration:_,animationEasing:y,isActive:A},function(O){var I=O.width,D=O.height,F=O.x,B=O.y;return le.createElement(Zo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:_,isActive:k,easing:y},le.createElement("path",Q0({},Xt(n,!0),{className:P,d:vL(F,B,I,D,g),ref:s})))}):le.createElement("path",Q0({},Xt(n,!0),{className:P,d:vL(u,m,f,p,g)}))},xge=["points","className","baseLinePoints","connectNulls"];function Sm(){return Sm=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Sm.apply(this,arguments)}function gge(t,r){if(t==null)return{};var n=vge(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function vge(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function yL(t){return wge(t)||jge(t)||bge(t)||yge()}function yge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bge(t,r){if(t){if(typeof t=="string")return Zk(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zk(t,r)}}function jge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wge(t){if(Array.isArray(t))return Zk(t)}function Zk(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}var bL=function(r){return r&&r.x===+r.x&&r.y===+r.y},_ge=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return r.forEach(function(s){bL(s)?n[n.length-1].push(s):n[n.length-1].length>0&&n.push([])}),bL(r[0])&&n[n.length-1].push(r[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},ux=function(r,n){var s=_ge(r);n&&(s=[s.reduce(function(i,o){return[].concat(yL(i),yL(o))},[])]);var a=s.map(function(i){return i.reduce(function(o,l,u){return"".concat(o).concat(u===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(a,"Z"):a},Nge=function(r,n,s){var a=ux(r,s);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(ux(n.reverse(),s).slice(1))},Sge=function(r){var n=r.points,s=r.className,a=r.baseLinePoints,i=r.connectNulls,o=gge(r,xge);if(!n||!n.length)return null;var l=jr("recharts-polygon",s);if(a&&a.length){var u=o.stroke&&o.stroke!=="none",m=Nge(n,a,i);return le.createElement("g",{className:l},le.createElement("path",Sm({},Xt(o,!0),{fill:m.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:m})),u?le.createElement("path",Sm({},Xt(o,!0),{fill:"none",d:ux(n,i)})):null,u?le.createElement("path",Sm({},Xt(o,!0),{fill:"none",d:ux(a,i)})):null)}var f=ux(n,i);return le.createElement("path",Sm({},Xt(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function Yk(){return Yk=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Yk.apply(this,arguments)}var Ug=function(r){var n=r.cx,s=r.cy,a=r.r,i=r.className,o=jr("recharts-dot",i);return n===+n&&s===+s&&a===+a?j.createElement("circle",Yk({},Xt(r,!1),b0(r),{className:o,cx:n,cy:s,r:a})):null};function Xx(t){"@babel/helpers - typeof";return Xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xx(t)}var Cge=["x","y","top","left","width","height","className"];function Qk(){return Qk=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Qk.apply(this,arguments)}function jL(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function kge(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?jL(Object(n),!0).forEach(function(s){Age(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Age(t,r,n){return r=Pge(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Pge(t){var r=Tge(t,"string");return Xx(r)=="symbol"?r:r+""}function Tge(t,r){if(Xx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Xx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Ege(t,r){if(t==null)return{};var n=Oge(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Oge(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}var Ige=function(r,n,s,a,i,o){return"M".concat(r,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(s)},Mge=function(r){var n=r.x,s=n===void 0?0:n,a=r.y,i=a===void 0?0:a,o=r.top,l=o===void 0?0:o,u=r.left,m=u===void 0?0:u,f=r.width,p=f===void 0?0:f,g=r.height,b=g===void 0?0:g,y=r.className,_=Ege(r,Cge),w=kge({x:s,y:i,top:l,left:m,width:p,height:b},_);return!jt(s)||!jt(i)||!jt(p)||!jt(b)||!jt(l)||!jt(m)?null:le.createElement("path",Qk({},Xt(w,!0),{className:jr("recharts-cross",y),d:Ige(s,i,p,b,l,m)}))},I2,wL;function Dge(){if(wL)return I2;wL=1;var t=Ej(),r=V7(),n=Fl();function s(a,i){return a&&a.length?t(a,n(i,2),r):void 0}return I2=s,I2}var Rge=Dge();const Lge=mn(Rge);var M2,_L;function Fge(){if(_L)return M2;_L=1;var t=Ej(),r=Fl(),n=K7();function s(a,i){return a&&a.length?t(a,r(i,2),n):void 0}return M2=s,M2}var $ge=Fge();const zge=mn($ge);var Bge=["cx","cy","angle","ticks","axisLine"],qge=["ticks","tick","angle","tickFormatter","stroke"];function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},nf(t)}function hx(){return hx=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},hx.apply(this,arguments)}function NL(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Au(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?NL(Object(n),!0).forEach(function(s){Dj(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NL(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function SL(t,r){if(t==null)return{};var n=Uge(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Uge(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Vge(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function CL(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,EU(s.key),s)}}function Kge(t,r,n){return r&&CL(t.prototype,r),n&&CL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wge(t,r,n){return r=X0(r),Hge(t,TU()?Reflect.construct(r,n||[],X0(t).constructor):r.apply(t,n))}function Hge(t,r){if(r&&(nf(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gge(t)}function Gge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TU=function(){return!!t})()}function X0(t){return X0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X0(t)}function Zge(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Xk(t,r)}function Xk(t,r){return Xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Xk(t,r)}function Dj(t,r,n){return r=EU(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function EU(t){var r=Yge(t,"string");return nf(r)=="symbol"?r:r+""}function Yge(t,r){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(nf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rj=(function(t){function r(){return Vge(this,r),Wge(this,r,arguments)}return Zge(r,t),Kge(r,[{key:"getTickValueCoord",value:function(s){var a=s.coordinate,i=this.props,o=i.angle,l=i.cx,u=i.cy;return Vn(l,u,a,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,a;switch(s){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,u=Lge(l,function(f){return f.coordinate||0}),m=zge(l,function(f){return f.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:m.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,u=s.axisLine,m=SL(s,Bge),f=l.reduce(function(y,_){return[Math.min(y[0],_.coordinate),Math.max(y[1],_.coordinate)]},[1/0,-1/0]),p=Vn(a,i,f[0],o),g=Vn(a,i,f[1],o),b=Au(Au(Au({},Xt(m,!1)),{},{fill:"none"},Xt(u,!1)),{},{x1:p.x,y1:p.y,x2:g.x,y2:g.y});return le.createElement("line",hx({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,u=a.tickFormatter,m=a.stroke,f=SL(a,qge),p=this.getTickTextAnchor(),g=Xt(f,!1),b=Xt(o,!1),y=i.map(function(_,w){var k=s.getTickValueCoord(_),A=Au(Au(Au(Au({textAnchor:p,transform:"rotate(".concat(90-l,", ").concat(k.x,", ").concat(k.y,")")},g),{},{stroke:"none",fill:m},b),{},{index:w},k),{},{payload:_});return le.createElement(Kr,hx({className:jr("recharts-polar-radius-axis-tick",yU(o)),key:"tick-".concat(_.coordinate)},ah(s.props,_,w)),r.renderTickItem(o,A,u?u(_.value,w):_.value))});return le.createElement(Kr,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.axisLine,o=s.tick;return!a||!a.length?null:le.createElement(Kr,{className:jr("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),aa.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return le.isValidElement(s)?o=le.cloneElement(s,a):dr(s)?o=s(a):o=le.createElement(ih,hx({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(j.PureComponent);Dj(Rj,"displayName","PolarRadiusAxis");Dj(Rj,"axisType","radiusAxis");Dj(Rj,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},sf(t)}function Mu(){return Mu=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Mu.apply(this,arguments)}function kL(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Pu(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?kL(Object(n),!0).forEach(function(s){Lj(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kL(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Qge(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function AL(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,IU(s.key),s)}}function Xge(t,r,n){return r&&AL(t.prototype,r),n&&AL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jge(t,r,n){return r=J0(r),eve(t,OU()?Reflect.construct(r,n||[],J0(t).constructor):r.apply(t,n))}function eve(t,r){if(r&&(sf(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tve(t)}function tve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OU=function(){return!!t})()}function J0(t){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J0(t)}function rve(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Jk(t,r)}function Jk(t,r){return Jk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Jk(t,r)}function Lj(t,r,n){return r=IU(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function IU(t){var r=nve(t,"string");return sf(r)=="symbol"?r:r+""}function nve(t,r){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(sf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sve=Math.PI/180,PL=1e-5,Fj=(function(t){function r(){return Qge(this,r),Jge(this,r,arguments)}return rve(r,t),Xge(r,[{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.cx,o=a.cy,l=a.radius,u=a.orientation,m=a.tickSize,f=m||8,p=Vn(i,o,l,s.coordinate),g=Vn(i,o,l+(u==="inner"?-1:1)*f,s.coordinate);return{x1:p.x,y1:p.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(s){var a=this.props.orientation,i=Math.cos(-s.coordinate*sve),o;return i>PL?o=a==="outer"?"start":"end":i<-PL?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.radius,l=s.axisLine,u=s.axisLineType,m=Pu(Pu({},Xt(this.props,!1)),{},{fill:"none"},Xt(l,!1));if(u==="circle")return le.createElement(Ug,Mu({className:"recharts-polar-angle-axis-line"},m,{cx:a,cy:i,r:o}));var f=this.props.ticks,p=f.map(function(g){return Vn(a,i,o,g.coordinate)});return le.createElement(Sge,Mu({className:"recharts-polar-angle-axis-line"},m,{points:p}))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,u=a.tickFormatter,m=a.stroke,f=Xt(this.props,!1),p=Xt(o,!1),g=Pu(Pu({},f),{},{fill:"none"},Xt(l,!1)),b=i.map(function(y,_){var w=s.getTickLineCoord(y),k=s.getTickTextAnchor(y),A=Pu(Pu(Pu({textAnchor:k},f),{},{stroke:"none",fill:m},p),{},{index:_,payload:y,x:w.x2,y:w.y2});return le.createElement(Kr,Mu({className:jr("recharts-polar-angle-axis-tick",yU(o)),key:"tick-".concat(y.coordinate)},ah(s.props,y,_)),l&&le.createElement("line",Mu({className:"recharts-polar-angle-axis-tick-line"},g,w)),o&&r.renderTickItem(o,A,u?u(y.value,_):y.value))});return le.createElement(Kr,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.radius,o=s.axisLine;return i<=0||!a||!a.length?null:le.createElement(Kr,{className:jr("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,a,i){var o;return le.isValidElement(s)?o=le.cloneElement(s,a):dr(s)?o=s(a):o=le.createElement(ih,Mu({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(j.PureComponent);Lj(Fj,"displayName","PolarAngleAxis");Lj(Fj,"axisType","angleAxis");Lj(Fj,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var D2,TL;function ave(){if(TL)return D2;TL=1;var t=Uq(),r=t(Object.getPrototypeOf,Object);return D2=r,D2}var R2,EL;function ive(){if(EL)return R2;EL=1;var t=Mc(),r=ave(),n=Dc(),s="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,l=i.hasOwnProperty,u=o.call(Object);function m(f){if(!n(f)||t(f)!=s)return!1;var p=r(f);if(p===null)return!0;var g=l.call(p,"constructor")&&p.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==u}return R2=m,R2}var ove=ive();const lve=mn(ove);var L2,OL;function cve(){if(OL)return L2;OL=1;var t=Mc(),r=Dc(),n="[object Boolean]";function s(a){return a===!0||a===!1||r(a)&&t(a)==n}return L2=s,L2}var dve=cve();const uve=mn(dve);function Jx(t){"@babel/helpers - typeof";return Jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Jx(t)}function eb(){return eb=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},eb.apply(this,arguments)}function hve(t,r){return xve(t)||pve(t,r)||fve(t,r)||mve()}function mve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fve(t,r){if(t){if(typeof t=="string")return IL(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IL(t,r)}}function IL(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function pve(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],u=!0,m=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(u=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);u=!0);}catch(f){m=!0,a=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(m)throw a}}return l}}function xve(t){if(Array.isArray(t))return t}function ML(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function DL(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?ML(Object(n),!0).forEach(function(s){gve(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ML(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function gve(t,r,n){return r=vve(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function vve(t){var r=yve(t,"string");return Jx(r)=="symbol"?r:r+""}function yve(t,r){if(Jx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Jx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var RL=function(r,n,s,a,i){var o=s-a,l;return l="M ".concat(r,",").concat(n),l+="L ".concat(r+s,",").concat(n),l+="L ".concat(r+s-o/2,",").concat(n+i),l+="L ".concat(r+s-o/2-a,",").concat(n+i),l+="L ".concat(r,",").concat(n," Z"),l},bve={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jve=function(r){var n=DL(DL({},bve),r),s=j.useRef(),a=j.useState(-1),i=hve(a,2),o=i[0],l=i[1];j.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var P=s.current.getTotalLength();P&&l(P)}catch{}},[]);var u=n.x,m=n.y,f=n.upperWidth,p=n.lowerWidth,g=n.height,b=n.className,y=n.animationEasing,_=n.animationDuration,w=n.animationBegin,k=n.isUpdateAnimationActive;if(u!==+u||m!==+m||f!==+f||p!==+p||g!==+g||f===0&&p===0||g===0)return null;var A=jr("recharts-trapezoid",b);return k?le.createElement(Zo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:u,y:m},to:{upperWidth:f,lowerWidth:p,height:g,x:u,y:m},duration:_,animationEasing:y,isActive:k},function(P){var O=P.upperWidth,I=P.lowerWidth,D=P.height,F=P.x,B=P.y;return le.createElement(Zo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:_,easing:y},le.createElement("path",eb({},Xt(n,!0),{className:A,d:RL(F,B,O,I,D),ref:s})))}):le.createElement("g",null,le.createElement("path",eb({},Xt(n,!0),{className:A,d:RL(u,m,f,p,g)})))},wve=["option","shapeType","propTransformer","activeClassName","isActive"];function eg(t){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},eg(t)}function _ve(t,r){if(t==null)return{};var n=Nve(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Nve(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function LL(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function tb(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?LL(Object(n),!0).forEach(function(s){Sve(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LL(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Sve(t,r,n){return r=Cve(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Cve(t){var r=kve(t,"string");return eg(r)=="symbol"?r:r+""}function kve(t,r){if(eg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(eg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Ave(t,r){return tb(tb({},r),t)}function Pve(t,r){return t==="symbols"}function FL(t){var r=t.shapeType,n=t.elementProps;switch(r){case"rectangle":return le.createElement(U4,n);case"trapezoid":return le.createElement(jve,n);case"sector":return le.createElement(wU,n);case"symbols":if(Pve(r))return le.createElement(l4,n);break;default:return null}}function Tve(t){return j.isValidElement(t)?t.props:t}function MU(t){var r=t.option,n=t.shapeType,s=t.propTransformer,a=s===void 0?Ave:s,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,u=_ve(t,wve),m;if(j.isValidElement(r))m=j.cloneElement(r,tb(tb({},u),Tve(r)));else if(dr(r))m=r(u);else if(lve(r)&&!uve(r)){var f=a(r,u);m=le.createElement(FL,{shapeType:n,elementProps:f})}else{var p=u;m=le.createElement(FL,{shapeType:n,elementProps:p})}return l?le.createElement(Kr,{className:o},m):m}function $j(t,r){return r!=null&&"trapezoids"in t.props}function zj(t,r){return r!=null&&"sectors"in t.props}function tg(t,r){return r!=null&&"points"in t.props}function Eve(t,r){var n,s,a=t.x===(r==null||(n=r.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===r.x,i=t.y===(r==null||(s=r.labelViewBox)===null||s===void 0?void 0:s.y)||t.y===r.y;return a&&i}function Ove(t,r){var n=t.endAngle===r.endAngle,s=t.startAngle===r.startAngle;return n&&s}function Ive(t,r){var n=t.x===r.x,s=t.y===r.y,a=t.z===r.z;return n&&s&&a}function Mve(t,r){var n;return $j(t,r)?n=Eve:zj(t,r)?n=Ove:tg(t,r)&&(n=Ive),n}function Dve(t,r){var n;return $j(t,r)?n="trapezoids":zj(t,r)?n="sectors":tg(t,r)&&(n="points"),n}function Rve(t,r){if($j(t,r)){var n;return(n=r.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(zj(t,r)){var s;return(s=r.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return tg(t,r)?r.payload:{}}function Lve(t){var r=t.activeTooltipItem,n=t.graphicalItem,s=t.itemData,a=Dve(n,r),i=Rve(n,r),o=s.filter(function(u,m){var f=oh(i,u),p=n.props[a].filter(function(y){var _=Mve(n,r);return _(y,r)}),g=n.props[a].indexOf(p[p.length-1]),b=m===g;return f&&b}),l=s.indexOf(o[o.length-1]);return l}var Xy;function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},af(t)}function Cm(){return Cm=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Cm.apply(this,arguments)}function $L(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function qn(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?$L(Object(n),!0).forEach(function(s){oo(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$L(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Fve(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function zL(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,RU(s.key),s)}}function $ve(t,r,n){return r&&zL(t.prototype,r),n&&zL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zve(t,r,n){return r=rb(r),Bve(t,DU()?Reflect.construct(r,n||[],rb(t).constructor):r.apply(t,n))}function Bve(t,r){if(r&&(af(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qve(t)}function qve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DU=function(){return!!t})()}function rb(t){return rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rb(t)}function Uve(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&eA(t,r)}function eA(t,r){return eA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},eA(t,r)}function oo(t,r,n){return r=RU(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function RU(t){var r=Vve(t,"string");return af(r)=="symbol"?r:r+""}function Vve(t,r){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(af(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xa=(function(t){function r(n){var s;return Fve(this,r),s=zve(this,r,[n]),oo(s,"pieRef",null),oo(s,"sectorRefs",[]),oo(s,"id",wh("recharts-pie-")),oo(s,"handleAnimationEnd",function(){var a=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),dr(a)&&a()}),oo(s,"handleAnimationStart",function(){var a=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),dr(a)&&a()}),s.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},s}return Uve(r,t),$ve(r,[{key:"isActiveIndex",value:function(s){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(s)!==-1:s===a}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,u=i.dataKey,m=i.valueKey,f=Xt(this.props,!1),p=Xt(o,!1),g=Xt(l,!1),b=o&&o.offsetRadius||20,y=s.map(function(_,w){var k=(_.startAngle+_.endAngle)/2,A=Vn(_.cx,_.cy,_.outerRadius+b,k),P=qn(qn(qn(qn({},f),_),{},{stroke:"none"},p),{},{index:w,textAnchor:r.getTextAnchor(A.x,_.cx)},A),O=qn(qn(qn(qn({},f),_),{},{fill:"none",stroke:_.fill},g),{},{index:w,points:[Vn(_.cx,_.cy,_.outerRadius,k),A]}),I=u;return br(u)&&br(m)?I="value":br(u)&&(I=m),le.createElement(Kr,{key:"label-".concat(_.startAngle,"-").concat(_.endAngle,"-").concat(_.midAngle,"-").concat(w)},l&&r.renderLabelLineItem(l,O,"line"),r.renderLabelItem(o,P,ks(_,I)))});return le.createElement(Kr,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(s){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,u=i.inactiveShape;return s.map(function(m,f){if(m?.startAngle===0&&m?.endAngle===0&&s.length!==1)return null;var p=a.isActiveIndex(f),g=u&&a.hasActiveIndex()?u:null,b=p?o:g,y=qn(qn({},m),{},{stroke:l?m.fill:m.stroke,tabIndex:-1});return le.createElement(Kr,Cm({ref:function(w){w&&!a.sectorRefs.includes(w)&&a.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},ah(a.props,m,f),{key:"sector-".concat(m?.startAngle,"-").concat(m?.endAngle,"-").concat(m.midAngle,"-").concat(f)}),le.createElement(MU,Cm({option:b,isActive:p,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,m=a.animationEasing,f=a.animationId,p=this.state,g=p.prevSectors,b=p.prevIsAnimationActive;return le.createElement(Zo,{begin:l,duration:u,isActive:o,easing:m,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var _=y.t,w=[],k=i&&i[0],A=k.startAngle;return i.forEach(function(P,O){var I=g&&g[O],D=O>0?qi(P,"paddingAngle",0):0;if(I){var F=Zs(I.endAngle-I.startAngle,P.endAngle-P.startAngle),B=qn(qn({},P),{},{startAngle:A+D,endAngle:A+F(_)+D});w.push(B),A=B.endAngle}else{var H=P.endAngle,re=P.startAngle,G=Zs(0,H-re),J=G(_),Z=qn(qn({},P),{},{startAngle:A+D,endAngle:A+J+D});w.push(Z),A=Z.endAngle}}),le.createElement(Kr,null,s.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(s){var a=this;s.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,a=s.sectors,i=s.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!oh(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,u=a.label,m=a.cx,f=a.cy,p=a.innerRadius,g=a.outerRadius,b=a.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!jt(m)||!jt(f)||!jt(p)||!jt(g))return null;var _=jr("recharts-pie",l);return le.createElement(Kr,{tabIndex:this.props.rootTabIndex,className:_,ref:function(k){s.pieRef=k}},this.renderSectors(),u&&this.renderLabels(o),aa.renderCallByParent(this.props,null,!1),(!b||y)&&wl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return a.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:s.sectors!==a.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,a){return s>a?"start":s<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,a,i){if(le.isValidElement(s))return le.cloneElement(s,a);if(dr(s))return s(a);var o=jr("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return le.createElement(Wu,Cm({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,a,i){if(le.isValidElement(s))return le.cloneElement(s,a);var o=i;if(dr(s)&&(o=s(a),le.isValidElement(o)))return o;var l=jr("recharts-pie-label-text",typeof s!="boolean"&&!dr(s)?s.className:"");return le.createElement(ih,Cm({},a,{alignmentBaseline:"middle",className:l}),o)}}])})(j.PureComponent);Xy=xa;oo(xa,"displayName","Pie");oo(xa,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Zd.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});oo(xa,"parseDeltaAngle",function(t,r){var n=Za(r-t),s=Math.min(Math.abs(r-t),360);return n*s});oo(xa,"getRealPieData",function(t){var r=t.data,n=t.children,s=Xt(t,!1),a=Ui(n,ho);return r&&r.length?r.map(function(i,o){return qn(qn(qn({payload:i},s),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return qn(qn({},s),i.props)}):[]});oo(xa,"parseCoordinateOfPie",function(t,r){var n=r.top,s=r.left,a=r.width,i=r.height,o=vU(a,i),l=s+Ya(t.cx,a,a/2),u=n+Ya(t.cy,i,i/2),m=Ya(t.innerRadius,o,0),f=Ya(t.outerRadius,o,o*.8),p=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:u,innerRadius:m,outerRadius:f,maxRadius:p}});oo(xa,"getComposedData",function(t){var r=t.item,n=t.offset,s=r.type.defaultProps!==void 0?qn(qn({},r.type.defaultProps),r.props):r.props,a=Xy.getRealPieData(s);if(!a||!a.length)return null;var i=s.cornerRadius,o=s.startAngle,l=s.endAngle,u=s.paddingAngle,m=s.dataKey,f=s.nameKey,p=s.valueKey,g=s.tooltipType,b=Math.abs(s.minAngle),y=Xy.parseCoordinateOfPie(s,n),_=Xy.parseDeltaAngle(o,l),w=Math.abs(_),k=m;br(m)&&br(p)?(Uo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),k="value"):br(m)&&(Uo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),k=p);var A=a.filter(function(B){return ks(B,k,0)!==0}).length,P=(w>=360?A:A-1)*u,O=w-A*b-P,I=a.reduce(function(B,H){var re=ks(H,k,0);return B+(jt(re)?re:0)},0),D;if(I>0){var F;D=a.map(function(B,H){var re=ks(B,k,0),G=ks(B,f,H),J=(jt(re)?re:0)/I,Z;H?Z=F.endAngle+Za(_)*u*(re!==0?1:0):Z=o;var ne=Z+Za(_)*((re!==0?b:0)+J*O),K=(Z+ne)/2,ae=(y.innerRadius+y.outerRadius)/2,U=[{name:G,value:re,payload:B,dataKey:k,type:g}],W=Vn(y.cx,y.cy,ae,K);return F=qn(qn(qn({percent:J,cornerRadius:i,name:G,tooltipPayload:U,midAngle:K,middleRadius:ae,tooltipPosition:W},B),y),{},{value:ks(B,k),startAngle:Z,endAngle:ne,payload:B,paddingAngle:Za(_)*u}),F})}return qn(qn({},y),{},{sectors:D,data:a})});var F2,BL;function Kve(){if(BL)return F2;BL=1;var t=Math.ceil,r=Math.max;function n(s,a,i,o){for(var l=-1,u=r(t((a-s)/(i||1)),0),m=Array(u);u--;)m[o?u:++l]=s,s+=i;return m}return F2=n,F2}var $2,qL;function LU(){if(qL)return $2;qL=1;var t=a7(),r=1/0,n=17976931348623157e292;function s(a){if(!a)return a===0?a:0;if(a=t(a),a===r||a===-r){var i=a<0?-1:1;return i*n}return a===a?a:0}return $2=s,$2}var z2,UL;function Wve(){if(UL)return z2;UL=1;var t=Kve(),r=Nj(),n=LU();function s(a){return function(i,o,l){return l&&typeof l!="number"&&r(i,o,l)&&(o=l=void 0),i=n(i),o===void 0?(o=i,i=0):o=n(o),l=l===void 0?i<o?1:-1:n(l),t(i,o,l,a)}}return z2=s,z2}var B2,VL;function Hve(){if(VL)return B2;VL=1;var t=Wve(),r=t();return B2=r,B2}var Gve=Hve();const nb=mn(Gve);function rg(t){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rg(t)}function KL(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function WL(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?KL(Object(n),!0).forEach(function(s){FU(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function FU(t,r,n){return r=Zve(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Zve(t){var r=Yve(t,"string");return rg(r)=="symbol"?r:r+""}function Yve(t,r){if(rg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(rg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Qve=["Webkit","Moz","O","ms"],Xve=function(r,n){var s=r.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Qve.reduce(function(i,o){return WL(WL({},i),{},FU({},o+s,n))},{});return a[r]=n,a};function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},of(t)}function sb(){return sb=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},sb.apply(this,arguments)}function HL(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function q2(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?HL(Object(n),!0).forEach(function(s){Ii(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HL(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Jve(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function GL(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,zU(s.key),s)}}function eye(t,r,n){return r&&GL(t.prototype,r),n&&GL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tye(t,r,n){return r=ab(r),rye(t,$U()?Reflect.construct(r,n||[],ab(t).constructor):r.apply(t,n))}function rye(t,r){if(r&&(of(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nye(t)}function nye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $U(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($U=function(){return!!t})()}function ab(t){return ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ab(t)}function sye(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&tA(t,r)}function tA(t,r){return tA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},tA(t,r)}function Ii(t,r,n){return r=zU(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function zU(t){var r=aye(t,"string");return of(r)=="symbol"?r:r+""}function aye(t,r){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(of(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iye=function(r){var n=r.data,s=r.startIndex,a=r.endIndex,i=r.x,o=r.width,l=r.travellerWidth;if(!n||!n.length)return{};var u=n.length,m=lx().domain(nb(0,u)).range([i,i+o-l]),f=m.domain().map(function(p){return m(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:m(s),endX:m(a),scale:m,scaleValues:f}},ZL=function(r){return r.changedTouches&&!!r.changedTouches.length},lf=(function(t){function r(n){var s;return Jve(this,r),s=tye(this,r,[n]),Ii(s,"handleDrag",function(a){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(a):s.state.isSlideMoving&&s.handleSlideDrag(a)}),Ii(s,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&s.handleDrag(a.changedTouches[0])}),Ii(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=s.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o?.({endIndex:i,startIndex:l})}),s.detachDragEndListener()}),Ii(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),Ii(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),Ii(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),Ii(s,"handleSlideDragStart",function(a){var i=ZL(a)?a.changedTouches[0]:a;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return sye(r,t),eye(r,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var a=s.startX,i=s.endX,o=this.state.scaleValues,l=this.props,u=l.gap,m=l.data,f=m.length-1,p=Math.min(a,i),g=Math.max(a,i),b=r.getIndexInRange(o,p),y=r.getIndexInRange(o,g);return{startIndex:b-b%u,endIndex:y===f?f:y-y%u}}},{key:"getTextOfTick",value:function(s){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,u=ks(i[s],l,s);return dr(o)?o(u,s):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,u=this.props,m=u.x,f=u.width,p=u.travellerWidth,g=u.startIndex,b=u.endIndex,y=u.onChange,_=s.pageX-i;_>0?_=Math.min(_,m+f-p-l,m+f-p-o):_<0&&(_=Math.max(_,m-o,m-l));var w=this.getIndex({startX:o+_,endX:l+_});(w.startIndex!==g||w.endIndex!==b)&&y&&y(w),this.setState({startX:o+_,endX:l+_,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,a){var i=ZL(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,u=a.startX,m=this.state[o],f=this.props,p=f.x,g=f.width,b=f.travellerWidth,y=f.onChange,_=f.gap,w=f.data,k={startX:this.state.startX,endX:this.state.endX},A=s.pageX-i;A>0?A=Math.min(A,p+g-b-m):A<0&&(A=Math.max(A,p-m)),k[o]=m+A;var P=this.getIndex(k),O=P.startIndex,I=P.endIndex,D=function(){var B=w.length-1;return o==="startX"&&(l>u?O%_===0:I%_===0)||l<u&&I===B||o==="endX"&&(l>u?I%_===0:O%_===0)||l>u&&I===B};this.setState(Ii(Ii({},o,m+A),"brushMoveStartX",s.pageX),function(){y&&D()&&y(P)})}},{key:"handleTravellerMoveKeyboard",value:function(s,a){var i=this,o=this.state,l=o.scaleValues,u=o.startX,m=o.endX,f=this.state[a],p=l.indexOf(f);if(p!==-1){var g=p+s;if(!(g===-1||g>=l.length)){var b=l[g];a==="startX"&&b>=m||a==="endX"&&b<=u||this.setState(Ii({},a,b),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,u=s.fill,m=s.stroke;return le.createElement("rect",{stroke:m,fill:u,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,u=s.data,m=s.children,f=s.padding,p=j.Children.only(m);return p?le.cloneElement(p,{x:a,y:i,width:o,height:l,margin:f,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(s,a){var i,o,l=this,u=this.props,m=u.y,f=u.travellerWidth,p=u.height,g=u.traveller,b=u.ariaLabel,y=u.data,_=u.startIndex,w=u.endIndex,k=Math.max(s,this.props.x),A=q2(q2({},Xt(this.props,!1)),{},{x:k,y:m,width:f,height:p}),P=b||"Min value: ".concat((i=y[_])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[w])===null||o===void 0?void 0:o.name);return le.createElement(Kr,{tabIndex:0,role:"slider","aria-label":P,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(I){["ArrowLeft","ArrowRight"].includes(I.key)&&(I.preventDefault(),I.stopPropagation(),l.handleTravellerMoveKeyboard(I.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},r.renderTraveller(g,A))}},{key:"renderSlide",value:function(s,a){var i=this.props,o=i.y,l=i.height,u=i.stroke,m=i.travellerWidth,f=Math.min(s,a)+m,p=Math.max(Math.abs(a-s)-m,0);return le.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:f,y:o,width:p,height:l})}},{key:"renderText",value:function(){var s=this.props,a=s.startIndex,i=s.endIndex,o=s.y,l=s.height,u=s.travellerWidth,m=s.stroke,f=this.state,p=f.startX,g=f.endX,b=5,y={pointerEvents:"none",fill:m};return le.createElement(Kr,{className:"recharts-brush-texts"},le.createElement(ih,sb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,g)-b,y:o+l/2},y),this.getTextOfTick(a)),le.createElement(ih,sb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,g)+u+b,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var s=this.props,a=s.data,i=s.className,o=s.children,l=s.x,u=s.y,m=s.width,f=s.height,p=s.alwaysShowText,g=this.state,b=g.startX,y=g.endX,_=g.isTextActive,w=g.isSlideMoving,k=g.isTravellerMoving,A=g.isTravellerFocused;if(!a||!a.length||!jt(l)||!jt(u)||!jt(m)||!jt(f)||m<=0||f<=0)return null;var P=jr("recharts-brush",i),O=le.Children.count(o)===1,I=Xve("userSelect","none");return le.createElement(Kr,{className:P,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:I},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(b,y),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(y,"endX"),(_||w||k||A||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,u=s.stroke,m=Math.floor(i+l/2)-1;return le.createElement(le.Fragment,null,le.createElement("rect",{x:a,y:i,width:o,height:l,fill:u,stroke:"none"}),le.createElement("line",{x1:a+1,y1:m,x2:a+o-1,y2:m,fill:"none",stroke:"#fff"}),le.createElement("line",{x1:a+1,y1:m+2,x2:a+o-1,y2:m+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,a){var i;return le.isValidElement(s)?i=le.cloneElement(s,a):dr(s)?i=s(a):i=r.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(s,a){var i=s.data,o=s.width,l=s.x,u=s.travellerWidth,m=s.updateId,f=s.startIndex,p=s.endIndex;if(i!==a.prevData||m!==a.prevUpdateId)return q2({prevData:i,prevTravellerWidth:u,prevUpdateId:m,prevX:l,prevWidth:o},i&&i.length?iye({data:i,width:o,x:l,travellerWidth:u,startIndex:f,endIndex:p}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||u!==a.prevTravellerWidth)){a.scale.range([l,l+o-u]);var g=a.scale.domain().map(function(b){return a.scale(b)});return{prevData:i,prevTravellerWidth:u,prevUpdateId:m,prevX:l,prevWidth:o,startX:a.scale(s.startIndex),endX:a.scale(s.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(s,a){for(var i=s.length,o=0,l=i-1;l-o>1;){var u=Math.floor((o+l)/2);s[u]>a?l=u:o=u}return a>=s[l]?l:o}}])})(j.PureComponent);Ii(lf,"displayName","Brush");Ii(lf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var U2,YL;function oye(){if(YL)return U2;YL=1;var t=p4();function r(n,s){var a;return t(n,function(i,o,l){return a=s(i,o,l),!a}),!!a}return U2=r,U2}var V2,QL;function lye(){if(QL)return V2;QL=1;var t=Rq(),r=Fl(),n=oye(),s=yi(),a=Nj();function i(o,l,u){var m=s(o)?t:n;return u&&a(o,l,u)&&(l=void 0),m(o,r(l,3))}return V2=i,V2}var cye=lye();const dye=mn(cye);var _l=function(r,n){var s=r.alwaysShow,a=r.ifOverflow;return s&&(a="extendDomain"),a===n},K2,XL;function uye(){if(XL)return K2;XL=1;var t=e7();function r(n,s,a){s=="__proto__"&&t?t(n,s,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[s]=a}return K2=r,K2}var W2,JL;function hye(){if(JL)return W2;JL=1;var t=uye(),r=Xq(),n=Fl();function s(a,i){var o={};return i=n(i,3),r(a,function(l,u,m){t(o,u,i(l,u,m))}),o}return W2=s,W2}var mye=hye();const fye=mn(mye);var H2,e6;function pye(){if(e6)return H2;e6=1;function t(r,n){for(var s=-1,a=r==null?0:r.length;++s<a;)if(!n(r[s],s,r))return!1;return!0}return H2=t,H2}var G2,t6;function xye(){if(t6)return G2;t6=1;var t=p4();function r(n,s){var a=!0;return t(n,function(i,o,l){return a=!!s(i,o,l),a}),a}return G2=r,G2}var Z2,r6;function gye(){if(r6)return Z2;r6=1;var t=pye(),r=xye(),n=Fl(),s=yi(),a=Nj();function i(o,l,u){var m=s(o)?t:r;return u&&a(o,l,u)&&(l=void 0),m(o,n(l,3))}return Z2=i,Z2}var vye=gye();const BU=mn(vye);var yye=["x","y"];function ng(t){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ng(t)}function rA(){return rA=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},rA.apply(this,arguments)}function n6(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Yp(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?n6(Object(n),!0).forEach(function(s){bye(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n6(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function bye(t,r,n){return r=jye(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function jye(t){var r=wye(t,"string");return ng(r)=="symbol"?r:r+""}function wye(t,r){if(ng(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(ng(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function _ye(t,r){if(t==null)return{};var n=Nye(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Nye(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Sye(t,r){var n=t.x,s=t.y,a=_ye(t,yye),i="".concat(n),o=parseInt(i,10),l="".concat(s),u=parseInt(l,10),m="".concat(r.height||a.height),f=parseInt(m,10),p="".concat(r.width||a.width),g=parseInt(p,10);return Yp(Yp(Yp(Yp(Yp({},r),a),o?{x:o}:{}),u?{y:u}:{}),{},{height:f,width:g,name:r.name,radius:r.radius})}function s6(t){return le.createElement(MU,rA({shapeType:"rectangle",propTransformer:Sye,activeClassName:"recharts-active-bar"},t))}var Cye=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,a){if(typeof r=="number")return r;var i=jt(s)||Qae(s);return i?r(s,a):(i||ch(),n)}},kye=["value","background"],qU;function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},cf(t)}function Aye(t,r){if(t==null)return{};var n=Pye(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Pye(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function ib(){return ib=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ib.apply(this,arguments)}function a6(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Ds(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?a6(Object(n),!0).forEach(function(s){Pd(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a6(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Tye(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function i6(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,VU(s.key),s)}}function Eye(t,r,n){return r&&i6(t.prototype,r),n&&i6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oye(t,r,n){return r=ob(r),Iye(t,UU()?Reflect.construct(r,n||[],ob(t).constructor):r.apply(t,n))}function Iye(t,r){if(r&&(cf(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mye(t)}function Mye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UU=function(){return!!t})()}function ob(t){return ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ob(t)}function Dye(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&nA(t,r)}function nA(t,r){return nA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},nA(t,r)}function Pd(t,r,n){return r=VU(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function VU(t){var r=Rye(t,"string");return cf(r)=="symbol"?r:r+""}function Rye(t,r){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(cf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ia=(function(t){function r(){var n;Tye(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=Oye(this,r,[].concat(a)),Pd(n,"state",{isAnimationFinished:!1}),Pd(n,"id",wh("recharts-bar-")),Pd(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Pd(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Dye(r,t),Eye(r,[{key:"renderRectanglesStatically",value:function(s){var a=this,i=this.props,o=i.shape,l=i.dataKey,u=i.activeIndex,m=i.activeBar,f=Xt(this.props,!1);return s&&s.map(function(p,g){var b=g===u,y=b?m:o,_=Ds(Ds(Ds({},f),p),{},{isActive:b,option:y,index:g,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return le.createElement(Kr,ib({className:"recharts-bar-rectangle"},ah(a.props,p,g),{key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(g)}),le.createElement(s6,_))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,u=a.animationBegin,m=a.animationDuration,f=a.animationEasing,p=a.animationId,g=this.state.prevData;return le.createElement(Zo,{begin:u,duration:m,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var y=b.t,_=i.map(function(w,k){var A=g&&g[k];if(A){var P=Zs(A.x,w.x),O=Zs(A.y,w.y),I=Zs(A.width,w.width),D=Zs(A.height,w.height);return Ds(Ds({},w),{},{x:P(y),y:O(y),width:I(y),height:D(y)})}if(o==="horizontal"){var F=Zs(0,w.height),B=F(y);return Ds(Ds({},w),{},{y:w.y+w.height-B,height:B})}var H=Zs(0,w.width),re=H(y);return Ds(Ds({},w),{},{width:re})});return le.createElement(Kr,null,s.renderRectanglesStatically(_))})}},{key:"renderRectangles",value:function(){var s=this.props,a=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!oh(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var s=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,u=Xt(this.props.background,!1);return i.map(function(m,f){m.value;var p=m.background,g=Aye(m,kye);if(!p)return null;var b=Ds(Ds(Ds(Ds(Ds({},g),{},{fill:"#eee"},p),u),ah(s.props,m,f)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return le.createElement(s6,ib({key:"background-bar-".concat(f),option:s.props.background,isActive:f===l},b))})}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,u=i.yAxis,m=i.layout,f=i.children,p=Ui(f,qg);if(!p)return null;var g=m==="vertical"?o[0].height/2:o[0].width/2,b=function(w,k){var A=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:A,errorVal:ks(w,k)}},y={clipPath:s?"url(#clipPath-".concat(a,")"):null};return le.createElement(Kr,y,p.map(function(_){return le.cloneElement(_,{key:"error-bar-".concat(a,"-").concat(_.props.dataKey),data:o,xAxis:l,yAxis:u,layout:m,offset:g,dataPointFormatter:b})}))}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.data,o=s.className,l=s.xAxis,u=s.yAxis,m=s.left,f=s.top,p=s.width,g=s.height,b=s.isAnimationActive,y=s.background,_=s.id;if(a||!i||!i.length)return null;var w=this.state.isAnimationFinished,k=jr("recharts-bar",o),A=l&&l.allowDataOverflow,P=u&&u.allowDataOverflow,O=A||P,I=br(_)?this.id:_;return le.createElement(Kr,{className:k},A||P?le.createElement("defs",null,le.createElement("clipPath",{id:"clipPath-".concat(I)},le.createElement("rect",{x:A?m:m-p/2,y:P?f:f-g/2,width:A?p:p*2,height:P?g:g*2}))):null,le.createElement(Kr,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(I,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,I),(!b||w)&&wl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:a.curData}:s.data!==a.curData?{curData:s.data}:null}}])})(j.PureComponent);qU=Ia;Pd(Ia,"displayName","Bar");Pd(Ia,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Zd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Pd(Ia,"getComposedData",function(t){var r=t.props,n=t.item,s=t.barPosition,a=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,u=t.yAxisTicks,m=t.stackedData,f=t.dataStartIndex,p=t.displayedData,g=t.offset,b=ufe(s,n);if(!b)return null;var y=r.layout,_=n.type.defaultProps,w=_!==void 0?Ds(Ds({},_),n.props):n.props,k=w.dataKey,A=w.children,P=w.minPointSize,O=y==="horizontal"?o:i,I=m?O.scale.domain():null,D=vfe({numericAxis:O}),F=Ui(A,ho),B=p.map(function(H,re){var G,J,Z,ne,K,ae;m?G=hfe(m[f+re],I):(G=ks(H,k),Array.isArray(G)||(G=[D,G]));var U=Cye(P,qU.defaultProps.minPointSize)(G[1],re);if(y==="horizontal"){var W,se=[o.scale(G[0]),o.scale(G[1])],de=se[0],z=se[1];J=ER({axis:i,ticks:l,bandSize:a,offset:b.offset,entry:H,index:re}),Z=(W=z??de)!==null&&W!==void 0?W:void 0,ne=b.size;var oe=de-z;if(K=Number.isNaN(oe)?0:oe,ae={x:J,y:o.y,width:ne,height:o.height},Math.abs(U)>0&&Math.abs(K)<Math.abs(U)){var Ce=Za(K||U)*(Math.abs(U)-Math.abs(K));Z-=Ce,K+=Ce}}else{var ke=[i.scale(G[0]),i.scale(G[1])],_e=ke[0],Le=ke[1];if(J=_e,Z=ER({axis:o,ticks:u,bandSize:a,offset:b.offset,entry:H,index:re}),ne=Le-_e,K=b.size,ae={x:i.x,y:Z,width:i.width,height:K},Math.abs(U)>0&&Math.abs(ne)<Math.abs(U)){var je=Za(ne||U)*(Math.abs(U)-Math.abs(ne));ne+=je}}return Ds(Ds(Ds({},H),{},{x:J,y:Z,width:ne,height:K,value:m?G:G[1],payload:H,background:ae},F&&F[re]&&F[re].props),{},{tooltipPayload:[xU(n,H)],tooltipPosition:{x:J+ne/2,y:Z+K/2}})});return Ds({data:B,layout:y},g)});function sg(t){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},sg(t)}function Lye(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function o6(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,KU(s.key),s)}}function Fye(t,r,n){return r&&o6(t.prototype,r),n&&o6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function l6(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Oo(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?l6(Object(n),!0).forEach(function(s){Bj(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l6(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Bj(t,r,n){return r=KU(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function KU(t){var r=$ye(t,"string");return sg(r)=="symbol"?r:r+""}function $ye(t,r){if(sg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(sg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var V4=function(r,n,s,a,i){var o=r.width,l=r.height,u=r.layout,m=r.children,f=Object.keys(n),p={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},g=!!Mi(m,Ia);return f.reduce(function(b,y){var _=n[y],w=_.orientation,k=_.domain,A=_.padding,P=A===void 0?{}:A,O=_.mirror,I=_.reversed,D="".concat(w).concat(O?"Mirror":""),F,B,H,re,G;if(_.type==="number"&&(_.padding==="gap"||_.padding==="no-gap")){var J=k[1]-k[0],Z=1/0,ne=_.categoricalDomain.sort(eie);if(ne.forEach(function(ke,_e){_e>0&&(Z=Math.min((ke||0)-(ne[_e-1]||0),Z))}),Number.isFinite(Z)){var K=Z/J,ae=_.layout==="vertical"?s.height:s.width;if(_.padding==="gap"&&(F=K*ae/2),_.padding==="no-gap"){var U=Ya(r.barCategoryGap,K*ae),W=K*ae/2;F=W-U-(W-U)/ae*U}}}a==="xAxis"?B=[s.left+(P.left||0)+(F||0),s.left+s.width-(P.right||0)-(F||0)]:a==="yAxis"?B=u==="horizontal"?[s.top+s.height-(P.bottom||0),s.top+(P.top||0)]:[s.top+(P.top||0)+(F||0),s.top+s.height-(P.bottom||0)-(F||0)]:B=_.range,I&&(B=[B[1],B[0]]);var se=hU(_,i,g),de=se.scale,z=se.realScaleType;de.domain(k).range(B),mU(de);var oe=fU(de,Oo(Oo({},_),{},{realScaleType:z}));a==="xAxis"?(G=w==="top"&&!O||w==="bottom"&&O,H=s.left,re=p[D]-G*_.height):a==="yAxis"&&(G=w==="left"&&!O||w==="right"&&O,H=p[D]-G*_.width,re=s.top);var Ce=Oo(Oo(Oo({},_),oe),{},{realScaleType:z,x:H,y:re,scale:de,width:a==="xAxis"?s.width:_.width,height:a==="yAxis"?s.height:_.height});return Ce.bandSize=K0(Ce,oe),!_.hide&&a==="xAxis"?p[D]+=(G?-1:1)*Ce.height:_.hide||(p[D]+=(G?-1:1)*Ce.width),Oo(Oo({},b),{},Bj({},y,Ce))},{})},WU=function(r,n){var s=r.x,a=r.y,i=n.x,o=n.y;return{x:Math.min(s,i),y:Math.min(a,o),width:Math.abs(i-s),height:Math.abs(o-a)}},zye=function(r){var n=r.x1,s=r.y1,a=r.x2,i=r.y2;return WU({x:n,y:s},{x:a,y:i})},HU=(function(){function t(r){Lye(this,t),this.scale=r}return Fye(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,i=s.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(a){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+u}return this.scale(n)}}},{key:"isInRange",value:function(n){var s=this.range(),a=s[0],i=s[s.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new t(n)}}])})();Bj(HU,"EPS",1e-4);var K4=function(r){var n=Object.keys(r).reduce(function(s,a){return Oo(Oo({},s),{},Bj({},a,HU.create(r[a])))},{});return Oo(Oo({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return fye(a,function(u,m){return n[m].apply(u,{bandAware:o,position:l})})},isInRange:function(a){return BU(a,function(i,o){return n[o].isInRange(i)})}})};function Bye(t){return(t%180+180)%180}var qye=function(r){var n=r.width,s=r.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Bye(a),o=i*Math.PI/180,l=Math.atan(s/n),u=o>l&&o<Math.PI-l?s/Math.sin(o):n/Math.cos(o);return Math.abs(u)},Y2,c6;function Uye(){if(c6)return Y2;c6=1;var t=Fl(),r=Lg(),n=wj();function s(a){return function(i,o,l){var u=Object(i);if(!r(i)){var m=t(o,3);i=n(i),o=function(p){return m(u[p],p,u)}}var f=a(i,o,l);return f>-1?u[m?i[f]:f]:void 0}}return Y2=s,Y2}var Q2,d6;function Vye(){if(d6)return Q2;d6=1;var t=LU();function r(n){var s=t(n),a=s%1;return s===s?a?s-a:s:0}return Q2=r,Q2}var X2,u6;function Kye(){if(u6)return X2;u6=1;var t=Hq(),r=Fl(),n=Vye(),s=Math.max;function a(i,o,l){var u=i==null?0:i.length;if(!u)return-1;var m=l==null?0:n(l);return m<0&&(m=s(u+m,0)),t(i,r(o,3),m)}return X2=a,X2}var J2,h6;function Wye(){if(h6)return J2;h6=1;var t=Uye(),r=Kye(),n=t(r);return J2=n,J2}var Hye=Wye();const Gye=mn(Hye);var Zye=lq();const Yye=mn(Zye);var Qye=Yye(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),W4=j.createContext(void 0),H4=j.createContext(void 0),GU=j.createContext(void 0),ZU=j.createContext({}),YU=j.createContext(void 0),QU=j.createContext(0),XU=j.createContext(0),m6=function(r){var n=r.state,s=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=r.clipPathId,l=r.children,u=r.width,m=r.height,f=Qye(i);return le.createElement(W4.Provider,{value:s},le.createElement(H4.Provider,{value:a},le.createElement(ZU.Provider,{value:i},le.createElement(GU.Provider,{value:f},le.createElement(YU.Provider,{value:o},le.createElement(QU.Provider,{value:m},le.createElement(XU.Provider,{value:u},l)))))))},Xye=function(){return j.useContext(YU)},JU=function(r){var n=j.useContext(W4);n==null&&ch();var s=n[r];return s==null&&ch(),s},Jye=function(){var r=j.useContext(W4);return kd(r)},e0e=function(){var r=j.useContext(H4),n=Gye(r,function(s){return BU(s.domain,Number.isFinite)});return n||kd(r)},eV=function(r){var n=j.useContext(H4);n==null&&ch();var s=n[r];return s==null&&ch(),s},t0e=function(){var r=j.useContext(GU);return r},r0e=function(){return j.useContext(ZU)},G4=function(){return j.useContext(XU)},Z4=function(){return j.useContext(QU)};function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},df(t)}function n0e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function s0e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,rV(s.key),s)}}function a0e(t,r,n){return r&&s0e(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function i0e(t,r,n){return r=lb(r),o0e(t,tV()?Reflect.construct(r,n||[],lb(t).constructor):r.apply(t,n))}function o0e(t,r){if(r&&(df(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l0e(t)}function l0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tV=function(){return!!t})()}function lb(t){return lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lb(t)}function c0e(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&sA(t,r)}function sA(t,r){return sA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},sA(t,r)}function f6(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function p6(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?f6(Object(n),!0).forEach(function(s){Y4(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f6(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Y4(t,r,n){return r=rV(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function rV(t){var r=d0e(t,"string");return df(r)=="symbol"?r:r+""}function d0e(t,r){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(df(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function u0e(t,r){return p0e(t)||f0e(t,r)||m0e(t,r)||h0e()}function h0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m0e(t,r){if(t){if(typeof t=="string")return x6(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x6(t,r)}}function x6(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function f0e(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],u=!0,m=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(u=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);u=!0);}catch(f){m=!0,a=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(m)throw a}}return l}}function p0e(t){if(Array.isArray(t))return t}function aA(){return aA=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},aA.apply(this,arguments)}var x0e=function(r,n){var s;return le.isValidElement(r)?s=le.cloneElement(r,n):dr(r)?s=r(n):s=le.createElement("line",aA({},n,{className:"recharts-reference-line-line"})),s},g0e=function(r,n,s,a,i,o,l,u,m){var f=i.x,p=i.y,g=i.width,b=i.height;if(s){var y=m.y,_=r.y.apply(y,{position:o});if(_l(m,"discard")&&!r.y.isInRange(_))return null;var w=[{x:f+g,y:_},{x:f,y:_}];return u==="left"?w.reverse():w}if(n){var k=m.x,A=r.x.apply(k,{position:o});if(_l(m,"discard")&&!r.x.isInRange(A))return null;var P=[{x:A,y:p+b},{x:A,y:p}];return l==="top"?P.reverse():P}if(a){var O=m.segment,I=O.map(function(D){return r.apply(D,{position:o})});return _l(m,"discard")&&dye(I,function(D){return!r.isInRange(D)})?null:I}return null};function v0e(t){var r=t.x,n=t.y,s=t.segment,a=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,u=t.alwaysShow,m=Xye(),f=JU(a),p=eV(i),g=t0e();if(!m||!g)return null;Uo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=K4({x:f.scale,y:p.scale}),y=Ys(r),_=Ys(n),w=s&&s.length===2,k=g0e(b,y,_,w,g,t.position,f.orientation,p.orientation,t);if(!k)return null;var A=u0e(k,2),P=A[0],O=P.x,I=P.y,D=A[1],F=D.x,B=D.y,H=_l(t,"hidden")?"url(#".concat(m,")"):void 0,re=p6(p6({clipPath:H},Xt(t,!0)),{},{x1:O,y1:I,x2:F,y2:B});return le.createElement(Kr,{className:jr("recharts-reference-line",l)},x0e(o,re),aa.renderCallByParent(t,zye({x1:O,y1:I,x2:F,y2:B})))}var Q4=(function(t){function r(){return n0e(this,r),i0e(this,r,arguments)}return c0e(r,t),a0e(r,[{key:"render",value:function(){return le.createElement(v0e,this.props)}}])})(le.Component);Y4(Q4,"displayName","ReferenceLine");Y4(Q4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function iA(){return iA=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},iA.apply(this,arguments)}function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},uf(t)}function g6(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function v6(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?g6(Object(n),!0).forEach(function(s){qj(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g6(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function y0e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function b0e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,sV(s.key),s)}}function j0e(t,r,n){return r&&b0e(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function w0e(t,r,n){return r=cb(r),_0e(t,nV()?Reflect.construct(r,n||[],cb(t).constructor):r.apply(t,n))}function _0e(t,r){if(r&&(uf(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N0e(t)}function N0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nV=function(){return!!t})()}function cb(t){return cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cb(t)}function S0e(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&oA(t,r)}function oA(t,r){return oA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},oA(t,r)}function qj(t,r,n){return r=sV(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function sV(t){var r=C0e(t,"string");return uf(r)=="symbol"?r:r+""}function C0e(t,r){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(uf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var k0e=function(r){var n=r.x,s=r.y,a=r.xAxis,i=r.yAxis,o=K4({x:a.scale,y:i.scale}),l=o.apply({x:n,y:s},{bandAware:!0});return _l(r,"discard")&&!o.isInRange(l)?null:l},Uj=(function(t){function r(){return y0e(this,r),w0e(this,r,arguments)}return S0e(r,t),j0e(r,[{key:"render",value:function(){var s=this.props,a=s.x,i=s.y,o=s.r,l=s.alwaysShow,u=s.clipPathId,m=Ys(a),f=Ys(i);if(Uo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!m||!f)return null;var p=k0e(this.props);if(!p)return null;var g=p.x,b=p.y,y=this.props,_=y.shape,w=y.className,k=_l(this.props,"hidden")?"url(#".concat(u,")"):void 0,A=v6(v6({clipPath:k},Xt(this.props,!0)),{},{cx:g,cy:b});return le.createElement(Kr,{className:jr("recharts-reference-dot",w)},r.renderDot(_,A),aa.renderCallByParent(this.props,{x:g-o,y:b-o,width:2*o,height:2*o}))}}])})(le.Component);qj(Uj,"displayName","ReferenceDot");qj(Uj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});qj(Uj,"renderDot",function(t,r){var n;return le.isValidElement(t)?n=le.cloneElement(t,r):dr(t)?n=t(r):n=le.createElement(Ug,iA({},r,{cx:r.cx,cy:r.cy,className:"recharts-reference-dot-dot"})),n});function lA(){return lA=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},lA.apply(this,arguments)}function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hf(t)}function y6(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function b6(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?y6(Object(n),!0).forEach(function(s){Vj(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y6(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function A0e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function P0e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,iV(s.key),s)}}function T0e(t,r,n){return r&&P0e(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function E0e(t,r,n){return r=db(r),O0e(t,aV()?Reflect.construct(r,n||[],db(t).constructor):r.apply(t,n))}function O0e(t,r){if(r&&(hf(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I0e(t)}function I0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aV=function(){return!!t})()}function db(t){return db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},db(t)}function M0e(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&cA(t,r)}function cA(t,r){return cA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},cA(t,r)}function Vj(t,r,n){return r=iV(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function iV(t){var r=D0e(t,"string");return hf(r)=="symbol"?r:r+""}function D0e(t,r){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(hf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var R0e=function(r,n,s,a,i){var o=i.x1,l=i.x2,u=i.y1,m=i.y2,f=i.xAxis,p=i.yAxis;if(!f||!p)return null;var g=K4({x:f.scale,y:p.scale}),b={x:r?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:s?g.y.apply(u,{position:"start"}):g.y.rangeMin},y={x:n?g.x.apply(l,{position:"end"}):g.x.rangeMax,y:a?g.y.apply(m,{position:"end"}):g.y.rangeMax};return _l(i,"discard")&&(!g.isInRange(b)||!g.isInRange(y))?null:WU(b,y)},Kj=(function(t){function r(){return A0e(this,r),E0e(this,r,arguments)}return M0e(r,t),T0e(r,[{key:"render",value:function(){var s=this.props,a=s.x1,i=s.x2,o=s.y1,l=s.y2,u=s.className,m=s.alwaysShow,f=s.clipPathId;Uo(m===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Ys(a),g=Ys(i),b=Ys(o),y=Ys(l),_=this.props.shape;if(!p&&!g&&!b&&!y&&!_)return null;var w=R0e(p,g,b,y,this.props);if(!w&&!_)return null;var k=_l(this.props,"hidden")?"url(#".concat(f,")"):void 0;return le.createElement(Kr,{className:jr("recharts-reference-area",u)},r.renderRect(_,b6(b6({clipPath:k},Xt(this.props,!0)),w)),aa.renderCallByParent(this.props,w))}}])})(le.Component);Vj(Kj,"displayName","ReferenceArea");Vj(Kj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Vj(Kj,"renderRect",function(t,r){var n;return le.isValidElement(t)?n=le.cloneElement(t,r):dr(t)?n=t(r):n=le.createElement(U4,lA({},r,{className:"recharts-reference-area-rect"})),n});function oV(t,r,n){if(r<1)return[];if(r===1&&n===void 0)return t;for(var s=[],a=0;a<t.length;a+=r)s.push(t[a]);return s}function L0e(t,r,n){var s={width:t.width+r.width,height:t.height+r.height};return qye(s,n)}function F0e(t,r,n){var s=n==="width",a=t.x,i=t.y,o=t.width,l=t.height;return r===1?{start:s?a:i,end:s?a+o:i+l}:{start:s?a+o:i+l,end:s?a:i}}function ub(t,r,n,s,a){if(t*r<t*s||t*r>t*a)return!1;var i=n();return t*(r-t*i/2-s)>=0&&t*(r+t*i/2-a)<=0}function $0e(t,r){return oV(t,r+1)}function z0e(t,r,n,s,a){for(var i=(s||[]).slice(),o=r.start,l=r.end,u=0,m=1,f=o,p=function(){var y=s?.[u];if(y===void 0)return{v:oV(s,m)};var _=u,w,k=function(){return w===void 0&&(w=n(y,_)),w},A=y.coordinate,P=u===0||ub(t,A,k,f,l);P||(u=0,f=o,m+=1),P&&(f=A+t*(k()/2+a),u+=m)},g;m<=i.length;)if(g=p(),g)return g.v;return[]}function ag(t){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ag(t)}function j6(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Ca(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?j6(Object(n),!0).forEach(function(s){B0e(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j6(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function B0e(t,r,n){return r=q0e(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function q0e(t){var r=U0e(t,"string");return ag(r)=="symbol"?r:r+""}function U0e(t,r){if(ag(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(ag(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function V0e(t,r,n,s,a){for(var i=(s||[]).slice(),o=i.length,l=r.start,u=r.end,m=function(g){var b=i[g],y,_=function(){return y===void 0&&(y=n(b,g)),y};if(g===o-1){var w=t*(b.coordinate+t*_()/2-u);i[g]=b=Ca(Ca({},b),{},{tickCoord:w>0?b.coordinate-w*t:b.coordinate})}else i[g]=b=Ca(Ca({},b),{},{tickCoord:b.coordinate});var k=ub(t,b.tickCoord,_,l,u);k&&(u=b.tickCoord-t*(_()/2+a),i[g]=Ca(Ca({},b),{},{isShow:!0}))},f=o-1;f>=0;f--)m(f);return i}function K0e(t,r,n,s,a,i){var o=(s||[]).slice(),l=o.length,u=r.start,m=r.end;if(i){var f=s[l-1],p=n(f,l-1),g=t*(f.coordinate+t*p/2-m);o[l-1]=f=Ca(Ca({},f),{},{tickCoord:g>0?f.coordinate-g*t:f.coordinate});var b=ub(t,f.tickCoord,function(){return p},u,m);b&&(m=f.tickCoord-t*(p/2+a),o[l-1]=Ca(Ca({},f),{},{isShow:!0}))}for(var y=i?l-1:l,_=function(A){var P=o[A],O,I=function(){return O===void 0&&(O=n(P,A)),O};if(A===0){var D=t*(P.coordinate-t*I()/2-u);o[A]=P=Ca(Ca({},P),{},{tickCoord:D<0?P.coordinate-D*t:P.coordinate})}else o[A]=P=Ca(Ca({},P),{},{tickCoord:P.coordinate});var F=ub(t,P.tickCoord,I,u,m);F&&(u=P.tickCoord+t*(I()/2+a),o[A]=Ca(Ca({},P),{},{isShow:!0}))},w=0;w<y;w++)_(w);return o}function X4(t,r,n){var s=t.tick,a=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,u=t.interval,m=t.tickFormatter,f=t.unit,p=t.angle;if(!a||!a.length||!s)return[];if(jt(u)||Zd.isSsr)return $0e(a,typeof u=="number"&&jt(u)?u:0);var g=[],b=l==="top"||l==="bottom"?"width":"height",y=f&&b==="width"?ox(f,{fontSize:r,letterSpacing:n}):{width:0,height:0},_=function(P,O){var I=dr(m)?m(P.value,O):P.value;return b==="width"?L0e(ox(I,{fontSize:r,letterSpacing:n}),y,p):ox(I,{fontSize:r,letterSpacing:n})[b]},w=a.length>=2?Za(a[1].coordinate-a[0].coordinate):1,k=F0e(i,w,b);return u==="equidistantPreserveStart"?z0e(w,k,_,a,o):(u==="preserveStart"||u==="preserveStartEnd"?g=K0e(w,k,_,a,o,u==="preserveStartEnd"):g=V0e(w,k,_,a,o),g.filter(function(A){return A.isShow}))}var W0e=["viewBox"],H0e=["viewBox"],G0e=["ticks"];function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mf(t)}function km(){return km=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},km.apply(this,arguments)}function w6(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Ks(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?w6(Object(n),!0).forEach(function(s){J4(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w6(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function eC(t,r){if(t==null)return{};var n=Z0e(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Z0e(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Y0e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _6(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,cV(s.key),s)}}function Q0e(t,r,n){return r&&_6(t.prototype,r),n&&_6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function X0e(t,r,n){return r=hb(r),J0e(t,lV()?Reflect.construct(r,n||[],hb(t).constructor):r.apply(t,n))}function J0e(t,r){if(r&&(mf(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ebe(t)}function ebe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lV=function(){return!!t})()}function hb(t){return hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hb(t)}function tbe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&dA(t,r)}function dA(t,r){return dA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},dA(t,r)}function J4(t,r,n){return r=cV(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function cV(t){var r=rbe(t,"string");return mf(r)=="symbol"?r:r+""}function rbe(t,r){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(mf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qf=(function(t){function r(n){var s;return Y0e(this,r),s=X0e(this,r,[n]),s.state={fontSize:"",letterSpacing:""},s}return tbe(r,t),Q0e(r,[{key:"shouldComponentUpdate",value:function(s,a){var i=s.viewBox,o=eC(s,W0e),l=this.props,u=l.viewBox,m=eC(l,H0e);return!Mm(i,u)||!Mm(o,m)||!Mm(a,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var a=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.x,o=a.y,l=a.width,u=a.height,m=a.orientation,f=a.tickSize,p=a.mirror,g=a.tickMargin,b,y,_,w,k,A,P=p?-1:1,O=s.tickSize||f,I=jt(s.tickCoord)?s.tickCoord:s.coordinate;switch(m){case"top":b=y=s.coordinate,w=o+ +!p*u,_=w-P*O,A=_-P*g,k=I;break;case"left":_=w=s.coordinate,y=i+ +!p*l,b=y-P*O,k=b-P*g,A=I;break;case"right":_=w=s.coordinate,y=i+ +p*l,b=y+P*O,k=b+P*g,A=I;break;default:b=y=s.coordinate,w=o+ +p*u,_=w+P*O,A=_+P*g,k=I;break}return{line:{x1:b,y1:_,x2:y,y2:w},tick:{x:k,y:A}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,u=s.orientation,m=s.mirror,f=s.axisLine,p=Ks(Ks(Ks({},Xt(this.props,!1)),Xt(f,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var g=+(u==="top"&&!m||u==="bottom"&&m);p=Ks(Ks({},p),{},{x1:a,y1:i+g*l,x2:a+o,y2:i+g*l})}else{var b=+(u==="left"&&!m||u==="right"&&m);p=Ks(Ks({},p),{},{x1:a+b*o,y1:i,x2:a+b*o,y2:i+l})}return le.createElement("line",km({},p,{className:jr("recharts-cartesian-axis-line",qi(f,"className"))}))}},{key:"renderTicks",value:function(s,a,i){var o=this,l=this.props,u=l.tickLine,m=l.stroke,f=l.tick,p=l.tickFormatter,g=l.unit,b=X4(Ks(Ks({},this.props),{},{ticks:s}),a,i),y=this.getTickTextAnchor(),_=this.getTickVerticalAnchor(),w=Xt(this.props,!1),k=Xt(f,!1),A=Ks(Ks({},w),{},{fill:"none"},Xt(u,!1)),P=b.map(function(O,I){var D=o.getTickLineCoord(O),F=D.line,B=D.tick,H=Ks(Ks(Ks(Ks({textAnchor:y,verticalAnchor:_},w),{},{stroke:"none",fill:m},k),B),{},{index:I,payload:O,visibleTicksCount:b.length,tickFormatter:p});return le.createElement(Kr,km({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},ah(o.props,O,I)),u&&le.createElement("line",km({},A,F,{className:jr("recharts-cartesian-axis-tick-line",qi(u,"className"))})),f&&r.renderTickItem(f,H,"".concat(dr(p)?p(O.value,I):O.value).concat(g||"")))});return le.createElement("g",{className:"recharts-cartesian-axis-ticks"},P)}},{key:"render",value:function(){var s=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,u=a.ticksGenerator,m=a.className,f=a.hide;if(f)return null;var p=this.props,g=p.ticks,b=eC(p,G0e),y=g;return dr(u)&&(y=g&&g.length>0?u(this.props):u(b)),o<=0||l<=0||!y||!y.length?null:le.createElement(Kr,{className:jr("recharts-cartesian-axis",m),ref:function(w){s.layerReference=w}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),aa.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,a,i){var o,l=jr(a.className,"recharts-cartesian-axis-tick-value");return le.isValidElement(s)?o=le.cloneElement(s,Ks(Ks({},a),{},{className:l})):dr(s)?o=s(Ks(Ks({},a),{},{className:l})):o=le.createElement(ih,km({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(j.Component);J4(qf,"displayName","CartesianAxis");J4(qf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var nbe=["x1","y1","x2","y2","key"],sbe=["offset"];function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},dh(t)}function N6(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function ka(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?N6(Object(n),!0).forEach(function(s){abe(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N6(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function abe(t,r,n){return r=ibe(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function ibe(t){var r=obe(t,"string");return dh(r)=="symbol"?r:r+""}function obe(t,r){if(dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(dh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function $u(){return $u=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},$u.apply(this,arguments)}function S6(t,r){if(t==null)return{};var n=lbe(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function lbe(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}var cbe=function(r){var n=r.fill;if(!n||n==="none")return null;var s=r.fillOpacity,a=r.x,i=r.y,o=r.width,l=r.height,u=r.ry;return le.createElement("rect",{x:a,y:i,ry:u,width:o,height:l,stroke:"none",fill:n,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function dV(t,r){var n;if(le.isValidElement(t))n=le.cloneElement(t,r);else if(dr(t))n=t(r);else{var s=r.x1,a=r.y1,i=r.x2,o=r.y2,l=r.key,u=S6(r,nbe),m=Xt(u,!1);m.offset;var f=S6(m,sbe);n=le.createElement("line",$u({},f,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:l}))}return n}function dbe(t){var r=t.x,n=t.width,s=t.horizontal,a=s===void 0?!0:s,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,u){var m=ka(ka({},t),{},{x1:r,y1:l,x2:r+n,y2:l,key:"line-".concat(u),index:u});return dV(a,m)});return le.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function ube(t){var r=t.y,n=t.height,s=t.vertical,a=s===void 0?!0:s,i=t.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,u){var m=ka(ka({},t),{},{x1:l,y1:r,x2:l,y2:r+n,key:"line-".concat(u),index:u});return dV(a,m)});return le.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function hbe(t){var r=t.horizontalFill,n=t.fillOpacity,s=t.x,a=t.y,i=t.width,o=t.height,l=t.horizontalPoints,u=t.horizontal,m=u===void 0?!0:u;if(!m||!r||!r.length)return null;var f=l.map(function(g){return Math.round(g+a-a)}).sort(function(g,b){return g-b});a!==f[0]&&f.unshift(0);var p=f.map(function(g,b){var y=!f[b+1],_=y?a+o-g:f[b+1]-g;if(_<=0)return null;var w=b%r.length;return le.createElement("rect",{key:"react-".concat(b),y:g,x:s,height:_,width:i,stroke:"none",fill:r[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return le.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function mbe(t){var r=t.vertical,n=r===void 0?!0:r,s=t.verticalFill,a=t.fillOpacity,i=t.x,o=t.y,l=t.width,u=t.height,m=t.verticalPoints;if(!n||!s||!s.length)return null;var f=m.map(function(g){return Math.round(g+i-i)}).sort(function(g,b){return g-b});i!==f[0]&&f.unshift(0);var p=f.map(function(g,b){var y=!f[b+1],_=y?i+l-g:f[b+1]-g;if(_<=0)return null;var w=b%s.length;return le.createElement("rect",{key:"react-".concat(b),x:g,y:o,width:_,height:u,stroke:"none",fill:s[w],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return le.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var fbe=function(r,n){var s=r.xAxis,a=r.width,i=r.height,o=r.offset;return uU(X4(ka(ka(ka({},qf.defaultProps),s),{},{ticks:yc(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},pbe=function(r,n){var s=r.yAxis,a=r.width,i=r.height,o=r.offset;return uU(X4(ka(ka(ka({},qf.defaultProps),s),{},{ticks:yc(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},vm={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ps(t){var r,n,s,a,i,o,l=G4(),u=Z4(),m=r0e(),f=ka(ka({},t),{},{stroke:(r=t.stroke)!==null&&r!==void 0?r:vm.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:vm.fill,horizontal:(s=t.horizontal)!==null&&s!==void 0?s:vm.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:vm.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:vm.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:vm.verticalFill,x:jt(t.x)?t.x:m.left,y:jt(t.y)?t.y:m.top,width:jt(t.width)?t.width:m.width,height:jt(t.height)?t.height:m.height}),p=f.x,g=f.y,b=f.width,y=f.height,_=f.syncWithTicks,w=f.horizontalValues,k=f.verticalValues,A=Jye(),P=e0e();if(!jt(b)||b<=0||!jt(y)||y<=0||!jt(p)||p!==+p||!jt(g)||g!==+g)return null;var O=f.verticalCoordinatesGenerator||fbe,I=f.horizontalCoordinatesGenerator||pbe,D=f.horizontalPoints,F=f.verticalPoints;if((!D||!D.length)&&dr(I)){var B=w&&w.length,H=I({yAxis:P?ka(ka({},P),{},{ticks:B?w:P.ticks}):void 0,width:l,height:u,offset:m},B?!0:_);Uo(Array.isArray(H),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(dh(H),"]")),Array.isArray(H)&&(D=H)}if((!F||!F.length)&&dr(O)){var re=k&&k.length,G=O({xAxis:A?ka(ka({},A),{},{ticks:re?k:A.ticks}):void 0,width:l,height:u,offset:m},re?!0:_);Uo(Array.isArray(G),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(dh(G),"]")),Array.isArray(G)&&(F=G)}return le.createElement("g",{className:"recharts-cartesian-grid"},le.createElement(cbe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),le.createElement(dbe,$u({},f,{offset:m,horizontalPoints:D,xAxis:A,yAxis:P})),le.createElement(ube,$u({},f,{offset:m,verticalPoints:F,xAxis:A,yAxis:P})),le.createElement(hbe,$u({},f,{horizontalPoints:D})),le.createElement(mbe,$u({},f,{verticalPoints:F})))}Ps.displayName="CartesianGrid";var xbe=["type","layout","connectNulls","ref"],gbe=["key"];function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ff(t)}function C6(t,r){if(t==null)return{};var n=vbe(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function vbe(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function mx(){return mx=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},mx.apply(this,arguments)}function k6(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Oi(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?k6(Object(n),!0).forEach(function(s){Io(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k6(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function ym(t){return wbe(t)||jbe(t)||bbe(t)||ybe()}function ybe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bbe(t,r){if(t){if(typeof t=="string")return uA(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uA(t,r)}}function jbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wbe(t){if(Array.isArray(t))return uA(t)}function uA(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function _be(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function A6(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,hV(s.key),s)}}function Nbe(t,r,n){return r&&A6(t.prototype,r),n&&A6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sbe(t,r,n){return r=mb(r),Cbe(t,uV()?Reflect.construct(r,n||[],mb(t).constructor):r.apply(t,n))}function Cbe(t,r){if(r&&(ff(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kbe(t)}function kbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uV=function(){return!!t})()}function mb(t){return mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mb(t)}function Abe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&hA(t,r)}function hA(t,r){return hA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},hA(t,r)}function Io(t,r,n){return r=hV(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function hV(t){var r=Pbe(t,"string");return ff(r)=="symbol"?r:r+""}function Pbe(t,r){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(ff(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fo=(function(t){function r(){var n;_be(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=Sbe(this,r,[].concat(a)),Io(n,"state",{isAnimationFinished:!0,totalLength:0}),Io(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Io(n,"getStrokeDasharray",function(o,l,u){var m=u.reduce(function(k,A){return k+A});if(!m)return n.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/m),p=o%m,g=l-o,b=[],y=0,_=0;y<u.length;_+=u[y],++y)if(_+u[y]>p){b=[].concat(ym(u.slice(0,y)),[p-_]);break}var w=b.length%2===0?[0,g]:[g];return[].concat(ym(r.repeat(u,f)),ym(b),w).map(function(k){return"".concat(k,"px")}).join(", ")}),Io(n,"id",wh("recharts-line-")),Io(n,"pathRef",function(o){n.mainCurve=o}),Io(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Io(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Abe(r,t),Nbe(r,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,u=i.yAxis,m=i.layout,f=i.children,p=Ui(f,qg);if(!p)return null;var g=function(_,w){return{x:_.x,y:_.y,value:_.value,errorVal:ks(_.payload,w)}},b={clipPath:s?"url(#clipPath-".concat(a,")"):null};return le.createElement(Kr,b,p.map(function(y){return le.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:u,layout:m,dataPointFormatter:g})}))}},{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.dot,m=l.points,f=l.dataKey,p=Xt(this.props,!1),g=Xt(u,!0),b=m.map(function(_,w){var k=Oi(Oi(Oi({key:"dot-".concat(w),r:3},p),g),{},{index:w,cx:_.x,cy:_.y,value:_.value,dataKey:f,payload:_.payload,points:m});return r.renderDotItem(u,k)}),y={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return le.createElement(Kr,mx({className:"recharts-line-dots",key:"dots"},y),b)}},{key:"renderCurveStatically",value:function(s,a,i,o){var l=this.props,u=l.type,m=l.layout,f=l.connectNulls;l.ref;var p=C6(l,xbe),g=Oi(Oi(Oi({},Xt(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:s},o),{},{type:u,layout:m,connectNulls:f});return le.createElement(Wu,mx({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,u=o.strokeDasharray,m=o.isAnimationActive,f=o.animationBegin,p=o.animationDuration,g=o.animationEasing,b=o.animationId,y=o.animateNewValues,_=o.width,w=o.height,k=this.state,A=k.prevPoints,P=k.totalLength;return le.createElement(Zo,{begin:f,duration:p,isActive:m,easing:g,from:{t:0},to:{t:1},key:"line-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var I=O.t;if(A){var D=A.length/l.length,F=l.map(function(J,Z){var ne=Math.floor(Z*D);if(A[ne]){var K=A[ne],ae=Zs(K.x,J.x),U=Zs(K.y,J.y);return Oi(Oi({},J),{},{x:ae(I),y:U(I)})}if(y){var W=Zs(_*2,J.x),se=Zs(w/2,J.y);return Oi(Oi({},J),{},{x:W(I),y:se(I)})}return Oi(Oi({},J),{},{x:J.x,y:J.y})});return i.renderCurveStatically(F,s,a)}var B=Zs(0,P),H=B(I),re;if(u){var G="".concat(u).split(/[,\s]+/gim).map(function(J){return parseFloat(J)});re=i.getStrokeDasharray(H,P,G)}else re=i.generateSimpleStrokeDasharray(P,H);return i.renderCurveStatically(l,s,a,{strokeDasharray:re})})}},{key:"renderCurve",value:function(s,a){var i=this.props,o=i.points,l=i.isAnimationActive,u=this.state,m=u.prevPoints,f=u.totalLength;return l&&o&&o.length&&(!m&&f>0||!oh(m,o))?this.renderCurveWithAnimation(s,a):this.renderCurveStatically(o,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,u=a.className,m=a.xAxis,f=a.yAxis,p=a.top,g=a.left,b=a.width,y=a.height,_=a.isAnimationActive,w=a.id;if(i||!l||!l.length)return null;var k=this.state.isAnimationFinished,A=l.length===1,P=jr("recharts-line",u),O=m&&m.allowDataOverflow,I=f&&f.allowDataOverflow,D=O||I,F=br(w)?this.id:w,B=(s=Xt(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},H=B.r,re=H===void 0?3:H,G=B.strokeWidth,J=G===void 0?2:G,Z=mq(o)?o:{},ne=Z.clipDot,K=ne===void 0?!0:ne,ae=re*2+J;return le.createElement(Kr,{className:P},O||I?le.createElement("defs",null,le.createElement("clipPath",{id:"clipPath-".concat(F)},le.createElement("rect",{x:O?g:g-b/2,y:I?p:p-y/2,width:O?b:b*2,height:I?y:y*2})),!K&&le.createElement("clipPath",{id:"clipPath-dots-".concat(F)},le.createElement("rect",{x:g-ae/2,y:p-ae/2,width:b+ae,height:y+ae}))):null,!A&&this.renderCurve(D,F),this.renderErrorBar(D,F),(A||o)&&this.renderDots(D,K,F),(!_||k)&&wl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:a.curPoints}:s.points!==a.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,a){for(var i=s.length%2!==0?[].concat(ym(s),[0]):s,o=[],l=0;l<a;++l)o=[].concat(ym(o),ym(i));return o}},{key:"renderDotItem",value:function(s,a){var i;if(le.isValidElement(s))i=le.cloneElement(s,a);else if(dr(s))i=s(a);else{var o=a.key,l=C6(a,gbe),u=jr("recharts-line-dot",typeof s!="boolean"?s.className:"");i=le.createElement(Ug,mx({key:o},l,{className:u}))}return i}}])})(j.PureComponent);Io(fo,"displayName","Line");Io(fo,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Zd.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Io(fo,"getComposedData",function(t){var r=t.props,n=t.xAxis,s=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,o=t.dataKey,l=t.bandSize,u=t.displayedData,m=t.offset,f=r.layout,p=u.map(function(g,b){var y=ks(g,o);return f==="horizontal"?{x:V0({axis:n,ticks:a,bandSize:l,entry:g,index:b}),y:br(y)?null:s.scale(y),value:y,payload:g}:{x:br(y)?null:n.scale(y),y:V0({axis:s,ticks:i,bandSize:l,entry:g,index:b}),value:y,payload:g}});return Oi({points:p,layout:f},m)});var Tbe=["layout","type","stroke","connectNulls","isRange","ref"],Ebe=["key"],mV;function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},pf(t)}function fV(t,r){if(t==null)return{};var n=Obe(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Obe(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},zu.apply(this,arguments)}function P6(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Sd(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?P6(Object(n),!0).forEach(function(s){xl(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P6(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Ibe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function T6(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,xV(s.key),s)}}function Mbe(t,r,n){return r&&T6(t.prototype,r),n&&T6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dbe(t,r,n){return r=fb(r),Rbe(t,pV()?Reflect.construct(r,n||[],fb(t).constructor):r.apply(t,n))}function Rbe(t,r){if(r&&(pf(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lbe(t)}function Lbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pV=function(){return!!t})()}function fb(t){return fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fb(t)}function Fbe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&mA(t,r)}function mA(t,r){return mA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},mA(t,r)}function xl(t,r,n){return r=xV(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function xV(t){var r=$be(t,"string");return pf(r)=="symbol"?r:r+""}function $be(t,r){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(pf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xa=(function(t){function r(){var n;Ibe(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=Dbe(this,r,[].concat(a)),xl(n,"state",{isAnimationFinished:!0}),xl(n,"id",wh("recharts-area-")),xl(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),dr(o)&&o()}),xl(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),dr(o)&&o()}),n}return Fbe(r,t),Mbe(r,[{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var u=this.props,m=u.dot,f=u.points,p=u.dataKey,g=Xt(this.props,!1),b=Xt(m,!0),y=f.map(function(w,k){var A=Sd(Sd(Sd({key:"dot-".concat(k),r:3},g),b),{},{index:k,cx:w.x,cy:w.y,dataKey:p,value:w.value,payload:w.payload,points:f});return r.renderDotItem(m,A)}),_={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return le.createElement(Kr,zu({className:"recharts-area-dots"},_),y)}},{key:"renderHorizontalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,u=o[0].x,m=o[o.length-1].x,f=s*Math.abs(u-m),p=Ad(o.map(function(g){return g.y||0}));return jt(i)&&typeof i=="number"?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(Ad(i.map(function(g){return g.y||0})),p)),jt(p)?le.createElement("rect",{x:u<m?u:u-f,y:0,width:f,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,u=o[0].y,m=o[o.length-1].y,f=s*Math.abs(u-m),p=Ad(o.map(function(g){return g.x||0}));return jt(i)&&typeof i=="number"?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(Ad(i.map(function(g){return g.x||0})),p)),jt(p)?le.createElement("rect",{x:0,y:u<m?u:u-f,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(s){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,a,i,o){var l=this.props,u=l.layout,m=l.type,f=l.stroke,p=l.connectNulls,g=l.isRange;l.ref;var b=fV(l,Tbe);return le.createElement(Kr,{clipPath:i?"url(#clipPath-".concat(o,")"):null},le.createElement(Wu,zu({},Xt(b,!0),{points:s,connectNulls:p,type:m,baseLine:a,layout:u,stroke:"none",className:"recharts-area-area"})),f!=="none"&&le.createElement(Wu,zu({},Xt(this.props,!1),{className:"recharts-area-curve",layout:u,type:m,connectNulls:p,fill:"none",points:s})),f!=="none"&&g&&le.createElement(Wu,zu({},Xt(this.props,!1),{className:"recharts-area-curve",layout:u,type:m,connectNulls:p,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,u=o.baseLine,m=o.isAnimationActive,f=o.animationBegin,p=o.animationDuration,g=o.animationEasing,b=o.animationId,y=this.state,_=y.prevPoints,w=y.prevBaseLine;return le.createElement(Zo,{begin:f,duration:p,isActive:m,easing:g,from:{t:0},to:{t:1},key:"area-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var A=k.t;if(_){var P=_.length/l.length,O=l.map(function(B,H){var re=Math.floor(H*P);if(_[re]){var G=_[re],J=Zs(G.x,B.x),Z=Zs(G.y,B.y);return Sd(Sd({},B),{},{x:J(A),y:Z(A)})}return B}),I;if(jt(u)&&typeof u=="number"){var D=Zs(w,u);I=D(A)}else if(br(u)||Lf(u)){var F=Zs(w,0);I=F(A)}else I=u.map(function(B,H){var re=Math.floor(H*P);if(w[re]){var G=w[re],J=Zs(G.x,B.x),Z=Zs(G.y,B.y);return Sd(Sd({},B),{},{x:J(A),y:Z(A)})}return B});return i.renderAreaStatically(O,I,s,a)}return le.createElement(Kr,null,le.createElement("defs",null,le.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(A))),le.createElement(Kr,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,u,s,a)))})}},{key:"renderArea",value:function(s,a){var i=this.props,o=i.points,l=i.baseLine,u=i.isAnimationActive,m=this.state,f=m.prevPoints,p=m.prevBaseLine,g=m.totalLength;return u&&o&&o.length&&(!f&&g>0||!oh(f,o)||!oh(p,l))?this.renderAreaWithAnimation(s,a):this.renderAreaStatically(o,l,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,u=a.className,m=a.top,f=a.left,p=a.xAxis,g=a.yAxis,b=a.width,y=a.height,_=a.isAnimationActive,w=a.id;if(i||!l||!l.length)return null;var k=this.state.isAnimationFinished,A=l.length===1,P=jr("recharts-area",u),O=p&&p.allowDataOverflow,I=g&&g.allowDataOverflow,D=O||I,F=br(w)?this.id:w,B=(s=Xt(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},H=B.r,re=H===void 0?3:H,G=B.strokeWidth,J=G===void 0?2:G,Z=mq(o)?o:{},ne=Z.clipDot,K=ne===void 0?!0:ne,ae=re*2+J;return le.createElement(Kr,{className:P},O||I?le.createElement("defs",null,le.createElement("clipPath",{id:"clipPath-".concat(F)},le.createElement("rect",{x:O?f:f-b/2,y:I?m:m-y/2,width:O?b:b*2,height:I?y:y*2})),!K&&le.createElement("clipPath",{id:"clipPath-dots-".concat(F)},le.createElement("rect",{x:f-ae/2,y:m-ae/2,width:b+ae,height:y+ae}))):null,A?null:this.renderArea(D,F),(o||A)&&this.renderDots(D,K,F),(!_||k)&&wl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:s.points!==a.curPoints||s.baseLine!==a.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])})(j.PureComponent);mV=Xa;xl(Xa,"displayName","Area");xl(Xa,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Zd.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});xl(Xa,"getBaseValue",function(t,r,n,s){var a=t.layout,i=t.baseValue,o=r.props.baseValue,l=o??i;if(jt(l)&&typeof l=="number")return l;var u=a==="horizontal"?s:n,m=u.scale.domain();if(u.type==="number"){var f=Math.max(m[0],m[1]),p=Math.min(m[0],m[1]);return l==="dataMin"?p:l==="dataMax"||f<0?f:Math.max(Math.min(m[0],m[1]),0)}return l==="dataMin"?m[0]:l==="dataMax"?m[1]:m[0]});xl(Xa,"getComposedData",function(t){var r=t.props,n=t.item,s=t.xAxis,a=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,u=t.dataKey,m=t.stackedData,f=t.dataStartIndex,p=t.displayedData,g=t.offset,b=r.layout,y=m&&m.length,_=mV.getBaseValue(r,n,s,a),w=b==="horizontal",k=!1,A=p.map(function(O,I){var D;y?D=m[f+I]:(D=ks(O,u),Array.isArray(D)?k=!0:D=[_,D]);var F=D[1]==null||y&&ks(O,u)==null;return w?{x:V0({axis:s,ticks:i,bandSize:l,entry:O,index:I}),y:F?null:a.scale(D[1]),value:D,payload:O}:{x:F?null:s.scale(D[1]),y:V0({axis:a,ticks:o,bandSize:l,entry:O,index:I}),value:D,payload:O}}),P;return y||k?P=A.map(function(O){var I=Array.isArray(O.value)?O.value[0]:null;return w?{x:O.x,y:I!=null&&O.y!=null?a.scale(I):null}:{x:I!=null?s.scale(I):null,y:O.y}}):P=w?a.scale(_):s.scale(_),Sd({points:A,baseLine:P,layout:b,isRange:k},g)});xl(Xa,"renderDotItem",function(t,r){var n;if(le.isValidElement(t))n=le.cloneElement(t,r);else if(dr(t))n=t(r);else{var s=jr("recharts-area-dot",typeof t!="boolean"?t.className:""),a=r.key,i=fV(r,Ebe);n=le.createElement(Ug,zu({},i,{key:a,className:s}))}return n});function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xf(t)}function zbe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Bbe(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,yV(s.key),s)}}function qbe(t,r,n){return r&&Bbe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ube(t,r,n){return r=pb(r),Vbe(t,gV()?Reflect.construct(r,n||[],pb(t).constructor):r.apply(t,n))}function Vbe(t,r){if(r&&(xf(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kbe(t)}function Kbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gV=function(){return!!t})()}function pb(t){return pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pb(t)}function Wbe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&fA(t,r)}function fA(t,r){return fA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},fA(t,r)}function vV(t,r,n){return r=yV(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function yV(t){var r=Hbe(t,"string");return xf(r)=="symbol"?r:r+""}function Hbe(t,r){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(xf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pA(){return pA=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},pA.apply(this,arguments)}function Gbe(t){var r=t.xAxisId,n=G4(),s=Z4(),a=JU(r);return a==null?null:j.createElement(qf,pA({},a,{className:jr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(o){return yc(o,!0)}}))}var Yn=(function(t){function r(){return zbe(this,r),Ube(this,r,arguments)}return Wbe(r,t),qbe(r,[{key:"render",value:function(){return j.createElement(Gbe,this.props)}}])})(j.Component);vV(Yn,"displayName","XAxis");vV(Yn,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gf(t)}function Zbe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Ybe(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,wV(s.key),s)}}function Qbe(t,r,n){return r&&Ybe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xbe(t,r,n){return r=xb(r),Jbe(t,bV()?Reflect.construct(r,n||[],xb(t).constructor):r.apply(t,n))}function Jbe(t,r){if(r&&(gf(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eje(t)}function eje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bV=function(){return!!t})()}function xb(t){return xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xb(t)}function tje(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&xA(t,r)}function xA(t,r){return xA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},xA(t,r)}function jV(t,r,n){return r=wV(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function wV(t){var r=rje(t,"string");return gf(r)=="symbol"?r:r+""}function rje(t,r){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(gf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gA(){return gA=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},gA.apply(this,arguments)}var nje=function(r){var n=r.yAxisId,s=G4(),a=Z4(),i=eV(n);return i==null?null:j.createElement(qf,gA({},i,{className:jr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(l){return yc(l,!0)}}))},Qn=(function(t){function r(){return Zbe(this,r),Xbe(this,r,arguments)}return tje(r,t),Qbe(r,[{key:"render",value:function(){return j.createElement(nje,this.props)}}])})(j.Component);jV(Qn,"displayName","YAxis");jV(Qn,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function E6(t){return oje(t)||ije(t)||aje(t)||sje()}function sje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aje(t,r){if(t){if(typeof t=="string")return vA(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vA(t,r)}}function ije(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oje(t){if(Array.isArray(t))return vA(t)}function vA(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}var yA=function(r,n,s,a,i){var o=Ui(r,Q4),l=Ui(r,Uj),u=[].concat(E6(o),E6(l)),m=Ui(r,Kj),f="".concat(a,"Id"),p=a[0],g=n;if(u.length&&(g=u.reduce(function(_,w){if(w.props[f]===s&&_l(w.props,"extendDomain")&&jt(w.props[p])){var k=w.props[p];return[Math.min(_[0],k),Math.max(_[1],k)]}return _},g)),m.length){var b="".concat(p,"1"),y="".concat(p,"2");g=m.reduce(function(_,w){if(w.props[f]===s&&_l(w.props,"extendDomain")&&jt(w.props[b])&&jt(w.props[y])){var k=w.props[b],A=w.props[y];return[Math.min(_[0],k,A),Math.max(_[1],k,A)]}return _},g)}return i&&i.length&&(g=i.reduce(function(_,w){return jt(w)?[Math.min(_[0],w),Math.max(_[1],w)]:_},g)),g},tC={exports:{}},O6;function lje(){return O6||(O6=1,(function(t){var r=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function a(u,m,f){this.fn=u,this.context=m,this.once=f||!1}function i(u,m,f,p,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var b=new a(f,p||u,g),y=n?n+m:m;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],b]:u._events[y].push(b):(u._events[y]=b,u._eventsCount++),u}function o(u,m){--u._eventsCount===0?u._events=new s:delete u._events[m]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var m=[],f,p;if(this._eventsCount===0)return m;for(p in f=this._events)r.call(f,p)&&m.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(f)):m},l.prototype.listeners=function(m){var f=n?n+m:m,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,b=p.length,y=new Array(b);g<b;g++)y[g]=p[g].fn;return y},l.prototype.listenerCount=function(m){var f=n?n+m:m,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(m,f,p,g,b,y){var _=n?n+m:m;if(!this._events[_])return!1;var w=this._events[_],k=arguments.length,A,P;if(w.fn){switch(w.once&&this.removeListener(m,w.fn,void 0,!0),k){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,f),!0;case 3:return w.fn.call(w.context,f,p),!0;case 4:return w.fn.call(w.context,f,p,g),!0;case 5:return w.fn.call(w.context,f,p,g,b),!0;case 6:return w.fn.call(w.context,f,p,g,b,y),!0}for(P=1,A=new Array(k-1);P<k;P++)A[P-1]=arguments[P];w.fn.apply(w.context,A)}else{var O=w.length,I;for(P=0;P<O;P++)switch(w[P].once&&this.removeListener(m,w[P].fn,void 0,!0),k){case 1:w[P].fn.call(w[P].context);break;case 2:w[P].fn.call(w[P].context,f);break;case 3:w[P].fn.call(w[P].context,f,p);break;case 4:w[P].fn.call(w[P].context,f,p,g);break;default:if(!A)for(I=1,A=new Array(k-1);I<k;I++)A[I-1]=arguments[I];w[P].fn.apply(w[P].context,A)}}return!0},l.prototype.on=function(m,f,p){return i(this,m,f,p,!1)},l.prototype.once=function(m,f,p){return i(this,m,f,p,!0)},l.prototype.removeListener=function(m,f,p,g){var b=n?n+m:m;if(!this._events[b])return this;if(!f)return o(this,b),this;var y=this._events[b];if(y.fn)y.fn===f&&(!g||y.once)&&(!p||y.context===p)&&o(this,b);else{for(var _=0,w=[],k=y.length;_<k;_++)(y[_].fn!==f||g&&!y[_].once||p&&y[_].context!==p)&&w.push(y[_]);w.length?this._events[b]=w.length===1?w[0]:w:o(this,b)}return this},l.prototype.removeAllListeners=function(m){var f;return m?(f=n?n+m:m,this._events[f]&&o(this,f)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(tC)),tC.exports}var cje=lje();const dje=mn(cje);var rC=new dje,nC="recharts.syncMouseEvents";function ig(t){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ig(t)}function uje(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function hje(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,_V(s.key),s)}}function mje(t,r,n){return r&&hje(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sC(t,r,n){return r=_V(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function _V(t){var r=fje(t,"string");return ig(r)=="symbol"?r:r+""}function fje(t,r){if(ig(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(ig(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pje=(function(){function t(){uje(this,t),sC(this,"activeIndex",0),sC(this,"coordinateList",[]),sC(this,"layout","horizontal")}return mje(t,[{key:"setDetails",value:function(n){var s,a=n.coordinateList,i=a===void 0?null:a,o=n.container,l=o===void 0?null:o,u=n.layout,m=u===void 0?null:u,f=n.offset,p=f===void 0?null:f,g=n.mouseHandlerCallback,b=g===void 0?null:g;this.coordinateList=(s=i??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=m??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,u=this.coordinateList[this.activeIndex].coordinate,m=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((s=window)===null||s===void 0?void 0:s.scrollY)||0,p=i+u+m,g=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:p,pageY:g})}}}])})();function xje(t,r,n){if(n==="number"&&r===!0&&Array.isArray(t)){var s=t?.[0],a=t?.[1];if(s&&a&&jt(s)&&jt(a))return!0}return!1}function gje(t,r,n,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?r.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:r.y-a,width:t==="horizontal"?s:n.width-1,height:t==="horizontal"?n.height-1:s}}function NV(t){var r=t.cx,n=t.cy,s=t.radius,a=t.startAngle,i=t.endAngle,o=Vn(r,n,s,a),l=Vn(r,n,s,i);return{points:[o,l],cx:r,cy:n,radius:s,startAngle:a,endAngle:i}}function vje(t,r,n){var s,a,i,o;if(t==="horizontal")s=r.x,i=s,a=n.top,o=n.top+n.height;else if(t==="vertical")a=r.y,o=a,s=n.left,i=n.left+n.width;else if(r.cx!=null&&r.cy!=null)if(t==="centric"){var l=r.cx,u=r.cy,m=r.innerRadius,f=r.outerRadius,p=r.angle,g=Vn(l,u,m,p),b=Vn(l,u,f,p);s=g.x,a=g.y,i=b.x,o=b.y}else return NV(r);return[{x:s,y:a},{x:i,y:o}]}function og(t){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},og(t)}function I6(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function By(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?I6(Object(n),!0).forEach(function(s){yje(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I6(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function yje(t,r,n){return r=bje(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function bje(t){var r=jje(t,"string");return og(r)=="symbol"?r:r+""}function jje(t,r){if(og(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(og(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function wje(t){var r,n,s=t.element,a=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,u=t.offset,m=t.activeTooltipIndex,f=t.tooltipAxisBandSize,p=t.layout,g=t.chartName,b=(r=s.props.cursor)!==null&&r!==void 0?r:(n=s.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!s||!b||!i||!o||g!=="ScatterChart"&&a!=="axis")return null;var y,_=Wu;if(g==="ScatterChart")y=o,_=Mge;else if(g==="BarChart")y=gje(p,o,u,f),_=U4;else if(p==="radial"){var w=NV(o),k=w.cx,A=w.cy,P=w.radius,O=w.startAngle,I=w.endAngle;y={cx:k,cy:A,startAngle:O,endAngle:I,innerRadius:P,outerRadius:P},_=wU}else y={points:vje(p,o,u)},_=Wu;var D=By(By(By(By({stroke:"#ccc",pointerEvents:"none"},u),y),Xt(b,!1)),{},{payload:l,payloadIndex:m,className:jr("recharts-tooltip-cursor",b.className)});return j.isValidElement(b)?j.cloneElement(b,D):j.createElement(_,D)}var _je=["item"],Nje=["children","className","width","height","style","compact","title","desc"];function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},vf(t)}function Am(){return Am=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Am.apply(this,arguments)}function M6(t,r){return kje(t)||Cje(t,r)||CV(t,r)||Sje()}function Sje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cje(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],u=!0,m=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(u=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);u=!0);}catch(f){m=!0,a=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(m)throw a}}return l}}function kje(t){if(Array.isArray(t))return t}function D6(t,r){if(t==null)return{};var n=Aje(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Aje(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Pje(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Tje(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,kV(s.key),s)}}function Eje(t,r,n){return r&&Tje(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oje(t,r,n){return r=gb(r),Ije(t,SV()?Reflect.construct(r,n||[],gb(t).constructor):r.apply(t,n))}function Ije(t,r){if(r&&(vf(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mje(t)}function Mje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SV=function(){return!!t})()}function gb(t){return gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gb(t)}function Dje(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&bA(t,r)}function bA(t,r){return bA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},bA(t,r)}function yf(t){return Fje(t)||Lje(t)||CV(t)||Rje()}function Rje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CV(t,r){if(t){if(typeof t=="string")return jA(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jA(t,r)}}function Lje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fje(t){if(Array.isArray(t))return jA(t)}function jA(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function R6(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Ge(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?R6(Object(n),!0).forEach(function(s){cr(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R6(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function cr(t,r,n){return r=kV(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function kV(t){var r=$je(t,"string");return vf(r)=="symbol"?r:r+""}function $je(t,r){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(vf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var zje={xAxis:["bottom","top"],yAxis:["left","right"]},Bje={width:"100%",height:"100%"},AV={x:0,y:0};function qy(t){return t}var qje=function(r,n){return n==="horizontal"?r.x:n==="vertical"?r.y:n==="centric"?r.angle:r.radius},Uje=function(r,n,s,a){var i=n.find(function(f){return f&&f.index===s});if(i){if(r==="horizontal")return{x:i.coordinate,y:a.y};if(r==="vertical")return{x:a.x,y:i.coordinate};if(r==="centric"){var o=i.coordinate,l=a.radius;return Ge(Ge(Ge({},a),Vn(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var u=i.coordinate,m=a.angle;return Ge(Ge(Ge({},a),Vn(a.cx,a.cy,u,m)),{},{angle:m,radius:u})}return AV},Wj=function(r,n){var s=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(s??[]).reduce(function(l,u){var m=u.props.data;return m&&m.length?[].concat(yf(l),yf(m)):l},[]);return o.length>0?o:r&&r.length&&jt(a)&&jt(i)?r.slice(a,i+1):[]};function PV(t){return t==="number"?[0,"auto"]:void 0}var wA=function(r,n,s,a){var i=r.graphicalItems,o=r.tooltipAxis,l=Wj(n,r);return s<0||!i||!i.length||s>=l.length?null:i.reduce(function(u,m){var f,p=(f=m.props.data)!==null&&f!==void 0?f:n;p&&r.dataStartIndex+r.dataEndIndex!==0&&r.dataEndIndex-r.dataStartIndex>=s&&(p=p.slice(r.dataStartIndex,r.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var b=p===void 0?l:p;g=y0(b,o.dataKey,a)}else g=p&&p[s]||l[s];return g?[].concat(yf(u),[xU(m,g)]):u},[])},L6=function(r,n,s,a){var i=a||{x:r.chartX,y:r.chartY},o=qje(i,s),l=r.orderedTooltipTicks,u=r.tooltipAxis,m=r.tooltipTicks,f=afe(o,l,m,u);if(f>=0&&m){var p=m[f]&&m[f].value,g=wA(r,n,f,p),b=Uje(s,l,f,i);return{activeTooltipIndex:f,activeLabel:p,activePayload:g,activeCoordinate:b}}return null},Vje=function(r,n){var s=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,u=n.dataStartIndex,m=n.dataEndIndex,f=r.layout,p=r.children,g=r.stackOffset,b=dU(f,i);return s.reduce(function(y,_){var w,k=_.type.defaultProps!==void 0?Ge(Ge({},_.type.defaultProps),_.props):_.props,A=k.type,P=k.dataKey,O=k.allowDataOverflow,I=k.allowDuplicatedCategory,D=k.scale,F=k.ticks,B=k.includeHidden,H=k[o];if(y[H])return y;var re=Wj(r.data,{graphicalItems:a.filter(function(oe){var Ce,ke=o in oe.props?oe.props[o]:(Ce=oe.type.defaultProps)===null||Ce===void 0?void 0:Ce[o];return ke===H}),dataStartIndex:u,dataEndIndex:m}),G=re.length,J,Z,ne;xje(k.domain,O,A)&&(J=Dk(k.domain,null,O),b&&(A==="number"||D!=="auto")&&(ne=cx(re,P,"category")));var K=PV(A);if(!J||J.length===0){var ae,U=(ae=k.domain)!==null&&ae!==void 0?ae:K;if(P){if(J=cx(re,P,A),A==="category"&&b){var W=Jae(J);I&&W?(Z=J,J=nb(0,G)):I||(J=MR(U,J,_).reduce(function(oe,Ce){return oe.indexOf(Ce)>=0?oe:[].concat(yf(oe),[Ce])},[]))}else if(A==="category")I?J=J.filter(function(oe){return oe!==""&&!br(oe)}):J=MR(U,J,_).reduce(function(oe,Ce){return oe.indexOf(Ce)>=0||Ce===""||br(Ce)?oe:[].concat(yf(oe),[Ce])},[]);else if(A==="number"){var se=dfe(re,a.filter(function(oe){var Ce,ke,_e=o in oe.props?oe.props[o]:(Ce=oe.type.defaultProps)===null||Ce===void 0?void 0:Ce[o],Le="hide"in oe.props?oe.props.hide:(ke=oe.type.defaultProps)===null||ke===void 0?void 0:ke.hide;return _e===H&&(B||!Le)}),P,i,f);se&&(J=se)}b&&(A==="number"||D!=="auto")&&(ne=cx(re,P,"category"))}else b?J=nb(0,G):l&&l[H]&&l[H].hasStack&&A==="number"?J=g==="expand"?[0,1]:pU(l[H].stackGroups,u,m):J=cU(re,a.filter(function(oe){var Ce=o in oe.props?oe.props[o]:oe.type.defaultProps[o],ke="hide"in oe.props?oe.props.hide:oe.type.defaultProps.hide;return Ce===H&&(B||!ke)}),A,f,!0);if(A==="number")J=yA(p,J,H,i,F),U&&(J=Dk(U,J,O));else if(A==="category"&&U){var de=U,z=J.every(function(oe){return de.indexOf(oe)>=0});z&&(J=de)}}return Ge(Ge({},y),{},cr({},H,Ge(Ge({},k),{},{axisType:i,domain:J,categoricalDomain:ne,duplicateDomain:Z,originalDomain:(w=k.domain)!==null&&w!==void 0?w:K,isCategorical:b,layout:f})))},{})},Kje=function(r,n){var s=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,u=n.dataStartIndex,m=n.dataEndIndex,f=r.layout,p=r.children,g=Wj(r.data,{graphicalItems:s,dataStartIndex:u,dataEndIndex:m}),b=g.length,y=dU(f,i),_=-1;return s.reduce(function(w,k){var A=k.type.defaultProps!==void 0?Ge(Ge({},k.type.defaultProps),k.props):k.props,P=A[o],O=PV("number");if(!w[P]){_++;var I;return y?I=nb(0,b):l&&l[P]&&l[P].hasStack?(I=pU(l[P].stackGroups,u,m),I=yA(p,I,P,i)):(I=Dk(O,cU(g,s.filter(function(D){var F,B,H=o in D.props?D.props[o]:(F=D.type.defaultProps)===null||F===void 0?void 0:F[o],re="hide"in D.props?D.props.hide:(B=D.type.defaultProps)===null||B===void 0?void 0:B.hide;return H===P&&!re}),"number",f),a.defaultProps.allowDataOverflow),I=yA(p,I,P,i)),Ge(Ge({},w),{},cr({},P,Ge(Ge({axisType:i},a.defaultProps),{},{hide:!0,orientation:qi(zje,"".concat(i,".").concat(_%2),null),domain:I,originalDomain:O,isCategorical:y,layout:f})))}return w},{})},Wje=function(r,n){var s=n.axisType,a=s===void 0?"xAxis":s,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,u=n.dataStartIndex,m=n.dataEndIndex,f=r.children,p="".concat(a,"Id"),g=Ui(f,i),b={};return g&&g.length?b=Vje(r,{axes:g,graphicalItems:o,axisType:a,axisIdKey:p,stackGroups:l,dataStartIndex:u,dataEndIndex:m}):o&&o.length&&(b=Kje(r,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:p,stackGroups:l,dataStartIndex:u,dataEndIndex:m})),b},Hje=function(r){var n=kd(r),s=yc(n,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:x4(s,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:K0(n,s)}},F6=function(r){var n=r.children,s=r.defaultShowTooltip,a=Mi(n,lf),i=0,o=0;return r.data&&r.data.length!==0&&(o=r.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},Gje=function(r){return!r||!r.length?!1:r.some(function(n){var s=bc(n&&n.type);return s&&s.indexOf("Bar")>=0})},$6=function(r){return r==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:r==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:r==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Zje=function(r,n){var s=r.props,a=r.graphicalItems,i=r.xAxisMap,o=i===void 0?{}:i,l=r.yAxisMap,u=l===void 0?{}:l,m=s.width,f=s.height,p=s.children,g=s.margin||{},b=Mi(p,lf),y=Mi(p,Uu),_=Object.keys(u).reduce(function(I,D){var F=u[D],B=F.orientation;return!F.mirror&&!F.hide?Ge(Ge({},I),{},cr({},B,I[B]+F.width)):I},{left:g.left||0,right:g.right||0}),w=Object.keys(o).reduce(function(I,D){var F=o[D],B=F.orientation;return!F.mirror&&!F.hide?Ge(Ge({},I),{},cr({},B,qi(I,"".concat(B))+F.height)):I},{top:g.top||0,bottom:g.bottom||0}),k=Ge(Ge({},w),_),A=k.bottom;b&&(k.bottom+=b.props.height||lf.defaultProps.height),y&&n&&(k=lfe(k,a,s,n));var P=m-k.left-k.right,O=f-k.top-k.bottom;return Ge(Ge({brushBottom:A},k),{},{width:Math.max(P,0),height:Math.max(O,0)})},Yje=function(r,n){if(n==="xAxis")return r[n].width;if(n==="yAxis")return r[n].height},Hj=function(r){var n=r.chartName,s=r.GraphicalChild,a=r.defaultTooltipEventType,i=a===void 0?"axis":a,o=r.validateTooltipEventTypes,l=o===void 0?["axis"]:o,u=r.axisComponents,m=r.legendContent,f=r.formatAxisMap,p=r.defaultProps,g=function(k,A){var P=A.graphicalItems,O=A.stackGroups,I=A.offset,D=A.updateId,F=A.dataStartIndex,B=A.dataEndIndex,H=k.barSize,re=k.layout,G=k.barGap,J=k.barCategoryGap,Z=k.maxBarSize,ne=$6(re),K=ne.numericAxisName,ae=ne.cateAxisName,U=Gje(P),W=[];return P.forEach(function(se,de){var z=Wj(k.data,{graphicalItems:[se],dataStartIndex:F,dataEndIndex:B}),oe=se.type.defaultProps!==void 0?Ge(Ge({},se.type.defaultProps),se.props):se.props,Ce=oe.dataKey,ke=oe.maxBarSize,_e=oe["".concat(K,"Id")],Le=oe["".concat(ae,"Id")],je={},Xe=u.reduce(function(Ne,Ie){var ht=A["".concat(Ie.axisType,"Map")],dt=oe["".concat(Ie.axisType,"Id")];ht&&ht[dt]||Ie.axisType==="zAxis"||ch();var Je=ht[dt];return Ge(Ge({},Ne),{},cr(cr({},Ie.axisType,Je),"".concat(Ie.axisType,"Ticks"),yc(Je)))},je),qe=Xe[ae],tt=Xe["".concat(ae,"Ticks")],St=O&&O[_e]&&O[_e].hasStack&&yfe(se,O[_e].stackGroups),Oe=bc(se.type).indexOf("Bar")>=0,qt=K0(qe,tt),Et=[],sr=U&&ife({barSize:H,stackGroups:O,totalSize:Yje(Xe,ae)});if(Oe){var Jt,gr,Hr=br(ke)?Z:ke,Jr=(Jt=(gr=K0(qe,tt,!0))!==null&&gr!==void 0?gr:Hr)!==null&&Jt!==void 0?Jt:0;Et=ofe({barGap:G,barCategoryGap:J,bandSize:Jr!==qt?Jr:qt,sizeList:sr[Le],maxBarSize:Hr}),Jr!==qt&&(Et=Et.map(function(Ne){return Ge(Ge({},Ne),{},{position:Ge(Ge({},Ne.position),{},{offset:Ne.position.offset-Jr/2})})}))}var me=se&&se.type&&se.type.getComposedData;me&&W.push({props:Ge(Ge({},me(Ge(Ge({},Xe),{},{displayedData:z,props:k,dataKey:Ce,item:se,bandSize:qt,barPosition:Et,offset:I,stackedData:St,layout:re,dataStartIndex:F,dataEndIndex:B}))),{},cr(cr(cr({key:se.key||"item-".concat(de)},K,Xe[K]),ae,Xe[ae]),"animationId",D)),childIndex:uie(se,k.children),item:se})}),W},b=function(k,A){var P=k.props,O=k.dataStartIndex,I=k.dataEndIndex,D=k.updateId;if(!ZM({props:P}))return null;var F=P.children,B=P.layout,H=P.stackOffset,re=P.data,G=P.reverseStackOrder,J=$6(B),Z=J.numericAxisName,ne=J.cateAxisName,K=Ui(F,s),ae=gfe(re,K,"".concat(Z,"Id"),"".concat(ne,"Id"),H,G),U=u.reduce(function(oe,Ce){var ke="".concat(Ce.axisType,"Map");return Ge(Ge({},oe),{},cr({},ke,Wje(P,Ge(Ge({},Ce),{},{graphicalItems:K,stackGroups:Ce.axisType===Z&&ae,dataStartIndex:O,dataEndIndex:I}))))},{}),W=Zje(Ge(Ge({},U),{},{props:P,graphicalItems:K}),A?.legendBBox);Object.keys(U).forEach(function(oe){U[oe]=f(P,U[oe],W,oe.replace("Map",""),n)});var se=U["".concat(ne,"Map")],de=Hje(se),z=g(P,Ge(Ge({},U),{},{dataStartIndex:O,dataEndIndex:I,updateId:D,graphicalItems:K,stackGroups:ae,offset:W}));return Ge(Ge({formattedGraphicalItems:z,graphicalItems:K,offset:W,stackGroups:ae},de),U)},y=(function(w){function k(A){var P,O,I;return Pje(this,k),I=Oje(this,k,[A]),cr(I,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),cr(I,"accessibilityManager",new pje),cr(I,"handleLegendBBoxUpdate",function(D){if(D){var F=I.state,B=F.dataStartIndex,H=F.dataEndIndex,re=F.updateId;I.setState(Ge({legendBBox:D},b({props:I.props,dataStartIndex:B,dataEndIndex:H,updateId:re},Ge(Ge({},I.state),{},{legendBBox:D}))))}}),cr(I,"handleReceiveSyncEvent",function(D,F,B){if(I.props.syncId===D){if(B===I.eventEmitterSymbol&&typeof I.props.syncMethod!="function")return;I.applySyncEvent(F)}}),cr(I,"handleBrushChange",function(D){var F=D.startIndex,B=D.endIndex;if(F!==I.state.dataStartIndex||B!==I.state.dataEndIndex){var H=I.state.updateId;I.setState(function(){return Ge({dataStartIndex:F,dataEndIndex:B},b({props:I.props,dataStartIndex:F,dataEndIndex:B,updateId:H},I.state))}),I.triggerSyncEvent({dataStartIndex:F,dataEndIndex:B})}}),cr(I,"handleMouseEnter",function(D){var F=I.getMouseInfo(D);if(F){var B=Ge(Ge({},F),{},{isTooltipActive:!0});I.setState(B),I.triggerSyncEvent(B);var H=I.props.onMouseEnter;dr(H)&&H(B,D)}}),cr(I,"triggeredAfterMouseMove",function(D){var F=I.getMouseInfo(D),B=F?Ge(Ge({},F),{},{isTooltipActive:!0}):{isTooltipActive:!1};I.setState(B),I.triggerSyncEvent(B);var H=I.props.onMouseMove;dr(H)&&H(B,D)}),cr(I,"handleItemMouseEnter",function(D){I.setState(function(){return{isTooltipActive:!0,activeItem:D,activePayload:D.tooltipPayload,activeCoordinate:D.tooltipPosition||{x:D.cx,y:D.cy}}})}),cr(I,"handleItemMouseLeave",function(){I.setState(function(){return{isTooltipActive:!1}})}),cr(I,"handleMouseMove",function(D){D.persist(),I.throttleTriggeredAfterMouseMove(D)}),cr(I,"handleMouseLeave",function(D){I.throttleTriggeredAfterMouseMove.cancel();var F={isTooltipActive:!1};I.setState(F),I.triggerSyncEvent(F);var B=I.props.onMouseLeave;dr(B)&&B(F,D)}),cr(I,"handleOuterEvent",function(D){var F=die(D),B=qi(I.props,"".concat(F));if(F&&dr(B)){var H,re;/.*touch.*/i.test(F)?re=I.getMouseInfo(D.changedTouches[0]):re=I.getMouseInfo(D),B((H=re)!==null&&H!==void 0?H:{},D)}}),cr(I,"handleClick",function(D){var F=I.getMouseInfo(D);if(F){var B=Ge(Ge({},F),{},{isTooltipActive:!0});I.setState(B),I.triggerSyncEvent(B);var H=I.props.onClick;dr(H)&&H(B,D)}}),cr(I,"handleMouseDown",function(D){var F=I.props.onMouseDown;if(dr(F)){var B=I.getMouseInfo(D);F(B,D)}}),cr(I,"handleMouseUp",function(D){var F=I.props.onMouseUp;if(dr(F)){var B=I.getMouseInfo(D);F(B,D)}}),cr(I,"handleTouchMove",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&I.throttleTriggeredAfterMouseMove(D.changedTouches[0])}),cr(I,"handleTouchStart",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&I.handleMouseDown(D.changedTouches[0])}),cr(I,"handleTouchEnd",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&I.handleMouseUp(D.changedTouches[0])}),cr(I,"handleDoubleClick",function(D){var F=I.props.onDoubleClick;if(dr(F)){var B=I.getMouseInfo(D);F(B,D)}}),cr(I,"handleContextMenu",function(D){var F=I.props.onContextMenu;if(dr(F)){var B=I.getMouseInfo(D);F(B,D)}}),cr(I,"triggerSyncEvent",function(D){I.props.syncId!==void 0&&rC.emit(nC,I.props.syncId,D,I.eventEmitterSymbol)}),cr(I,"applySyncEvent",function(D){var F=I.props,B=F.layout,H=F.syncMethod,re=I.state.updateId,G=D.dataStartIndex,J=D.dataEndIndex;if(D.dataStartIndex!==void 0||D.dataEndIndex!==void 0)I.setState(Ge({dataStartIndex:G,dataEndIndex:J},b({props:I.props,dataStartIndex:G,dataEndIndex:J,updateId:re},I.state)));else if(D.activeTooltipIndex!==void 0){var Z=D.chartX,ne=D.chartY,K=D.activeTooltipIndex,ae=I.state,U=ae.offset,W=ae.tooltipTicks;if(!U)return;if(typeof H=="function")K=H(W,D);else if(H==="value"){K=-1;for(var se=0;se<W.length;se++)if(W[se].value===D.activeLabel){K=se;break}}var de=Ge(Ge({},U),{},{x:U.left,y:U.top}),z=Math.min(Z,de.x+de.width),oe=Math.min(ne,de.y+de.height),Ce=W[K]&&W[K].value,ke=wA(I.state,I.props.data,K),_e=W[K]?{x:B==="horizontal"?W[K].coordinate:z,y:B==="horizontal"?oe:W[K].coordinate}:AV;I.setState(Ge(Ge({},D),{},{activeLabel:Ce,activeCoordinate:_e,activePayload:ke,activeTooltipIndex:K}))}else I.setState(D)}),cr(I,"renderCursor",function(D){var F,B=I.state,H=B.isTooltipActive,re=B.activeCoordinate,G=B.activePayload,J=B.offset,Z=B.activeTooltipIndex,ne=B.tooltipAxisBandSize,K=I.getTooltipEventType(),ae=(F=D.props.active)!==null&&F!==void 0?F:H,U=I.props.layout,W=D.key||"_recharts-cursor";return le.createElement(wje,{key:W,activeCoordinate:re,activePayload:G,activeTooltipIndex:Z,chartName:n,element:D,isActive:ae,layout:U,offset:J,tooltipAxisBandSize:ne,tooltipEventType:K})}),cr(I,"renderPolarAxis",function(D,F,B){var H=qi(D,"type.axisType"),re=qi(I.state,"".concat(H,"Map")),G=D.type.defaultProps,J=G!==void 0?Ge(Ge({},G),D.props):D.props,Z=re&&re[J["".concat(H,"Id")]];return j.cloneElement(D,Ge(Ge({},Z),{},{className:jr(H,Z.className),key:D.key||"".concat(F,"-").concat(B),ticks:yc(Z,!0)}))}),cr(I,"renderPolarGrid",function(D){var F=D.props,B=F.radialLines,H=F.polarAngles,re=F.polarRadius,G=I.state,J=G.radiusAxisMap,Z=G.angleAxisMap,ne=kd(J),K=kd(Z),ae=K.cx,U=K.cy,W=K.innerRadius,se=K.outerRadius;return j.cloneElement(D,{polarAngles:Array.isArray(H)?H:yc(K,!0).map(function(de){return de.coordinate}),polarRadius:Array.isArray(re)?re:yc(ne,!0).map(function(de){return de.coordinate}),cx:ae,cy:U,innerRadius:W,outerRadius:se,key:D.key||"polar-grid",radialLines:B})}),cr(I,"renderLegend",function(){var D=I.state.formattedGraphicalItems,F=I.props,B=F.children,H=F.width,re=F.height,G=I.props.margin||{},J=H-(G.left||0)-(G.right||0),Z=oU({children:B,formattedGraphicalItems:D,legendWidth:J,legendContent:m});if(!Z)return null;var ne=Z.item,K=D6(Z,_je);return j.cloneElement(ne,Ge(Ge({},K),{},{chartWidth:H,chartHeight:re,margin:G,onBBoxUpdate:I.handleLegendBBoxUpdate}))}),cr(I,"renderTooltip",function(){var D,F=I.props,B=F.children,H=F.accessibilityLayer,re=Mi(B,Br);if(!re)return null;var G=I.state,J=G.isTooltipActive,Z=G.activeCoordinate,ne=G.activePayload,K=G.activeLabel,ae=G.offset,U=(D=re.props.active)!==null&&D!==void 0?D:J;return j.cloneElement(re,{viewBox:Ge(Ge({},ae),{},{x:ae.left,y:ae.top}),active:U,label:K,payload:U?ne:[],coordinate:Z,accessibilityLayer:H})}),cr(I,"renderBrush",function(D){var F=I.props,B=F.margin,H=F.data,re=I.state,G=re.offset,J=re.dataStartIndex,Z=re.dataEndIndex,ne=re.updateId;return j.cloneElement(D,{key:D.key||"_recharts-brush",onChange:Ly(I.handleBrushChange,D.props.onChange),data:H,x:jt(D.props.x)?D.props.x:G.left,y:jt(D.props.y)?D.props.y:G.top+G.height+G.brushBottom-(B.bottom||0),width:jt(D.props.width)?D.props.width:G.width,startIndex:J,endIndex:Z,updateId:"brush-".concat(ne)})}),cr(I,"renderReferenceElement",function(D,F,B){if(!D)return null;var H=I,re=H.clipPathId,G=I.state,J=G.xAxisMap,Z=G.yAxisMap,ne=G.offset,K=D.type.defaultProps||{},ae=D.props,U=ae.xAxisId,W=U===void 0?K.xAxisId:U,se=ae.yAxisId,de=se===void 0?K.yAxisId:se;return j.cloneElement(D,{key:D.key||"".concat(F,"-").concat(B),xAxis:J[W],yAxis:Z[de],viewBox:{x:ne.left,y:ne.top,width:ne.width,height:ne.height},clipPathId:re})}),cr(I,"renderActivePoints",function(D){var F=D.item,B=D.activePoint,H=D.basePoint,re=D.childIndex,G=D.isRange,J=[],Z=F.props.key,ne=F.item.type.defaultProps!==void 0?Ge(Ge({},F.item.type.defaultProps),F.item.props):F.item.props,K=ne.activeDot,ae=ne.dataKey,U=Ge(Ge({index:re,dataKey:ae,cx:B.x,cy:B.y,r:4,fill:q4(F.item),strokeWidth:2,stroke:"#fff",payload:B.payload,value:B.value},Xt(K,!1)),b0(K));return J.push(k.renderActiveDot(K,U,"".concat(Z,"-activePoint-").concat(re))),H?J.push(k.renderActiveDot(K,Ge(Ge({},U),{},{cx:H.x,cy:H.y}),"".concat(Z,"-basePoint-").concat(re))):G&&J.push(null),J}),cr(I,"renderGraphicChild",function(D,F,B){var H=I.filterFormatItem(D,F,B);if(!H)return null;var re=I.getTooltipEventType(),G=I.state,J=G.isTooltipActive,Z=G.tooltipAxis,ne=G.activeTooltipIndex,K=G.activeLabel,ae=I.props.children,U=Mi(ae,Br),W=H.props,se=W.points,de=W.isRange,z=W.baseLine,oe=H.item.type.defaultProps!==void 0?Ge(Ge({},H.item.type.defaultProps),H.item.props):H.item.props,Ce=oe.activeDot,ke=oe.hide,_e=oe.activeBar,Le=oe.activeShape,je=!!(!ke&&J&&U&&(Ce||_e||Le)),Xe={};re!=="axis"&&U&&U.props.trigger==="click"?Xe={onClick:Ly(I.handleItemMouseEnter,D.props.onClick)}:re!=="axis"&&(Xe={onMouseLeave:Ly(I.handleItemMouseLeave,D.props.onMouseLeave),onMouseEnter:Ly(I.handleItemMouseEnter,D.props.onMouseEnter)});var qe=j.cloneElement(D,Ge(Ge({},H.props),Xe));function tt(Ie){return typeof Z.dataKey=="function"?Z.dataKey(Ie.payload):null}if(je)if(ne>=0){var St,Oe;if(Z.dataKey&&!Z.allowDuplicatedCategory){var qt=typeof Z.dataKey=="function"?tt:"payload.".concat(Z.dataKey.toString());St=y0(se,qt,K),Oe=de&&z&&y0(z,qt,K)}else St=se?.[ne],Oe=de&&z&&z[ne];if(Le||_e){var Et=D.props.activeIndex!==void 0?D.props.activeIndex:ne;return[j.cloneElement(D,Ge(Ge(Ge({},H.props),Xe),{},{activeIndex:Et})),null,null]}if(!br(St))return[qe].concat(yf(I.renderActivePoints({item:H,activePoint:St,basePoint:Oe,childIndex:ne,isRange:de})))}else{var sr,Jt=(sr=I.getItemByXY(I.state.activeCoordinate))!==null&&sr!==void 0?sr:{graphicalItem:qe},gr=Jt.graphicalItem,Hr=gr.item,Jr=Hr===void 0?D:Hr,me=gr.childIndex,Ne=Ge(Ge(Ge({},H.props),Xe),{},{activeIndex:me});return[j.cloneElement(Jr,Ne),null,null]}return de?[qe,null,null]:[qe,null]}),cr(I,"renderCustomized",function(D,F,B){return j.cloneElement(D,Ge(Ge({key:"recharts-customized-".concat(B)},I.props),I.state))}),cr(I,"renderMap",{CartesianGrid:{handler:qy,once:!0},ReferenceArea:{handler:I.renderReferenceElement},ReferenceLine:{handler:qy},ReferenceDot:{handler:I.renderReferenceElement},XAxis:{handler:qy},YAxis:{handler:qy},Brush:{handler:I.renderBrush,once:!0},Bar:{handler:I.renderGraphicChild},Line:{handler:I.renderGraphicChild},Area:{handler:I.renderGraphicChild},Radar:{handler:I.renderGraphicChild},RadialBar:{handler:I.renderGraphicChild},Scatter:{handler:I.renderGraphicChild},Pie:{handler:I.renderGraphicChild},Funnel:{handler:I.renderGraphicChild},Tooltip:{handler:I.renderCursor,once:!0},PolarGrid:{handler:I.renderPolarGrid,once:!0},PolarAngleAxis:{handler:I.renderPolarAxis},PolarRadiusAxis:{handler:I.renderPolarAxis},Customized:{handler:I.renderCustomized}}),I.clipPathId="".concat((P=A.id)!==null&&P!==void 0?P:wh("recharts"),"-clip"),I.throttleTriggeredAfterMouseMove=i7(I.triggeredAfterMouseMove,(O=A.throttleDelay)!==null&&O!==void 0?O:1e3/60),I.state={},I}return Dje(k,w),Eje(k,[{key:"componentDidMount",value:function(){var P,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var P=this.props,O=P.children,I=P.data,D=P.height,F=P.layout,B=Mi(O,Br);if(B){var H=B.props.defaultIndex;if(!(typeof H!="number"||H<0||H>this.state.tooltipTicks.length-1)){var re=this.state.tooltipTicks[H]&&this.state.tooltipTicks[H].value,G=wA(this.state,I,H,re),J=this.state.tooltipTicks[H].coordinate,Z=(this.state.offset.top+D)/2,ne=F==="horizontal",K=ne?{x:J,y:Z}:{y:J,x:Z},ae=this.state.formattedGraphicalItems.find(function(W){var se=W.item;return se.type.name==="Scatter"});ae&&(K=Ge(Ge({},K),ae.props.points[H].tooltipPosition),G=ae.props.points[H].tooltipPayload);var U={activeTooltipIndex:H,isTooltipActive:!0,activeLabel:re,activePayload:G,activeCoordinate:K};this.setState(U),this.renderCursor(B),this.accessibilityManager.setIndex(H)}}}},{key:"getSnapshotBeforeUpdate",value:function(P,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==P.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==P.margin){var I,D;this.accessibilityManager.setDetails({offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0}})}return null}},{key:"componentDidUpdate",value:function(P){nk([Mi(P.children,Br)],[Mi(this.props.children,Br)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var P=Mi(this.props.children,Br);if(P&&typeof P.props.shared=="boolean"){var O=P.props.shared?"axis":"item";return l.indexOf(O)>=0?O:i}return i}},{key:"getMouseInfo",value:function(P){if(!this.container)return null;var O=this.container,I=O.getBoundingClientRect(),D=Qce(I),F={chartX:Math.round(P.pageX-D.left),chartY:Math.round(P.pageY-D.top)},B=I.width/O.offsetWidth||1,H=this.inRange(F.chartX,F.chartY,B);if(!H)return null;var re=this.state,G=re.xAxisMap,J=re.yAxisMap,Z=this.getTooltipEventType(),ne=L6(this.state,this.props.data,this.props.layout,H);if(Z!=="axis"&&G&&J){var K=kd(G).scale,ae=kd(J).scale,U=K&&K.invert?K.invert(F.chartX):null,W=ae&&ae.invert?ae.invert(F.chartY):null;return Ge(Ge({},F),{},{xValue:U,yValue:W},ne)}return ne?Ge(Ge({},F),ne):null}},{key:"inRange",value:function(P,O){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,D=this.props.layout,F=P/I,B=O/I;if(D==="horizontal"||D==="vertical"){var H=this.state.offset,re=F>=H.left&&F<=H.left+H.width&&B>=H.top&&B<=H.top+H.height;return re?{x:F,y:B}:null}var G=this.state,J=G.angleAxisMap,Z=G.radiusAxisMap;if(J&&Z){var ne=kd(J);return LR({x:F,y:B},ne)}return null}},{key:"parseEventsOfWrapper",value:function(){var P=this.props.children,O=this.getTooltipEventType(),I=Mi(P,Br),D={};I&&O==="axis"&&(I.props.trigger==="click"?D={onClick:this.handleClick}:D={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var F=b0(this.props,this.handleOuterEvent);return Ge(Ge({},F),D)}},{key:"addListener",value:function(){rC.on(nC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){rC.removeListener(nC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(P,O,I){for(var D=this.state.formattedGraphicalItems,F=0,B=D.length;F<B;F++){var H=D[F];if(H.item===P||H.props.key===P.key||O===bc(H.item.type)&&I===H.childIndex)return H}return null}},{key:"renderClipPath",value:function(){var P=this.clipPathId,O=this.state.offset,I=O.left,D=O.top,F=O.height,B=O.width;return le.createElement("defs",null,le.createElement("clipPath",{id:P},le.createElement("rect",{x:I,y:D,height:F,width:B})))}},{key:"getXScales",value:function(){var P=this.state.xAxisMap;return P?Object.entries(P).reduce(function(O,I){var D=M6(I,2),F=D[0],B=D[1];return Ge(Ge({},O),{},cr({},F,B.scale))},{}):null}},{key:"getYScales",value:function(){var P=this.state.yAxisMap;return P?Object.entries(P).reduce(function(O,I){var D=M6(I,2),F=D[0],B=D[1];return Ge(Ge({},O),{},cr({},F,B.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(P){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[P])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(P){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[P])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(P){var O=this.state,I=O.formattedGraphicalItems,D=O.activeItem;if(I&&I.length)for(var F=0,B=I.length;F<B;F++){var H=I[F],re=H.props,G=H.item,J=G.type.defaultProps!==void 0?Ge(Ge({},G.type.defaultProps),G.props):G.props,Z=bc(G.type);if(Z==="Bar"){var ne=(re.data||[]).find(function(W){return fge(P,W)});if(ne)return{graphicalItem:H,payload:ne}}else if(Z==="RadialBar"){var K=(re.data||[]).find(function(W){return LR(P,W)});if(K)return{graphicalItem:H,payload:K}}else if($j(H,D)||zj(H,D)||tg(H,D)){var ae=Lve({graphicalItem:H,activeTooltipItem:D,itemData:J.data}),U=J.activeIndex===void 0?ae:J.activeIndex;return{graphicalItem:Ge(Ge({},H),{},{childIndex:U}),payload:tg(H,D)?J.data[ae]:H.props.data[ae]}}}return null}},{key:"render",value:function(){var P=this;if(!ZM(this))return null;var O=this.props,I=O.children,D=O.className,F=O.width,B=O.height,H=O.style,re=O.compact,G=O.title,J=O.desc,Z=D6(O,Nje),ne=Xt(Z,!1);if(re)return le.createElement(m6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},le.createElement(ak,Am({},ne,{width:F,height:B,title:G,desc:J}),this.renderClipPath(),QM(I,this.renderMap)));if(this.props.accessibilityLayer){var K,ae;ne.tabIndex=(K=this.props.tabIndex)!==null&&K!==void 0?K:0,ne.role=(ae=this.props.role)!==null&&ae!==void 0?ae:"application",ne.onKeyDown=function(W){P.accessibilityManager.keyboardEvent(W)},ne.onFocus=function(){P.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return le.createElement(m6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},le.createElement("div",Am({className:jr("recharts-wrapper",D),style:Ge({position:"relative",cursor:"default",width:F,height:B},H)},U,{ref:function(se){P.container=se}}),le.createElement(ak,Am({},ne,{width:F,height:B,title:G,desc:J,style:Bje}),this.renderClipPath(),QM(I,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(j.Component);cr(y,"displayName",n),cr(y,"defaultProps",Ge({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),cr(y,"getDerivedStateFromProps",function(w,k){var A=w.dataKey,P=w.data,O=w.children,I=w.width,D=w.height,F=w.layout,B=w.stackOffset,H=w.margin,re=k.dataStartIndex,G=k.dataEndIndex;if(k.updateId===void 0){var J=F6(w);return Ge(Ge(Ge({},J),{},{updateId:0},b(Ge(Ge({props:w},J),{},{updateId:0}),k)),{},{prevDataKey:A,prevData:P,prevWidth:I,prevHeight:D,prevLayout:F,prevStackOffset:B,prevMargin:H,prevChildren:O})}if(A!==k.prevDataKey||P!==k.prevData||I!==k.prevWidth||D!==k.prevHeight||F!==k.prevLayout||B!==k.prevStackOffset||!Mm(H,k.prevMargin)){var Z=F6(w),ne={chartX:k.chartX,chartY:k.chartY,isTooltipActive:k.isTooltipActive},K=Ge(Ge({},L6(k,P,F)),{},{updateId:k.updateId+1}),ae=Ge(Ge(Ge({},Z),ne),K);return Ge(Ge(Ge({},ae),b(Ge({props:w},ae),k)),{},{prevDataKey:A,prevData:P,prevWidth:I,prevHeight:D,prevLayout:F,prevStackOffset:B,prevMargin:H,prevChildren:O})}if(!nk(O,k.prevChildren)){var U,W,se,de,z=Mi(O,lf),oe=z&&(U=(W=z.props)===null||W===void 0?void 0:W.startIndex)!==null&&U!==void 0?U:re,Ce=z&&(se=(de=z.props)===null||de===void 0?void 0:de.endIndex)!==null&&se!==void 0?se:G,ke=oe!==re||Ce!==G,_e=!br(P),Le=_e&&!ke?k.updateId:k.updateId+1;return Ge(Ge({updateId:Le},b(Ge(Ge({props:w},k),{},{updateId:Le,dataStartIndex:oe,dataEndIndex:Ce}),k)),{},{prevChildren:O,dataStartIndex:oe,dataEndIndex:Ce})}return null}),cr(y,"renderActiveDot",function(w,k,A){var P;return j.isValidElement(w)?P=j.cloneElement(w,k):dr(w)?P=w(k):P=le.createElement(Ug,k),le.createElement(Kr,{className:"recharts-active-dot",key:A},P)});var _=j.forwardRef(function(k,A){return le.createElement(y,Am({},k,{ref:A}))});return _.displayName=y.displayName,_},Vg=Hj({chartName:"LineChart",GraphicalChild:fo,axisComponents:[{axisType:"xAxis",AxisComp:Yn},{axisType:"yAxis",AxisComp:Qn}],formatAxisMap:V4}),Tc=Hj({chartName:"BarChart",GraphicalChild:Ia,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Yn},{axisType:"yAxis",AxisComp:Qn}],formatAxisMap:V4}),wc=Hj({chartName:"PieChart",GraphicalChild:xa,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Fj},{axisType:"radiusAxis",AxisComp:Rj}],formatAxisMap:Pfe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),bf=Hj({chartName:"AreaChart",GraphicalChild:Xa,axisComponents:[{axisType:"xAxis",AxisComp:Yn},{axisType:"yAxis",AxisComp:Qn}],formatAxisMap:V4});function Qje(){const{user:t}=kr(),[r,n]=j.useState(new Date);j.useEffect(()=>{const P=setInterval(()=>{n(new Date)},3e4);return()=>clearInterval(P)},[]);const{data:s,isLoading:a}=Ve({queryKey:["/api/admin/dashboard/overview",r],refetchInterval:3e4}),{data:i,isLoading:o}=Ve({queryKey:["/api/admin/dashboard/stats",r],refetchInterval:3e4}),{data:l,isLoading:u}=Ve({queryKey:["/api/admin/dashboard/system-health",r],refetchInterval:15e3}),m={totalUsers:15742,totalRevenue:285630.5,totalContent:8945,totalTransactions:12867,monthlyGrowth:{users:12.5,revenue:24.8,content:8.9,transactions:18.4}},f={recentActivity:[{id:1,type:"user_registration",user:"Sarah Johnson",time:"2 minutes ago",status:"completed"},{id:2,type:"content_upload",user:"Mike Chen",time:"5 minutes ago",status:"processing"},{id:3,type:"payout_request",user:"Emma Davis",time:"8 minutes ago",status:"pending"},{id:4,type:"verification_submitted",user:"Alex Rodriguez",time:"12 minutes ago",status:"review"},{id:5,type:"complaint_filed",user:"Jamie Wilson",time:"15 minutes ago",status:"assigned"}],alerts:[{id:1,type:"warning",message:"High server load detected on CDN-02",time:"3 minutes ago"},{id:2,type:"info",message:"24 new verification requests pending review",time:"10 minutes ago"},{id:3,type:"error",message:"Payment processor experiencing delays",time:"25 minutes ago"}],revenueChart:[{name:"Jan",revenue:45e3,users:1200},{name:"Feb",revenue:52e3,users:1580},{name:"Mar",revenue:48e3,users:1745},{name:"Apr",revenue:61e3,users:1923},{name:"May",revenue:68e3,users:2156},{name:"Jun",revenue:72e3,users:2398}],contentStats:[{name:"Photos",value:4520,color:"#8884d8"},{name:"Videos",value:2890,color:"#82ca9d"},{name:"Audio",value:1245,color:"#ffc658"},{name:"Other",value:290,color:"#ff7300"}]},p={overall:"healthy",metrics:{cpu:{usage:45,status:"normal"},memory:{usage:67,status:"normal"},disk:{usage:34,status:"normal"},network:{latency:12,status:"normal"}},services:[{name:"API Gateway",status:"healthy",uptime:"99.9%"},{name:"Database",status:"healthy",uptime:"99.8%"},{name:"CDN",status:"warning",uptime:"98.2%"},{name:"Payment Service",status:"healthy",uptime:"99.5%"},{name:"Media Processing",status:"healthy",uptime:"99.7%"},{name:"Notifications",status:"healthy",uptime:"99.9%"}]},g=s||m,b=i||f,y=l||p,_=P=>{switch(P){case"healthy":return"text-green-500";case"warning":return"text-yellow-500";case"error":case"unhealthy":return"text-red-500";default:return"text-gray-500"}},w=P=>{switch(P){case"error":return"border-red-500 bg-red-50 text-red-700";case"warning":return"border-yellow-500 bg-yellow-50 text-yellow-700";case"info":return"border-blue-500 bg-blue-50 text-blue-700";default:return"border-gray-500 bg-gray-50 text-gray-700"}},k=P=>{switch(P){case"user_registration":return e.jsx(zF,{className:"h-4 w-4"});case"content_upload":return e.jsx(zi,{className:"h-4 w-4"});case"payout_request":return e.jsx(vs,{className:"h-4 w-4"});case"verification_submitted":return e.jsx(Mr,{className:"h-4 w-4"});case"complaint_filed":return e.jsx(Qr,{className:"h-4 w-4"});default:return e.jsx($o,{className:"h-4 w-4"})}},A=P=>{switch(P){case"completed":return e.jsx(ce,{className:"bg-green-100 text-green-700","data-testid":`status-${P}`,children:"Completed"});case"processing":return e.jsx(ce,{className:"bg-blue-100 text-blue-700","data-testid":`status-${P}`,children:"Processing"});case"pending":return e.jsx(ce,{className:"bg-yellow-100 text-yellow-700","data-testid":`status-${P}`,children:"Pending"});case"review":return e.jsx(ce,{className:"bg-purple-100 text-purple-700","data-testid":`status-${P}`,children:"Review"});case"assigned":return e.jsx(ce,{className:"bg-orange-100 text-orange-700","data-testid":`status-${P}`,children:"Assigned"});default:return e.jsx(ce,{className:"bg-gray-100 text-gray-700","data-testid":`status-${P}`,children:P})}};return a||o?e.jsxs("div",{className:"space-y-6","data-testid":"dashboard-loading",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wn,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading..."})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((P,O)=>e.jsx(Y,{className:"animate-pulse",children:e.jsxs(ue,{className:"space-y-0 pb-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mt-2"})]})},O))})]}):e.jsxs("div",{className:"space-y-6","data-testid":"admin-dashboard",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold","data-testid":"dashboard-title",children:"Admin Dashboard"}),e.jsxs("p",{className:"text-muted-foreground","data-testid":"dashboard-subtitle",children:["Welcome back, ",t?.firstName,". Here's what's happening on your platform."]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>n(new Date),"data-testid":"button-refresh",children:[e.jsx(wn,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs("span",{className:"text-sm text-muted-foreground","data-testid":"text-last-updated",children:["Last updated: ",r.toLocaleTimeString()]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(Y,{"data-testid":"card-total-users",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Total Users"}),e.jsx(lr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"metric-total-users",children:g.totalUsers?.toLocaleString()||"0"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx(yn,{className:"h-3 w-3 inline mr-1"}),"+",g.monthlyGrowth?.users||0,"% from last month"]})]})]}),e.jsxs(Y,{"data-testid":"card-total-revenue",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Total Revenue"}),e.jsx(qr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsxs("div",{className:"text-2xl font-bold","data-testid":"metric-total-revenue",children:["$",g.totalRevenue?.toLocaleString()||"0"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx(yn,{className:"h-3 w-3 inline mr-1"}),"+",g.monthlyGrowth?.revenue||0,"% from last month"]})]})]}),e.jsxs(Y,{"data-testid":"card-total-content",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Total Content"}),e.jsx(Cn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"metric-total-content",children:g.totalContent?.toLocaleString()||"0"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx(yn,{className:"h-3 w-3 inline mr-1"}),"+",g.monthlyGrowth?.content||0,"% from last month"]})]})]}),e.jsxs(Y,{"data-testid":"card-total-transactions",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Transactions"}),e.jsx(vs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"metric-total-transactions",children:g.totalTransactions?.toLocaleString()||"0"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx(yn,{className:"h-3 w-3 inline mr-1"}),"+",g.monthlyGrowth?.transactions||0,"% from last month"]})]})]})]}),e.jsxs(Xs,{defaultValue:"overview",className:"space-y-6","data-testid":"dashboard-tabs",children:[e.jsxs(zs,{children:[e.jsx(Kt,{value:"overview","data-testid":"tab-overview",children:"Overview"}),e.jsx(Kt,{value:"analytics","data-testid":"tab-analytics",children:"Analytics"}),e.jsx(Kt,{value:"system","data-testid":"tab-system",children:"System Health"})]}),e.jsxs(Qt,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(Y,{"data-testid":"card-recent-activity",children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx($o,{className:"h-5 w-5"}),"Recent Activity"]}),e.jsx(lt,{children:"Latest platform activities and events"})]}),e.jsx(ee,{className:"space-y-4",children:b.recentActivity?.map(P=>e.jsxs("div",{className:"flex items-center justify-between","data-testid":`activity-item-${P.id}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[k(P.type),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium","data-testid":`activity-user-${P.id}`,children:P.user}),e.jsx("p",{className:"text-xs text-muted-foreground","data-testid":`activity-time-${P.id}`,children:P.time})]})]}),A(P.status)]},P.id))})]}),e.jsxs(Y,{"data-testid":"card-system-alerts",children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(Qr,{className:"h-5 w-5"}),"System Alerts"]}),e.jsx(lt,{children:"Important notifications and warnings"})]}),e.jsx(ee,{className:"space-y-4",children:b.alerts?.map(P=>e.jsx(bn,{className:w(P.type),"data-testid":`alert-item-${P.id}`,children:e.jsx(jn,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{"data-testid":`alert-message-${P.id}`,children:P.message}),e.jsx("span",{className:"text-xs opacity-70","data-testid":`alert-time-${P.id}`,children:P.time})]})})},P.id))})]})]}),e.jsxs(Y,{"data-testid":"card-quick-actions",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Quick Actions"}),e.jsx(lt,{children:"Common administrative tasks"})]}),e.jsx(ee,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(V,{variant:"outline",className:"h-20 flex-col gap-2","data-testid":"button-user-management",children:[e.jsx(lr,{className:"h-6 w-6"}),"User Management"]}),e.jsxs(V,{variant:"outline",className:"h-20 flex-col gap-2","data-testid":"button-complaints",children:[e.jsx(fi,{className:"h-6 w-6"}),"Complaints"]}),e.jsxs(V,{variant:"outline",className:"h-20 flex-col gap-2","data-testid":"button-withdrawals",children:[e.jsx(vs,{className:"h-6 w-6"}),"Withdrawals"]}),e.jsxs(V,{variant:"outline",className:"h-20 flex-col gap-2","data-testid":"button-verification",children:[e.jsx(Mr,{className:"h-6 w-6"}),"Verification"]})]})})]})]}),e.jsx(Qt,{value:"analytics",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(Y,{"data-testid":"card-revenue-chart",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Revenue & User Growth"}),e.jsx(lt,{children:"Monthly revenue and user acquisition trends"})]}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(bf,{data:b.revenueChart||[],children:[e.jsx(Ps,{strokeDasharray:"3 3"}),e.jsx(Yn,{dataKey:"name"}),e.jsx(Qn,{}),e.jsx(Br,{}),e.jsx(Xa,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]})})})]}),e.jsxs(Y,{"data-testid":"card-content-distribution",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Content Distribution"}),e.jsx(lt,{children:"Breakdown of content types on the platform"})]}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(wc,{children:[e.jsx(xa,{data:b.contentStats,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:!0,children:b.contentStats?.map((P,O)=>e.jsx(ho,{fill:P.color},`cell-${O}`))}),e.jsx(Br,{})]})})})]})]})}),e.jsxs(Qt,{value:"system",className:"space-y-6",children:[e.jsxs(Y,{"data-testid":"card-system-health",children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(EY,{className:"h-5 w-5"}),"System Health Overview",e.jsx(ce,{className:`ml-auto ${y.overall==="healthy"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,"data-testid":"badge-system-overall",children:y.overall})]}),e.jsx(lt,{children:"Real-time system performance metrics"})]}),e.jsx(ee,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"space-y-2","data-testid":"metric-cpu",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(tY,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"CPU Usage"})]}),e.jsx(bs,{value:y.metrics?.cpu?.usage||0,className:"h-2"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.metrics?.cpu?.usage||0,"% - ",y.metrics?.cpu?.status||"unknown"]})]}),e.jsxs("div",{className:"space-y-2","data-testid":"metric-memory",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rY,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Memory"})]}),e.jsx(bs,{value:y.metrics?.memory?.usage||0,className:"h-2"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.metrics?.memory?.usage||0,"% - ",y.metrics?.memory?.status||"unknown"]})]}),e.jsxs("div",{className:"space-y-2","data-testid":"metric-disk",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(cY,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Disk Usage"})]}),e.jsx(bs,{value:y.metrics?.disk?.usage||0,className:"h-2"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.metrics?.disk?.usage||0,"% - ",y.metrics?.disk?.status||"unknown"]})]}),e.jsxs("div",{className:"space-y-2","data-testid":"metric-network",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(VF,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Network"})]}),e.jsxs("p",{className:"text-sm font-medium",children:[y.metrics?.network?.latency||0,"ms"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:y.metrics?.network?.status||"unknown"})]})]})})]}),e.jsxs(Y,{"data-testid":"card-service-status",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Service Status"}),e.jsx(lt,{children:"Status and uptime of critical platform services"})]}),e.jsx(ee,{children:e.jsx("div",{className:"space-y-4",children:y.services?.map((P,O)=>e.jsxs("div",{className:"flex items-center justify-between","data-testid":`service-${O}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${P.status==="healthy"?"bg-green-500":P.status==="warning"?"bg-yellow-500":"bg-red-500"}`}),e.jsx("span",{className:"font-medium","data-testid":`service-name-${O}`,children:P.name})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-sm text-muted-foreground","data-testid":`service-uptime-${O}`,children:[P.uptime," uptime"]}),e.jsx(ce,{className:_(P.status),"data-testid":`service-status-${O}`,children:P.status})]})]},O))})})]})]})]})]})}function Xje(){const{user:t}=kr(),{toast:r}=or(),[n,s]=j.useState(""),[a,i]=j.useState("all"),[o,l]=j.useState("all"),[u,m]=j.useState("all"),[f,p]=j.useState(null),[g,b]=j.useState(!1),[y,_]=j.useState(!1),[w,k]=j.useState(""),[A,P]=j.useState("createdAt"),[O,I]=j.useState("desc"),[D,F]=j.useState(0),[B]=j.useState(50),{data:H,isLoading:re,refetch:G}=Ve({queryKey:["/api/admin/complaints",{status:a!=="all"?a:void 0,category:o!=="all"?o:void 0,priority:u!=="all"?u:void 0,sortBy:A,sortOrder:O,limit:B,offset:D*B}],enabled:t?.role==="admin"}),{data:J}=Ve({queryKey:["/api/admin/complaints/stats"],enabled:t?.role==="admin"}),{data:Z}=Ve({queryKey:["/api/admin/complaints",f?.id,"comments"],enabled:!!f&&t?.role==="admin"});ot({mutationFn:z=>Ze("POST",`/api/admin/complaints/${z.complaintId}/assign`,{assignedToId:z.assignedToId}),onSuccess:()=>{Rt.invalidateQueries({queryKey:["/api/admin/complaints"]}),r({title:"Complaint assigned successfully"})}});const ne=ot({mutationFn:z=>Ze("POST",`/api/admin/complaints/${z.complaintId}/escalate`,{reason:z.reason}),onSuccess:()=>{Rt.invalidateQueries({queryKey:["/api/admin/complaints"]}),r({title:"Complaint escalated successfully"})}}),K=ot({mutationFn:z=>Ze("POST",`/api/admin/complaints/${z.complaintId}/resolve`,{resolution:z.resolution}),onSuccess:()=>{Rt.invalidateQueries({queryKey:["/api/admin/complaints"]}),r({title:"Complaint resolved successfully"}),p(null),b(!1)}});ot({mutationFn:z=>Ze("POST",`/api/admin/complaints/${z.complaintId}/comments`,{content:z.content,isInternal:z.isInternal}),onSuccess:()=>{Rt.invalidateQueries({queryKey:["/api/admin/complaints"]}),k(""),r({title:"Comment added successfully"})}});const ae=j.useMemo(()=>{const z=H;return z?.complaints?z.complaints.filter(oe=>n===""||oe.title.toLowerCase().includes(n.toLowerCase())||oe.description.toLowerCase().includes(n.toLowerCase())||oe.submitterEmail.toLowerCase().includes(n.toLowerCase())):[]},[H,n]),U=z=>{switch(z){case"content_violation":return"bg-red-500 text-white";case"user_behavior":return"bg-orange-500 text-white";case"technical_issue":return"bg-blue-500 text-white";case"billing_dispute":return"bg-green-500 text-white";case"dmca":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},W=z=>{switch(z){case"critical":return"bg-red-600 text-white";case"high":return"bg-orange-600 text-white";case"medium":return"bg-yellow-600 text-white";case"low":return"bg-green-600 text-white";default:return"bg-gray-600 text-white"}},se=z=>{switch(z){case"open":return"bg-blue-500 text-white";case"in_progress":return"bg-yellow-500 text-white";case"resolved":return"bg-green-500 text-white";case"closed":return"bg-gray-500 text-white";case"escalated":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}};if(t?.role!=="admin")return e.jsx("div",{className:"space-y-6","data-testid":"access-denied",children:e.jsxs(bn,{className:"border-destructive/50 bg-destructive/10",children:[e.jsx(Qr,{className:"h-4 w-4 text-destructive"}),e.jsx(jn,{className:"text-destructive",children:"Access denied. Admin privileges required to manage complaints."})]})});const de=J;return e.jsxs("div",{className:"space-y-6","data-testid":"complaints-management-page",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-display","data-testid":"page-title",children:"Complaints Management"}),e.jsx("p",{className:"text-muted-foreground","data-testid":"page-description",children:"Manage and resolve user complaints and platform issues"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{onClick:()=>G(),variant:"outline",size:"sm","data-testid":"button-refresh",children:[e.jsx(wn,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(V,{variant:"outline",size:"sm","data-testid":"button-export",children:[e.jsx($n,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-blue-500/10 rounded-lg flex items-center justify-center",children:e.jsx(fi,{className:"h-6 w-6 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Complaints"}),e.jsx("p",{className:"text-2xl font-bold","data-testid":"total-complaints",children:de?.totalComplaints||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-yellow-500/10 rounded-lg flex items-center justify-center",children:e.jsx(wr,{className:"h-6 w-6 text-yellow-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Open Complaints"}),e.jsx("p",{className:"text-2xl font-bold","data-testid":"open-complaints",children:de?.openComplaints||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-green-500/10 rounded-lg flex items-center justify-center",children:e.jsx(Cr,{className:"h-6 w-6 text-green-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolved"}),e.jsx("p",{className:"text-2xl font-bold","data-testid":"resolved-complaints",children:de?.resolvedComplaints||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-purple-500/10 rounded-lg flex items-center justify-center",children:e.jsx(yn,{className:"h-6 w-6 text-purple-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Resolution Time"}),e.jsx("p",{className:"text-2xl font-bold","data-testid":"avg-resolution-time",children:de?.avgResolutionTime?`${Math.round(de.avgResolutionTime)}h`:"0h"})]})]})})})]}),e.jsxs(Y,{className:"bg-card border-border",children:[e.jsx(ue,{children:e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(Ic,{className:"h-5 w-5"}),"Filters & Search"]})}),e.jsx(ee,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(Ue,{placeholder:"Search complaints...",value:n,onChange:z=>s(z.target.value),className:"pl-10","data-testid":"input-search"})]}),e.jsxs(yt,{value:a,onValueChange:i,children:[e.jsx(xt,{"data-testid":"select-status-filter",children:e.jsx(bt,{placeholder:"All Statuses"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Statuses"}),e.jsx(Q,{value:"open",children:"Open"}),e.jsx(Q,{value:"in_progress",children:"In Progress"}),e.jsx(Q,{value:"resolved",children:"Resolved"}),e.jsx(Q,{value:"closed",children:"Closed"}),e.jsx(Q,{value:"escalated",children:"Escalated"})]})]}),e.jsxs(yt,{value:o,onValueChange:l,children:[e.jsx(xt,{"data-testid":"select-category-filter",children:e.jsx(bt,{placeholder:"All Categories"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Categories"}),e.jsx(Q,{value:"content_violation",children:"Content Violation"}),e.jsx(Q,{value:"user_behavior",children:"User Behavior"}),e.jsx(Q,{value:"technical_issue",children:"Technical Issue"}),e.jsx(Q,{value:"billing_dispute",children:"Billing Dispute"}),e.jsx(Q,{value:"dmca",children:"DMCA"})]})]}),e.jsxs(yt,{value:u,onValueChange:m,children:[e.jsx(xt,{"data-testid":"select-priority-filter",children:e.jsx(bt,{placeholder:"All Priorities"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Priorities"}),e.jsx(Q,{value:"critical",children:"Critical"}),e.jsx(Q,{value:"high",children:"High"}),e.jsx(Q,{value:"medium",children:"Medium"}),e.jsx(Q,{value:"low",children:"Low"})]})]}),e.jsxs(yt,{value:`${A}-${O}`,onValueChange:z=>{const[oe,Ce]=z.split("-");P(oe),I(Ce)},children:[e.jsx(xt,{"data-testid":"select-sort",children:e.jsx(bt,{placeholder:"Sort by"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"createdAt-desc",children:"Newest First"}),e.jsx(Q,{value:"createdAt-asc",children:"Oldest First"}),e.jsx(Q,{value:"priority-desc",children:"Priority High to Low"}),e.jsx(Q,{value:"status-asc",children:"Status A-Z"})]})]})]})})]}),e.jsxs(Y,{className:"bg-card border-border",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Complaints Queue"}),e.jsxs(lt,{children:[ae.length," complaints found"]})]}),e.jsx(ee,{children:re?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(wn,{className:"h-6 w-6 animate-spin"})}):e.jsx("div",{className:"space-y-4",children:ae.map(z=>e.jsx("div",{className:"border border-border rounded-lg p-4 hover:bg-muted/50 transition-colors","data-testid":`complaint-card-${z.id}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:z.title}),e.jsx(ce,{className:U(z.category),children:z.category.replace("_"," ")}),e.jsx(ce,{className:W(z.priority),children:z.priority}),e.jsx(ce,{className:se(z.status),children:z.status.replace("_"," ")})]}),e.jsx("p",{className:"text-muted-foreground mb-2 line-clamp-2",children:z.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["By: ",z.submitterName]}),e.jsxs("span",{children:["Created: ",Ir(new Date(z.createdAt),"MMM dd, yyyy HH:mm")]}),z.assignedToName&&e.jsxs("span",{children:["Assigned to: ",z.assignedToName]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{p(z),b(!0)},"data-testid":`button-view-${z.id}`,children:[e.jsx(pr,{className:"h-4 w-4 mr-2"}),"View"]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{p(z),_(!0)},"data-testid":`button-comments-${z.id}`,children:[e.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Comments"]})]})]})},z.id))})})]}),e.jsx(Ur,{open:g,onOpenChange:b,children:e.jsxs(Lr,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Complaint Details"}),e.jsxs(Wr,{children:["Manage and resolve complaint #",f?.id]})]}),f&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Title"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:f.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Status"}),e.jsx(ce,{className:se(f.status),children:f.status.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Category"}),e.jsx(ce,{className:U(f.category),children:f.category.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Priority"}),e.jsx(ce,{className:W(f.priority),children:f.priority})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:f.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Submitted by"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.submitterName," (",f.submitterEmail,")"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Created at"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:Ir(new Date(f.createdAt),"MMM dd, yyyy HH:mm")})]})]}),f.status!=="resolved"&&e.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[e.jsxs(V,{onClick:()=>ne.mutate({complaintId:f.id,reason:"Manual escalation"}),variant:"outline",disabled:ne.isPending,"data-testid":"button-escalate",children:[e.jsx(Vy,{className:"h-4 w-4 mr-2"}),"Escalate"]}),e.jsxs(Ur,{children:[e.jsx(Dl,{asChild:!0,children:e.jsxs(V,{"data-testid":"button-resolve",children:[e.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Resolve"]})}),e.jsxs(Lr,{children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Resolve Complaint"}),e.jsx(Wr,{children:"Provide a resolution for this complaint"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(on,{placeholder:"Enter resolution details...",value:w,onChange:z=>k(z.target.value),"data-testid":"textarea-resolution"}),e.jsx(V,{onClick:()=>{K.mutate({complaintId:f.id,resolution:w})},disabled:K.isPending||!w.trim(),"data-testid":"button-confirm-resolve",children:"Confirm Resolution"})]})]})]})]})]})]})})]})}function Jje(){const{user:t}=kr(),{toast:r}=or(),[n,s]=j.useState(""),[a,i]=j.useState("all"),[o,l]=j.useState("all"),[u,m]=j.useState([]),[f,p]=j.useState(null),[g,b]=j.useState(!1),[y,_]=j.useState(!1),[w,k]=j.useState(""),[A,P]=j.useState("requestedAt"),[O,I]=j.useState("desc"),[D,F]=j.useState(0),[B]=j.useState(50),[H,re]=j.useState(""),[G,J]=j.useState(""),{data:Z,isLoading:ne,refetch:K}=Ve({queryKey:["/api/admin/payouts",{status:a!=="all"?a:void 0,provider:o!=="all"?o:void 0,minAmount:H?parseFloat(H):void 0,maxAmount:G?parseFloat(G):void 0,sortBy:A,sortOrder:O,limit:B,offset:D*B}],enabled:t?.role==="admin"}),{data:ae}=Ve({queryKey:["/api/admin/payouts/stats"],enabled:t?.role==="admin"}),{data:U}=Ve({queryKey:["/api/admin/payouts",f?.id,"audit"],enabled:!!f&&t?.role==="admin"}),W=ot({mutationFn:je=>Ze("PATCH",`/api/admin/payouts/${je.payoutId}/status`,{status:je.status,notes:je.notes}),onSuccess:()=>{Rt.invalidateQueries({queryKey:["/api/admin/payouts"]}),r({title:"Payout status updated successfully"})}}),se=ot({mutationFn:je=>Ze("POST","/api/admin/payouts/batch",{payoutIds:je.payoutIds,action:je.action}),onSuccess:(je,Xe)=>{Rt.invalidateQueries({queryKey:["/api/admin/payouts"]}),r({title:`${Xe.payoutIds.length} payouts ${Xe.action}ed successfully`}),m([])}}),de=ot({mutationFn:async je=>await(await Ze("POST",`/api/admin/payouts/${je.payoutId}/fraud-check`,{userId:je.userId,amount:je.amount})).json(),onSuccess:je=>{r({title:`Fraud Score: ${je.fraudScore}%`,description:je.fraudScore>70?"High risk transaction":"Low risk transaction"})}}),z=j.useMemo(()=>{const je=Z;return je?.payouts?je.payouts.filter(Xe=>n===""||Xe.userName.toLowerCase().includes(n.toLowerCase())||Xe.userEmail.toLowerCase().includes(n.toLowerCase())||Xe.id.toLowerCase().includes(n.toLowerCase())):[]},[Z,n]),oe=je=>{switch(je){case"pending":return"bg-yellow-500 text-white";case"approved":return"bg-blue-500 text-white";case"processing":return"bg-purple-500 text-white";case"completed":return"bg-green-500 text-white";case"rejected":return"bg-red-500 text-white";case"failed":return"bg-red-600 text-white";default:return"bg-gray-500 text-white"}},Ce=je=>{switch(je){case"bank_transfer":return e.jsx(HA,{className:"h-4 w-4"});case"paypal":return e.jsx(jx,{className:"h-4 w-4"});case"crypto":return e.jsx(TF,{className:"h-4 w-4"});default:return e.jsx(vs,{className:"h-4 w-4"})}},ke=je=>je?je>70?"bg-red-500 text-white":je>40?"bg-yellow-500 text-white":"bg-green-500 text-white":"bg-gray-500 text-white",_e=(je,Xe="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:Xe}).format(je);if(t?.role!=="admin")return e.jsx("div",{className:"space-y-6","data-testid":"access-denied",children:e.jsxs(bn,{className:"border-destructive/50 bg-destructive/10",children:[e.jsx(Qr,{className:"h-4 w-4 text-destructive"}),e.jsx(jn,{className:"text-destructive",children:"Access denied. Admin privileges required to manage withdrawals."})]})});const Le=ae;return e.jsxs("div",{className:"space-y-6","data-testid":"withdrawals-management-page",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-display","data-testid":"page-title",children:"Withdrawals & Payouts"}),e.jsx("p",{className:"text-muted-foreground","data-testid":"page-description",children:"Manage payout requests and financial transactions"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{onClick:()=>K(),variant:"outline",size:"sm","data-testid":"button-refresh",children:[e.jsx(wn,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(V,{variant:"outline",size:"sm","data-testid":"button-export",children:[e.jsx($n,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-blue-500/10 rounded-lg flex items-center justify-center",children:e.jsx(qr,{className:"h-6 w-6 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Payouts"}),e.jsx("p",{className:"text-2xl font-bold","data-testid":"total-payouts",children:Le?.totalPayouts||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-yellow-500/10 rounded-lg flex items-center justify-center",children:e.jsx(wr,{className:"h-6 w-6 text-yellow-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold","data-testid":"pending-payouts",children:Le?.pendingPayouts||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-green-500/10 rounded-lg flex items-center justify-center",children:e.jsx(Cr,{className:"h-6 w-6 text-green-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold","data-testid":"completed-payouts",children:Le?.completedPayouts||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-purple-500/10 rounded-lg flex items-center justify-center",children:e.jsx(yn,{className:"h-6 w-6 text-purple-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),e.jsx("p",{className:"text-2xl font-bold","data-testid":"total-amount",children:Le?.totalAmount?_e(Le.totalAmount):"$0"})]})]})})})]}),e.jsxs(Y,{className:"bg-card border-border",children:[e.jsx(ue,{children:e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(Ic,{className:"h-5 w-5"}),"Filters & Search"]})}),e.jsx(ee,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(Ue,{placeholder:"Search payouts...",value:n,onChange:je=>s(je.target.value),className:"pl-10","data-testid":"input-search"})]}),e.jsxs(yt,{value:a,onValueChange:i,children:[e.jsx(xt,{"data-testid":"select-status-filter",children:e.jsx(bt,{placeholder:"All Statuses"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Statuses"}),e.jsx(Q,{value:"pending",children:"Pending"}),e.jsx(Q,{value:"approved",children:"Approved"}),e.jsx(Q,{value:"processing",children:"Processing"}),e.jsx(Q,{value:"completed",children:"Completed"}),e.jsx(Q,{value:"rejected",children:"Rejected"}),e.jsx(Q,{value:"failed",children:"Failed"})]})]}),e.jsxs(yt,{value:o,onValueChange:l,children:[e.jsx(xt,{"data-testid":"select-provider-filter",children:e.jsx(bt,{placeholder:"All Providers"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Providers"}),e.jsx(Q,{value:"bank_transfer",children:"Bank Transfer"}),e.jsx(Q,{value:"paypal",children:"PayPal"}),e.jsx(Q,{value:"crypto",children:"Cryptocurrency"}),e.jsx(Q,{value:"stripe",children:"Stripe"})]})]}),e.jsx(Ue,{placeholder:"Min Amount",value:H,onChange:je=>re(je.target.value),type:"number","data-testid":"input-min-amount"}),e.jsx(Ue,{placeholder:"Max Amount",value:G,onChange:je=>J(je.target.value),type:"number","data-testid":"input-max-amount"}),e.jsxs(yt,{value:`${A}-${O}`,onValueChange:je=>{const[Xe,qe]=je.split("-");P(Xe),I(qe)},children:[e.jsx(xt,{"data-testid":"select-sort",children:e.jsx(bt,{placeholder:"Sort by"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"requestedAt-desc",children:"Newest First"}),e.jsx(Q,{value:"requestedAt-asc",children:"Oldest First"}),e.jsx(Q,{value:"amount-desc",children:"Amount High to Low"}),e.jsx(Q,{value:"amount-asc",children:"Amount Low to High"}),e.jsx(Q,{value:"status-asc",children:"Status A-Z"})]})]})]})})]}),u.length>0&&e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium",children:[u.length," payout(s) selected"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>se.mutate({payoutIds:u,action:"approve"}),disabled:se.isPending,"data-testid":"button-batch-approve",children:[e.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Approve Selected"]}),e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>se.mutate({payoutIds:u,action:"reject"}),disabled:se.isPending,"data-testid":"button-batch-reject",children:[e.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Reject Selected"]}),e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>se.mutate({payoutIds:u,action:"process"}),disabled:se.isPending,"data-testid":"button-batch-process",children:[e.jsx(qr,{className:"h-4 w-4 mr-2"}),"Process Selected"]})]})]})})}),e.jsxs(Y,{className:"bg-card border-border",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Payout Requests Queue"}),e.jsxs(lt,{children:[z.length," payout requests found"]})]}),e.jsx(ee,{children:ne?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(wn,{className:"h-6 w-6 animate-spin"})}):e.jsx("div",{className:"space-y-4",children:z.map(je=>e.jsx("div",{className:"border border-border rounded-lg p-4 hover:bg-muted/50 transition-colors","data-testid":`payout-card-${je.id}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Jn,{checked:u.includes(je.id),onCheckedChange:Xe=>{m(Xe?[...u,je.id]:u.filter(qe=>qe!==je.id))},"data-testid":`checkbox-${je.id}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:_e(je.amount,je.currency)}),e.jsx(ce,{className:oe(je.status),children:je.status.replace("_"," ")}),e.jsxs("div",{className:"flex items-center gap-1",children:[Ce(je.provider),e.jsx("span",{className:"text-sm text-muted-foreground capitalize",children:je.provider.replace("_"," ")})]}),je.fraudScore&&e.jsxs(ce,{className:ke(je.fraudScore),children:["Risk: ",je.fraudScore,"%"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"User:"})," ",je.userName," (",je.userEmail,")"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Requested:"})," ",Ir(new Date(je.requestedAt),"MMM dd, yyyy HH:mm")]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Processing Fee:"})," ",_e(je.processingFee)]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Final Amount:"})," ",_e(je.finalAmount)]})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>de.mutate({payoutId:je.id,userId:je.userId,amount:je.amount}),disabled:de.isPending,"data-testid":`button-fraud-check-${je.id}`,children:[e.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Fraud Check"]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{p(je),b(!0)},"data-testid":`button-view-${je.id}`,children:[e.jsx(pr,{className:"h-4 w-4 mr-2"}),"View Details"]})]})]})},je.id))})})]}),e.jsx(Ur,{open:g,onOpenChange:b,children:e.jsxs(Lr,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Payout Details"}),e.jsxs(Wr,{children:["Manage payout request #",f?.id]})]}),f&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Amount Requested"}),e.jsx("p",{className:"text-2xl font-bold",children:_e(f.amount)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Status"}),e.jsx(ce,{className:oe(f.status),children:f.status.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Payment Provider"}),e.jsxs("div",{className:"flex items-center gap-2",children:[Ce(f.provider),e.jsx("span",{className:"capitalize",children:f.provider.replace("_"," ")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Final Amount"}),e.jsx("p",{className:"text-lg font-semibold text-green-600",children:_e(f.finalAmount)})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Fee Breakdown"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Processing Fee:"}),e.jsx("p",{className:"font-medium",children:_e(f.processingFee)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Tax Withholding:"}),e.jsx("p",{className:"font-medium",children:_e(f.taxWithholding)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Net Amount:"}),e.jsx("p",{className:"font-medium text-green-600",children:_e(f.finalAmount)})]})]})]}),f.status==="pending"&&e.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[e.jsxs(V,{onClick:()=>W.mutate({payoutId:f.id,status:"approved"}),disabled:W.isPending,"data-testid":"button-approve",children:[e.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Approve"]}),e.jsxs(V,{variant:"destructive",onClick:()=>W.mutate({payoutId:f.id,status:"rejected"}),disabled:W.isPending,"data-testid":"button-reject",children:[e.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Reject"]}),e.jsxs(V,{variant:"outline",onClick:()=>{_(!0)},"data-testid":"button-audit-trail",children:[e.jsx(pr,{className:"h-4 w-4 mr-2"}),"Audit Trail"]})]})]})]})})]})}function ewe(){const{user:t}=kr(),{toast:r}=or(),[n,s]=j.useState(""),[a,i]=j.useState("all"),[o,l]=j.useState("all"),[u,m]=j.useState([]),[f,p]=j.useState(null),[g,b]=j.useState(!1),[y,_]=j.useState(!1),[w,k]=j.useState(""),[A,P]=j.useState("submittedAt"),[O,I]=j.useState("desc"),[D,F]=j.useState(0),[B]=j.useState(50),{data:H,isLoading:re,refetch:G}=Ve({queryKey:["/api/admin/verifications",{type:a!=="all"?a:void 0,status:o!=="all"?o:void 0,sortBy:A,sortOrder:O,limit:B,offset:D*B}],enabled:t?.role==="admin"}),{data:J}=Ve({queryKey:["/api/admin/verifications/stats"],enabled:t?.role==="admin"}),{data:Z}=Ve({queryKey:["/api/admin/verifications",f?.id,"documents"],enabled:!!f&&t?.role==="admin"}),ne=ot({mutationFn:_e=>Ze("PATCH",`/api/admin/verifications/kyc/${_e.verificationId}`,{status:_e.status,notes:_e.notes,reviewedBy:t?.id}),onSuccess:()=>{Rt.invalidateQueries({queryKey:["/api/admin/verifications"]}),r({title:"KYC verification updated successfully"}),p(null),b(!1),k("")}}),K=ot({mutationFn:_e=>Ze("PATCH",`/api/admin/verifications/age/${_e.verificationId}`,{status:_e.status,notes:_e.notes,reviewedBy:t?.id}),onSuccess:()=>{Rt.invalidateQueries({queryKey:["/api/admin/verifications"]}),r({title:"Age verification updated successfully"}),p(null),b(!1),k("")}}),ae=ot({mutationFn:_e=>Ze("PATCH",`/api/admin/verifications/costar/${_e.verificationId}`,{status:_e.status,notes:_e.notes,reviewedBy:t?.id}),onSuccess:()=>{Rt.invalidateQueries({queryKey:["/api/admin/verifications"]}),r({title:"Co-star verification updated successfully"}),p(null),b(!1),k("")}}),U=ot({mutationFn:_e=>Ze("POST","/api/admin/verifications/bulk",{verificationIds:_e.verificationIds,updates:_e.updates}),onSuccess:(_e,Le)=>{Rt.invalidateQueries({queryKey:["/api/admin/verifications"]}),r({title:`${Le.verificationIds.length} verifications updated successfully`}),m([])}}),W=ot({mutationFn:_e=>Ze("POST",`/api/admin/verifications/${_e.verificationId}/notes`,{note:_e.note}),onSuccess:()=>{Rt.invalidateQueries({queryKey:["/api/admin/verifications"]}),k(""),r({title:"Note added successfully"})}}),se=j.useMemo(()=>{const _e=H;return _e?.verifications?_e.verifications.filter(Le=>n===""||Le.userName.toLowerCase().includes(n.toLowerCase())||Le.userEmail.toLowerCase().includes(n.toLowerCase())||Le.id.toLowerCase().includes(n.toLowerCase())):[]},[H,n]),de=_e=>{switch(_e){case"kyc":return"bg-blue-500 text-white";case"age":return"bg-green-500 text-white";case"costar":return"bg-purple-500 text-white";case"2257":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},z=_e=>{switch(_e){case"pending":return"bg-yellow-500 text-white";case"under_review":return"bg-blue-500 text-white";case"approved":return"bg-green-500 text-white";case"rejected":return"bg-red-500 text-white";case"expired":return"bg-gray-500 text-white";default:return"bg-gray-500 text-white"}},oe=_e=>{switch(_e){case"id_front":case"id_back":return e.jsx(vs,{className:"h-4 w-4"});case"selfie":return e.jsx(Pa,{className:"h-4 w-4"});case"proof_of_address":return e.jsx(Od,{className:"h-4 w-4"});case"birth_certificate":return e.jsx(Cn,{className:"h-4 w-4"});default:return e.jsx(Cn,{className:"h-4 w-4"})}},Ce=_e=>{switch(_e){case"kyc":return ne;case"age":return K;case"costar":return ae;default:return ne}};if(t?.role!=="admin")return e.jsx("div",{className:"space-y-6","data-testid":"access-denied",children:e.jsxs(bn,{className:"border-destructive/50 bg-destructive/10",children:[e.jsx(Qr,{className:"h-4 w-4 text-destructive"}),e.jsx(jn,{className:"text-destructive",children:"Access denied. Admin privileges required to manage verifications."})]})});const ke=J;return e.jsxs("div",{className:"space-y-6","data-testid":"verification-management-page",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-display","data-testid":"page-title",children:"Verification Management"}),e.jsx("p",{className:"text-muted-foreground","data-testid":"page-description",children:"Manage identity verification and compliance requests"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{onClick:()=>G(),variant:"outline",size:"sm","data-testid":"button-refresh",children:[e.jsx(wn,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(V,{variant:"outline",size:"sm","data-testid":"button-export",children:[e.jsx($n,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-blue-500/10 rounded-lg flex items-center justify-center",children:e.jsx(Mr,{className:"h-6 w-6 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Verifications"}),e.jsx("p",{className:"text-2xl font-bold","data-testid":"total-verifications",children:ke?.totalVerifications||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-yellow-500/10 rounded-lg flex items-center justify-center",children:e.jsx(wr,{className:"h-6 w-6 text-yellow-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Review"}),e.jsx("p",{className:"text-2xl font-bold","data-testid":"pending-verifications",children:ke?.pendingVerifications||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-green-500/10 rounded-lg flex items-center justify-center",children:e.jsx(Cr,{className:"h-6 w-6 text-green-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Approved"}),e.jsx("p",{className:"text-2xl font-bold","data-testid":"approved-verifications",children:ke?.approvedVerifications||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-purple-500/10 rounded-lg flex items-center justify-center",children:e.jsx(yn,{className:"h-6 w-6 text-purple-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Processing Time"}),e.jsx("p",{className:"text-2xl font-bold","data-testid":"avg-processing-time",children:ke?.avgProcessingTime?`${Math.round(ke.avgProcessingTime)}h`:"0h"})]})]})})})]}),e.jsxs(Y,{className:"bg-card border-border",children:[e.jsx(ue,{children:e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(Ic,{className:"h-5 w-5"}),"Filters & Search"]})}),e.jsx(ee,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(Ue,{placeholder:"Search verifications...",value:n,onChange:_e=>s(_e.target.value),className:"pl-10","data-testid":"input-search"})]}),e.jsxs(yt,{value:a,onValueChange:i,children:[e.jsx(xt,{"data-testid":"select-type-filter",children:e.jsx(bt,{placeholder:"All Types"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Types"}),e.jsx(Q,{value:"kyc",children:"KYC Verification"}),e.jsx(Q,{value:"age",children:"Age Verification"}),e.jsx(Q,{value:"costar",children:"Co-star Verification"}),e.jsx(Q,{value:"2257",children:"2257 Compliance"})]})]}),e.jsxs(yt,{value:o,onValueChange:l,children:[e.jsx(xt,{"data-testid":"select-status-filter",children:e.jsx(bt,{placeholder:"All Statuses"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Statuses"}),e.jsx(Q,{value:"pending",children:"Pending"}),e.jsx(Q,{value:"under_review",children:"Under Review"}),e.jsx(Q,{value:"approved",children:"Approved"}),e.jsx(Q,{value:"rejected",children:"Rejected"}),e.jsx(Q,{value:"expired",children:"Expired"})]})]}),e.jsxs(yt,{value:`${A}-${O}`,onValueChange:_e=>{const[Le,je]=_e.split("-");P(Le),I(je)},children:[e.jsx(xt,{"data-testid":"select-sort",children:e.jsx(bt,{placeholder:"Sort by"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"submittedAt-desc",children:"Newest First"}),e.jsx(Q,{value:"submittedAt-asc",children:"Oldest First"}),e.jsx(Q,{value:"type-asc",children:"Type A-Z"}),e.jsx(Q,{value:"status-asc",children:"Status A-Z"})]})]})]})})]}),u.length>0&&e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium",children:[u.length," verification(s) selected"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>U.mutate({verificationIds:u,updates:{status:"approved"}}),disabled:U.isPending,"data-testid":"button-bulk-approve",children:[e.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Approve Selected"]}),e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>U.mutate({verificationIds:u,updates:{status:"rejected"}}),disabled:U.isPending,"data-testid":"button-bulk-reject",children:[e.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Reject Selected"]})]})]})})}),e.jsxs(Y,{className:"bg-card border-border",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Verification Queue"}),e.jsxs(lt,{children:[se.length," verification requests found"]})]}),e.jsx(ee,{children:re?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(wn,{className:"h-6 w-6 animate-spin"})}):e.jsx("div",{className:"space-y-4",children:se.map(_e=>e.jsx("div",{className:"border border-border rounded-lg p-4 hover:bg-muted/50 transition-colors","data-testid":`verification-card-${_e.id}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Jn,{checked:u.includes(_e.id),onCheckedChange:Le=>{m(Le?[...u,_e.id]:u.filter(je=>je!==_e.id))},"data-testid":`checkbox-${_e.id}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:_e.userName}),e.jsx(ce,{className:de(_e.type),children:_e.type.toUpperCase()}),e.jsx(ce,{className:z(_e.status),children:_e.status.replace("_"," ")}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[_e.documents.length," document(s)"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",_e.userEmail]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Submitted:"})," ",Ir(new Date(_e.submittedAt),"MMM dd, yyyy HH:mm")]}),_e.reviewedAt&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Reviewed:"})," ",Ir(new Date(_e.reviewedAt),"MMM dd, yyyy HH:mm")]}),_e.expiresAt&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Expires:"})," ",Ir(new Date(_e.expiresAt),"MMM dd, yyyy")]})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{p(_e),_(!0)},"data-testid":`button-documents-${_e.id}`,children:[e.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Documents"]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{p(_e),b(!0)},"data-testid":`button-review-${_e.id}`,children:[e.jsx(pr,{className:"h-4 w-4 mr-2"}),"Review"]})]})]})},_e.id))})})]}),e.jsx(Ur,{open:g,onOpenChange:b,children:e.jsxs(Lr,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Verification Review"}),e.jsxs(Wr,{children:["Review and approve/reject verification #",f?.id]})]}),f&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"User"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.userName," (",f.userEmail,")"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Verification Type"}),e.jsx(ce,{className:de(f.type),children:f.type.toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Current Status"}),e.jsx(ce,{className:z(f.status),children:f.status.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Submitted"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:Ir(new Date(f.submittedAt),"MMM dd, yyyy HH:mm")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Documents"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:f.documents.map(_e=>e.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[oe(_e.type),e.jsx("span",{className:"text-sm",children:_e.type.replace("_"," ")}),_e.aiConfidence&&e.jsxs(ce,{variant:"outline",className:"ml-auto",children:["AI: ",_e.aiConfidence,"%"]})]},_e.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Review Notes"}),e.jsx(on,{placeholder:"Add review notes...",value:w,onChange:_e=>k(_e.target.value),className:"mt-2","data-testid":"textarea-review-notes"})]}),(f.status==="pending"||f.status==="under_review")&&e.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[e.jsxs(V,{onClick:()=>{Ce(f.type).mutate({verificationId:f.id,status:"approved",notes:w})},disabled:ne.isPending||K.isPending||ae.isPending,"data-testid":"button-approve-verification",children:[e.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Approve"]}),e.jsxs(V,{variant:"destructive",onClick:()=>{Ce(f.type).mutate({verificationId:f.id,status:"rejected",notes:w})},disabled:ne.isPending||K.isPending||ae.isPending,"data-testid":"button-reject-verification",children:[e.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Reject"]}),e.jsxs(V,{variant:"outline",onClick:()=>W.mutate({verificationId:f.id,note:w}),disabled:W.isPending||!w.trim(),"data-testid":"button-add-note",children:[e.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Add Note"]})]})]})]})})]})}var fr=function(){return fr=Object.assign||function(r){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},fr.apply(this,arguments)};function twe(t,r){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)r.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n}function TV(t,r,n){for(var s=0,a=r.length,i;s<a;s++)(i||!(s in r))&&(i||(i=Array.prototype.slice.call(r,0,s)),i[s]=r[s]);return t.concat(i||Array.prototype.slice.call(r))}function Kg(t){return t.mode==="multiple"}function Wg(t){return t.mode==="range"}function Gj(t){return t.mode==="single"}var rwe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function nwe(t,r){return Ir(t,"LLLL y",r)}function swe(t,r){return Ir(t,"d",r)}function awe(t,r){return Ir(t,"LLLL",r)}function iwe(t){return"".concat(t)}function owe(t,r){return Ir(t,"cccccc",r)}function lwe(t,r){return Ir(t,"yyyy",r)}var cwe=Object.freeze({__proto__:null,formatCaption:nwe,formatDay:swe,formatMonthCaption:awe,formatWeekNumber:iwe,formatWeekdayName:owe,formatYearCaption:lwe}),dwe=function(t,r,n){return Ir(t,"do MMMM (EEEE)",n)},uwe=function(){return"Month: "},hwe=function(){return"Go to next month"},mwe=function(){return"Go to previous month"},fwe=function(t,r){return Ir(t,"cccc",r)},pwe=function(t){return"Week n. ".concat(t)},xwe=function(){return"Year: "},gwe=Object.freeze({__proto__:null,labelDay:dwe,labelMonthDropdown:uwe,labelNext:hwe,labelPrevious:mwe,labelWeekNumber:pwe,labelWeekday:fwe,labelYearDropdown:xwe});function vwe(){var t="buttons",r=rwe,n=GP,s={},a={},i=1,o={},l=new Date;return{captionLayout:t,classNames:r,formatters:cwe,labels:gwe,locale:n,modifiersClassNames:s,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function ywe(t){var r=t.fromYear,n=t.toYear,s=t.fromMonth,a=t.toMonth,i=t.fromDate,o=t.toDate;return s?i=pi(s):r&&(i=new Date(r,0,1)),a?o=hj(a):n&&(o=new Date(n,11,31)),{fromDate:i?Vm(i):void 0,toDate:o?Vm(o):void 0}}var EV=j.createContext(void 0);function bwe(t){var r,n=t.initialProps,s=vwe(),a=ywe(n),i=a.fromDate,o=a.toDate,l=(r=n.captionLayout)!==null&&r!==void 0?r:s.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var u;(Gj(n)||Kg(n)||Wg(n))&&(u=n.onSelect);var m=fr(fr(fr({},s),n),{captionLayout:l,classNames:fr(fr({},s.classNames),n.classNames),components:fr({},n.components),formatters:fr(fr({},s.formatters),n.formatters),fromDate:i,labels:fr(fr({},s.labels),n.labels),mode:n.mode||s.mode,modifiers:fr(fr({},s.modifiers),n.modifiers),modifiersClassNames:fr(fr({},s.modifiersClassNames),n.modifiersClassNames),onSelect:u,styles:fr(fr({},s.styles),n.styles),toDate:o});return e.jsx(EV.Provider,{value:m,children:t.children})}function Kn(){var t=j.useContext(EV);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function OV(t){var r=Kn(),n=r.locale,s=r.classNames,a=r.styles,i=r.formatters.formatCaption;return e.jsx("div",{className:s.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:n})})}function jwe(t){return e.jsx("svg",fr({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:e.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function IV(t){var r,n,s=t.onChange,a=t.value,i=t.children,o=t.caption,l=t.className,u=t.style,m=Kn(),f=(n=(r=m.components)===null||r===void 0?void 0:r.IconDropdown)!==null&&n!==void 0?n:jwe;return e.jsxs("div",{className:l,style:u,children:[e.jsx("span",{className:m.classNames.vhidden,children:t["aria-label"]}),e.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:m.classNames.dropdown,style:m.styles.dropdown,value:a,onChange:s,children:i}),e.jsxs("div",{className:m.classNames.caption_label,style:m.styles.caption_label,"aria-hidden":"true",children:[o,e.jsx(f,{className:m.classNames.dropdown_icon,style:m.styles.dropdown_icon})]})]})}function wwe(t){var r,n=Kn(),s=n.fromDate,a=n.toDate,i=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,u=n.classNames,m=n.components,f=n.labels.labelMonthDropdown;if(!s)return e.jsx(e.Fragment,{});if(!a)return e.jsx(e.Fragment,{});var p=[];if(iae(s,a))for(var g=pi(s),b=s.getMonth();b<=a.getMonth();b++)p.push(nN(g,b));else for(var g=pi(new Date),b=0;b<=11;b++)p.push(nN(g,b));var y=function(w){var k=Number(w.target.value),A=nN(pi(t.displayMonth),k);t.onChange(A)},_=(r=m?.Dropdown)!==null&&r!==void 0?r:IV;return e.jsx(_,{name:"months","aria-label":f(),className:u.dropdown_month,style:i.dropdown_month,onChange:y,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:o}),children:p.map(function(w){return e.jsx("option",{value:w.getMonth(),children:l(w,{locale:o})},w.getMonth())})})}function _we(t){var r,n=t.displayMonth,s=Kn(),a=s.fromDate,i=s.toDate,o=s.locale,l=s.styles,u=s.classNames,m=s.components,f=s.formatters.formatYearCaption,p=s.labels.labelYearDropdown,g=[];if(!a)return e.jsx(e.Fragment,{});if(!i)return e.jsx(e.Fragment,{});for(var b=a.getFullYear(),y=i.getFullYear(),_=b;_<=y;_++)g.push(zI(J9(new Date),_));var w=function(A){var P=zI(pi(n),Number(A.target.value));t.onChange(P)},k=(r=m?.Dropdown)!==null&&r!==void 0?r:IV;return e.jsx(k,{name:"years","aria-label":p(),className:u.dropdown_year,style:l.dropdown_year,onChange:w,value:n.getFullYear(),caption:f(n,{locale:o}),children:g.map(function(A){return e.jsx("option",{value:A.getFullYear(),children:f(A,{locale:o})},A.getFullYear())})})}function Nwe(t,r){var n=j.useState(t),s=n[0],a=n[1],i=r===void 0?s:r;return[i,a]}function Swe(t){var r=t.month,n=t.defaultMonth,s=t.today,a=r||n||s||new Date,i=t.toDate,o=t.fromDate,l=t.numberOfMonths,u=l===void 0?1:l;if(i&&Wm(i,a)<0){var m=-1*(u-1);a=Go(i,m)}return o&&Wm(a,o)<0&&(a=o),pi(a)}function Cwe(){var t=Kn(),r=Swe(t),n=Nwe(r,t.month),s=n[0],a=n[1],i=function(o){var l;if(!t.disableNavigation){var u=pi(o);a(u),(l=t.onMonthChange)===null||l===void 0||l.call(t,u)}};return[s,i]}function kwe(t,r){for(var n=r.reverseMonths,s=r.numberOfMonths,a=pi(t),i=pi(Go(a,s)),o=Wm(i,a),l=[],u=0;u<o;u++){var m=Go(a,u);l.push(m)}return n&&(l=l.reverse()),l}function Awe(t,r){if(!r.disableNavigation){var n=r.toDate,s=r.pagedNavigation,a=r.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=pi(t);if(!n)return Go(l,o);var u=Wm(n,t);if(!(u<i))return Go(l,o)}}function Pwe(t,r){if(!r.disableNavigation){var n=r.fromDate,s=r.pagedNavigation,a=r.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=pi(t);if(!n)return Go(l,-o);var u=Wm(l,n);if(!(u<=0))return Go(l,-o)}}var MV=j.createContext(void 0);function Twe(t){var r=Kn(),n=Cwe(),s=n[0],a=n[1],i=kwe(s,r),o=Awe(s,r),l=Pwe(s,r),u=function(p){return i.some(function(g){return ZP(p,g)})},m=function(p,g){u(p)||(g&&aq(p,g)?a(Go(p,1+r.numberOfMonths*-1)):a(p))},f={currentMonth:s,displayMonths:i,goToMonth:a,goToDate:m,previousMonth:l,nextMonth:o,isDateDisplayed:u};return e.jsx(MV.Provider,{value:f,children:t.children})}function Hg(){var t=j.useContext(MV);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function z6(t){var r,n=Kn(),s=n.classNames,a=n.styles,i=n.components,o=Hg().goToMonth,l=function(f){o(Go(f,t.displayIndex?-t.displayIndex:0))},u=(r=i?.CaptionLabel)!==null&&r!==void 0?r:OV,m=e.jsx(u,{id:t.id,displayMonth:t.displayMonth});return e.jsxs("div",{className:s.caption_dropdowns,style:a.caption_dropdowns,children:[e.jsx("div",{className:s.vhidden,children:m}),e.jsx(wwe,{onChange:l,displayMonth:t.displayMonth}),e.jsx(_we,{onChange:l,displayMonth:t.displayMonth})]})}function Ewe(t){return e.jsx("svg",fr({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Owe(t){return e.jsx("svg",fr({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var vb=j.forwardRef(function(t,r){var n=Kn(),s=n.classNames,a=n.styles,i=[s.button_reset,s.button];t.className&&i.push(t.className);var o=i.join(" "),l=fr(fr({},a.button_reset),a.button);return t.style&&Object.assign(l,t.style),e.jsx("button",fr({},t,{ref:r,type:"button",className:o,style:l}))});function Iwe(t){var r,n,s=Kn(),a=s.dir,i=s.locale,o=s.classNames,l=s.styles,u=s.labels,m=u.labelPrevious,f=u.labelNext,p=s.components;if(!t.nextMonth&&!t.previousMonth)return e.jsx(e.Fragment,{});var g=m(t.previousMonth,{locale:i}),b=[o.nav_button,o.nav_button_previous].join(" "),y=f(t.nextMonth,{locale:i}),_=[o.nav_button,o.nav_button_next].join(" "),w=(r=p?.IconRight)!==null&&r!==void 0?r:Owe,k=(n=p?.IconLeft)!==null&&n!==void 0?n:Ewe;return e.jsxs("div",{className:o.nav,style:l.nav,children:[!t.hidePrevious&&e.jsx(vb,{name:"previous-month","aria-label":g,className:b,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:a==="rtl"?e.jsx(w,{className:o.nav_icon,style:l.nav_icon}):e.jsx(k,{className:o.nav_icon,style:l.nav_icon})}),!t.hideNext&&e.jsx(vb,{name:"next-month","aria-label":y,className:_,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:a==="rtl"?e.jsx(k,{className:o.nav_icon,style:l.nav_icon}):e.jsx(w,{className:o.nav_icon,style:l.nav_icon})})]})}function B6(t){var r=Kn().numberOfMonths,n=Hg(),s=n.previousMonth,a=n.nextMonth,i=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(y){return ZP(t.displayMonth,y)}),u=l===0,m=l===o.length-1,f=r>1&&(u||!m),p=r>1&&(m||!u),g=function(){s&&i(s)},b=function(){a&&i(a)};return e.jsx(Iwe,{displayMonth:t.displayMonth,hideNext:f,hidePrevious:p,nextMonth:a,previousMonth:s,onPreviousClick:g,onNextClick:b})}function Mwe(t){var r,n=Kn(),s=n.classNames,a=n.disableNavigation,i=n.styles,o=n.captionLayout,l=n.components,u=(r=l?.CaptionLabel)!==null&&r!==void 0?r:OV,m;return a?m=e.jsx(u,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?m=e.jsx(z6,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?m=e.jsxs(e.Fragment,{children:[e.jsx(z6,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),e.jsx(B6,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):m=e.jsxs(e.Fragment,{children:[e.jsx(u,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(B6,{displayMonth:t.displayMonth,id:t.id})]}),e.jsx("div",{className:s.caption,style:i.caption,children:m})}function Dwe(t){var r=Kn(),n=r.footer,s=r.styles,a=r.classNames.tfoot;return n?e.jsx("tfoot",{className:a,style:s.tfoot,children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:n})})}):e.jsx(e.Fragment,{})}function Rwe(t,r,n){for(var s=n?nh(new Date):Pl(new Date,{locale:t,weekStartsOn:r}),a=[],i=0;i<7;i++){var o=Ha(s,i);a.push(o)}return a}function Lwe(){var t=Kn(),r=t.classNames,n=t.styles,s=t.showWeekNumber,a=t.locale,i=t.weekStartsOn,o=t.ISOWeek,l=t.formatters.formatWeekdayName,u=t.labels.labelWeekday,m=Rwe(a,i,o);return e.jsxs("tr",{style:n.head_row,className:r.head_row,children:[s&&e.jsx("td",{style:n.head_cell,className:r.head_cell}),m.map(function(f,p){return e.jsx("th",{scope:"col",className:r.head_cell,style:n.head_cell,"aria-label":u(f,{locale:a}),children:l(f,{locale:a})},p)})]})}function Fwe(){var t,r=Kn(),n=r.classNames,s=r.styles,a=r.components,i=(t=a?.HeadRow)!==null&&t!==void 0?t:Lwe;return e.jsx("thead",{style:s.head,className:n.head,children:e.jsx(i,{})})}function $we(t){var r=Kn(),n=r.locale,s=r.formatters.formatDay;return e.jsx(e.Fragment,{children:s(t.date,{locale:n})})}var eT=j.createContext(void 0);function zwe(t){if(!Kg(t.initialProps)){var r={selected:void 0,modifiers:{disabled:[]}};return e.jsx(eT.Provider,{value:r,children:t.children})}return e.jsx(Bwe,{initialProps:t.initialProps,children:t.children})}function Bwe(t){var r=t.initialProps,n=t.children,s=r.selected,a=r.min,i=r.max,o=function(m,f,p){var g,b;(g=r.onDayClick)===null||g===void 0||g.call(r,m,f,p);var y=!!(f.selected&&a&&s?.length===a);if(!y){var _=!!(!f.selected&&i&&s?.length===i);if(!_){var w=s?TV([],s):[];if(f.selected){var k=w.findIndex(function(A){return hi(m,A)});w.splice(k,1)}else w.push(m);(b=r.onSelect)===null||b===void 0||b.call(r,w,m,f,p)}}},l={disabled:[]};s&&l.disabled.push(function(m){var f=i&&s.length>i-1,p=s.some(function(g){return hi(g,m)});return!!(f&&!p)});var u={selected:s,onDayClick:o,modifiers:l};return e.jsx(eT.Provider,{value:u,children:n})}function tT(){var t=j.useContext(eT);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function qwe(t,r){var n=r||{},s=n.from,a=n.to;return s&&a?hi(a,t)&&hi(s,t)?void 0:hi(a,t)?{from:a,to:void 0}:hi(s,t)?void 0:Im(s,t)?{from:t,to:a}:{from:s,to:t}:a?Im(t,a)?{from:a,to:t}:{from:t,to:a}:s?aq(t,s)?{from:t,to:s}:{from:s,to:t}:{from:t,to:void 0}}var rT=j.createContext(void 0);function Uwe(t){if(!Wg(t.initialProps)){var r={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return e.jsx(rT.Provider,{value:r,children:t.children})}return e.jsx(Vwe,{initialProps:t.initialProps,children:t.children})}function Vwe(t){var r=t.initialProps,n=t.children,s=r.selected,a=s||{},i=a.from,o=a.to,l=r.min,u=r.max,m=function(b,y,_){var w,k;(w=r.onDayClick)===null||w===void 0||w.call(r,b,y,_);var A=qwe(b,s);(k=r.onSelect)===null||k===void 0||k.call(r,A,b,y,_)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(f.range_start=[i],o?(f.range_end=[o],hi(i,o)||(f.range_middle=[{after:i,before:o}])):f.range_end=[i]):o&&(f.range_start=[o],f.range_end=[o]),l&&(i&&!o&&f.disabled.push({after:ix(i,l-1),before:Ha(i,l-1)}),i&&o&&f.disabled.push({after:i,before:Ha(i,l-1)}),!i&&o&&f.disabled.push({after:ix(o,l-1),before:Ha(o,l-1)})),u){if(i&&!o&&(f.disabled.push({before:Ha(i,-u+1)}),f.disabled.push({after:Ha(i,u-1)})),i&&o){var p=fl(o,i)+1,g=u-p;f.disabled.push({before:ix(i,g)}),f.disabled.push({after:Ha(o,g)})}!i&&o&&(f.disabled.push({before:Ha(o,-u+1)}),f.disabled.push({after:Ha(o,u-1)}))}return e.jsx(rT.Provider,{value:{selected:s,onDayClick:m,modifiers:f},children:n})}function nT(){var t=j.useContext(rT);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Jy(t){return Array.isArray(t)?TV([],t):t!==void 0?[t]:[]}function Kwe(t){var r={};return Object.entries(t).forEach(function(n){var s=n[0],a=n[1];r[s]=Jy(a)}),r}var Yo;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Yo||(Yo={}));var Wwe=Yo.Selected,lc=Yo.Disabled,Hwe=Yo.Hidden,Gwe=Yo.Today,aC=Yo.RangeEnd,iC=Yo.RangeMiddle,oC=Yo.RangeStart,Zwe=Yo.Outside;function Ywe(t,r,n){var s,a=(s={},s[Wwe]=Jy(t.selected),s[lc]=Jy(t.disabled),s[Hwe]=Jy(t.hidden),s[Gwe]=[t.today],s[aC]=[],s[iC]=[],s[oC]=[],s[Zwe]=[],s);return t.fromDate&&a[lc].push({before:t.fromDate}),t.toDate&&a[lc].push({after:t.toDate}),Kg(t)?a[lc]=a[lc].concat(r.modifiers[lc]):Wg(t)&&(a[lc]=a[lc].concat(n.modifiers[lc]),a[oC]=n.modifiers[oC],a[iC]=n.modifiers[iC],a[aC]=n.modifiers[aC]),a}var DV=j.createContext(void 0);function Qwe(t){var r=Kn(),n=tT(),s=nT(),a=Ywe(r,n,s),i=Kwe(r.modifiers),o=fr(fr({},a),i);return e.jsx(DV.Provider,{value:o,children:t.children})}function RV(){var t=j.useContext(DV);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Xwe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Jwe(t){return!!(t&&typeof t=="object"&&"from"in t)}function e_e(t){return!!(t&&typeof t=="object"&&"after"in t)}function t_e(t){return!!(t&&typeof t=="object"&&"before"in t)}function r_e(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function n_e(t,r){var n,s=r.from,a=r.to;if(s&&a){var i=fl(a,s)<0;i&&(n=[a,s],s=n[0],a=n[1]);var o=fl(t,s)>=0&&fl(a,t)>=0;return o}return a?hi(a,t):s?hi(s,t):!1}function s_e(t){return WP(t)}function a_e(t){return Array.isArray(t)&&t.every(WP)}function i_e(t,r){return r.some(function(n){if(typeof n=="boolean")return n;if(s_e(n))return hi(t,n);if(a_e(n))return n.includes(t);if(Jwe(n))return n_e(t,n);if(r_e(n))return n.dayOfWeek.includes(t.getDay());if(Xwe(n)){var s=fl(n.before,t),a=fl(n.after,t),i=s>0,o=a<0,l=Im(n.before,n.after);return l?o&&i:i||o}return e_e(n)?fl(t,n.after)>0:t_e(n)?fl(n.before,t)>0:typeof n=="function"?n(t):!1})}function sT(t,r,n){var s=Object.keys(r).reduce(function(i,o){var l=r[o];return i_e(t,l)&&i.push(o),i},[]),a={};return s.forEach(function(i){return a[i]=!0}),n&&!ZP(t,n)&&(a.outside=!0),a}function o_e(t,r){for(var n=pi(t[0]),s=hj(t[t.length-1]),a,i,o=n;o<=s;){var l=sT(o,r),u=!l.disabled&&!l.hidden;if(!u){o=Ha(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=Ha(o,1)}return i||a}var l_e=365;function LV(t,r){var n=r.moveBy,s=r.direction,a=r.context,i=r.modifiers,o=r.retry,l=o===void 0?{count:0,lastFocused:t}:o,u=a.weekStartsOn,m=a.fromDate,f=a.toDate,p=a.locale,g={day:Ha,week:ek,month:Go,year:Gne,startOfWeek:function(w){return a.ISOWeek?nh(w):Pl(w,{locale:p,weekStartsOn:u})},endOfWeek:function(w){return a.ISOWeek?eq(w):HP(w,{locale:p,weekStartsOn:u})}},b=g[n](t,s==="after"?1:-1);s==="before"&&m?b=Zne([m,b]):s==="after"&&f&&(b=Yne([f,b]));var y=!0;if(i){var _=sT(b,i);y=!_.disabled&&!_.hidden}return y?b:l.count>l_e?l.lastFocused:LV(b,{moveBy:n,direction:s,context:a,modifiers:i,retry:fr(fr({},l),{count:l.count+1})})}var FV=j.createContext(void 0);function c_e(t){var r=Hg(),n=RV(),s=j.useState(),a=s[0],i=s[1],o=j.useState(),l=o[0],u=o[1],m=o_e(r.displayMonths,n),f=a??(l&&r.isDateDisplayed(l))?l:m,p=function(){u(a),i(void 0)},g=function(w){i(w)},b=Kn(),y=function(w,k){if(a){var A=LV(a,{moveBy:w,direction:k,context:b,modifiers:n});hi(a,A)||(r.goToDate(A,a),g(A))}},_={focusedDay:a,focusTarget:f,blur:p,focus:g,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return e.jsx(FV.Provider,{value:_,children:t.children})}function aT(){var t=j.useContext(FV);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function d_e(t,r){var n=RV(),s=sT(t,n,r);return s}var iT=j.createContext(void 0);function u_e(t){if(!Gj(t.initialProps)){var r={selected:void 0};return e.jsx(iT.Provider,{value:r,children:t.children})}return e.jsx(h_e,{initialProps:t.initialProps,children:t.children})}function h_e(t){var r=t.initialProps,n=t.children,s=function(i,o,l){var u,m,f;if((u=r.onDayClick)===null||u===void 0||u.call(r,i,o,l),o.selected&&!r.required){(m=r.onSelect)===null||m===void 0||m.call(r,void 0,i,o,l);return}(f=r.onSelect)===null||f===void 0||f.call(r,i,i,o,l)},a={selected:r.selected,onDayClick:s};return e.jsx(iT.Provider,{value:a,children:n})}function $V(){var t=j.useContext(iT);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function m_e(t,r){var n=Kn(),s=$V(),a=tT(),i=nT(),o=aT(),l=o.focusDayAfter,u=o.focusDayBefore,m=o.focusWeekAfter,f=o.focusWeekBefore,p=o.blur,g=o.focus,b=o.focusMonthBefore,y=o.focusMonthAfter,_=o.focusYearBefore,w=o.focusYearAfter,k=o.focusStartOfWeek,A=o.focusEndOfWeek,P=function(U){var W,se,de,z;Gj(n)?(W=s.onDayClick)===null||W===void 0||W.call(s,t,r,U):Kg(n)?(se=a.onDayClick)===null||se===void 0||se.call(a,t,r,U):Wg(n)?(de=i.onDayClick)===null||de===void 0||de.call(i,t,r,U):(z=n.onDayClick)===null||z===void 0||z.call(n,t,r,U)},O=function(U){var W;g(t),(W=n.onDayFocus)===null||W===void 0||W.call(n,t,r,U)},I=function(U){var W;p(),(W=n.onDayBlur)===null||W===void 0||W.call(n,t,r,U)},D=function(U){var W;(W=n.onDayMouseEnter)===null||W===void 0||W.call(n,t,r,U)},F=function(U){var W;(W=n.onDayMouseLeave)===null||W===void 0||W.call(n,t,r,U)},B=function(U){var W;(W=n.onDayPointerEnter)===null||W===void 0||W.call(n,t,r,U)},H=function(U){var W;(W=n.onDayPointerLeave)===null||W===void 0||W.call(n,t,r,U)},re=function(U){var W;(W=n.onDayTouchCancel)===null||W===void 0||W.call(n,t,r,U)},G=function(U){var W;(W=n.onDayTouchEnd)===null||W===void 0||W.call(n,t,r,U)},J=function(U){var W;(W=n.onDayTouchMove)===null||W===void 0||W.call(n,t,r,U)},Z=function(U){var W;(W=n.onDayTouchStart)===null||W===void 0||W.call(n,t,r,U)},ne=function(U){var W;(W=n.onDayKeyUp)===null||W===void 0||W.call(n,t,r,U)},K=function(U){var W;switch(U.key){case"ArrowLeft":U.preventDefault(),U.stopPropagation(),n.dir==="rtl"?l():u();break;case"ArrowRight":U.preventDefault(),U.stopPropagation(),n.dir==="rtl"?u():l();break;case"ArrowDown":U.preventDefault(),U.stopPropagation(),m();break;case"ArrowUp":U.preventDefault(),U.stopPropagation(),f();break;case"PageUp":U.preventDefault(),U.stopPropagation(),U.shiftKey?_():b();break;case"PageDown":U.preventDefault(),U.stopPropagation(),U.shiftKey?w():y();break;case"Home":U.preventDefault(),U.stopPropagation(),k();break;case"End":U.preventDefault(),U.stopPropagation(),A();break}(W=n.onDayKeyDown)===null||W===void 0||W.call(n,t,r,U)},ae={onClick:P,onFocus:O,onBlur:I,onKeyDown:K,onKeyUp:ne,onMouseEnter:D,onMouseLeave:F,onPointerEnter:B,onPointerLeave:H,onTouchCancel:re,onTouchEnd:G,onTouchMove:J,onTouchStart:Z};return ae}function f_e(){var t=Kn(),r=$V(),n=tT(),s=nT(),a=Gj(t)?r.selected:Kg(t)?n.selected:Wg(t)?s.selected:void 0;return a}function p_e(t){return Object.values(Yo).includes(t)}function x_e(t,r){var n=[t.classNames.day];return Object.keys(r).forEach(function(s){var a=t.modifiersClassNames[s];if(a)n.push(a);else if(p_e(s)){var i=t.classNames["day_".concat(s)];i&&n.push(i)}}),n}function g_e(t,r){var n=fr({},t.styles.day);return Object.keys(r).forEach(function(s){var a;n=fr(fr({},n),(a=t.modifiersStyles)===null||a===void 0?void 0:a[s])}),n}function v_e(t,r,n){var s,a,i,o=Kn(),l=aT(),u=d_e(t,r),m=m_e(t,u),f=f_e(),p=!!(o.onDayClick||o.mode!=="default");j.useEffect(function(){var D;u.outside||l.focusedDay&&p&&hi(l.focusedDay,t)&&((D=n.current)===null||D===void 0||D.focus())},[l.focusedDay,t,n,p,u.outside]);var g=x_e(o,u).join(" "),b=g_e(o,u),y=!!(u.outside&&!o.showOutsideDays||u.hidden),_=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:$we,w=e.jsx(_,{date:t,displayMonth:r,activeModifiers:u}),k={style:b,className:g,children:w,role:"gridcell"},A=l.focusTarget&&hi(l.focusTarget,t)&&!u.outside,P=l.focusedDay&&hi(l.focusedDay,t),O=fr(fr(fr({},k),(s={disabled:u.disabled,role:"gridcell"},s["aria-selected"]=u.selected,s.tabIndex=P||A?0:-1,s)),m),I={isButton:p,isHidden:y,activeModifiers:u,selectedDays:f,buttonProps:O,divProps:k};return I}function y_e(t){var r=j.useRef(null),n=v_e(t.date,t.displayMonth,r);return n.isHidden?e.jsx("div",{role:"gridcell"}):n.isButton?e.jsx(vb,fr({name:"day",ref:r},n.buttonProps)):e.jsx("div",fr({},n.divProps))}function b_e(t){var r=t.number,n=t.dates,s=Kn(),a=s.onWeekNumberClick,i=s.styles,o=s.classNames,l=s.locale,u=s.labels.labelWeekNumber,m=s.formatters.formatWeekNumber,f=m(Number(r),{locale:l});if(!a)return e.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:f});var p=u(Number(r),{locale:l}),g=function(b){a(r,n,b)};return e.jsx(vb,{name:"week-number","aria-label":p,className:o.weeknumber,style:i.weeknumber,onClick:g,children:f})}function j_e(t){var r,n,s=Kn(),a=s.styles,i=s.classNames,o=s.showWeekNumber,l=s.components,u=(r=l?.Day)!==null&&r!==void 0?r:y_e,m=(n=l?.WeekNumber)!==null&&n!==void 0?n:b_e,f;return o&&(f=e.jsx("td",{className:i.cell,style:a.cell,children:e.jsx(m,{number:t.weekNumber,dates:t.dates})})),e.jsxs("tr",{className:i.row,style:a.row,children:[f,t.dates.map(function(p){return e.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:e.jsx(u,{displayMonth:t.displayMonth,date:p})},nae(p))})]})}function q6(t,r,n){for(var s=n?.ISOWeek?eq(r):HP(r,n),a=n?.ISOWeek?nh(t):Pl(t,n),i=fl(s,a),o=[],l=0;l<=i;l++)o.push(Ha(a,l));var u=o.reduce(function(m,f){var p=n?.ISOWeek?tq(f):nq(f,n),g=m.find(function(b){return b.weekNumber===p});return g?(g.dates.push(f),m):(m.push({weekNumber:p,dates:[f]}),m)},[]);return u}function w_e(t,r){var n=q6(pi(t),hj(t),r);if(r?.useFixedWeeks){var s=aae(t,r);if(s<6){var a=n[n.length-1],i=a.dates[a.dates.length-1],o=ek(i,6-s),l=q6(ek(i,1),o,r);n.push.apply(n,l)}}return n}function __e(t){var r,n,s,a=Kn(),i=a.locale,o=a.classNames,l=a.styles,u=a.hideHead,m=a.fixedWeeks,f=a.components,p=a.weekStartsOn,g=a.firstWeekContainsDate,b=a.ISOWeek,y=w_e(t.displayMonth,{useFixedWeeks:!!m,ISOWeek:b,locale:i,weekStartsOn:p,firstWeekContainsDate:g}),_=(r=f?.Head)!==null&&r!==void 0?r:Fwe,w=(n=f?.Row)!==null&&n!==void 0?n:j_e,k=(s=f?.Footer)!==null&&s!==void 0?s:Dwe;return e.jsxs("table",{id:t.id,className:o.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!u&&e.jsx(_,{}),e.jsx("tbody",{className:o.tbody,style:l.tbody,children:y.map(function(A){return e.jsx(w,{displayMonth:t.displayMonth,dates:A.dates,weekNumber:A.weekNumber},A.weekNumber)})}),e.jsx(k,{displayMonth:t.displayMonth})]})}function N_e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var S_e=N_e()?j.useLayoutEffect:j.useEffect,lC=!1,C_e=0;function U6(){return"react-day-picker-".concat(++C_e)}function k_e(t){var r,n=t??(lC?U6():null),s=j.useState(n),a=s[0],i=s[1];return S_e(function(){a===null&&i(U6())},[]),j.useEffect(function(){lC===!1&&(lC=!0)},[]),(r=t??a)!==null&&r!==void 0?r:void 0}function A_e(t){var r,n,s=Kn(),a=s.dir,i=s.classNames,o=s.styles,l=s.components,u=Hg().displayMonths,m=k_e(s.id?"".concat(s.id,"-").concat(t.displayIndex):void 0),f=s.id?"".concat(s.id,"-grid-").concat(t.displayIndex):void 0,p=[i.month],g=o.month,b=t.displayIndex===0,y=t.displayIndex===u.length-1,_=!b&&!y;a==="rtl"&&(r=[b,y],y=r[0],b=r[1]),b&&(p.push(i.caption_start),g=fr(fr({},g),o.caption_start)),y&&(p.push(i.caption_end),g=fr(fr({},g),o.caption_end)),_&&(p.push(i.caption_between),g=fr(fr({},g),o.caption_between));var w=(n=l?.Caption)!==null&&n!==void 0?n:Mwe;return e.jsxs("div",{className:p.join(" "),style:g,children:[e.jsx(w,{id:m,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(__e,{id:f,"aria-labelledby":m,displayMonth:t.displayMonth})]},t.displayIndex)}function P_e(t){var r=Kn(),n=r.classNames,s=r.styles;return e.jsx("div",{className:n.months,style:s.months,children:t.children})}function T_e(t){var r,n,s=t.initialProps,a=Kn(),i=aT(),o=Hg(),l=j.useState(!1),u=l[0],m=l[1];j.useEffect(function(){a.initialFocus&&i.focusTarget&&(u||(i.focus(i.focusTarget),m(!0)))},[a.initialFocus,u,i.focus,i.focusTarget,i]);var f=[a.classNames.root,a.className];a.numberOfMonths>1&&f.push(a.classNames.multiple_months),a.showWeekNumber&&f.push(a.classNames.with_weeknumber);var p=fr(fr({},a.styles.root),a.style),g=Object.keys(s).filter(function(y){return y.startsWith("data-")}).reduce(function(y,_){var w;return fr(fr({},y),(w={},w[_]=s[_],w))},{}),b=(n=(r=s.components)===null||r===void 0?void 0:r.Months)!==null&&n!==void 0?n:P_e;return e.jsx("div",fr({className:f.join(" "),style:p,dir:a.dir,id:a.id,nonce:s.nonce,title:s.title,lang:s.lang},g,{children:e.jsx(b,{children:o.displayMonths.map(function(y,_){return e.jsx(A_e,{displayIndex:_,displayMonth:y},_)})})}))}function E_e(t){var r=t.children,n=twe(t,["children"]);return e.jsx(bwe,{initialProps:n,children:e.jsx(Twe,{children:e.jsx(u_e,{initialProps:n,children:e.jsx(zwe,{initialProps:n,children:e.jsx(Uwe,{initialProps:n,children:e.jsx(Qwe,{children:e.jsx(c_e,{children:r})})})})})})})}function O_e(t){return e.jsx(E_e,fr({},t,{children:e.jsx(T_e,{initialProps:t})}))}function _A({className:t,classNames:r,showOutsideDays:n=!0,...s}){return e.jsx(O_e,{showOutsideDays:n,className:He("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:He(Nx({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:He(Nx({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{IconLeft:({className:a,...i})=>e.jsx(QZ,{className:He("h-4 w-4",a),...i}),IconRight:({className:a,...i})=>e.jsx(GA,{className:He("h-4 w-4",a),...i})},...s})}_A.displayName="Calendar";var Zj="Popover",[zV]=ga(Zj,[Kd]),Gg=Kd(),[I_e,Jd]=zV(Zj),BV=t=>{const{__scopePopover:r,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=t,l=Gg(r),u=j.useRef(null),[m,f]=j.useState(!1),[p,g]=Sl({prop:s,defaultProp:a??!1,onChange:i,caller:Zj});return e.jsx(mP,{...l,children:e.jsx(I_e,{scope:r,contentId:qo(),triggerRef:u,open:p,onOpenChange:g,onOpenToggle:j.useCallback(()=>g(b=>!b),[g]),hasCustomAnchor:m,onCustomAnchorAdd:j.useCallback(()=>f(!0),[]),onCustomAnchorRemove:j.useCallback(()=>f(!1),[]),modal:o,children:n})})};BV.displayName=Zj;var qV="PopoverAnchor",M_e=j.forwardRef((t,r)=>{const{__scopePopover:n,...s}=t,a=Jd(qV,n),i=Gg(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return j.useEffect(()=>(o(),()=>l()),[o,l]),e.jsx(Ng,{...i,...s,ref:r})});M_e.displayName=qV;var UV="PopoverTrigger",VV=j.forwardRef((t,r)=>{const{__scopePopover:n,...s}=t,a=Jd(UV,n),i=Gg(n),o=_r(r,a.triggerRef),l=e.jsx(Vt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":ZV(a.open),...s,ref:o,onClick:wt(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:e.jsx(Ng,{asChild:!0,...i,children:l})});VV.displayName=UV;var oT="PopoverPortal",[D_e,R_e]=zV(oT,{forceMount:void 0}),KV=t=>{const{__scopePopover:r,forceMount:n,children:s,container:a}=t,i=Jd(oT,r);return e.jsx(D_e,{scope:r,forceMount:n,children:e.jsx(la,{present:n||i.open,children:e.jsx(Af,{asChild:!0,container:a,children:s})})})};KV.displayName=oT;var jf="PopoverContent",WV=j.forwardRef((t,r)=>{const n=R_e(jf,t.__scopePopover),{forceMount:s=n.forceMount,...a}=t,i=Jd(jf,t.__scopePopover);return e.jsx(la,{present:s||i.open,children:i.modal?e.jsx(F_e,{...a,ref:r}):e.jsx($_e,{...a,ref:r})})});WV.displayName=jf;var L_e=Dd("PopoverContent.RemoveScroll"),F_e=j.forwardRef((t,r)=>{const n=Jd(jf,t.__scopePopover),s=j.useRef(null),a=_r(r,s),i=j.useRef(!1);return j.useEffect(()=>{const o=s.current;if(o)return Qb(o)},[]),e.jsx(Cg,{as:L_e,allowPinchZoom:!0,children:e.jsx(HV,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:wt(t.onCloseAutoFocus,o=>{o.preventDefault(),i.current||n.triggerRef.current?.focus()}),onPointerDownOutside:wt(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,m=l.button===2||u;i.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:wt(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),$_e=j.forwardRef((t,r)=>{const n=Jd(jf,t.__scopePopover),s=j.useRef(!1),a=j.useRef(!1);return e.jsx(HV,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(s.current||n.triggerRef.current?.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;n.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),HV=j.forwardRef((t,r)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:f,...p}=t,g=Jd(jf,n),b=Gg(n);return Zb(),e.jsx(Sg,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(xh,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:m,onDismiss:()=>g.onOpenChange(!1),children:e.jsx(Vb,{"data-state":ZV(g.open),role:"dialog",id:g.contentId,...b,...p,ref:r,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),GV="PopoverClose",z_e=j.forwardRef((t,r)=>{const{__scopePopover:n,...s}=t,a=Jd(GV,n);return e.jsx(Vt.button,{type:"button",...s,ref:r,onClick:wt(t.onClick,()=>a.onOpenChange(!1))})});z_e.displayName=GV;var B_e="PopoverArrow",q_e=j.forwardRef((t,r)=>{const{__scopePopover:n,...s}=t,a=Gg(n);return e.jsx(Kb,{...a,...s,ref:r})});q_e.displayName=B_e;function ZV(t){return t?"open":"closed"}var U_e=BV,V_e=VV,K_e=KV,YV=WV;const V6=U_e,K6=V_e,NA=j.forwardRef(({className:t,align:r="center",sideOffset:n=4,...s},a)=>e.jsx(K_e,{children:e.jsx(YV,{ref:a,align:r,sideOffset:n,className:He("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...s})}));NA.displayName=YV.displayName;function W_e(){kr();const{toast:t}=or(),[r,n]=j.useState({startDate:new Date(new Date().setDate(new Date().getDate()-30)),endDate:new Date}),[s,a]=j.useState("financial"),{data:i,isLoading:o,refetch:l}=Ve({queryKey:["/api/admin/reports/financial",r.startDate.toISOString(),r.endDate.toISOString()],enabled:s==="financial"}),{data:u,isLoading:m,refetch:f}=Ve({queryKey:["/api/admin/reports/users",r.startDate.toISOString(),r.endDate.toISOString()],enabled:s==="users"}),{data:p,isLoading:g,refetch:b}=Ve({queryKey:["/api/admin/reports/content",r.startDate.toISOString(),r.endDate.toISOString()],enabled:s==="content"}),{data:y,isLoading:_,refetch:w}=Ve({queryKey:["/api/admin/reports/compliance",r.startDate.toISOString(),r.endDate.toISOString()],enabled:s==="compliance"}),k=ot({mutationFn:async({reportType:ne,format:K})=>{const ae=new URLSearchParams({startDate:r.startDate.toISOString(),endDate:r.endDate.toISOString(),format:K}),U=await fetch(`/api/admin/reports/${ne}?${ae}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(K==="csv"){const W=await U.text(),se=new Blob([W],{type:"text/csv"}),de=window.URL.createObjectURL(se),z=document.createElement("a");z.href=de,z.download=`${ne}-report-${Ir(new Date,"yyyy-MM-dd")}.csv`,z.click(),window.URL.revokeObjectURL(de)}return U},onSuccess:()=>{t({title:"Export Successful",description:"Report has been exported successfully."})},onError:()=>{t({title:"Export Failed",description:"Failed to export report. Please try again.",variant:"destructive"})}}),A={summary:{totalRevenue:285630.5,totalPayouts:142815.25,netRevenue:142815.25,transactionFees:8569.15,refunds:1250,chargebacks:350},chartData:[{date:"2024-01-01",revenue:12500,payouts:6250,transactions:85},{date:"2024-01-02",revenue:15200,payouts:7600,transactions:102},{date:"2024-01-03",revenue:13800,payouts:6900,transactions:94},{date:"2024-01-04",revenue:18500,payouts:9250,transactions:127},{date:"2024-01-05",revenue:16900,payouts:8450,transactions:115},{date:"2024-01-06",revenue:21200,payouts:10600,transactions:145},{date:"2024-01-07",revenue:19800,payouts:9900,transactions:136}],topCreators:[{name:"Sarah Johnson",revenue:15420.5,commission:3084.1},{name:"Mike Chen",revenue:12850.75,commission:2570.15},{name:"Emma Davis",revenue:11240.25,commission:2248.05}]},P={summary:{totalUsers:15742,newRegistrations:542,activeUsers:8945,retentionRate:68.5,avgSessionDuration:24.5,bounceRate:12.3},chartData:[{date:"2024-01-01",registrations:45,active:1250,sessions:2890},{date:"2024-01-02",registrations:62,active:1380,sessions:3120},{date:"2024-01-03",registrations:58,active:1295,sessions:2980},{date:"2024-01-04",registrations:73,active:1420,sessions:3250},{date:"2024-01-05",registrations:69,active:1365,sessions:3180},{date:"2024-01-06",registrations:81,active:1485,sessions:3420},{date:"2024-01-07",registrations:75,active:1445,sessions:3350}],demographics:[{ageGroup:"18-24",count:4520,percentage:28.7},{ageGroup:"25-34",count:6890,percentage:43.8},{ageGroup:"35-44",count:3124,percentage:19.9},{ageGroup:"45+",count:1208,percentage:7.7}]},O={summary:{totalContent:8945,newUploads:245,totalViews:425680,avgEngagement:78.5,flaggedContent:12,removedContent:3},chartData:[{date:"2024-01-01",uploads:32,views:15420,engagement:76.2},{date:"2024-01-02",uploads:41,views:18650,engagement:79.5},{date:"2024-01-03",uploads:38,views:17230,engagement:77.8},{date:"2024-01-04",uploads:45,views:21450,engagement:82.1},{date:"2024-01-05",uploads:43,views:20180,engagement:80.3},{date:"2024-01-06",uploads:52,views:24520,engagement:84.7},{date:"2024-01-07",uploads:48,views:22890,engagement:83.2}],contentTypes:[{type:"Photos",count:4520,percentage:50.5},{type:"Videos",count:2890,percentage:32.3},{type:"Audio",count:1245,percentage:13.9},{type:"Other",count:290,percentage:3.2}]},I={summary:{kycVerified:12458,kycPending:245,kycRejected:89,ageVerified:11890,agePending:156,compliance2257:98.5,complianceGDPR:99.8},chartData:[{date:"2024-01-01",kycSubmitted:25,kycApproved:22,kycRejected:2},{date:"2024-01-02",kycSubmitted:32,kycApproved:28,kycRejected:3},{date:"2024-01-03",kycSubmitted:28,kycApproved:25,kycRejected:2},{date:"2024-01-04",kycSubmitted:35,kycApproved:31,kycRejected:3},{date:"2024-01-05",kycSubmitted:31,kycApproved:27,kycRejected:3},{date:"2024-01-06",kycSubmitted:38,kycApproved:34,kycRejected:3},{date:"2024-01-07",kycSubmitted:36,kycApproved:32,kycRejected:3}],verificationStatus:[{status:"Verified",count:12458,color:"#10b981"},{status:"Pending",count:245,color:"#f59e0b"},{status:"Rejected",count:89,color:"#ef4444"}]},D=()=>{switch(s){case"financial":return i||A;case"users":return u||P;case"content":return p||O;case"compliance":return y||I;default:return null}},F=()=>u||P,B=()=>p||O,H=()=>y||I,re=()=>{switch(s){case"financial":return o;case"users":return m;case"content":return g;case"compliance":return _;default:return!1}},G=()=>{switch(s){case"financial":l();break;case"users":f();break;case"content":b();break;case"compliance":w();break}},J=ne=>{k.mutate({reportType:s,format:ne})},Z=ne=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ne);return re()?e.jsxs("div",{className:"space-y-6","data-testid":"reports-loading",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Reports & Analytics"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wn,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading..."})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((ne,K)=>e.jsx(Y,{className:"animate-pulse",children:e.jsxs(ue,{className:"space-y-0 pb-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mt-2"})]})},K))})]}):e.jsxs("div",{className:"space-y-6","data-testid":"admin-reports",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold","data-testid":"reports-title",children:"Reports & Analytics"}),e.jsx("p",{className:"text-muted-foreground","data-testid":"reports-subtitle",children:"Comprehensive reporting and analytics dashboard"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",onClick:G,"data-testid":"button-refresh-report",children:[e.jsx(wn,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),e.jsxs(Y,{"data-testid":"card-date-range",children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(ys,{className:"h-5 w-5"}),"Date Range"]}),e.jsx(lt,{children:"Select the date range for your reports"})]}),e.jsx(ee,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(et,{htmlFor:"start-date",children:"Start Date"}),e.jsxs(V6,{children:[e.jsx(K6,{asChild:!0,children:e.jsxs(V,{id:"start-date",variant:"outline",className:He("w-[240px] justify-start text-left font-normal",!r.startDate&&"text-muted-foreground"),"data-testid":"button-start-date",children:[e.jsx(ys,{className:"mr-2 h-4 w-4"}),r.startDate?Ir(r.startDate,"PPP"):"Pick a date"]})}),e.jsx(NA,{className:"w-auto p-0",align:"start",children:e.jsx(_A,{mode:"single",selected:r.startDate,onSelect:ne=>ne&&n(K=>({...K,startDate:ne})),initialFocus:!0})})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(et,{htmlFor:"end-date",children:"End Date"}),e.jsxs(V6,{children:[e.jsx(K6,{asChild:!0,children:e.jsxs(V,{id:"end-date",variant:"outline",className:He("w-[240px] justify-start text-left font-normal",!r.endDate&&"text-muted-foreground"),"data-testid":"button-end-date",children:[e.jsx(ys,{className:"mr-2 h-4 w-4"}),r.endDate?Ir(r.endDate,"PPP"):"Pick a date"]})}),e.jsx(NA,{className:"w-auto p-0",align:"start",children:e.jsx(_A,{mode:"single",selected:r.endDate,onSelect:ne=>ne&&n(K=>({...K,endDate:ne})),initialFocus:!0})})]})]}),e.jsxs("div",{className:"flex gap-2 mt-6",children:[e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>J("json"),disabled:k.isPending,"data-testid":"button-export-json",children:[e.jsx($n,{className:"h-4 w-4 mr-2"}),"JSON"]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>J("csv"),disabled:k.isPending,"data-testid":"button-export-csv",children:[e.jsx(sY,{className:"h-4 w-4 mr-2"}),"CSV"]})]})]})})]}),e.jsxs(Xs,{value:s,onValueChange:a,className:"space-y-6","data-testid":"reports-tabs",children:[e.jsxs(zs,{className:"grid w-full grid-cols-4",children:[e.jsxs(Kt,{value:"financial","data-testid":"tab-financial",children:[e.jsx(qr,{className:"h-4 w-4 mr-2"}),"Financial"]}),e.jsxs(Kt,{value:"users","data-testid":"tab-users",children:[e.jsx(lr,{className:"h-4 w-4 mr-2"}),"Users"]}),e.jsxs(Kt,{value:"content","data-testid":"tab-content",children:[e.jsx(LC,{className:"h-4 w-4 mr-2"}),"Content"]}),e.jsxs(Kt,{value:"compliance","data-testid":"tab-compliance",children:[e.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Compliance"]})]}),e.jsxs(Qt,{value:"financial",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(Y,{"data-testid":"card-total-revenue",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Total Revenue"}),e.jsx(qr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"metric-total-revenue",children:Z(D()?.summary?.totalRevenue||0)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+12.5% from last period"})]})]}),e.jsxs(Y,{"data-testid":"card-total-payouts",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Total Payouts"}),e.jsx($F,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"metric-total-payouts",children:Z(D()?.summary?.totalPayouts||0)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"50% of total revenue"})]})]}),e.jsxs(Y,{"data-testid":"card-net-revenue",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Net Revenue"}),e.jsx(yn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"metric-net-revenue",children:Z(D()?.summary?.netRevenue||0)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"After payouts and fees"})]})]})]}),e.jsxs(Y,{"data-testid":"card-revenue-chart",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Revenue Trends"}),e.jsx(lt,{children:"Daily revenue and payout trends"})]}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:400,children:e.jsxs(bf,{data:D()?.chartData||[],children:[e.jsx(Ps,{strokeDasharray:"3 3"}),e.jsx(Yn,{dataKey:"date"}),e.jsx(Qn,{}),e.jsx(Br,{}),e.jsx(Xa,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6}),e.jsx(Xa,{type:"monotone",dataKey:"payouts",stackId:"1",stroke:"#82ca9d",fill:"#82ca9d",fillOpacity:.6})]})})})]})]}),e.jsxs(Qt,{value:"users",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(Y,{"data-testid":"card-total-users",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Total Users"}),e.jsx(lr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"metric-total-users",children:D()?.summary?.totalUsers?.toLocaleString()||"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Platform registered users"})]})]}),e.jsxs(Y,{"data-testid":"card-new-registrations",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"New Registrations"}),e.jsx(yn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"metric-new-registrations",children:D()?.summary?.newRegistrations?.toLocaleString()||"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"In selected period"})]})]}),e.jsxs(Y,{"data-testid":"card-retention-rate",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Retention Rate"}),e.jsx($o,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsxs("div",{className:"text-2xl font-bold","data-testid":"metric-retention-rate",children:[D()?.summary?.retentionRate||0,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly retention rate"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(Y,{"data-testid":"card-user-activity-chart",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"User Activity"}),e.jsx(lt,{children:"Daily registrations and active users"})]}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(Vg,{data:D()?.chartData||[],children:[e.jsx(Ps,{strokeDasharray:"3 3"}),e.jsx(Yn,{dataKey:"date"}),e.jsx(Qn,{}),e.jsx(Br,{}),e.jsx(fo,{type:"monotone",dataKey:"registrations",stroke:"#8884d8"}),e.jsx(fo,{type:"monotone",dataKey:"active",stroke:"#82ca9d"})]})})})]}),e.jsxs(Y,{"data-testid":"card-demographics-chart",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"User Demographics"}),e.jsx(lt,{children:"Age group distribution"})]}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(wc,{children:[e.jsx(xa,{data:F()?.demographics||[],cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"count",label:({ageGroup:ne,percentage:K})=>`${ne}: ${K}%`,children:(F()?.demographics||[]).map((ne,K)=>e.jsx(ho,{fill:["#8884d8","#82ca9d","#ffc658","#ff7300"][K%4]},`cell-${K}`))}),e.jsx(Br,{})]})})})]})]})]}),e.jsxs(Qt,{value:"content",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(Y,{"data-testid":"card-total-content",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Total Content"}),e.jsx(LC,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"metric-total-content",children:D()?.summary?.totalContent?.toLocaleString()||"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All content items"})]})]}),e.jsxs(Y,{"data-testid":"card-total-views",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Total Views"}),e.jsx(pr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"metric-total-views",children:D()?.summary?.totalViews?.toLocaleString()||"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Content views"})]})]}),e.jsxs(Y,{"data-testid":"card-avg-engagement",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Avg Engagement"}),e.jsx($o,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsxs("div",{className:"text-2xl font-bold","data-testid":"metric-avg-engagement",children:[D()?.summary?.avgEngagement||0,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Engagement rate"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(Y,{"data-testid":"card-content-trends-chart",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Content Trends"}),e.jsx(lt,{children:"Daily content uploads and engagement"})]}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(Tc,{data:D()?.chartData||[],children:[e.jsx(Ps,{strokeDasharray:"3 3"}),e.jsx(Yn,{dataKey:"date"}),e.jsx(Qn,{}),e.jsx(Br,{}),e.jsx(Ia,{dataKey:"uploads",fill:"#8884d8"})]})})})]}),e.jsxs(Y,{"data-testid":"card-content-types-chart",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Content Types"}),e.jsx(lt,{children:"Distribution by content type"})]}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(wc,{children:[e.jsx(xa,{data:B()?.contentTypes||[],cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"count",label:({type:ne,percentage:K})=>`${ne}: ${K}%`,children:(B()?.contentTypes||[]).map((ne,K)=>e.jsx(ho,{fill:["#8884d8","#82ca9d","#ffc658","#ff7300"][K%4]},`cell-${K}`))}),e.jsx(Br,{})]})})})]})]})]}),e.jsxs(Qt,{value:"compliance",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(Y,{"data-testid":"card-kyc-verified",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"KYC Verified"}),e.jsx(Mr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"metric-kyc-verified",children:D()?.summary?.kycVerified?.toLocaleString()||"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Verified users"})]})]}),e.jsxs(Y,{"data-testid":"card-kyc-pending",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"KYC Pending"}),e.jsx($o,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"metric-kyc-pending",children:D()?.summary?.kycPending?.toLocaleString()||"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending verification"})]})]}),e.jsxs(Y,{"data-testid":"card-2257-compliance",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"2257 Compliance"}),e.jsx(Cn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsxs("div",{className:"text-2xl font-bold","data-testid":"metric-2257-compliance",children:[D()?.summary?.compliance2257||0,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Compliance rate"})]})]}),e.jsxs(Y,{"data-testid":"card-gdpr-compliance",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"GDPR Compliance"}),e.jsx(Mr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsxs("div",{className:"text-2xl font-bold","data-testid":"metric-gdpr-compliance",children:[D()?.summary?.complianceGDPR||0,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"GDPR compliance"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(Y,{"data-testid":"card-verification-trends-chart",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Verification Trends"}),e.jsx(lt,{children:"Daily KYC submissions and approvals"})]}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(bf,{data:D()?.chartData||[],children:[e.jsx(Ps,{strokeDasharray:"3 3"}),e.jsx(Yn,{dataKey:"date"}),e.jsx(Qn,{}),e.jsx(Br,{}),e.jsx(Xa,{type:"monotone",dataKey:"kycSubmitted",stackId:"1",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6}),e.jsx(Xa,{type:"monotone",dataKey:"kycApproved",stackId:"1",stroke:"#82ca9d",fill:"#82ca9d",fillOpacity:.6})]})})})]}),e.jsxs(Y,{"data-testid":"card-verification-status-chart",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Verification Status"}),e.jsx(lt,{children:"Current verification status distribution"})]}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(wc,{children:[e.jsx(xa,{data:H()?.verificationStatus||[],cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"count",label:!0,children:(H()?.verificationStatus||[]).map((ne,K)=>e.jsx(ho,{fill:ne.color},`cell-${K}`))}),e.jsx(Br,{})]})})})]})]})]})]})]})}function H_e(){const{user:t}=kr(),{toast:r}=or(),[n,s]=j.useState(""),[a,i]=j.useState("all"),[o,l]=j.useState("all"),[u,m]=j.useState("all"),[f,p]=j.useState("all"),[g,b]=j.useState("all"),[y,_]=j.useState("all"),[w,k]=j.useState("all"),[A,P]=j.useState("all"),[O,I]=j.useState(1),[D,F]=j.useState(20),[B,H]=j.useState("createdAt"),[re,G]=j.useState("desc"),[J,Z]=j.useState([]),[ne,K]=j.useState(!1),[ae,U]=j.useState(!1),[W,se]=j.useState(!1),[de,z]=j.useState(!1),[oe,Ce]=j.useState(!1),[ke,_e]=j.useState(null),[Le,je]=j.useState(""),[Xe,qe]=j.useState(""),[tt,St]=j.useState(""),{data:Oe,isLoading:qt,error:Et,refetch:sr}=Ve({queryKey:["/api/admin/posts",{searchQuery:n,type:a!=="all"?a:void 0,status:o!=="all"?o:void 0,visibility:u!=="all"?u:void 0,creatorId:f!=="all"?f:void 0,categoryId:g!=="all"?g:void 0,dateRange:y!=="all"?y:void 0,moderationStatus:w!=="all"?w:void 0,revenueRange:A!=="all"?A:void 0,page:O,pageSize:D,sortBy:B,sortOrder:re}],enabled:t?.role==="admin"||t?.role==="moderator"}),{data:Jt}=Ve({queryKey:["/api/admin/posts/stats"],enabled:t?.role==="admin"||t?.role==="moderator"}),{data:gr}=Ve({queryKey:["/api/admin/creators"],enabled:t?.role==="admin"||t?.role==="moderator"}),{data:Hr}=Ve({queryKey:["/api/admin/categories"],enabled:t?.role==="admin"||t?.role==="moderator"}),Jr=Oe?.posts||[],me=Oe?.total||0,Ne=Math.ceil(me/D),Ie=ot({mutationFn:at=>Ze("/api/admin/posts/moderate",{method:"POST",body:JSON.stringify(at)}),onSuccess:()=>{r({title:"Post moderated successfully"}),Rt.invalidateQueries({queryKey:["/api/admin/posts"]}),se(!1)},onError:()=>{r({title:"Failed to moderate post",variant:"destructive"})}}),ht=ot({mutationFn:at=>Ze("/api/admin/posts/bulk",{method:"POST",body:JSON.stringify(at)}),onSuccess:()=>{r({title:"Bulk operation completed successfully"}),Rt.invalidateQueries({queryKey:["/api/admin/posts"]}),Z([]),z(!1)},onError:()=>{r({title:"Bulk operation failed",variant:"destructive"})}});ot({mutationFn:at=>Ze(`/api/admin/posts/${at.postId}`,{method:"PATCH",body:JSON.stringify(at.updates)}),onSuccess:()=>{r({title:"Post updated successfully"}),Rt.invalidateQueries({queryKey:["/api/admin/posts"]}),U(!1)},onError:()=>{r({title:"Failed to update post",variant:"destructive"})}});const dt=ot({mutationFn:at=>Ze(`/api/admin/posts/${at}`,{method:"DELETE"}),onSuccess:()=>{r({title:"Post deleted successfully"}),Rt.invalidateQueries({queryKey:["/api/admin/posts"]})},onError:()=>{r({title:"Failed to delete post",variant:"destructive"})}}),Je=at=>{switch(at){case"photo":return e.jsx(YA,{className:"w-4 h-4"});case"video":return e.jsx(As,{className:"w-4 h-4"});case"audio":return e.jsx($b,{className:"w-4 h-4"});case"text":return e.jsx(Cn,{className:"w-4 h-4"});case"reel":return e.jsx(gi,{className:"w-4 h-4"});case"story":return e.jsx(wr,{className:"w-4 h-4"});case"live":return e.jsx($o,{className:"w-4 h-4"});default:return e.jsx(Cn,{className:"w-4 h-4"})}},ze=at=>{switch(at){case"photo":return"bg-blue-500 text-white";case"video":return"bg-purple-500 text-white";case"audio":return"bg-green-500 text-white";case"text":return"bg-gray-500 text-white";case"reel":return"bg-orange-500 text-white";case"story":return"bg-pink-500 text-white";case"live":return"bg-red-500 text-white";default:return"bg-muted text-muted-foreground"}},Gt=at=>{switch(at){case"free":return e.jsx(ce,{className:"bg-green-500 text-white",children:"Free"});case"premium":return e.jsx(ce,{className:"bg-yellow-500 text-white",children:"Premium"});case"subscribers_only":return e.jsx(ce,{className:"bg-purple-500 text-white",children:"Subscribers"});default:return e.jsx(ce,{variant:"outline",children:"Unknown"})}},rr=at=>at.moderationStatus==="approved"?e.jsxs(ce,{className:"bg-green-500 text-white",children:[e.jsx(Cr,{className:"w-3 h-3 mr-1"}),"Approved"]}):at.moderationStatus==="rejected"?e.jsxs(ce,{className:"bg-red-500 text-white",children:[e.jsx(Ln,{className:"w-3 h-3 mr-1"}),"Rejected"]}):at.moderationStatus==="flagged"?e.jsxs(ce,{className:"bg-orange-500 text-white",children:[e.jsx(Lo,{className:"w-3 h-3 mr-1"}),"Flagged"]}):e.jsxs(ce,{className:"bg-yellow-500 text-white",children:[e.jsx(wr,{className:"w-3 h-3 mr-1"}),"Pending"]}),Rn=(at,dn)=>{Z(dn?[...J,at]:J.filter(ft=>ft!==at))},as=at=>{Z(at?Jr.map(dn=>dn.id):[])},Gr=at=>{je(at),z(!0)},$a=()=>{let at={};Le==="moderate"&&(at.reason=Xe,at.notes=tt),ht.mutate({postIds:J,operation:Le,data:at})},_s=j.useMemo(()=>n?Jr.filter(at=>at.title?.toLowerCase().includes(n.toLowerCase())||at.content?.toLowerCase().includes(n.toLowerCase())||at.creator?.username?.toLowerCase().includes(n.toLowerCase())||at.hashtags?.some(dn=>dn.toLowerCase().includes(n.toLowerCase()))):Jr,[Jr,n]);return t?.role!=="admin"&&t?.role!=="moderator"?e.jsx("div",{className:"space-y-6","data-testid":"access-denied",children:e.jsxs(bn,{className:"border-destructive/50 bg-destructive/10",children:[e.jsx(Qr,{className:"h-4 w-4 text-destructive"}),e.jsx(jn,{className:"text-destructive",children:"Access denied. Admin or moderator privileges required to manage posts."})]})}):Et?e.jsx("div",{className:"space-y-6",children:e.jsxs(bn,{className:"border-destructive/50 bg-destructive/10",children:[e.jsx(Qr,{className:"h-4 w-4 text-destructive"}),e.jsx(jn,{className:"text-destructive",children:"Failed to load posts. Please try again."})]})}):e.jsxs("div",{className:"space-y-6","data-testid":"posts-management-page",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-display","data-testid":"page-title",children:"Posts Management"}),e.jsx("p",{className:"text-muted-foreground","data-testid":"page-description",children:"Comprehensive content moderation and analytics dashboard"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",className:"gap-2",onClick:()=>Ce(!0),children:[e.jsx(gl,{className:"h-4 w-4"}),"Analytics"]}),e.jsxs(V,{variant:"outline",className:"gap-2",children:[e.jsx($n,{className:"h-4 w-4"}),"Export Posts"]}),e.jsxs(V,{variant:"outline",className:"gap-2",onClick:()=>sr(),children:[e.jsx(wn,{className:"h-4 w-4"}),"Refresh"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-8 gap-4",children:[e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(Cn,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Posts"}),e.jsx("p",{className:"text-xl font-bold","data-testid":"total-posts",children:Jt?.totalPosts||me})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-yellow-500/10 rounded-lg flex items-center justify-center",children:e.jsx(wr,{className:"h-5 w-5 text-yellow-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending Review"}),e.jsx("p",{className:"text-xl font-bold text-yellow-500","data-testid":"pending-posts",children:Jt?.pendingPosts||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:e.jsx(Cr,{className:"h-5 w-5 text-green-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Approved"}),e.jsx("p",{className:"text-xl font-bold text-green-500","data-testid":"approved-posts",children:Jt?.approvedPosts||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-red-500/10 rounded-lg flex items-center justify-center",children:e.jsx(Ln,{className:"h-5 w-5 text-red-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Rejected"}),e.jsx("p",{className:"text-xl font-bold text-red-500","data-testid":"rejected-posts",children:Jt?.rejectedPosts||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:e.jsx(Lo,{className:"h-5 w-5 text-orange-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Flagged"}),e.jsx("p",{className:"text-xl font-bold text-orange-500","data-testid":"flagged-posts",children:Jt?.flaggedPosts||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:e.jsx(yn,{className:"h-5 w-5 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Views"}),e.jsx("p",{className:"text-xl font-bold text-blue-500","data-testid":"total-views",children:Jt?.totalViews?.toLocaleString()||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:e.jsx(qr,{className:"h-5 w-5 text-purple-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Revenue"}),e.jsxs("p",{className:"text-xl font-bold text-purple-500","data-testid":"total-revenue",children:["$",(Jt?.totalRevenue||0).toLocaleString()]})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-cyan-500/10 rounded-lg flex items-center justify-center",children:e.jsx(ys,{className:"h-5 w-5 text-cyan-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Today"}),e.jsx("p",{className:"text-xl font-bold text-cyan-500","data-testid":"posts-today",children:Jt?.postsToday||0})]})]})})})]}),e.jsxs(Y,{className:"bg-card border-border",children:[e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(fe,{children:"Advanced Content Filtering & Moderation"}),e.jsx(lt,{children:"Use multiple filters to efficiently moderate and analyze content"})]}),J.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ce,{variant:"secondary",children:[J.length," selected"]}),e.jsxs(ns,{children:[e.jsx(ss,{asChild:!0,children:e.jsx(V,{variant:"outline",size:"sm",children:"Bulk Actions"})}),e.jsxs(es,{children:[e.jsxs(rt,{onClick:()=>Gr("approve"),children:[e.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Approve Posts"]}),e.jsxs(rt,{onClick:()=>Gr("reject"),children:[e.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Reject Posts"]}),e.jsxs(rt,{onClick:()=>Gr("flag"),children:[e.jsx(Lo,{className:"h-4 w-4 mr-2"}),"Flag Posts"]}),e.jsxs(rt,{onClick:()=>Gr("feature"),children:[e.jsx(An,{className:"h-4 w-4 mr-2"}),"Feature Posts"]}),e.jsxs(rt,{onClick:()=>Gr("delete"),children:[e.jsx(Bo,{className:"h-4 w-4 mr-2"}),"Delete Posts"]}),e.jsxs(rt,{onClick:()=>Gr("export"),children:[e.jsx($n,{className:"h-4 w-4 mr-2"}),"Export Selected"]})]})]})]})]})}),e.jsxs(ee,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-8 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ue,{placeholder:"Search posts...",value:n,onChange:at=>s(at.target.value),className:"pl-10","data-testid":"post-search-input"})]}),e.jsxs(yt,{value:a,onValueChange:i,children:[e.jsx(xt,{"data-testid":"type-filter",children:e.jsx(bt,{placeholder:"Post Type"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Types"}),e.jsx(Q,{value:"photo",children:"Photo"}),e.jsx(Q,{value:"video",children:"Video"}),e.jsx(Q,{value:"audio",children:"Audio"}),e.jsx(Q,{value:"text",children:"Text"}),e.jsx(Q,{value:"reel",children:"Reel"}),e.jsx(Q,{value:"story",children:"Story"}),e.jsx(Q,{value:"live",children:"Live"})]})]}),e.jsxs(yt,{value:u,onValueChange:m,children:[e.jsx(xt,{"data-testid":"visibility-filter",children:e.jsx(bt,{placeholder:"Visibility"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Visibility"}),e.jsx(Q,{value:"free",children:"Free"}),e.jsx(Q,{value:"premium",children:"Premium"}),e.jsx(Q,{value:"subscribers_only",children:"Subscribers Only"})]})]}),e.jsxs(yt,{value:w,onValueChange:k,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Moderation"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Status"}),e.jsx(Q,{value:"pending",children:"Pending Review"}),e.jsx(Q,{value:"approved",children:"Approved"}),e.jsx(Q,{value:"rejected",children:"Rejected"}),e.jsx(Q,{value:"flagged",children:"Flagged"})]})]}),e.jsxs(yt,{value:f,onValueChange:p,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Creator"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Creators"}),gr?.map(at=>e.jsx(Q,{value:at.id,children:at.username||at.displayName},at.id))]})]}),e.jsxs(yt,{value:g,onValueChange:b,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Category"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Categories"}),Hr?.map(at=>e.jsx(Q,{value:at.id,children:at.name},at.id))]})]}),e.jsxs(yt,{value:y,onValueChange:_,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Date Range"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Time"}),e.jsx(Q,{value:"today",children:"Today"}),e.jsx(Q,{value:"week",children:"This Week"}),e.jsx(Q,{value:"month",children:"This Month"}),e.jsx(Q,{value:"quarter",children:"This Quarter"})]})]}),e.jsxs(yt,{value:A,onValueChange:P,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Revenue"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Revenue"}),e.jsx(Q,{value:"free",children:"Free Only"}),e.jsx(Q,{value:"paid",children:"Paid Only"}),e.jsx(Q,{value:"high",children:"High Revenue"})]})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(Ta,{children:[e.jsx(Ea,{children:e.jsxs(Sr,{children:[e.jsx(We,{className:"w-12",children:e.jsx(Jn,{checked:J.length===Jr.length&&Jr.length>0,onCheckedChange:as})}),e.jsx(We,{children:"Content"}),e.jsx(We,{children:"Creator"}),e.jsx(We,{children:"Type & Visibility"}),e.jsx(We,{children:"Status"}),e.jsx(We,{children:"Engagement"}),e.jsx(We,{children:"Revenue"}),e.jsx(We,{children:"Date"}),e.jsx(We,{className:"w-32",children:"Actions"})]})}),e.jsx(Oa,{children:qt?Array.from({length:5}).map((at,dn)=>e.jsx(Sr,{children:e.jsx(Be,{colSpan:9,children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-12 w-12 bg-muted rounded animate-pulse"}),e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"h-3 bg-muted rounded w-2/3 animate-pulse"})]})]})})},dn)):_s.length===0?e.jsx(Sr,{children:e.jsxs(Be,{colSpan:9,className:"text-center py-12",children:[e.jsx("div",{className:"h-16 w-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Cn,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No posts found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search criteria or filters."})]})}):_s.map(at=>e.jsxs(Sr,{"data-testid":`post-row-${at.id}`,children:[e.jsx(Be,{children:e.jsx(Jn,{checked:J.includes(at.id),onCheckedChange:dn=>Rn(at.id,dn)})}),e.jsx(Be,{children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-muted rounded-lg overflow-hidden flex-shrink-0",children:at.thumbnailUrl?e.jsx("img",{src:at.thumbnailUrl,alt:at.title,className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full flex items-center justify-center",children:Je(at.type)})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-medium truncate","data-testid":`post-title-${at.id}`,children:at.title||"Untitled"}),e.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[at.content?.substring(0,60),"..."]}),at.hashtags?.length>0&&e.jsxs("div",{className:"flex gap-1 mt-1",children:[at.hashtags.slice(0,2).map((dn,ft)=>e.jsxs(ce,{variant:"outline",className:"text-xs",children:["#",dn]},ft)),at.hashtags.length>2&&e.jsxs(ce,{variant:"outline",className:"text-xs",children:["+",at.hashtags.length-2]})]})]})]})}),e.jsx(Be,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:at.creator?.profileImageUrl||"/default-avatar.png",alt:at.creator?.username,className:"h-8 w-8 rounded-full ring-2 ring-primary/20"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:at.creator?.username}),e.jsx("p",{className:"text-xs text-muted-foreground",children:at.creator?.role})]})]})}),e.jsx(Be,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs(ce,{className:cn("text-xs",ze(at.type)),children:[Je(at.type),e.jsx("span",{className:"ml-1 capitalize",children:at.type})]}),Gt(at.visibility)]})}),e.jsx(Be,{children:rr(at)}),e.jsx(Be,{children:e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(pr,{className:"h-3 w-3"}),at.viewsCount?.toLocaleString()||0]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(fi,{className:"h-3 w-3"}),at.commentsCount||0]})]})}),e.jsxs(Be,{children:[e.jsxs("div",{className:"text-sm font-medium",children:["$",((at.priceCents||0)/100).toFixed(2)]}),at.totalEarnings&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Earned: $",(at.totalEarnings/100).toFixed(2)]})]}),e.jsxs(Be,{children:[e.jsx("div",{className:"text-sm",children:Ir(new Date(at.createdAt),"MMM d, yyyy")}),e.jsx("div",{className:"text-xs text-muted-foreground",children:Ir(new Date(at.createdAt),"h:mm a")})]}),e.jsx(Be,{children:e.jsxs(ns,{children:[e.jsx(ss,{asChild:!0,children:e.jsx(V,{variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(Ja,{className:"h-4 w-4"})})}),e.jsxs(es,{align:"end",children:[e.jsxs(rt,{onClick:()=>{_e(at),U(!0)},children:[e.jsx(pr,{className:"h-4 w-4 mr-2"}),"View Details"]}),e.jsxs(rt,{onClick:()=>{_e(at),se(!0)},children:[e.jsx(Lo,{className:"h-4 w-4 mr-2"}),"Moderate"]}),e.jsxs(rt,{children:[e.jsx(Ko,{className:"h-4 w-4 mr-2"}),"Edit Post"]}),e.jsx(lo,{}),e.jsxs(rt,{className:"text-destructive",onClick:()=>dt.mutate(at.id),children:[e.jsx(Bo,{className:"h-4 w-4 mr-2"}),"Delete Post"]})]})]})})]},at.id))})]})}),Ne>1&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(O-1)*D+1," to ",Math.min(O*D,me)," of ",me," posts"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{variant:"outline",size:"sm",onClick:()=>I(Math.max(1,O-1)),disabled:O===1,children:"Previous"}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,Ne)},(at,dn)=>{const ft=dn+1;return e.jsx(V,{variant:O===ft?"default":"outline",size:"sm",onClick:()=>I(ft),className:"w-8 h-8",children:ft},ft)})}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>I(Math.min(Ne,O+1)),disabled:O===Ne,children:"Next"})]})]})]})]}),e.jsx(Ur,{open:W,onOpenChange:se,children:e.jsxs(Lr,{children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Moderate Post"}),e.jsx(Wr,{children:"Review and moderate this post. Your decision will be logged for audit purposes."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Action"}),e.jsxs(yt,{value:Xe,onValueChange:qe,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Select moderation action"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"approve",children:"Approve Post"}),e.jsx(Q,{value:"reject",children:"Reject Post"}),e.jsx(Q,{value:"flag",children:"Flag for Review"}),e.jsx(Q,{value:"feature",children:"Feature Post"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Notes"}),e.jsx(on,{placeholder:"Add moderation notes...",value:tt,onChange:at=>St(at.target.value)})]})]}),e.jsxs(pa,{children:[e.jsx(V,{variant:"outline",onClick:()=>se(!1),children:"Cancel"}),e.jsx(V,{onClick:()=>{Ie.mutate({postId:ke?.id,action:Xe,notes:tt})},children:"Apply Moderation"})]})]})}),e.jsx(Ur,{open:de,onOpenChange:z,children:e.jsxs(Lr,{children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Bulk Operation"}),e.jsxs(Wr,{children:["Apply ",Le," to ",J.length," selected posts."]})]}),e.jsx("div",{className:"space-y-4",children:Le==="moderate"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Reason"}),e.jsx(on,{placeholder:"Reason for moderation...",value:Xe,onChange:at=>qe(at.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Notes"}),e.jsx(on,{placeholder:"Additional notes...",value:tt,onChange:at=>St(at.target.value)})]})]})}),e.jsxs(pa,{children:[e.jsx(V,{variant:"outline",onClick:()=>z(!1),children:"Cancel"}),e.jsxs(V,{onClick:$a,children:["Execute ",Le]})]})]})})]})}function G_e(){const{user:t}=kr(),{toast:r}=or(),[n,s]=j.useState(""),[a,i]=j.useState("all"),[o,l]=j.useState("all"),[u,m]=j.useState("all"),[f,p]=j.useState("all"),[g,b]=j.useState("all"),[y,_]=j.useState("all"),[w,k]=j.useState("all"),[A,P]=j.useState(1),[O,I]=j.useState(20),[D,F]=j.useState("createdAt"),[B,H]=j.useState("desc"),[re,G]=j.useState([]),[J,Z]=j.useState(!1),[ne,K]=j.useState(!1),[ae,U]=j.useState(!1),[W,se]=j.useState(!1),[de,z]=j.useState(!1),[oe,Ce]=j.useState(!1),[ke,_e]=j.useState(!1),[Le,je]=j.useState(null),[Xe,qe]=j.useState(""),[tt,St]=j.useState(""),[Oe,qt]=j.useState(""),[Et,sr]=j.useState(!0),{data:Jt,isLoading:gr,error:Hr,refetch:Jr}=Ve({queryKey:["/api/admin/streams",{searchQuery:n,status:a!=="all"?a:void 0,type:o!=="all"?o:void 0,creatorId:u!=="all"?u:void 0,quality:f!=="all"?f:void 0,duration:g!=="all"?g:void 0,viewerRange:y!=="all"?y:void 0,revenueRange:w!=="all"?w:void 0,page:A,pageSize:O,sortBy:D,sortOrder:B}],enabled:t?.role==="admin"||t?.role==="moderator",refetchInterval:Et?3e4:!1}),{data:me}=Ve({queryKey:["/api/admin/streams/stats"],enabled:t?.role==="admin"||t?.role==="moderator",refetchInterval:Et?1e4:!1}),{data:Ne}=Ve({queryKey:["/api/admin/streams/live-analytics"],enabled:t?.role==="admin"||t?.role==="moderator",refetchInterval:Et?5e3:!1}),{data:Ie}=Ve({queryKey:["/api/admin/creators"],enabled:t?.role==="admin"||t?.role==="moderator"}),ht=Jt?.streams||[],dt=Jt?.total||0,Je=Math.ceil(dt/O),ze=ot({mutationFn:Qe=>Ze("/api/admin/streams/terminate",{method:"POST",body:JSON.stringify(Qe)}),onSuccess:()=>{r({title:"Stream terminated successfully"}),Rt.invalidateQueries({queryKey:["/api/admin/streams"]})},onError:()=>{r({title:"Failed to terminate stream",variant:"destructive"})}}),Gt=ot({mutationFn:Qe=>Ze("/api/admin/streams/moderate",{method:"POST",body:JSON.stringify(Qe)}),onSuccess:()=>{r({title:"Stream moderated successfully"}),Rt.invalidateQueries({queryKey:["/api/admin/streams"]}),U(!1)},onError:()=>{r({title:"Failed to moderate stream",variant:"destructive"})}}),rr=ot({mutationFn:Qe=>Ze("/api/admin/streams/bulk",{method:"POST",body:JSON.stringify(Qe)}),onSuccess:()=>{r({title:"Bulk operation completed successfully"}),Rt.invalidateQueries({queryKey:["/api/admin/streams"]}),G([]),se(!1)},onError:()=>{r({title:"Bulk operation failed",variant:"destructive"})}});ot({mutationFn:Qe=>Ze(`/api/admin/streams/${Qe.streamId}`,{method:"PATCH",body:JSON.stringify(Qe.updates)}),onSuccess:()=>{r({title:"Stream updated successfully"}),Rt.invalidateQueries({queryKey:["/api/admin/streams"]}),K(!1)},onError:()=>{r({title:"Failed to update stream",variant:"destructive"})}});const Rn=Qe=>{switch(Qe){case"live":return e.jsxs(ce,{className:"bg-red-500 text-white animate-pulse",children:[e.jsx(XO,{className:"w-3 h-3 mr-1"}),"Live"]});case"scheduled":return e.jsxs(ce,{className:"bg-blue-500 text-white",children:[e.jsx(ys,{className:"w-3 h-3 mr-1"}),"Scheduled"]});case"ended":return e.jsxs(ce,{className:"bg-gray-500 text-white",children:[e.jsx(F_,{className:"w-3 h-3 mr-1"}),"Ended"]});case"cancelled":return e.jsxs(ce,{className:"bg-red-500 text-white",children:[e.jsx(Ln,{className:"w-3 h-3 mr-1"}),"Cancelled"]});default:return e.jsx(ce,{variant:"outline",children:"Unknown"})}},as=Qe=>{switch(Qe){case"public":return e.jsxs(ce,{className:"bg-green-500 text-white",children:[e.jsx(a0,{className:"w-3 h-3 mr-1"}),"Public"]});case"private":return e.jsxs(ce,{className:"bg-orange-500 text-white",children:[e.jsx(Mr,{className:"w-3 h-3 mr-1"}),"Private"]});case"subscribers_only":return e.jsxs(ce,{className:"bg-purple-500 text-white",children:[e.jsx(An,{className:"w-3 h-3 mr-1"}),"Subscribers"]});default:return e.jsx(ce,{variant:"outline",children:"Unknown"})}},Gr=Qe=>{const Er=Qe.quality||"unknown",fn=Qe.bitrate||0;return Er==="4K"||fn>15e3?e.jsx(ce,{className:"bg-purple-500 text-white",children:"4K Ultra"}):Er==="1080p"||fn>8e3?e.jsx(ce,{className:"bg-blue-500 text-white",children:"1080p HD"}):Er==="720p"||fn>3e3?e.jsx(ce,{className:"bg-green-500 text-white",children:"720p HD"}):Er==="480p"||fn>1e3?e.jsx(ce,{className:"bg-yellow-500 text-white",children:"480p SD"}):e.jsx(ce,{className:"bg-gray-500 text-white",children:"Low Quality"})},$a=Qe=>{const Er=Qe.connectionQuality||0;return Er>80?e.jsx(B_,{className:"h-4 w-4 text-green-500"}):Er>60?e.jsx(B_,{className:"h-4 w-4 text-yellow-500"}):Er>30?e.jsx(B_,{className:"h-4 w-4 text-orange-500"}):e.jsx(UF,{className:"h-4 w-4 text-red-500"})},_s=(Qe,Er)=>{const fn=new Date(Qe),st=(Er?new Date(Er):new Date).getTime()-fn.getTime(),On=Math.floor(st/(1e3*60*60)),ms=Math.floor(st%(1e3*60*60)/(1e3*60));return On>0?`${On}h ${ms}m`:`${ms}m`},at=(Qe,Er)=>{G(Er?[...re,Qe]:re.filter(fn=>fn!==Qe))},dn=Qe=>{G(Qe?ht.map(Er=>Er.id):[])},ft=Qe=>{qe(Qe),se(!0)},Lt=()=>{let Qe={};Xe==="moderate"&&(Qe.reason=tt,Qe.notes=Oe),rr.mutate({streamIds:re,operation:Xe,data:Qe})},er=j.useMemo(()=>n?ht.filter(Qe=>Qe.title?.toLowerCase().includes(n.toLowerCase())||Qe.description?.toLowerCase().includes(n.toLowerCase())||Qe.creator?.username?.toLowerCase().includes(n.toLowerCase())):ht,[ht,n]);return j.useEffect(()=>{if(Et){const Qe=setInterval(()=>{Jr()},3e4);return()=>clearInterval(Qe)}},[Et,Jr]),t?.role!=="admin"&&t?.role!=="moderator"?e.jsx("div",{className:"space-y-6","data-testid":"access-denied",children:e.jsxs(bn,{className:"border-destructive/50 bg-destructive/10",children:[e.jsx(Qr,{className:"h-4 w-4 text-destructive"}),e.jsx(jn,{className:"text-destructive",children:"Access denied. Admin or moderator privileges required to manage live streams."})]})}):Hr?e.jsx("div",{className:"space-y-6",children:e.jsxs(bn,{className:"border-destructive/50 bg-destructive/10",children:[e.jsx(Qr,{className:"h-4 w-4 text-destructive"}),e.jsx(jn,{className:"text-destructive",children:"Failed to load live streams. Please try again."})]})}):e.jsxs("div",{className:"space-y-6","data-testid":"live-streaming-page",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-display","data-testid":"page-title",children:"Live Streaming Management"}),e.jsx("p",{className:"text-muted-foreground","data-testid":"page-description",children:"Real-time monitoring and control of live broadcasts"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(kn,{checked:Et,onCheckedChange:sr,"data-testid":"auto-refresh-toggle"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Auto-refresh"})]}),e.jsxs(V,{variant:"outline",className:"gap-2",onClick:()=>z(!0),children:[e.jsx(gl,{className:"h-4 w-4"}),"Live Analytics"]}),e.jsxs(V,{variant:"outline",className:"gap-2",children:[e.jsx($n,{className:"h-4 w-4"}),"Export Data"]}),e.jsxs(V,{variant:"outline",className:"gap-2",onClick:()=>Jr(),children:[e.jsx(wn,{className:"h-4 w-4"}),"Refresh"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-8 gap-4",children:[e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-red-500/10 rounded-lg flex items-center justify-center",children:e.jsx(XO,{className:"h-5 w-5 text-red-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Live Now"}),e.jsx("p",{className:"text-xl font-bold text-red-500","data-testid":"live-streams",children:me?.liveStreams||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:e.jsx(lr,{className:"h-5 w-5 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Live Viewers"}),e.jsx("p",{className:"text-xl font-bold text-blue-500","data-testid":"live-viewers",children:me?.totalViewers?.toLocaleString()||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:e.jsx(ys,{className:"h-5 w-5 text-green-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Scheduled"}),e.jsx("p",{className:"text-xl font-bold text-green-500","data-testid":"scheduled-streams",children:me?.scheduledStreams||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:e.jsx(qr,{className:"h-5 w-5 text-purple-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Live Revenue"}),e.jsxs("p",{className:"text-xl font-bold text-purple-500","data-testid":"live-revenue",children:["$",(me?.liveRevenue||0).toLocaleString()]})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-yellow-500/10 rounded-lg flex items-center justify-center",children:e.jsx(OF,{className:"h-5 w-5 text-yellow-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Quality"}),e.jsx("p",{className:"text-xl font-bold text-yellow-500","data-testid":"avg-quality",children:me?.avgQuality||"N/A"})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:e.jsx(wr,{className:"h-5 w-5 text-orange-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Duration"}),e.jsx("p",{className:"text-xl font-bold text-orange-500","data-testid":"avg-duration",children:me?.avgDuration||"0m"})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-cyan-500/10 rounded-lg flex items-center justify-center",children:e.jsx(yn,{className:"h-5 w-5 text-cyan-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Peak Viewers"}),e.jsx("p",{className:"text-xl font-bold text-cyan-500","data-testid":"peak-viewers",children:me?.peakViewers?.toLocaleString()||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-pink-500/10 rounded-lg flex items-center justify-center",children:e.jsx($o,{className:"h-5 w-5 text-pink-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Today"}),e.jsx("p",{className:"text-xl font-bold text-pink-500","data-testid":"streams-today",children:me?.streamsToday||0})]})]})})})]}),e.jsxs(Y,{className:"bg-card border-border",children:[e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(fe,{children:"Live Stream Monitoring & Control"}),e.jsx(lt,{children:"Real-time monitoring, moderation, and management of live broadcasts"})]}),re.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ce,{variant:"secondary",children:[re.length," selected"]}),e.jsxs(ns,{children:[e.jsx(ss,{asChild:!0,children:e.jsx(V,{variant:"outline",size:"sm",children:"Bulk Actions"})}),e.jsxs(es,{children:[e.jsxs(rt,{onClick:()=>ft("terminate"),children:[e.jsx(F_,{className:"h-4 w-4 mr-2"}),"Terminate Streams"]}),e.jsxs(rt,{onClick:()=>ft("moderate"),children:[e.jsx(Lo,{className:"h-4 w-4 mr-2"}),"Moderate Streams"]}),e.jsxs(rt,{onClick:()=>ft("feature"),children:[e.jsx(An,{className:"h-4 w-4 mr-2"}),"Feature Streams"]}),e.jsxs(rt,{onClick:()=>ft("archive"),children:[e.jsx(pc,{className:"h-4 w-4 mr-2"}),"Archive Streams"]}),e.jsxs(rt,{onClick:()=>ft("export"),children:[e.jsx($n,{className:"h-4 w-4 mr-2"}),"Export Selected"]})]})]})]})]})}),e.jsxs(ee,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-8 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ue,{placeholder:"Search streams...",value:n,onChange:Qe=>s(Qe.target.value),className:"pl-10","data-testid":"stream-search-input"})]}),e.jsxs(yt,{value:a,onValueChange:i,children:[e.jsx(xt,{"data-testid":"status-filter",children:e.jsx(bt,{placeholder:"Status"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Status"}),e.jsx(Q,{value:"live",children:"Live"}),e.jsx(Q,{value:"scheduled",children:"Scheduled"}),e.jsx(Q,{value:"ended",children:"Ended"}),e.jsx(Q,{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs(yt,{value:o,onValueChange:l,children:[e.jsx(xt,{"data-testid":"type-filter",children:e.jsx(bt,{placeholder:"Type"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Types"}),e.jsx(Q,{value:"public",children:"Public"}),e.jsx(Q,{value:"private",children:"Private"}),e.jsx(Q,{value:"subscribers_only",children:"Subscribers Only"})]})]}),e.jsxs(yt,{value:u,onValueChange:m,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Creator"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Creators"}),Ie?.map(Qe=>e.jsx(Q,{value:Qe.id,children:Qe.username||Qe.displayName},Qe.id))]})]}),e.jsxs(yt,{value:f,onValueChange:p,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Quality"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Quality"}),e.jsx(Q,{value:"4K",children:"4K Ultra"}),e.jsx(Q,{value:"1080p",children:"1080p HD"}),e.jsx(Q,{value:"720p",children:"720p HD"}),e.jsx(Q,{value:"480p",children:"480p SD"}),e.jsx(Q,{value:"low",children:"Low Quality"})]})]}),e.jsxs(yt,{value:y,onValueChange:_,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Viewers"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Viewers"}),e.jsx(Q,{value:"high",children:"1000+ Viewers"}),e.jsx(Q,{value:"medium",children:"100-999 Viewers"}),e.jsx(Q,{value:"low",children:"1-99 Viewers"}),e.jsx(Q,{value:"none",children:"No Viewers"})]})]}),e.jsxs(yt,{value:g,onValueChange:b,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Duration"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Duration"}),e.jsx(Q,{value:"long",children:"3+ Hours"}),e.jsx(Q,{value:"medium",children:"1-3 Hours"}),e.jsx(Q,{value:"short",children:"< 1 Hour"})]})]}),e.jsxs(yt,{value:w,onValueChange:k,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Revenue"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Revenue"}),e.jsx(Q,{value:"high",children:"$500+ Revenue"}),e.jsx(Q,{value:"medium",children:"$100-499 Revenue"}),e.jsx(Q,{value:"low",children:"$1-99 Revenue"}),e.jsx(Q,{value:"free",children:"Free Streams"})]})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(Ta,{children:[e.jsx(Ea,{children:e.jsxs(Sr,{children:[e.jsx(We,{className:"w-12",children:e.jsx(Jn,{checked:re.length===ht.length&&ht.length>0,onCheckedChange:dn})}),e.jsx(We,{children:"Stream Details"}),e.jsx(We,{children:"Creator"}),e.jsx(We,{children:"Status & Type"}),e.jsx(We,{children:"Quality & Connection"}),e.jsx(We,{children:"Viewers & Engagement"}),e.jsx(We,{children:"Duration & Revenue"}),e.jsx(We,{children:"Performance"}),e.jsx(We,{className:"w-32",children:"Actions"})]})}),e.jsx(Oa,{children:gr?Array.from({length:5}).map((Qe,Er)=>e.jsx(Sr,{children:e.jsx(Be,{colSpan:9,children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-12 w-12 bg-muted rounded animate-pulse"}),e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"h-3 bg-muted rounded w-2/3 animate-pulse"})]})]})})},Er)):er.length===0?e.jsx(Sr,{children:e.jsxs(Be,{colSpan:9,className:"text-center py-12",children:[e.jsx("div",{className:"h-16 w-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(As,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No streams found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search criteria or filters."})]})}):er.map(Qe=>e.jsxs(Sr,{"data-testid":`stream-row-${Qe.id}`,children:[e.jsx(Be,{children:e.jsx(Jn,{checked:re.includes(Qe.id),onCheckedChange:Er=>at(Qe.id,Er)})}),e.jsx(Be,{children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"h-16 w-20 bg-muted rounded-lg overflow-hidden flex-shrink-0 relative",children:[Qe.thumbnailUrl?e.jsx("img",{src:Qe.thumbnailUrl,alt:Qe.title,className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full flex items-center justify-center",children:e.jsx(As,{className:"h-6 w-6 text-muted-foreground"})}),Qe.status==="live"&&e.jsx("div",{className:"absolute top-1 right-1",children:e.jsx(ce,{className:"bg-red-500 text-white text-xs animate-pulse",children:"LIVE"})})]}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-medium truncate","data-testid":`stream-title-${Qe.id}`,children:Qe.title||"Untitled Stream"}),e.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[Qe.description?.substring(0,60),"..."]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[Qe.isRecording&&e.jsxs(ce,{variant:"outline",className:"text-xs",children:[e.jsx(aY,{className:"w-3 h-3 mr-1"}),"Recording"]}),Qe.isFeatured&&e.jsxs(ce,{variant:"outline",className:"text-xs",children:[e.jsx(An,{className:"w-3 h-3 mr-1"}),"Featured"]})]})]})]})}),e.jsx(Be,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:Qe.creator?.profileImageUrl||"/default-avatar.png",alt:Qe.creator?.username,className:"h-8 w-8 rounded-full ring-2 ring-primary/20"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:Qe.creator?.username}),e.jsx("p",{className:"text-xs text-muted-foreground",children:Qe.creator?.role})]})]})}),e.jsx(Be,{children:e.jsxs("div",{className:"space-y-1",children:[Rn(Qe.status),as(Qe.type)]})}),e.jsx(Be,{children:e.jsxs("div",{className:"space-y-1",children:[Gr(Qe),e.jsxs("div",{className:"flex items-center gap-1",children:[$a(Qe),e.jsx("span",{className:"text-xs text-muted-foreground",children:Qe.bitrate?`${(Qe.bitrate/1e3).toFixed(1)}k`:"N/A"})]})]})}),e.jsx(Be,{children:e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(lr,{className:"h-3 w-3"}),e.jsx("span",{className:"font-medium",children:Qe.viewersCount?.toLocaleString()||0}),Qe.maxViewers&&e.jsxs("span",{className:"text-muted-foreground",children:["/ ",Qe.maxViewers.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(fi,{className:"h-3 w-3"}),Qe.chatMessages||0]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(qr,{className:"h-3 w-3"}),"$",((Qe.totalTipsCents||0)/100).toFixed(0)]})]})}),e.jsx(Be,{children:e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(wr,{className:"h-3 w-3"}),Qe.status==="live"&&Qe.startedAt?_s(Qe.startedAt):Qe.endedAt?_s(Qe.startedAt,Qe.endedAt):"N/A"]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Revenue: $",((Qe.priceCents||0)/100).toFixed(2)]}),Qe.status==="scheduled"&&Qe.scheduledFor&&e.jsx("div",{className:"text-xs text-muted-foreground",children:Ir(new Date(Qe.scheduledFor),"MMM d, h:mm a")})]})}),e.jsx(Be,{children:e.jsxs("div",{className:"space-y-1",children:[Qe.health&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsx("div",{className:He("h-2 rounded-full",Qe.health>80?"bg-green-500":Qe.health>60?"bg-yellow-500":"bg-red-500"),style:{width:`${Qe.health}%`}})}),e.jsxs("span",{className:"text-xs",children:[Qe.health,"%"]})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:Qe.region&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Od,{className:"h-3 w-3"}),Qe.region]})})]})}),e.jsx(Be,{children:e.jsxs(ns,{children:[e.jsx(ss,{asChild:!0,children:e.jsx(V,{variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(Ja,{className:"h-4 w-4"})})}),e.jsxs(es,{align:"end",children:[e.jsxs(rt,{onClick:()=>{je(Qe),K(!0)},children:[e.jsx(pr,{className:"h-4 w-4 mr-2"}),"View Details"]}),Qe.status==="live"&&e.jsxs(rt,{onClick:()=>{ze.mutate({streamId:Qe.id,reason:"Administrative termination"})},children:[e.jsx(F_,{className:"h-4 w-4 mr-2"}),"Terminate Stream"]}),e.jsxs(rt,{onClick:()=>{je(Qe),U(!0)},children:[e.jsx(Lo,{className:"h-4 w-4 mr-2"}),"Moderate"]}),e.jsxs(rt,{children:[e.jsx(DF,{className:"h-4 w-4 mr-2"}),"Live Monitor"]}),e.jsx(lo,{}),e.jsxs(rt,{children:[e.jsx(_c,{className:"h-4 w-4 mr-2"}),"Stream Settings"]}),e.jsxs(rt,{children:[e.jsx(pc,{className:"h-4 w-4 mr-2"}),"Archive Stream"]})]})]})})]},Qe.id))})]})}),Je>1&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(A-1)*O+1," to ",Math.min(A*O,dt)," of ",dt," streams"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{variant:"outline",size:"sm",onClick:()=>P(Math.max(1,A-1)),disabled:A===1,children:"Previous"}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,Je)},(Qe,Er)=>{const fn=Er+1;return e.jsx(V,{variant:A===fn?"default":"outline",size:"sm",onClick:()=>P(fn),className:"w-8 h-8",children:fn},fn)})}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>P(Math.min(Je,A+1)),disabled:A===Je,children:"Next"})]})]})]})]}),e.jsx(Ur,{open:ae,onOpenChange:U,children:e.jsxs(Lr,{children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Moderate Live Stream"}),e.jsx(Wr,{children:"Apply moderation actions to this stream. Actions will be logged for audit purposes."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Action"}),e.jsxs(yt,{value:tt,onValueChange:St,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Select moderation action"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"warning",children:"Issue Warning"}),e.jsx(Q,{value:"terminate",children:"Terminate Stream"}),e.jsx(Q,{value:"suspend",children:"Suspend Creator"}),e.jsx(Q,{value:"feature",children:"Feature Stream"}),e.jsx(Q,{value:"restrict",children:"Restrict Audience"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Reason & Notes"}),e.jsx(on,{placeholder:"Provide detailed reasoning for this moderation action...",value:Oe,onChange:Qe=>qt(Qe.target.value)})]})]}),e.jsxs(pa,{children:[e.jsx(V,{variant:"outline",onClick:()=>U(!1),children:"Cancel"}),e.jsx(V,{onClick:()=>{Gt.mutate({streamId:Le?.id,action:tt,notes:Oe})},children:"Apply Action"})]})]})}),e.jsx(Ur,{open:W,onOpenChange:se,children:e.jsxs(Lr,{children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Bulk Stream Operation"}),e.jsxs(Wr,{children:["Apply ",Xe," to ",re.length," selected streams."]})]}),e.jsxs("div",{className:"space-y-4",children:[Xe==="moderate"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Reason"}),e.jsx(on,{placeholder:"Reason for bulk moderation...",value:tt,onChange:Qe=>St(Qe.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Notes"}),e.jsx(on,{placeholder:"Additional notes...",value:Oe,onChange:Qe=>qt(Qe.target.value)})]})]}),Xe==="terminate"&&e.jsxs(bn,{children:[e.jsx(Qr,{className:"h-4 w-4"}),e.jsx(jn,{children:"Warning: This will immediately terminate all selected live streams and notify creators."})]})]}),e.jsxs(pa,{children:[e.jsx(V,{variant:"outline",onClick:()=>se(!1),children:"Cancel"}),e.jsxs(V,{onClick:Lt,variant:Xe==="terminate"?"destructive":"default",children:["Execute ",Xe]})]})]})})]})}function Z_e(){const{user:t}=kr(),{toast:r}=or(),[n,s]=j.useState(""),[a,i]=j.useState("all"),[o,l]=j.useState("all"),[u,m]=j.useState("all"),[f,p]=j.useState("all"),[g,b]=j.useState("all"),[y,_]=j.useState("all"),[w,k]=j.useState("all"),[A,P]=j.useState("all"),[O,I]=j.useState(1),[D,F]=j.useState(20),[B,H]=j.useState("createdAt"),[re,G]=j.useState("desc"),[J,Z]=j.useState([]),[ne,K]=j.useState(!1),[ae,U]=j.useState(!1),[W,se]=j.useState(!1),[de,z]=j.useState(!1),[oe,Ce]=j.useState(!1),[ke,_e]=j.useState(!1),[Le,je]=j.useState(!1),[Xe,qe]=j.useState(null),[tt,St]=j.useState(""),[Oe,qt]=j.useState(""),[Et,sr]=j.useState(""),[Jt,gr]=j.useState(!0),{data:Hr,isLoading:Jr,error:me,refetch:Ne}=Ve({queryKey:["/api/admin/stories",{searchQuery:n,status:a!=="all"?a:void 0,creatorId:o!=="all"?o:void 0,expiration:u!=="all"?u:void 0,engagement:f!=="all"?f:void 0,promotion:g!=="all"?g:void 0,moderation:y!=="all"?y:void 0,type:w!=="all"?w:void 0,dateRange:A!=="all"?A:void 0,page:O,pageSize:D,sortBy:B,sortOrder:re}],enabled:t?.role==="admin"||t?.role==="moderator",refetchInterval:Jt?6e4:!1}),{data:Ie}=Ve({queryKey:["/api/admin/stories/stats"],enabled:t?.role==="admin"||t?.role==="moderator",refetchInterval:Jt?3e4:!1}),{data:ht}=Ve({queryKey:["/api/admin/stories/trending"],enabled:t?.role==="admin"||t?.role==="moderator",refetchInterval:Jt?6e4:!1}),{data:dt}=Ve({queryKey:["/api/admin/creators"],enabled:t?.role==="admin"||t?.role==="moderator"}),Je=Hr?.stories||[],ze=Hr?.total||0,Gt=Math.ceil(ze/D),rr=ot({mutationFn:st=>Ze("/api/admin/stories/moderate",{method:"POST",body:JSON.stringify(st)}),onSuccess:()=>{r({title:"Story moderated successfully"}),Rt.invalidateQueries({queryKey:["/api/admin/stories"]}),se(!1)},onError:()=>{r({title:"Failed to moderate story",variant:"destructive"})}}),Rn=ot({mutationFn:st=>Ze("/api/admin/stories/bulk",{method:"POST",body:JSON.stringify(st)}),onSuccess:()=>{r({title:"Bulk operation completed successfully"}),Rt.invalidateQueries({queryKey:["/api/admin/stories"]}),Z([]),z(!1)},onError:()=>{r({title:"Bulk operation failed",variant:"destructive"})}});ot({mutationFn:st=>Ze(`/api/admin/stories/${st.storyId}`,{method:"PATCH",body:JSON.stringify(st.updates)}),onSuccess:()=>{r({title:"Story updated successfully"}),Rt.invalidateQueries({queryKey:["/api/admin/stories"]}),U(!1)},onError:()=>{r({title:"Failed to update story",variant:"destructive"})}});const as=ot({mutationFn:st=>Ze("/api/admin/stories/extend",{method:"POST",body:JSON.stringify(st)}),onSuccess:()=>{r({title:"Story expiration extended successfully"}),Rt.invalidateQueries({queryKey:["/api/admin/stories"]})},onError:()=>{r({title:"Failed to extend story expiration",variant:"destructive"})}}),Gr=ot({mutationFn:st=>Ze(`/api/admin/stories/${st}/archive`,{method:"POST"}),onSuccess:()=>{r({title:"Story archived successfully"}),Rt.invalidateQueries({queryKey:["/api/admin/stories"]})},onError:()=>{r({title:"Failed to archive story",variant:"destructive"})}}),$a=ot({mutationFn:st=>Ze(`/api/admin/stories/${st}`,{method:"DELETE"}),onSuccess:()=>{r({title:"Story deleted successfully"}),Rt.invalidateQueries({queryKey:["/api/admin/stories"]})},onError:()=>{r({title:"Failed to delete story",variant:"destructive"})}}),_s=st=>{const On=new Date,ms=new Date(st.expiresAt);if(Im(On,ms))return e.jsxs(ce,{className:"bg-gray-500 text-white",children:[e.jsx(wr,{className:"w-3 h-3 mr-1"}),"Expired"]});if(st.status==="active"){const $c=ms.getTime()-On.getTime(),el=Math.floor($c/(1e3*60*60));return el<1?e.jsxs(ce,{className:"bg-red-500 text-white animate-pulse",children:[e.jsx(WO,{className:"w-3 h-3 mr-1"}),"Expiring Soon"]}):el<6?e.jsxs(ce,{className:"bg-orange-500 text-white",children:[e.jsx(hY,{className:"w-3 h-3 mr-1"}),"Active (",el,"h left)"]}):e.jsxs(ce,{className:"bg-green-500 text-white",children:[e.jsx(Ls,{className:"w-3 h-3 mr-1"}),"Active"]})}return st.status==="archived"?e.jsxs(ce,{className:"bg-blue-500 text-white",children:[e.jsx(pc,{className:"w-3 h-3 mr-1"}),"Archived"]}):e.jsx(ce,{variant:"outline",children:"Unknown"})},at=st=>st.isPromoted?e.jsxs(ce,{className:"bg-yellow-500 text-white",children:[e.jsx(An,{className:"w-3 h-3 mr-1"}),"Promoted"]}):st.isFeatured?e.jsxs(ce,{className:"bg-purple-500 text-white",children:[e.jsx(Ed,{className:"w-3 h-3 mr-1"}),"Featured"]}):null,dn=st=>st.moderationStatus==="approved"?e.jsxs(ce,{className:"bg-green-500 text-white",children:[e.jsx(Cr,{className:"w-3 h-3 mr-1"}),"Approved"]}):st.moderationStatus==="rejected"?e.jsxs(ce,{className:"bg-red-500 text-white",children:[e.jsx(Ln,{className:"w-3 h-3 mr-1"}),"Rejected"]}):st.moderationStatus==="flagged"?e.jsxs(ce,{className:"bg-orange-500 text-white",children:[e.jsx(Lo,{className:"w-3 h-3 mr-1"}),"Flagged"]}):e.jsxs(ce,{className:"bg-yellow-500 text-white",children:[e.jsx(wr,{className:"w-3 h-3 mr-1"}),"Pending"]}),ft=st=>{const On=(st.viewsCount||0)+(st.likesCount||0)+(st.repliesCount||0);return On>1e3?e.jsx(ce,{className:"bg-green-500 text-white",children:"High Engagement"}):On>100?e.jsx(ce,{className:"bg-yellow-500 text-white",children:"Medium Engagement"}):On>10?e.jsx(ce,{className:"bg-blue-500 text-white",children:"Low Engagement"}):e.jsx(ce,{className:"bg-gray-500 text-white",children:"No Engagement"})},Lt=st=>{const On=new Date,ms=new Date(st);return Im(On,ms)?"Expired":Cc(ms,{addSuffix:!0})},er=(st,On)=>{Z(On?[...J,st]:J.filter(ms=>ms!==st))},Qe=st=>{Z(st?Je.map(On=>On.id):[])},Er=st=>{St(st),z(!0)},fn=()=>{let st={};tt==="moderate"&&(st.reason=Oe,st.notes=Et),Rn.mutate({storyIds:J,operation:tt,data:st})},za=j.useMemo(()=>n?Je.filter(st=>st.content?.toLowerCase().includes(n.toLowerCase())||st.creator?.username?.toLowerCase().includes(n.toLowerCase())||st.location?.toLowerCase().includes(n.toLowerCase())):Je,[Je,n]);return j.useEffect(()=>{if(Jt){const st=setInterval(()=>{Ne()},6e4);return()=>clearInterval(st)}},[Jt,Ne]),t?.role!=="admin"&&t?.role!=="moderator"?e.jsx("div",{className:"space-y-6","data-testid":"access-denied",children:e.jsxs(bn,{className:"border-destructive/50 bg-destructive/10",children:[e.jsx(Qr,{className:"h-4 w-4 text-destructive"}),e.jsx(jn,{className:"text-destructive",children:"Access denied. Admin or moderator privileges required to manage stories."})]})}):me?e.jsx("div",{className:"space-y-6",children:e.jsxs(bn,{className:"border-destructive/50 bg-destructive/10",children:[e.jsx(Qr,{className:"h-4 w-4 text-destructive"}),e.jsx(jn,{className:"text-destructive",children:"Failed to load stories. Please try again."})]})}):e.jsxs("div",{className:"space-y-6","data-testid":"stories-management-page",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-display","data-testid":"page-title",children:"Stories Management"}),e.jsx("p",{className:"text-muted-foreground","data-testid":"page-description",children:"Ephemeral content moderation, analytics, and expiration management"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(kn,{checked:Jt,onCheckedChange:gr,"data-testid":"auto-refresh-toggle"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Auto-refresh"})]}),e.jsxs(V,{variant:"outline",className:"gap-2",onClick:()=>Ce(!0),children:[e.jsx(gl,{className:"h-4 w-4"}),"Analytics"]}),e.jsxs(V,{variant:"outline",className:"gap-2",onClick:()=>_e(!0),children:[e.jsx(_y,{className:"h-4 w-4"}),"Expiration Manager"]}),e.jsxs(V,{variant:"outline",className:"gap-2",children:[e.jsx($n,{className:"h-4 w-4"}),"Export Data"]}),e.jsxs(V,{variant:"outline",className:"gap-2",onClick:()=>Ne(),children:[e.jsx(wn,{className:"h-4 w-4"}),"Refresh"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-8 gap-4",children:[e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:e.jsx(Ls,{className:"h-5 w-5 text-green-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active Stories"}),e.jsx("p",{className:"text-xl font-bold text-green-500","data-testid":"active-stories",children:Ie?.activeStories||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-red-500/10 rounded-lg flex items-center justify-center",children:e.jsx(WO,{className:"h-5 w-5 text-red-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Expiring Soon"}),e.jsx("p",{className:"text-xl font-bold text-red-500","data-testid":"expiring-stories",children:Ie?.expiringSoon||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:e.jsx(pr,{className:"h-5 w-5 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Views"}),e.jsx("p",{className:"text-xl font-bold text-blue-500","data-testid":"total-views",children:Ie?.totalViews?.toLocaleString()||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-yellow-500/10 rounded-lg flex items-center justify-center",children:e.jsx(wr,{className:"h-5 w-5 text-yellow-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending Review"}),e.jsx("p",{className:"text-xl font-bold text-yellow-500","data-testid":"pending-stories",children:Ie?.pendingReview||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:e.jsx(An,{className:"h-5 w-5 text-purple-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Promoted"}),e.jsx("p",{className:"text-xl font-bold text-purple-500","data-testid":"promoted-stories",children:Ie?.promotedStories||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:e.jsx(yn,{className:"h-5 w-5 text-orange-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Engagement"}),e.jsx("p",{className:"text-xl font-bold text-orange-500","data-testid":"avg-engagement",children:Ie?.avgEngagement||"0%"})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-cyan-500/10 rounded-lg flex items-center justify-center",children:e.jsx(pc,{className:"h-5 w-5 text-cyan-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Archived"}),e.jsx("p",{className:"text-xl font-bold text-cyan-500","data-testid":"archived-stories",children:Ie?.archivedStories||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-pink-500/10 rounded-lg flex items-center justify-center",children:e.jsx(ys,{className:"h-5 w-5 text-pink-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Today"}),e.jsx("p",{className:"text-xl font-bold text-pink-500","data-testid":"stories-today",children:Ie?.storiesToday||0})]})]})})})]}),e.jsxs(Y,{className:"bg-card border-border",children:[e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(fe,{children:"Stories Content Management & Analytics"}),e.jsx(lt,{children:"Manage ephemeral content with expiration tracking, engagement analytics, and bulk operations"})]}),J.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ce,{variant:"secondary",children:[J.length," selected"]}),e.jsxs(ns,{children:[e.jsx(ss,{asChild:!0,children:e.jsx(V,{variant:"outline",size:"sm",children:"Bulk Actions"})}),e.jsxs(es,{children:[e.jsxs(rt,{onClick:()=>Er("approve"),children:[e.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Approve Stories"]}),e.jsxs(rt,{onClick:()=>Er("reject"),children:[e.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Reject Stories"]}),e.jsxs(rt,{onClick:()=>Er("promote"),children:[e.jsx(An,{className:"h-4 w-4 mr-2"}),"Promote Stories"]}),e.jsxs(rt,{onClick:()=>Er("extend"),children:[e.jsx(_y,{className:"h-4 w-4 mr-2"}),"Extend Expiration"]}),e.jsxs(rt,{onClick:()=>Er("archive"),children:[e.jsx(pc,{className:"h-4 w-4 mr-2"}),"Archive Stories"]}),e.jsxs(rt,{onClick:()=>Er("delete"),children:[e.jsx(Bo,{className:"h-4 w-4 mr-2"}),"Delete Stories"]})]})]})]})]})}),e.jsxs(ee,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-8 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ue,{placeholder:"Search stories...",value:n,onChange:st=>s(st.target.value),className:"pl-10","data-testid":"story-search-input"})]}),e.jsxs(yt,{value:a,onValueChange:i,children:[e.jsx(xt,{"data-testid":"status-filter",children:e.jsx(bt,{placeholder:"Status"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Status"}),e.jsx(Q,{value:"active",children:"Active"}),e.jsx(Q,{value:"expired",children:"Expired"}),e.jsx(Q,{value:"archived",children:"Archived"}),e.jsx(Q,{value:"expiring",children:"Expiring Soon"})]})]}),e.jsxs(yt,{value:y,onValueChange:_,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Moderation"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Status"}),e.jsx(Q,{value:"pending",children:"Pending Review"}),e.jsx(Q,{value:"approved",children:"Approved"}),e.jsx(Q,{value:"rejected",children:"Rejected"}),e.jsx(Q,{value:"flagged",children:"Flagged"})]})]}),e.jsxs(yt,{value:o,onValueChange:l,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Creator"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Creators"}),dt?.map(st=>e.jsx(Q,{value:st.id,children:st.username||st.displayName},st.id))]})]}),e.jsxs(yt,{value:f,onValueChange:p,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Engagement"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Engagement"}),e.jsx(Q,{value:"high",children:"High Engagement"}),e.jsx(Q,{value:"medium",children:"Medium Engagement"}),e.jsx(Q,{value:"low",children:"Low Engagement"}),e.jsx(Q,{value:"none",children:"No Engagement"})]})]}),e.jsxs(yt,{value:g,onValueChange:b,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Promotion"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Stories"}),e.jsx(Q,{value:"promoted",children:"Promoted"}),e.jsx(Q,{value:"featured",children:"Featured"}),e.jsx(Q,{value:"regular",children:"Regular"})]})]}),e.jsxs(yt,{value:u,onValueChange:m,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Expiration"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Times"}),e.jsx(Q,{value:"1h",children:"Less than 1 Hour"}),e.jsx(Q,{value:"6h",children:"Less than 6 Hours"}),e.jsx(Q,{value:"12h",children:"Less than 12 Hours"}),e.jsx(Q,{value:"24h",children:"Less than 24 Hours"})]})]}),e.jsxs(yt,{value:A,onValueChange:P,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Date Range"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Time"}),e.jsx(Q,{value:"today",children:"Today"}),e.jsx(Q,{value:"week",children:"This Week"}),e.jsx(Q,{value:"month",children:"This Month"})]})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(Ta,{children:[e.jsx(Ea,{children:e.jsxs(Sr,{children:[e.jsx(We,{className:"w-12",children:e.jsx(Jn,{checked:J.length===Je.length&&Je.length>0,onCheckedChange:Qe})}),e.jsx(We,{children:"Story Content"}),e.jsx(We,{children:"Creator"}),e.jsx(We,{children:"Status & Expiration"}),e.jsx(We,{children:"Moderation"}),e.jsx(We,{children:"Engagement"}),e.jsx(We,{children:"Promotion"}),e.jsx(We,{children:"Performance"}),e.jsx(We,{className:"w-32",children:"Actions"})]})}),e.jsx(Oa,{children:Jr?Array.from({length:5}).map((st,On)=>e.jsx(Sr,{children:e.jsx(Be,{colSpan:9,children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-12 w-12 bg-muted rounded animate-pulse"}),e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"h-3 bg-muted rounded w-2/3 animate-pulse"})]})]})})},On)):za.length===0?e.jsx(Sr,{children:e.jsxs(Be,{colSpan:9,className:"text-center py-12",children:[e.jsx("div",{className:"h-16 w-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ls,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No stories found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search criteria or filters."})]})}):za.map(st=>e.jsxs(Sr,{"data-testid":`story-row-${st.id}`,children:[e.jsx(Be,{children:e.jsx(Jn,{checked:J.includes(st.id),onCheckedChange:On=>er(st.id,On)})}),e.jsx(Be,{children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"h-16 w-12 bg-muted rounded-lg overflow-hidden flex-shrink-0 relative",children:[st.mediaUrl?e.jsx("img",{src:st.mediaUrl,alt:"Story",className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full flex items-center justify-center",children:e.jsx(LC,{className:"h-6 w-6 text-muted-foreground"})}),st.type==="video"&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(gi,{className:"h-4 w-4 text-white bg-black/50 rounded-full p-1"})})]}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[st.content?.substring(0,80),"..."]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(ce,{variant:"outline",className:"text-xs",children:st.type}),st.location&&e.jsx(ce,{variant:"outline",className:"text-xs",children:st.location})]}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Created ",Ir(new Date(st.createdAt),"MMM d, h:mm a")]})]})]})}),e.jsx(Be,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:st.creator?.profileImageUrl||"/default-avatar.png",alt:st.creator?.username,className:"h-8 w-8 rounded-full ring-2 ring-primary/20"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:st.creator?.username}),e.jsx("p",{className:"text-xs text-muted-foreground",children:st.creator?.role})]})]})}),e.jsx(Be,{children:e.jsxs("div",{className:"space-y-1",children:[_s(st),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Expires ",Lt(st.expiresAt)]}),st.expiresAt&&e.jsx("div",{className:"w-full bg-muted rounded-full h-1",children:e.jsx("div",{className:He("h-1 rounded-full transition-all",Im(new Date,new Date(st.expiresAt))?"bg-gray-500":"bg-gradient-to-r from-green-500 to-red-500"),style:{width:`${Math.max(0,Math.min(100,(new Date(st.expiresAt).getTime()-new Date().getTime())/(1440*60*1e3)*100))}%`}})})]})}),e.jsx(Be,{children:dn(st)}),e.jsx(Be,{children:e.jsxs("div",{className:"space-y-1",children:[ft(st),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(pr,{className:"h-3 w-3"}),st.viewsCount?.toLocaleString()||0]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ma,{className:"h-3 w-3"}),st.likesCount||0]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(fi,{className:"h-3 w-3"}),st.repliesCount||0]})]})]})}),e.jsx(Be,{children:e.jsxs("div",{className:"space-y-1",children:[at(st),st.impressions&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:[st.impressions.toLocaleString()," impressions"]})]})}),e.jsx(Be,{children:e.jsxs("div",{className:"space-y-1",children:[st.engagementRate&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(JA,{className:"h-3 w-3"}),e.jsxs("span",{className:"text-xs",children:[st.engagementRate,"%"]})]}),st.completionRate&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(OF,{className:"h-3 w-3"}),e.jsxs("span",{className:"text-xs",children:[st.completionRate,"%"]})]}),st.shareCount&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(zb,{className:"h-3 w-3"}),e.jsx("span",{className:"text-xs",children:st.shareCount})]})]})}),e.jsx(Be,{children:e.jsxs(ns,{children:[e.jsx(ss,{asChild:!0,children:e.jsx(V,{variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(Ja,{className:"h-4 w-4"})})}),e.jsxs(es,{align:"end",children:[e.jsxs(rt,{onClick:()=>{qe(st),U(!0)},children:[e.jsx(pr,{className:"h-4 w-4 mr-2"}),"View Details"]}),e.jsxs(rt,{onClick:()=>{qe(st),se(!0)},children:[e.jsx(Lo,{className:"h-4 w-4 mr-2"}),"Moderate"]}),e.jsxs(rt,{onClick:()=>{as.mutate({storyId:st.id,hours:24})},children:[e.jsx(_y,{className:"h-4 w-4 mr-2"}),"Extend 24h"]}),e.jsxs(rt,{onClick:()=>Gr.mutate(st.id),children:[e.jsx(pc,{className:"h-4 w-4 mr-2"}),"Archive Story"]}),e.jsx(lo,{}),e.jsxs(rt,{children:[e.jsx(An,{className:"h-4 w-4 mr-2"}),"Toggle Promotion"]}),e.jsxs(rt,{className:"text-destructive",onClick:()=>$a.mutate(st.id),children:[e.jsx(Bo,{className:"h-4 w-4 mr-2"}),"Delete Story"]})]})]})})]},st.id))})]})}),Gt>1&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(O-1)*D+1," to ",Math.min(O*D,ze)," of ",ze," stories"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{variant:"outline",size:"sm",onClick:()=>I(Math.max(1,O-1)),disabled:O===1,children:"Previous"}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,Gt)},(st,On)=>{const ms=On+1;return e.jsx(V,{variant:O===ms?"default":"outline",size:"sm",onClick:()=>I(ms),className:"w-8 h-8",children:ms},ms)})}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>I(Math.min(Gt,O+1)),disabled:O===Gt,children:"Next"})]})]})]})]}),e.jsx(Ur,{open:W,onOpenChange:se,children:e.jsxs(Lr,{children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Moderate Story"}),e.jsx(Wr,{children:"Apply moderation actions to this story. All actions are logged for audit purposes."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Action"}),e.jsxs(yt,{value:Oe,onValueChange:qt,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Select moderation action"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"approve",children:"Approve Story"}),e.jsx(Q,{value:"reject",children:"Reject Story"}),e.jsx(Q,{value:"flag",children:"Flag for Review"}),e.jsx(Q,{value:"promote",children:"Promote Story"}),e.jsx(Q,{value:"archive",children:"Archive Story"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Reason & Notes"}),e.jsx(on,{placeholder:"Provide detailed reasoning for this moderation action...",value:Et,onChange:st=>sr(st.target.value)})]})]}),e.jsxs(pa,{children:[e.jsx(V,{variant:"outline",onClick:()=>se(!1),children:"Cancel"}),e.jsx(V,{onClick:()=>{rr.mutate({storyId:Xe?.id,action:Oe,notes:Et})},children:"Apply Action"})]})]})}),e.jsx(Ur,{open:de,onOpenChange:z,children:e.jsxs(Lr,{children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Bulk Story Operation"}),e.jsxs(Wr,{children:["Apply ",tt," to ",J.length," selected stories."]})]}),e.jsxs("div",{className:"space-y-4",children:[tt==="moderate"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Reason"}),e.jsx(on,{placeholder:"Reason for bulk moderation...",value:Oe,onChange:st=>qt(st.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Notes"}),e.jsx(on,{placeholder:"Additional notes...",value:Et,onChange:st=>sr(st.target.value)})]})]}),tt==="extend"&&e.jsxs(bn,{children:[e.jsx(_y,{className:"h-4 w-4"}),e.jsx(jn,{children:"This will extend the expiration time for all selected stories by 24 hours."})]}),tt==="delete"&&e.jsxs(bn,{children:[e.jsx(Qr,{className:"h-4 w-4"}),e.jsx(jn,{children:"Warning: This will permanently delete all selected stories and cannot be undone."})]})]}),e.jsxs(pa,{children:[e.jsx(V,{variant:"outline",onClick:()=>z(!1),children:"Cancel"}),e.jsxs(V,{onClick:fn,variant:tt==="delete"?"destructive":"default",children:["Execute ",tt]})]})]})})]})}function Y_e(){const{user:t}=kr(),{toast:r}=or(),[n,s]=j.useState("products"),[a,i]=j.useState(""),[o,l]=j.useState("all"),[u,m]=j.useState("all"),[f,p]=j.useState("all"),[g,b]=j.useState("all"),[y,_]=j.useState("all"),[w,k]=j.useState("all"),[A,P]=j.useState("all"),[O,I]=j.useState("all"),[D,F]=j.useState(1),[B,H]=j.useState(20),[re,G]=j.useState("createdAt"),[J,Z]=j.useState("desc"),[ne,K]=j.useState([]),[ae,U]=j.useState(!1),[W,se]=j.useState(!1),[de,z]=j.useState(!1),[oe,Ce]=j.useState(!1),[ke,_e]=j.useState(!1),[Le,je]=j.useState(!1),[Xe,qe]=j.useState(!1),[tt,St]=j.useState(null),[Oe,qt]=j.useState(""),[Et,sr]=j.useState(""),[Jt,gr]=j.useState(""),[Hr,Jr]=j.useState(!0),{data:me,isLoading:Ne,error:Ie,refetch:ht}=Ve({queryKey:["/api/admin/products",{searchQuery:a,status:o!=="all"?o:void 0,type:u!=="all"?u:void 0,creatorId:f!=="all"?f:void 0,categoryId:g!=="all"?g:void 0,priceRange:y!=="all"?y:void 0,inventory:w!=="all"?w:void 0,dateRange:A!=="all"?A:void 0,page:D,pageSize:B,sortBy:re,sortOrder:J}],enabled:(t?.role==="admin"||t?.role==="moderator")&&n==="products",refetchInterval:Hr?6e4:!1}),{data:dt,isLoading:Je,error:ze,refetch:Gt}=Ve({queryKey:["/api/admin/orders",{searchQuery:a,status:o!=="all"?o:void 0,fulfillmentStatus:O!=="all"?O:void 0,creatorId:f!=="all"?f:void 0,dateRange:A!=="all"?A:void 0,page:D,pageSize:B,sortBy:re,sortOrder:J}],enabled:(t?.role==="admin"||t?.role==="moderator")&&n==="orders",refetchInterval:Hr?3e4:!1}),{data:rr}=Ve({queryKey:["/api/admin/shop/stats"],enabled:t?.role==="admin"||t?.role==="moderator",refetchInterval:Hr?6e4:!1}),{data:Rn}=Ve({queryKey:["/api/admin/shop/revenue"],enabled:t?.role==="admin"||t?.role==="moderator",refetchInterval:Hr?3e5:!1}),{data:as}=Ve({queryKey:["/api/admin/creators"],enabled:t?.role==="admin"||t?.role==="moderator"}),{data:Gr}=Ve({queryKey:["/api/admin/product-categories"],enabled:t?.role==="admin"||t?.role==="moderator"}),$a=me?.products||[],_s=dt?.orders||[],at=n==="products"?me?.total||0:dt?.total||0,dn=Math.ceil(at/B),ft=n==="products"?$a:_s,Lt=n==="products"?Ne:Je,er=n==="products"?Ie:ze;ot({mutationFn:Ke=>Ze(`/api/admin/products/${Ke.productId}`,{method:"PATCH",body:JSON.stringify(Ke.updates)}),onSuccess:()=>{r({title:"Product updated successfully"}),Rt.invalidateQueries({queryKey:["/api/admin/products"]}),se(!1)},onError:()=>{r({title:"Failed to update product",variant:"destructive"})}}),ot({mutationFn:Ke=>Ze(`/api/admin/orders/${Ke.orderId}`,{method:"PATCH",body:JSON.stringify(Ke.updates)}),onSuccess:()=>{r({title:"Order updated successfully"}),Rt.invalidateQueries({queryKey:["/api/admin/orders"]}),z(!1)},onError:()=>{r({title:"Failed to update order",variant:"destructive"})}});const Qe=ot({mutationFn:Ke=>Ze(`/api/admin/shop/bulk-${Ke.type}`,{method:"POST",body:JSON.stringify(Ke)}),onSuccess:()=>{r({title:"Bulk operation completed successfully"}),Rt.invalidateQueries({queryKey:[`/api/admin/${n}`]}),K([]),Ce(!1)},onError:()=>{r({title:"Bulk operation failed",variant:"destructive"})}}),Er=ot({mutationFn:Ke=>Ze(`/api/admin/orders/${Ke.orderId}/fulfill`,{method:"POST",body:JSON.stringify(Ke)}),onSuccess:()=>{r({title:"Order fulfilled successfully"}),Rt.invalidateQueries({queryKey:["/api/admin/orders"]})},onError:()=>{r({title:"Failed to fulfill order",variant:"destructive"})}}),fn=ot({mutationFn:Ke=>Ze(`/api/admin/orders/${Ke.orderId}/refund`,{method:"POST",body:JSON.stringify(Ke)}),onSuccess:()=>{r({title:"Order refunded successfully"}),Rt.invalidateQueries({queryKey:["/api/admin/orders"]})},onError:()=>{r({title:"Failed to refund order",variant:"destructive"})}}),za=Ke=>{switch(Ke){case"active":return e.jsxs(ce,{className:"bg-green-500 text-white",children:[e.jsx(Cr,{className:"w-3 h-3 mr-1"}),"Active"]});case"draft":return e.jsxs(ce,{className:"bg-gray-500 text-white",children:[e.jsx(Ko,{className:"w-3 h-3 mr-1"}),"Draft"]});case"inactive":return e.jsxs(ce,{className:"bg-red-500 text-white",children:[e.jsx(Ln,{className:"w-3 h-3 mr-1"}),"Inactive"]});case"out_of_stock":return e.jsxs(ce,{className:"bg-orange-500 text-white",children:[e.jsx(QO,{className:"w-3 h-3 mr-1"}),"Out of Stock"]});case"discontinued":return e.jsxs(ce,{className:"bg-purple-500 text-white",children:[e.jsx(pc,{className:"w-3 h-3 mr-1"}),"Discontinued"]});default:return e.jsx(ce,{variant:"outline",children:"Unknown"})}},st=Ke=>{switch(Ke){case"pending":return e.jsxs(ce,{className:"bg-yellow-500 text-white",children:[e.jsx(wr,{className:"w-3 h-3 mr-1"}),"Pending"]});case"confirmed":return e.jsxs(ce,{className:"bg-blue-500 text-white",children:[e.jsx(Cr,{className:"w-3 h-3 mr-1"}),"Confirmed"]});case"processing":return e.jsxs(ce,{className:"bg-purple-500 text-white",children:[e.jsx(dc,{className:"w-3 h-3 mr-1"}),"Processing"]});case"shipped":return e.jsxs(ce,{className:"bg-green-500 text-white",children:[e.jsx(Lp,{className:"w-3 h-3 mr-1"}),"Shipped"]});case"delivered":return e.jsxs(ce,{className:"bg-green-600 text-white",children:[e.jsx(YO,{className:"w-3 h-3 mr-1"}),"Delivered"]});case"cancelled":return e.jsxs(ce,{className:"bg-red-500 text-white",children:[e.jsx(Ln,{className:"w-3 h-3 mr-1"}),"Cancelled"]});case"refunded":return e.jsxs(ce,{className:"bg-orange-500 text-white",children:[e.jsx(bx,{className:"w-3 h-3 mr-1"}),"Refunded"]});default:return e.jsx(ce,{variant:"outline",children:"Unknown"})}},On=Ke=>{switch(Ke){case"pending":return e.jsxs(ce,{variant:"outline",children:[e.jsx(wr,{className:"w-3 h-3 mr-1"}),"Pending"]});case"processing":return e.jsxs(ce,{className:"bg-blue-500 text-white",children:[e.jsx(dc,{className:"w-3 h-3 mr-1"}),"Processing"]});case"shipped":return e.jsxs(ce,{className:"bg-green-500 text-white",children:[e.jsx(Lp,{className:"w-3 h-3 mr-1"}),"Shipped"]});case"delivered":return e.jsxs(ce,{className:"bg-green-600 text-white",children:[e.jsx(YO,{className:"w-3 h-3 mr-1"}),"Delivered"]});case"cancelled":return e.jsxs(ce,{className:"bg-red-500 text-white",children:[e.jsx(Ln,{className:"w-3 h-3 mr-1"}),"Cancelled"]});default:return e.jsx(ce,{variant:"outline",children:"Unknown"})}},ms=Ke=>{switch(Ke){case"digital":return e.jsxs(ce,{className:"bg-blue-500 text-white",children:[e.jsx(Cn,{className:"w-3 h-3 mr-1"}),"Digital"]});case"physical":return e.jsxs(ce,{className:"bg-green-500 text-white",children:[e.jsx(dc,{className:"w-3 h-3 mr-1"}),"Physical"]});case"subscription":return e.jsxs(ce,{className:"bg-purple-500 text-white",children:[e.jsx(wn,{className:"w-3 h-3 mr-1"}),"Subscription"]});case"bundle":return e.jsxs(ce,{className:"bg-orange-500 text-white",children:[e.jsx(GZ,{className:"w-3 h-3 mr-1"}),"Bundle"]});default:return e.jsx(ce,{variant:"outline",children:"Unknown"})}},$c=Ke=>{const ea=Ke.inventory||{};if(!ea.track)return e.jsx(ce,{variant:"outline",children:"Not Tracked"});const pn=ea.quantity||0;return pn===0?e.jsx(ce,{className:"bg-red-500 text-white",children:"Out of Stock"}):pn<10?e.jsxs(ce,{className:"bg-orange-500 text-white",children:["Low Stock (",pn,")"]}):e.jsxs(ce,{className:"bg-green-500 text-white",children:["In Stock (",pn,")"]})},el=(Ke,ea)=>{K(ea?[...ne,Ke]:ne.filter(pn=>pn!==Ke))},eu=Ke=>{K(Ke?ft.map(ea=>ea.id):[])},va=Ke=>{qt(Ke),Ce(!0)},$l=()=>{let Ke={};Oe==="update_status"&&(Ke.status=Et,Ke.notes=Jt),Qe.mutate({itemIds:ne,operation:Oe,type:n,data:Ke})},zc=j.useMemo(()=>a?ft.filter(Ke=>n==="products"?Ke.name?.toLowerCase().includes(a.toLowerCase())||Ke.description?.toLowerCase().includes(a.toLowerCase())||Ke.sku?.toLowerCase().includes(a.toLowerCase())||Ke.creator?.username?.toLowerCase().includes(a.toLowerCase()):Ke.orderNumber?.toLowerCase().includes(a.toLowerCase())||Ke.customerEmail?.toLowerCase().includes(a.toLowerCase())||Ke.creator?.username?.toLowerCase().includes(a.toLowerCase())):ft,[ft,a,n]);return j.useEffect(()=>{if(Hr){const Ke=setInterval(()=>{n==="products"?ht():Gt()},6e4);return()=>clearInterval(Ke)}},[Hr,n,ht,Gt]),t?.role!=="admin"&&t?.role!=="moderator"?e.jsx("div",{className:"space-y-6","data-testid":"access-denied",children:e.jsxs(bn,{className:"border-destructive/50 bg-destructive/10",children:[e.jsx(Qr,{className:"h-4 w-4 text-destructive"}),e.jsx(jn,{className:"text-destructive",children:"Access denied. Admin or moderator privileges required to manage shop."})]})}):er?e.jsx("div",{className:"space-y-6",children:e.jsxs(bn,{className:"border-destructive/50 bg-destructive/10",children:[e.jsx(Qr,{className:"h-4 w-4 text-destructive"}),e.jsx(jn,{className:"text-destructive",children:"Failed to load shop data. Please try again."})]})}):e.jsxs("div",{className:"space-y-6","data-testid":"shop-management-page",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-display","data-testid":"page-title",children:"Shop Management"}),e.jsx("p",{className:"text-muted-foreground","data-testid":"page-description",children:"Comprehensive e-commerce management, orders, and analytics"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(kn,{checked:Hr,onCheckedChange:Jr,"data-testid":"auto-refresh-toggle"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Auto-refresh"})]}),e.jsxs(V,{variant:"outline",className:"gap-2",onClick:()=>_e(!0),children:[e.jsx(gl,{className:"h-4 w-4"}),"Analytics"]}),e.jsxs(V,{variant:"outline",className:"gap-2",children:[e.jsx($n,{className:"h-4 w-4"}),"Export Data"]}),e.jsxs(V,{variant:"outline",className:"gap-2",children:[e.jsx(hs,{className:"h-4 w-4"}),"Add Product"]}),e.jsxs(V,{variant:"outline",className:"gap-2",onClick:()=>n==="products"?ht():Gt(),children:[e.jsx(wn,{className:"h-4 w-4"}),"Refresh"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-8 gap-4",children:[e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:e.jsx(IY,{className:"h-5 w-5 text-green-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active Products"}),e.jsx("p",{className:"text-xl font-bold text-green-500","data-testid":"active-products",children:rr?.activeProducts||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:e.jsx(wy,{className:"h-5 w-5 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending Orders"}),e.jsx("p",{className:"text-xl font-bold text-blue-500","data-testid":"pending-orders",children:rr?.pendingOrders||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:e.jsx(qr,{className:"h-5 w-5 text-purple-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Revenue"}),e.jsxs("p",{className:"text-xl font-bold text-purple-500","data-testid":"total-revenue",children:["$",(rr?.totalRevenue||0).toLocaleString()]})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:e.jsx(yn,{className:"h-5 w-5 text-orange-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly Sales"}),e.jsxs("p",{className:"text-xl font-bold text-orange-500","data-testid":"monthly-sales",children:["$",(rr?.monthlySales||0).toLocaleString()]})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-red-500/10 rounded-lg flex items-center justify-center",children:e.jsx(QO,{className:"h-5 w-5 text-red-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Low Stock"}),e.jsx("p",{className:"text-xl font-bold text-red-500","data-testid":"low-stock",children:rr?.lowStockProducts||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-yellow-500/10 rounded-lg flex items-center justify-center",children:e.jsx(Lp,{className:"h-5 w-5 text-yellow-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"To Fulfill"}),e.jsx("p",{className:"text-xl font-bold text-yellow-500","data-testid":"to-fulfill",children:rr?.ordersToFulfill||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-cyan-500/10 rounded-lg flex items-center justify-center",children:e.jsx(lr,{className:"h-5 w-5 text-cyan-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Customers"}),e.jsx("p",{className:"text-xl font-bold text-cyan-500","data-testid":"total-customers",children:rr?.totalCustomers||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-pink-500/10 rounded-lg flex items-center justify-center",children:e.jsx(ys,{className:"h-5 w-5 text-pink-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Today's Orders"}),e.jsx("p",{className:"text-xl font-bold text-pink-500","data-testid":"todays-orders",children:rr?.todaysOrders||0})]})]})})})]}),e.jsxs(Y,{className:"bg-card border-border",children:[e.jsxs(ue,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(fe,{children:"E-commerce Management & Analytics"}),e.jsx(lt,{children:"Manage products, process orders, and analyze sales performance"})]}),ne.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ce,{variant:"secondary",children:[ne.length," selected"]}),e.jsxs(ns,{children:[e.jsx(ss,{asChild:!0,children:e.jsx(V,{variant:"outline",size:"sm",children:"Bulk Actions"})}),e.jsx(es,{children:n==="products"?e.jsxs(e.Fragment,{children:[e.jsxs(rt,{onClick:()=>va("activate"),children:[e.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Activate Products"]}),e.jsxs(rt,{onClick:()=>va("deactivate"),children:[e.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Deactivate Products"]}),e.jsxs(rt,{onClick:()=>va("feature"),children:[e.jsx(An,{className:"h-4 w-4 mr-2"}),"Feature Products"]}),e.jsxs(rt,{onClick:()=>va("update_inventory"),children:[e.jsx(dc,{className:"h-4 w-4 mr-2"}),"Update Inventory"]}),e.jsxs(rt,{onClick:()=>va("export"),children:[e.jsx($n,{className:"h-4 w-4 mr-2"}),"Export Selected"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(rt,{onClick:()=>va("confirm"),children:[e.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Confirm Orders"]}),e.jsxs(rt,{onClick:()=>va("fulfill"),children:[e.jsx(Lp,{className:"h-4 w-4 mr-2"}),"Mark as Fulfilled"]}),e.jsxs(rt,{onClick:()=>va("cancel"),children:[e.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Cancel Orders"]}),e.jsxs(rt,{onClick:()=>va("export"),children:[e.jsx($n,{className:"h-4 w-4 mr-2"}),"Export Selected"]})]})})]})]})]}),e.jsx(Xs,{value:n,onValueChange:s,className:"w-full",children:e.jsxs(zs,{className:"grid w-full grid-cols-2",children:[e.jsxs(Kt,{value:"products",className:"gap-2",children:[e.jsx(dc,{className:"h-4 w-4"}),"Products"]}),e.jsxs(Kt,{value:"orders",className:"gap-2",children:[e.jsx(wy,{className:"h-4 w-4"}),"Orders"]})]})})]}),e.jsxs(ee,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-8 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ue,{placeholder:`Search ${n}...`,value:a,onChange:Ke=>i(Ke.target.value),className:"pl-10","data-testid":"search-input"})]}),e.jsxs(yt,{value:o,onValueChange:l,children:[e.jsx(xt,{"data-testid":"status-filter",children:e.jsx(bt,{placeholder:"Status"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Status"}),n==="products"?e.jsxs(e.Fragment,{children:[e.jsx(Q,{value:"active",children:"Active"}),e.jsx(Q,{value:"draft",children:"Draft"}),e.jsx(Q,{value:"inactive",children:"Inactive"}),e.jsx(Q,{value:"out_of_stock",children:"Out of Stock"}),e.jsx(Q,{value:"discontinued",children:"Discontinued"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Q,{value:"pending",children:"Pending"}),e.jsx(Q,{value:"confirmed",children:"Confirmed"}),e.jsx(Q,{value:"processing",children:"Processing"}),e.jsx(Q,{value:"shipped",children:"Shipped"}),e.jsx(Q,{value:"delivered",children:"Delivered"}),e.jsx(Q,{value:"cancelled",children:"Cancelled"}),e.jsx(Q,{value:"refunded",children:"Refunded"})]})]})]}),n==="products"&&e.jsxs(yt,{value:u,onValueChange:m,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Type"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Types"}),e.jsx(Q,{value:"digital",children:"Digital"}),e.jsx(Q,{value:"physical",children:"Physical"}),e.jsx(Q,{value:"subscription",children:"Subscription"}),e.jsx(Q,{value:"bundle",children:"Bundle"})]})]}),n==="orders"&&e.jsxs(yt,{value:O,onValueChange:I,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Fulfillment"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Fulfillment"}),e.jsx(Q,{value:"pending",children:"Pending"}),e.jsx(Q,{value:"processing",children:"Processing"}),e.jsx(Q,{value:"shipped",children:"Shipped"}),e.jsx(Q,{value:"delivered",children:"Delivered"}),e.jsx(Q,{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs(yt,{value:f,onValueChange:p,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Creator"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Creators"}),as?.map(Ke=>e.jsx(Q,{value:Ke.id,children:Ke.username||Ke.displayName},Ke.id))]})]}),n==="products"&&e.jsxs(e.Fragment,{children:[e.jsxs(yt,{value:g,onValueChange:b,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Category"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Categories"}),Gr?.map(Ke=>e.jsx(Q,{value:Ke.id,children:Ke.name},Ke.id))]})]}),e.jsxs(yt,{value:y,onValueChange:_,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Price Range"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Prices"}),e.jsx(Q,{value:"free",children:"Free"}),e.jsx(Q,{value:"low",children:"$1 - $25"}),e.jsx(Q,{value:"medium",children:"$26 - $100"}),e.jsx(Q,{value:"high",children:"$100+"})]})]}),e.jsxs(yt,{value:w,onValueChange:k,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Inventory"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Inventory"}),e.jsx(Q,{value:"in_stock",children:"In Stock"}),e.jsx(Q,{value:"low_stock",children:"Low Stock"}),e.jsx(Q,{value:"out_of_stock",children:"Out of Stock"}),e.jsx(Q,{value:"not_tracked",children:"Not Tracked"})]})]})]}),e.jsxs(yt,{value:A,onValueChange:P,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Date Range"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Time"}),e.jsx(Q,{value:"today",children:"Today"}),e.jsx(Q,{value:"week",children:"This Week"}),e.jsx(Q,{value:"month",children:"This Month"}),e.jsx(Q,{value:"quarter",children:"This Quarter"})]})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(Ta,{children:[e.jsx(Ea,{children:e.jsxs(Sr,{children:[e.jsx(We,{className:"w-12",children:e.jsx(Jn,{checked:ne.length===ft.length&&ft.length>0,onCheckedChange:eu})}),n==="products"?e.jsxs(e.Fragment,{children:[e.jsx(We,{children:"Product Details"}),e.jsx(We,{children:"Creator"}),e.jsx(We,{children:"Status & Type"}),e.jsx(We,{children:"Price & Revenue"}),e.jsx(We,{children:"Inventory"}),e.jsx(We,{children:"Performance"}),e.jsx(We,{children:"Date"})]}):e.jsxs(e.Fragment,{children:[e.jsx(We,{children:"Order Details"}),e.jsx(We,{children:"Customer"}),e.jsx(We,{children:"Creator"}),e.jsx(We,{children:"Status"}),e.jsx(We,{children:"Total & Payment"}),e.jsx(We,{children:"Fulfillment"}),e.jsx(We,{children:"Date"})]}),e.jsx(We,{className:"w-32",children:"Actions"})]})}),e.jsx(Oa,{children:Lt?Array.from({length:5}).map((Ke,ea)=>e.jsx(Sr,{children:e.jsx(Be,{colSpan:8,children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-12 w-12 bg-muted rounded animate-pulse"}),e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"h-3 bg-muted rounded w-2/3 animate-pulse"})]})]})})},ea)):zc.length===0?e.jsx(Sr,{children:e.jsxs(Be,{colSpan:8,className:"text-center py-12",children:[e.jsx("div",{className:"h-16 w-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:n==="products"?e.jsx(dc,{className:"h-8 w-8 text-muted-foreground"}):e.jsx(wy,{className:"h-8 w-8 text-muted-foreground"})}),e.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["No ",n," found"]}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search criteria or filters."})]})}):zc.map(Ke=>e.jsxs(Sr,{"data-testid":`${n}-row-${Ke.id}`,children:[e.jsx(Be,{children:e.jsx(Jn,{checked:ne.includes(Ke.id),onCheckedChange:ea=>el(Ke.id,ea)})}),n==="products"?e.jsxs(e.Fragment,{children:[e.jsx(Be,{children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-muted rounded-lg overflow-hidden flex-shrink-0",children:Ke.images?.[0]?e.jsx("img",{src:Ke.images[0],alt:Ke.name,className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full flex items-center justify-center",children:e.jsx(dc,{className:"h-6 w-6 text-muted-foreground"})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-medium truncate","data-testid":`product-name-${Ke.id}`,children:Ke.name}),e.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[Ke.shortDescription||Ke.description?.substring(0,50),"..."]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[Ke.sku&&e.jsxs(ce,{variant:"outline",className:"text-xs",children:["SKU: ",Ke.sku]}),Ke.tags?.slice(0,2).map((ea,pn)=>e.jsx(ce,{variant:"outline",className:"text-xs",children:ea},pn))]})]})]})}),e.jsx(Be,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:Ke.creator?.profileImageUrl||"/default-avatar.png",alt:Ke.creator?.username,className:"h-8 w-8 rounded-full ring-2 ring-primary/20"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:Ke.creator?.username}),e.jsx("p",{className:"text-xs text-muted-foreground",children:Ke.creator?.role})]})]})}),e.jsx(Be,{children:e.jsxs("div",{className:"space-y-1",children:[za(Ke.status),ms(Ke.type)]})}),e.jsx(Be,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"font-medium",children:["$",((Ke.priceCents||0)/100).toFixed(2)]}),Ke.comparePriceCents&&e.jsxs("div",{className:"text-xs text-muted-foreground line-through",children:["$",(Ke.comparePriceCents/100).toFixed(2)]}),Ke.totalSales&&e.jsxs("div",{className:"text-xs text-green-600",children:["$",(Ke.totalSales/100).toFixed(2)," sold"]})]})}),e.jsxs(Be,{children:[$c(Ke),Ke.variants?.length>0&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[Ke.variants.length," variants"]})]}),e.jsx(Be,{children:e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(pr,{className:"h-3 w-3"}),Ke.viewsCount?.toLocaleString()||0]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(wy,{className:"h-3 w-3"}),Ke.salesCount||0]}),Ke.rating&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(An,{className:"h-3 w-3"}),Ke.rating.toFixed(1)]})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx(Be,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"font-medium","data-testid":`order-number-${Ke.id}`,children:["#",Ke.orderNumber]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[Ke.lineItems?.length||0," items"]}),Ke.notes&&e.jsxs("div",{className:"text-xs text-muted-foreground truncate",children:["Note: ",Ke.notes.substring(0,30),"..."]})]})}),e.jsx(Be,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium text-sm",children:Ke.customerEmail}),Ke.shippingAddress&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:[Ke.shippingAddress.city,", ",Ke.shippingAddress.country]})]})}),e.jsx(Be,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:Ke.creator?.profileImageUrl||"/default-avatar.png",alt:Ke.creator?.username,className:"h-6 w-6 rounded-full"}),e.jsx("span",{className:"text-sm",children:Ke.creator?.username})]})}),e.jsx(Be,{children:e.jsxs("div",{className:"space-y-1",children:[st(Ke.status),e.jsx("div",{className:"text-xs text-muted-foreground",children:Ke.paymentStatus})]})}),e.jsx(Be,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"font-medium",children:["$",((Ke.totalCents||0)/100).toFixed(2)]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:Ke.paymentMethod}),Ke.discountCents>0&&e.jsxs("div",{className:"text-xs text-green-600",children:["-$",(Ke.discountCents/100).toFixed(2)," discount"]})]})}),e.jsx(Be,{children:e.jsxs("div",{className:"space-y-1",children:[On(Ke.fulfillmentStatus),Ke.trackingNumber&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Tracking: ",Ke.trackingNumber]})]})})]}),e.jsxs(Be,{children:[e.jsx("div",{className:"text-sm",children:Ir(new Date(Ke.createdAt),"MMM d, yyyy")}),e.jsx("div",{className:"text-xs text-muted-foreground",children:Ir(new Date(Ke.createdAt),"h:mm a")})]}),e.jsx(Be,{children:e.jsxs(ns,{children:[e.jsx(ss,{asChild:!0,children:e.jsx(V,{variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(Ja,{className:"h-4 w-4"})})}),e.jsxs(es,{align:"end",children:[e.jsxs(rt,{onClick:()=>{St(Ke),n==="products"?se(!0):z(!0)},children:[e.jsx(pr,{className:"h-4 w-4 mr-2"}),"View Details"]}),n==="products"?e.jsxs(e.Fragment,{children:[e.jsxs(rt,{children:[e.jsx(Ko,{className:"h-4 w-4 mr-2"}),"Edit Product"]}),e.jsxs(rt,{children:[e.jsx(Qu,{className:"h-4 w-4 mr-2"}),"Duplicate Product"]}),e.jsxs(rt,{children:[e.jsx(dc,{className:"h-4 w-4 mr-2"}),"Manage Inventory"]}),e.jsx(lo,{}),e.jsxs(rt,{children:[e.jsx(pc,{className:"h-4 w-4 mr-2"}),"Archive Product"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(rt,{onClick:()=>{Er.mutate({orderId:Ke.id,notes:"Fulfilled via admin panel"})},children:[e.jsx(Lp,{className:"h-4 w-4 mr-2"}),"Fulfill Order"]}),e.jsxs(rt,{onClick:()=>{fn.mutate({orderId:Ke.id,reason:"Administrative refund"})},children:[e.jsx(bx,{className:"h-4 w-4 mr-2"}),"Process Refund"]}),e.jsxs(rt,{children:[e.jsx(QA,{className:"h-4 w-4 mr-2"}),"Download Invoice"]}),e.jsx(lo,{}),e.jsxs(rt,{children:[e.jsx(kl,{className:"h-4 w-4 mr-2"}),"Contact Customer"]})]})]})]})})]},Ke.id))})]})}),dn>1&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(D-1)*B+1," to ",Math.min(D*B,at)," of ",at," ",n]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{variant:"outline",size:"sm",onClick:()=>F(Math.max(1,D-1)),disabled:D===1,children:"Previous"}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,dn)},(Ke,ea)=>{const pn=ea+1;return e.jsx(V,{variant:D===pn?"default":"outline",size:"sm",onClick:()=>F(pn),className:"w-8 h-8",children:pn},pn)})}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>F(Math.min(dn,D+1)),disabled:D===dn,children:"Next"})]})]})]})]}),e.jsx(Ur,{open:oe,onOpenChange:Ce,children:e.jsxs(Lr,{children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Bulk Operation"}),e.jsxs(Wr,{children:["Apply ",Oe," to ",ne.length," selected ",n,"."]})]}),e.jsx("div",{className:"space-y-4",children:Oe==="update_status"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"New Status"}),e.jsxs(yt,{value:Et,onValueChange:sr,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Select status"})}),e.jsx(gt,{children:n==="products"?e.jsxs(e.Fragment,{children:[e.jsx(Q,{value:"active",children:"Active"}),e.jsx(Q,{value:"inactive",children:"Inactive"}),e.jsx(Q,{value:"discontinued",children:"Discontinued"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Q,{value:"confirmed",children:"Confirmed"}),e.jsx(Q,{value:"processing",children:"Processing"}),e.jsx(Q,{value:"cancelled",children:"Cancelled"})]})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Notes"}),e.jsx(on,{placeholder:"Additional notes...",value:Jt,onChange:Ke=>gr(Ke.target.value)})]})]})}),e.jsxs(pa,{children:[e.jsx(V,{variant:"outline",onClick:()=>Ce(!1),children:"Cancel"}),e.jsxs(V,{onClick:$l,children:["Execute ",Oe]})]})]})})]})}var Zg=t=>t.type==="checkbox",Bu=t=>t instanceof Date,Ga=t=>t==null;const QV=t=>typeof t=="object";var $s=t=>!Ga(t)&&!Array.isArray(t)&&QV(t)&&!Bu(t),XV=t=>$s(t)&&t.target?Zg(t.target)?t.target.checked:t.target.value:t,Q_e=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,JV=(t,r)=>t.has(Q_e(r)),X_e=t=>{const r=t.constructor&&t.constructor.prototype;return $s(r)&&r.hasOwnProperty("isPrototypeOf")},lT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Hs(t){let r;const n=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)r=new Date(t);else if(!(lT&&(t instanceof Blob||s))&&(n||$s(t)))if(r=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!X_e(t))r=t;else for(const a in t)t.hasOwnProperty(a)&&(r[a]=Hs(t[a]));else return t;return r}var Yj=t=>/^\w*$/.test(t),Cs=t=>t===void 0,cT=t=>Array.isArray(t)?t.filter(Boolean):[],dT=t=>cT(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ot=(t,r,n)=>{if(!r||!$s(t))return n;const s=(Yj(r)?[r]:dT(r)).reduce((a,i)=>Ga(a)?a:a[i],t);return Cs(s)||s===t?Cs(t[r])?n:t[r]:s},Di=t=>typeof t=="boolean",_n=(t,r,n)=>{let s=-1;const a=Yj(r)?[r]:dT(r),i=a.length,o=i-1;for(;++s<i;){const l=a[s];let u=n;if(s!==o){const m=t[l];u=$s(m)||Array.isArray(m)?m:isNaN(+a[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=u,t=t[l]}};const yb={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Do={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},cc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},uT=le.createContext(null);uT.displayName="HookFormContext";const Qj=()=>le.useContext(uT),J_e=t=>{const{children:r,...n}=t;return le.createElement(uT.Provider,{value:n},r)};var eK=(t,r,n,s=!0)=>{const a={defaultValues:r._defaultValues};for(const i in t)Object.defineProperty(a,i,{get:()=>{const o=i;return r._proxyFormState[o]!==Do.all&&(r._proxyFormState[o]=!s||Do.all),n&&(n[o]=!0),t[o]}});return a};const hT=typeof window<"u"?le.useLayoutEffect:le.useEffect;function eNe(t){const r=Qj(),{control:n=r.control,disabled:s,name:a,exact:i}=t||{},[o,l]=le.useState(n._formState),u=le.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return hT(()=>n._subscribe({name:a,formState:u.current,exact:i,callback:m=>{!s&&l({...n._formState,...m})}}),[a,s,i]),le.useEffect(()=>{u.current.isValid&&n._setValid(!0)},[n]),le.useMemo(()=>eK(o,n,u.current,!1),[o,n])}var $i=t=>typeof t=="string",tK=(t,r,n,s,a)=>$i(t)?(s&&r.watch.add(t),Ot(n,t,a)):Array.isArray(t)?t.map(i=>(s&&r.watch.add(i),Ot(n,i))):(s&&(r.watchAll=!0),n),SA=t=>Ga(t)||!QV(t);function fc(t,r,n=new WeakSet){if(SA(t)||SA(r))return t===r;if(Bu(t)&&Bu(r))return t.getTime()===r.getTime();const s=Object.keys(t),a=Object.keys(r);if(s.length!==a.length)return!1;if(n.has(t)||n.has(r))return!0;n.add(t),n.add(r);for(const i of s){const o=t[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=r[i];if(Bu(o)&&Bu(l)||$s(o)&&$s(l)||Array.isArray(o)&&Array.isArray(l)?!fc(o,l,n):o!==l)return!1}}return!0}function tNe(t){const r=Qj(),{control:n=r.control,name:s,defaultValue:a,disabled:i,exact:o,compute:l}=t||{},u=le.useRef(a),m=le.useRef(l),f=le.useRef(void 0);m.current=l;const p=le.useMemo(()=>n._getWatch(s,u.current),[n,s]),[g,b]=le.useState(m.current?m.current(p):p);return hT(()=>n._subscribe({name:s,formState:{values:!0},exact:o,callback:y=>{if(!i){const _=tK(s,n._names,y.values||n._formValues,!1,u.current);if(m.current){const w=m.current(_);fc(w,f.current)||(b(w),f.current=w)}else b(_)}}}),[n,i,s,o]),le.useEffect(()=>n._removeUnmounted()),g}function rNe(t){const r=Qj(),{name:n,disabled:s,control:a=r.control,shouldUnregister:i,defaultValue:o}=t,l=JV(a._names.array,n),u=le.useMemo(()=>Ot(a._formValues,n,Ot(a._defaultValues,n,o)),[a,n,o]),m=tNe({control:a,name:n,defaultValue:u,exact:!0}),f=eNe({control:a,name:n,exact:!0}),p=le.useRef(t),g=le.useRef(void 0),b=le.useRef(a.register(n,{...t.rules,value:m,...Di(t.disabled)?{disabled:t.disabled}:{}}));p.current=t;const y=le.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ot(f.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ot(f.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ot(f.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ot(f.validatingFields,n)},error:{enumerable:!0,get:()=>Ot(f.errors,n)}}),[f,n]),_=le.useCallback(P=>b.current.onChange({target:{value:XV(P),name:n},type:yb.CHANGE}),[n]),w=le.useCallback(()=>b.current.onBlur({target:{value:Ot(a._formValues,n),name:n},type:yb.BLUR}),[n,a._formValues]),k=le.useCallback(P=>{const O=Ot(a._fields,n);O&&P&&(O._f.ref={focus:()=>P.focus&&P.focus(),select:()=>P.select&&P.select(),setCustomValidity:I=>P.setCustomValidity(I),reportValidity:()=>P.reportValidity()})},[a._fields,n]),A=le.useMemo(()=>({name:n,value:m,...Di(s)||f.disabled?{disabled:f.disabled||s}:{},onChange:_,onBlur:w,ref:k}),[n,s,f.disabled,_,w,k,m]);return le.useEffect(()=>{const P=a._options.shouldUnregister||i,O=g.current;O&&O!==n&&!l&&a.unregister(O),a.register(n,{...p.current.rules,...Di(p.current.disabled)?{disabled:p.current.disabled}:{}});const I=(D,F)=>{const B=Ot(a._fields,D);B&&B._f&&(B._f.mount=F)};if(I(n,!0),P){const D=Hs(Ot(a._options.defaultValues,n));_n(a._defaultValues,n,D),Cs(Ot(a._formValues,n))&&_n(a._formValues,n,D)}return!l&&a.register(n),g.current=n,()=>{(l?P&&!a._state.action:P)?a.unregister(n):I(n,!1)}},[n,a,l,i]),le.useEffect(()=>{a._setDisabledField({disabled:s,name:n})},[s,n,a]),le.useMemo(()=>({field:A,formState:f,fieldState:y}),[A,f,y])}const nNe=t=>t.render(rNe(t));var rK=(t,r,n,s,a)=>r?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[s]:a||!0}}:{},fx=t=>Array.isArray(t)?t:[t],W6=()=>{let t=[];return{get observers(){return t},next:a=>{for(const i of t)i.next&&i.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(i=>i!==a)}}),unsubscribe:()=>{t=[]}}};function nK(t,r){const n={};for(const s in t)if(t.hasOwnProperty(s)){const a=t[s],i=r[s];if(a&&$s(a)&&i){const o=nK(a,i);$s(o)&&(n[s]=o)}else t[s]&&(n[s]=i)}return n}var ui=t=>$s(t)&&!Object.keys(t).length,mT=t=>t.type==="file",Ro=t=>typeof t=="function",bb=t=>{if(!lT)return!1;const r=t?t.ownerDocument:0;return t instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},sK=t=>t.type==="select-multiple",fT=t=>t.type==="radio",sNe=t=>fT(t)||Zg(t),cC=t=>bb(t)&&t.isConnected;function aNe(t,r){const n=r.slice(0,-1).length;let s=0;for(;s<n;)t=Cs(t)?s++:t[r[s++]];return t}function iNe(t){for(const r in t)if(t.hasOwnProperty(r)&&!Cs(t[r]))return!1;return!0}function Ms(t,r){const n=Array.isArray(r)?r:Yj(r)?[r]:dT(r),s=n.length===1?t:aNe(t,n),a=n.length-1,i=n[a];return s&&delete s[i],a!==0&&($s(s)&&ui(s)||Array.isArray(s)&&iNe(s))&&Ms(t,n.slice(0,-1)),t}var oNe=t=>{for(const r in t)if(Ro(t[r]))return!0;return!1};function aK(t){return Array.isArray(t)||$s(t)&&!oNe(t)}function CA(t,r={}){for(const n in t)aK(t[n])?(r[n]=Array.isArray(t[n])?[]:{},CA(t[n],r[n])):Ga(t[n])||(r[n]=!0);return r}function jm(t,r,n){n||(n=CA(r));for(const s in t)aK(t[s])?Cs(r)||SA(n[s])?n[s]=CA(t[s],Array.isArray(t[s])?[]:{}):jm(t[s],Ga(r)?{}:r[s],n[s]):n[s]=!fc(t[s],r[s]);return n}const H6={value:!1,isValid:!1},G6={value:!0,isValid:!0};var iK=t=>{if(Array.isArray(t)){if(t.length>1){const r=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:r,isValid:!!r.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Cs(t[0].attributes.value)?Cs(t[0].value)||t[0].value===""?G6:{value:t[0].value,isValid:!0}:G6:H6}return H6},oK=(t,{valueAsNumber:r,valueAsDate:n,setValueAs:s})=>Cs(t)?t:r?t===""?NaN:t&&+t:n&&$i(t)?new Date(t):s?s(t):t;const Z6={isValid:!1,value:null};var lK=t=>Array.isArray(t)?t.reduce((r,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:r,Z6):Z6;function Y6(t){const r=t.ref;return mT(r)?r.files:fT(r)?lK(t.refs).value:sK(r)?[...r.selectedOptions].map(({value:n})=>n):Zg(r)?iK(t.refs).value:oK(Cs(r.value)?t.ref.value:r.value,t)}var lNe=(t,r,n,s)=>{const a={};for(const i of t){const o=Ot(r,i);o&&_n(a,i,o._f)}return{criteriaMode:n,names:[...t],fields:a,shouldUseNativeValidation:s}},jb=t=>t instanceof RegExp,Qp=t=>Cs(t)?t:jb(t)?t.source:$s(t)?jb(t.value)?t.value.source:t.value:t,Q6=t=>({isOnSubmit:!t||t===Do.onSubmit,isOnBlur:t===Do.onBlur,isOnChange:t===Do.onChange,isOnAll:t===Do.all,isOnTouch:t===Do.onTouched});const X6="AsyncFunction";var cNe=t=>!!t&&!!t.validate&&!!(Ro(t.validate)&&t.validate.constructor.name===X6||$s(t.validate)&&Object.values(t.validate).find(r=>r.constructor.name===X6)),dNe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),J6=(t,r,n)=>!n&&(r.watchAll||r.watch.has(t)||[...r.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const px=(t,r,n,s)=>{for(const a of n||Object.keys(t)){const i=Ot(t,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&r(o.refs[0],a)&&!s)return!0;if(o.ref&&r(o.ref,o.name)&&!s)return!0;if(px(l,r))break}else if($s(l)&&px(l,r))break}}};function e8(t,r,n){const s=Ot(t,n);if(s||Yj(n))return{error:s,name:n};const a=n.split(".");for(;a.length;){const i=a.join("."),o=Ot(r,i),l=Ot(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:n}}var uNe=(t,r,n,s)=>{n(t);const{name:a,...i}=t;return ui(i)||Object.keys(i).length>=Object.keys(r).length||Object.keys(i).find(o=>r[o]===(!s||Do.all))},hNe=(t,r,n)=>!t||!r||t===r||fx(t).some(s=>s&&(n?s===r:s.startsWith(r)||r.startsWith(s))),mNe=(t,r,n,s,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(r||t):(n?s.isOnBlur:a.isOnBlur)?!t:(n?s.isOnChange:a.isOnChange)?t:!0,fNe=(t,r)=>!cT(Ot(t,r)).length&&Ms(t,r),pNe=(t,r,n)=>{const s=fx(Ot(t,n));return _n(s,"root",r[n]),_n(t,n,s),t};function t8(t,r,n="validate"){if($i(t)||Array.isArray(t)&&t.every($i)||Di(t)&&!t)return{type:n,message:$i(t)?t:"",ref:r}}var bm=t=>$s(t)&&!jb(t)?t:{value:t,message:""},r8=async(t,r,n,s,a,i)=>{const{ref:o,refs:l,required:u,maxLength:m,minLength:f,min:p,max:g,pattern:b,validate:y,name:_,valueAsNumber:w,mount:k}=t._f,A=Ot(n,_);if(!k||r.has(_))return{};const P=l?l[0]:o,O=J=>{a&&P.reportValidity&&(P.setCustomValidity(Di(J)?"":J||""),P.reportValidity())},I={},D=fT(o),F=Zg(o),B=D||F,H=(w||mT(o))&&Cs(o.value)&&Cs(A)||bb(o)&&o.value===""||A===""||Array.isArray(A)&&!A.length,re=rK.bind(null,_,s,I),G=(J,Z,ne,K=cc.maxLength,ae=cc.minLength)=>{const U=J?Z:ne;I[_]={type:J?K:ae,message:U,ref:o,...re(J?K:ae,U)}};if(i?!Array.isArray(A)||!A.length:u&&(!B&&(H||Ga(A))||Di(A)&&!A||F&&!iK(l).isValid||D&&!lK(l).isValid)){const{value:J,message:Z}=$i(u)?{value:!!u,message:u}:bm(u);if(J&&(I[_]={type:cc.required,message:Z,ref:P,...re(cc.required,Z)},!s))return O(Z),I}if(!H&&(!Ga(p)||!Ga(g))){let J,Z;const ne=bm(g),K=bm(p);if(!Ga(A)&&!isNaN(A)){const ae=o.valueAsNumber||A&&+A;Ga(ne.value)||(J=ae>ne.value),Ga(K.value)||(Z=ae<K.value)}else{const ae=o.valueAsDate||new Date(A),U=de=>new Date(new Date().toDateString()+" "+de),W=o.type=="time",se=o.type=="week";$i(ne.value)&&A&&(J=W?U(A)>U(ne.value):se?A>ne.value:ae>new Date(ne.value)),$i(K.value)&&A&&(Z=W?U(A)<U(K.value):se?A<K.value:ae<new Date(K.value))}if((J||Z)&&(G(!!J,ne.message,K.message,cc.max,cc.min),!s))return O(I[_].message),I}if((m||f)&&!H&&($i(A)||i&&Array.isArray(A))){const J=bm(m),Z=bm(f),ne=!Ga(J.value)&&A.length>+J.value,K=!Ga(Z.value)&&A.length<+Z.value;if((ne||K)&&(G(ne,J.message,Z.message),!s))return O(I[_].message),I}if(b&&!H&&$i(A)){const{value:J,message:Z}=bm(b);if(jb(J)&&!A.match(J)&&(I[_]={type:cc.pattern,message:Z,ref:o,...re(cc.pattern,Z)},!s))return O(Z),I}if(y){if(Ro(y)){const J=await y(A,n),Z=t8(J,P);if(Z&&(I[_]={...Z,...re(cc.validate,Z.message)},!s))return O(Z.message),I}else if($s(y)){let J={};for(const Z in y){if(!ui(J)&&!s)break;const ne=t8(await y[Z](A,n),P,Z);ne&&(J={...ne,...re(Z,ne.message)},O(ne.message),s&&(I[_]=J))}if(!ui(J)&&(I[_]={ref:P,...J},!s))return I}}return O(!0),I};const xNe={mode:Do.onSubmit,reValidateMode:Do.onChange,shouldFocusError:!0};function gNe(t={}){let r={...xNe,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ro(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},s={},a=$s(r.defaultValues)||$s(r.values)?Hs(r.defaultValues||r.values)||{}:{},i=r.shouldUnregister?{}:Hs(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,m=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...f};const g={array:W6(),state:W6()},b=r.criteriaMode===Do.all,y=me=>Ne=>{clearTimeout(m),m=setTimeout(me,Ne)},_=async me=>{if(!r.disabled&&(f.isValid||p.isValid||me)){const Ne=r.resolver?ui((await F()).errors):await H(s,!0);Ne!==n.isValid&&g.state.next({isValid:Ne})}},w=(me,Ne)=>{!r.disabled&&(f.isValidating||f.validatingFields||p.isValidating||p.validatingFields)&&((me||Array.from(l.mount)).forEach(Ie=>{Ie&&(Ne?_n(n.validatingFields,Ie,Ne):Ms(n.validatingFields,Ie))}),g.state.next({validatingFields:n.validatingFields,isValidating:!ui(n.validatingFields)}))},k=(me,Ne=[],Ie,ht,dt=!0,Je=!0)=>{if(ht&&Ie&&!r.disabled){if(o.action=!0,Je&&Array.isArray(Ot(s,me))){const ze=Ie(Ot(s,me),ht.argA,ht.argB);dt&&_n(s,me,ze)}if(Je&&Array.isArray(Ot(n.errors,me))){const ze=Ie(Ot(n.errors,me),ht.argA,ht.argB);dt&&_n(n.errors,me,ze),fNe(n.errors,me)}if((f.touchedFields||p.touchedFields)&&Je&&Array.isArray(Ot(n.touchedFields,me))){const ze=Ie(Ot(n.touchedFields,me),ht.argA,ht.argB);dt&&_n(n.touchedFields,me,ze)}(f.dirtyFields||p.dirtyFields)&&(n.dirtyFields=jm(a,i)),g.state.next({name:me,isDirty:G(me,Ne),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else _n(i,me,Ne)},A=(me,Ne)=>{_n(n.errors,me,Ne),g.state.next({errors:n.errors})},P=me=>{n.errors=me,g.state.next({errors:n.errors,isValid:!1})},O=(me,Ne,Ie,ht)=>{const dt=Ot(s,me);if(dt){const Je=Ot(i,me,Cs(Ie)?Ot(a,me):Ie);Cs(Je)||ht&&ht.defaultChecked||Ne?_n(i,me,Ne?Je:Y6(dt._f)):ne(me,Je),o.mount&&_()}},I=(me,Ne,Ie,ht,dt)=>{let Je=!1,ze=!1;const Gt={name:me};if(!r.disabled){if(!Ie||ht){(f.isDirty||p.isDirty)&&(ze=n.isDirty,n.isDirty=Gt.isDirty=G(),Je=ze!==Gt.isDirty);const rr=fc(Ot(a,me),Ne);ze=!!Ot(n.dirtyFields,me),rr?Ms(n.dirtyFields,me):_n(n.dirtyFields,me,!0),Gt.dirtyFields=n.dirtyFields,Je=Je||(f.dirtyFields||p.dirtyFields)&&ze!==!rr}if(Ie){const rr=Ot(n.touchedFields,me);rr||(_n(n.touchedFields,me,Ie),Gt.touchedFields=n.touchedFields,Je=Je||(f.touchedFields||p.touchedFields)&&rr!==Ie)}Je&&dt&&g.state.next(Gt)}return Je?Gt:{}},D=(me,Ne,Ie,ht)=>{const dt=Ot(n.errors,me),Je=(f.isValid||p.isValid)&&Di(Ne)&&n.isValid!==Ne;if(r.delayError&&Ie?(u=y(()=>A(me,Ie)),u(r.delayError)):(clearTimeout(m),u=null,Ie?_n(n.errors,me,Ie):Ms(n.errors,me)),(Ie?!fc(dt,Ie):dt)||!ui(ht)||Je){const ze={...ht,...Je&&Di(Ne)?{isValid:Ne}:{},errors:n.errors,name:me};n={...n,...ze},g.state.next(ze)}},F=async me=>{w(me,!0);const Ne=await r.resolver(i,r.context,lNe(me||l.mount,s,r.criteriaMode,r.shouldUseNativeValidation));return w(me),Ne},B=async me=>{const{errors:Ne}=await F(me);if(me)for(const Ie of me){const ht=Ot(Ne,Ie);ht?_n(n.errors,Ie,ht):Ms(n.errors,Ie)}else n.errors=Ne;return Ne},H=async(me,Ne,Ie={valid:!0})=>{for(const ht in me){const dt=me[ht];if(dt){const{_f:Je,...ze}=dt;if(Je){const Gt=l.array.has(Je.name),rr=dt._f&&cNe(dt._f);rr&&f.validatingFields&&w([Je.name],!0);const Rn=await r8(dt,l.disabled,i,b,r.shouldUseNativeValidation&&!Ne,Gt);if(rr&&f.validatingFields&&w([Je.name]),Rn[Je.name]&&(Ie.valid=!1,Ne))break;!Ne&&(Ot(Rn,Je.name)?Gt?pNe(n.errors,Rn,Je.name):_n(n.errors,Je.name,Rn[Je.name]):Ms(n.errors,Je.name))}!ui(ze)&&await H(ze,Ne,Ie)}}return Ie.valid},re=()=>{for(const me of l.unMount){const Ne=Ot(s,me);Ne&&(Ne._f.refs?Ne._f.refs.every(Ie=>!cC(Ie)):!cC(Ne._f.ref))&&je(me)}l.unMount=new Set},G=(me,Ne)=>!r.disabled&&(me&&Ne&&_n(i,me,Ne),!fc(de(),a)),J=(me,Ne,Ie)=>tK(me,l,{...o.mount?i:Cs(Ne)?a:$i(me)?{[me]:Ne}:Ne},Ie,Ne),Z=me=>cT(Ot(o.mount?i:a,me,r.shouldUnregister?Ot(a,me,[]):[])),ne=(me,Ne,Ie={})=>{const ht=Ot(s,me);let dt=Ne;if(ht){const Je=ht._f;Je&&(!Je.disabled&&_n(i,me,oK(Ne,Je)),dt=bb(Je.ref)&&Ga(Ne)?"":Ne,sK(Je.ref)?[...Je.ref.options].forEach(ze=>ze.selected=dt.includes(ze.value)):Je.refs?Zg(Je.ref)?Je.refs.forEach(ze=>{(!ze.defaultChecked||!ze.disabled)&&(Array.isArray(dt)?ze.checked=!!dt.find(Gt=>Gt===ze.value):ze.checked=dt===ze.value||!!dt)}):Je.refs.forEach(ze=>ze.checked=ze.value===dt):mT(Je.ref)?Je.ref.value="":(Je.ref.value=dt,Je.ref.type||g.state.next({name:me,values:Hs(i)})))}(Ie.shouldDirty||Ie.shouldTouch)&&I(me,dt,Ie.shouldTouch,Ie.shouldDirty,!0),Ie.shouldValidate&&se(me)},K=(me,Ne,Ie)=>{for(const ht in Ne){if(!Ne.hasOwnProperty(ht))return;const dt=Ne[ht],Je=me+"."+ht,ze=Ot(s,Je);(l.array.has(me)||$s(dt)||ze&&!ze._f)&&!Bu(dt)?K(Je,dt,Ie):ne(Je,dt,Ie)}},ae=(me,Ne,Ie={})=>{const ht=Ot(s,me),dt=l.array.has(me),Je=Hs(Ne);_n(i,me,Je),dt?(g.array.next({name:me,values:Hs(i)}),(f.isDirty||f.dirtyFields||p.isDirty||p.dirtyFields)&&Ie.shouldDirty&&g.state.next({name:me,dirtyFields:jm(a,i),isDirty:G(me,Je)})):ht&&!ht._f&&!Ga(Je)?K(me,Je,Ie):ne(me,Je,Ie),J6(me,l)&&g.state.next({...n,name:me}),g.state.next({name:o.mount?me:void 0,values:Hs(i)})},U=async me=>{o.mount=!0;const Ne=me.target;let Ie=Ne.name,ht=!0;const dt=Ot(s,Ie),Je=rr=>{ht=Number.isNaN(rr)||Bu(rr)&&isNaN(rr.getTime())||fc(rr,Ot(i,Ie,rr))},ze=Q6(r.mode),Gt=Q6(r.reValidateMode);if(dt){let rr,Rn;const as=Ne.type?Y6(dt._f):XV(me),Gr=me.type===yb.BLUR||me.type===yb.FOCUS_OUT,$a=!dNe(dt._f)&&!r.resolver&&!Ot(n.errors,Ie)&&!dt._f.deps||mNe(Gr,Ot(n.touchedFields,Ie),n.isSubmitted,Gt,ze),_s=J6(Ie,l,Gr);_n(i,Ie,as),Gr?(!Ne||!Ne.readOnly)&&(dt._f.onBlur&&dt._f.onBlur(me),u&&u(0)):dt._f.onChange&&dt._f.onChange(me);const at=I(Ie,as,Gr),dn=!ui(at)||_s;if(!Gr&&g.state.next({name:Ie,type:me.type,values:Hs(i)}),$a)return(f.isValid||p.isValid)&&(r.mode==="onBlur"?Gr&&_():Gr||_()),dn&&g.state.next({name:Ie,..._s?{}:at});if(!Gr&&_s&&g.state.next({...n}),r.resolver){const{errors:ft}=await F([Ie]);if(Je(as),ht){const Lt=e8(n.errors,s,Ie),er=e8(ft,s,Lt.name||Ie);rr=er.error,Ie=er.name,Rn=ui(ft)}}else w([Ie],!0),rr=(await r8(dt,l.disabled,i,b,r.shouldUseNativeValidation))[Ie],w([Ie]),Je(as),ht&&(rr?Rn=!1:(f.isValid||p.isValid)&&(Rn=await H(s,!0)));ht&&(dt._f.deps&&(!Array.isArray(dt._f.deps)||dt._f.deps.length>0)&&se(dt._f.deps),D(Ie,Rn,rr,at))}},W=(me,Ne)=>{if(Ot(n.errors,Ne)&&me.focus)return me.focus(),1},se=async(me,Ne={})=>{let Ie,ht;const dt=fx(me);if(r.resolver){const Je=await B(Cs(me)?me:dt);Ie=ui(Je),ht=me?!dt.some(ze=>Ot(Je,ze)):Ie}else me?(ht=(await Promise.all(dt.map(async Je=>{const ze=Ot(s,Je);return await H(ze&&ze._f?{[Je]:ze}:ze)}))).every(Boolean),!(!ht&&!n.isValid)&&_()):ht=Ie=await H(s);return g.state.next({...!$i(me)||(f.isValid||p.isValid)&&Ie!==n.isValid?{}:{name:me},...r.resolver||!me?{isValid:Ie}:{},errors:n.errors}),Ne.shouldFocus&&!ht&&px(s,W,me?dt:l.mount),ht},de=(me,Ne)=>{let Ie={...o.mount?i:a};return Ne&&(Ie=nK(Ne.dirtyFields?n.dirtyFields:n.touchedFields,Ie)),Cs(me)?Ie:$i(me)?Ot(Ie,me):me.map(ht=>Ot(Ie,ht))},z=(me,Ne)=>({invalid:!!Ot((Ne||n).errors,me),isDirty:!!Ot((Ne||n).dirtyFields,me),error:Ot((Ne||n).errors,me),isValidating:!!Ot(n.validatingFields,me),isTouched:!!Ot((Ne||n).touchedFields,me)}),oe=me=>{me&&fx(me).forEach(Ne=>Ms(n.errors,Ne)),g.state.next({errors:me?n.errors:{}})},Ce=(me,Ne,Ie)=>{const ht=(Ot(s,me,{_f:{}})._f||{}).ref,dt=Ot(n.errors,me)||{},{ref:Je,message:ze,type:Gt,...rr}=dt;_n(n.errors,me,{...rr,...Ne,ref:ht}),g.state.next({name:me,errors:n.errors,isValid:!1}),Ie&&Ie.shouldFocus&&ht&&ht.focus&&ht.focus()},ke=(me,Ne)=>Ro(me)?g.state.subscribe({next:Ie=>"values"in Ie&&me(J(void 0,Ne),Ie)}):J(me,Ne,!0),_e=me=>g.state.subscribe({next:Ne=>{hNe(me.name,Ne.name,me.exact)&&uNe(Ne,me.formState||f,gr,me.reRenderRoot)&&me.callback({values:{...i},...n,...Ne,defaultValues:a})}}).unsubscribe,Le=me=>(o.mount=!0,p={...p,...me.formState},_e({...me,formState:p})),je=(me,Ne={})=>{for(const Ie of me?fx(me):l.mount)l.mount.delete(Ie),l.array.delete(Ie),Ne.keepValue||(Ms(s,Ie),Ms(i,Ie)),!Ne.keepError&&Ms(n.errors,Ie),!Ne.keepDirty&&Ms(n.dirtyFields,Ie),!Ne.keepTouched&&Ms(n.touchedFields,Ie),!Ne.keepIsValidating&&Ms(n.validatingFields,Ie),!r.shouldUnregister&&!Ne.keepDefaultValue&&Ms(a,Ie);g.state.next({values:Hs(i)}),g.state.next({...n,...Ne.keepDirty?{isDirty:G()}:{}}),!Ne.keepIsValid&&_()},Xe=({disabled:me,name:Ne})=>{(Di(me)&&o.mount||me||l.disabled.has(Ne))&&(me?l.disabled.add(Ne):l.disabled.delete(Ne))},qe=(me,Ne={})=>{let Ie=Ot(s,me);const ht=Di(Ne.disabled)||Di(r.disabled);return _n(s,me,{...Ie||{},_f:{...Ie&&Ie._f?Ie._f:{ref:{name:me}},name:me,mount:!0,...Ne}}),l.mount.add(me),Ie?Xe({disabled:Di(Ne.disabled)?Ne.disabled:r.disabled,name:me}):O(me,!0,Ne.value),{...ht?{disabled:Ne.disabled||r.disabled}:{},...r.progressive?{required:!!Ne.required,min:Qp(Ne.min),max:Qp(Ne.max),minLength:Qp(Ne.minLength),maxLength:Qp(Ne.maxLength),pattern:Qp(Ne.pattern)}:{},name:me,onChange:U,onBlur:U,ref:dt=>{if(dt){qe(me,Ne),Ie=Ot(s,me);const Je=Cs(dt.value)&&dt.querySelectorAll&&dt.querySelectorAll("input,select,textarea")[0]||dt,ze=sNe(Je),Gt=Ie._f.refs||[];if(ze?Gt.find(rr=>rr===Je):Je===Ie._f.ref)return;_n(s,me,{_f:{...Ie._f,...ze?{refs:[...Gt.filter(cC),Je,...Array.isArray(Ot(a,me))?[{}]:[]],ref:{type:Je.type,name:me}}:{ref:Je}}}),O(me,!1,void 0,Je)}else Ie=Ot(s,me,{}),Ie._f&&(Ie._f.mount=!1),(r.shouldUnregister||Ne.shouldUnregister)&&!(JV(l.array,me)&&o.action)&&l.unMount.add(me)}}},tt=()=>r.shouldFocusError&&px(s,W,l.mount),St=me=>{Di(me)&&(g.state.next({disabled:me}),px(s,(Ne,Ie)=>{const ht=Ot(s,Ie);ht&&(Ne.disabled=ht._f.disabled||me,Array.isArray(ht._f.refs)&&ht._f.refs.forEach(dt=>{dt.disabled=ht._f.disabled||me}))},0,!1))},Oe=(me,Ne)=>async Ie=>{let ht;Ie&&(Ie.preventDefault&&Ie.preventDefault(),Ie.persist&&Ie.persist());let dt=Hs(i);if(g.state.next({isSubmitting:!0}),r.resolver){const{errors:Je,values:ze}=await F();n.errors=Je,dt=Hs(ze)}else await H(s);if(l.disabled.size)for(const Je of l.disabled)Ms(dt,Je);if(Ms(n.errors,"root"),ui(n.errors)){g.state.next({errors:{}});try{await me(dt,Ie)}catch(Je){ht=Je}}else Ne&&await Ne({...n.errors},Ie),tt(),setTimeout(tt);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ui(n.errors)&&!ht,submitCount:n.submitCount+1,errors:n.errors}),ht)throw ht},qt=(me,Ne={})=>{Ot(s,me)&&(Cs(Ne.defaultValue)?ae(me,Hs(Ot(a,me))):(ae(me,Ne.defaultValue),_n(a,me,Hs(Ne.defaultValue))),Ne.keepTouched||Ms(n.touchedFields,me),Ne.keepDirty||(Ms(n.dirtyFields,me),n.isDirty=Ne.defaultValue?G(me,Hs(Ot(a,me))):G()),Ne.keepError||(Ms(n.errors,me),f.isValid&&_()),g.state.next({...n}))},Et=(me,Ne={})=>{const Ie=me?Hs(me):a,ht=Hs(Ie),dt=ui(me),Je=dt?a:ht;if(Ne.keepDefaultValues||(a=Ie),!Ne.keepValues){if(Ne.keepDirtyValues){const ze=new Set([...l.mount,...Object.keys(jm(a,i))]);for(const Gt of Array.from(ze))Ot(n.dirtyFields,Gt)?_n(Je,Gt,Ot(i,Gt)):ae(Gt,Ot(Je,Gt))}else{if(lT&&Cs(me))for(const ze of l.mount){const Gt=Ot(s,ze);if(Gt&&Gt._f){const rr=Array.isArray(Gt._f.refs)?Gt._f.refs[0]:Gt._f.ref;if(bb(rr)){const Rn=rr.closest("form");if(Rn){Rn.reset();break}}}}if(Ne.keepFieldsRef)for(const ze of l.mount)ae(ze,Ot(Je,ze));else s={}}i=r.shouldUnregister?Ne.keepDefaultValues?Hs(a):{}:Hs(Je),g.array.next({values:{...Je}}),g.state.next({values:{...Je}})}l={mount:Ne.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!Ne.keepIsValid||!!Ne.keepDirtyValues,o.watch=!!r.shouldUnregister,g.state.next({submitCount:Ne.keepSubmitCount?n.submitCount:0,isDirty:dt?!1:Ne.keepDirty?n.isDirty:!!(Ne.keepDefaultValues&&!fc(me,a)),isSubmitted:Ne.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:dt?{}:Ne.keepDirtyValues?Ne.keepDefaultValues&&i?jm(a,i):n.dirtyFields:Ne.keepDefaultValues&&me?jm(a,me):Ne.keepDirty?n.dirtyFields:{},touchedFields:Ne.keepTouched?n.touchedFields:{},errors:Ne.keepErrors?n.errors:{},isSubmitSuccessful:Ne.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},sr=(me,Ne)=>Et(Ro(me)?me(i):me,Ne),Jt=(me,Ne={})=>{const Ie=Ot(s,me),ht=Ie&&Ie._f;if(ht){const dt=ht.refs?ht.refs[0]:ht.ref;dt.focus&&(dt.focus(),Ne.shouldSelect&&Ro(dt.select)&&dt.select())}},gr=me=>{n={...n,...me}},Jr={control:{register:qe,unregister:je,getFieldState:z,handleSubmit:Oe,setError:Ce,_subscribe:_e,_runSchema:F,_focusError:tt,_getWatch:J,_getDirty:G,_setValid:_,_setFieldArray:k,_setDisabledField:Xe,_setErrors:P,_getFieldArray:Z,_reset:Et,_resetDefaultValues:()=>Ro(r.defaultValues)&&r.defaultValues().then(me=>{sr(me,r.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:re,_disableForm:St,_subjects:g,_proxyFormState:f,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(me){o=me},get _defaultValues(){return a},get _names(){return l},set _names(me){l=me},get _formState(){return n},get _options(){return r},set _options(me){r={...r,...me}}},subscribe:Le,trigger:se,register:qe,handleSubmit:Oe,watch:ke,setValue:ae,getValues:de,reset:sr,resetField:qt,clearErrors:oe,unregister:je,setError:Ce,setFocus:Jt,getFieldState:z};return{...Jr,formControl:Jr}}function Da(t={}){const r=le.useRef(void 0),n=le.useRef(void 0),[s,a]=le.useState({isDirty:!1,isValidating:!1,isLoading:Ro(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ro(t.defaultValues)?void 0:t.defaultValues});if(!r.current)if(t.formControl)r.current={...t.formControl,formState:s},t.defaultValues&&!Ro(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=gNe(t);r.current={...l,formState:s}}const i=r.current.control;return i._options=t,hT(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),le.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),le.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),le.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),le.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),le.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),le.useEffect(()=>{t.values&&!fc(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,a(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),le.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),r.current.formState=eK(s,i),r.current}const Ra=J_e,cK=j.createContext({}),Pt=({...t})=>e.jsx(cK.Provider,{value:{name:t.name},children:e.jsx(nNe,{...t})}),Xj=()=>{const t=j.useContext(cK),r=j.useContext(dK),{getFieldState:n,formState:s}=Qj(),a=n(t.name,s);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=r;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},dK=j.createContext({}),Ct=j.forwardRef(({className:t,...r},n)=>{const s=j.useId();return e.jsx(dK.Provider,{value:{id:s},children:e.jsx("div",{ref:n,className:He("space-y-2",t),...r})})});Ct.displayName="FormItem";const kt=j.forwardRef(({className:t,...r},n)=>{const{error:s,formItemId:a}=Xj();return e.jsx(et,{ref:n,className:He(s&&"text-destructive",t),htmlFor:a,...r})});kt.displayName="FormLabel";const At=j.forwardRef(({...t},r)=>{const{error:n,formItemId:s,formDescriptionId:a,formMessageId:i}=Xj();return e.jsx(rF,{ref:r,id:s,"aria-describedby":n?`${a} ${i}`:`${a}`,"aria-invalid":!!n,...t})});At.displayName="FormControl";const Aa=j.forwardRef(({className:t,...r},n)=>{const{formDescriptionId:s}=Xj();return e.jsx("p",{ref:n,id:s,className:He("text-sm text-muted-foreground",t),...r})});Aa.displayName="FormDescription";const It=j.forwardRef(({className:t,children:r,...n},s)=>{const{error:a,formMessageId:i}=Xj(),o=a?String(a?.message??""):r;return o?e.jsx("p",{ref:s,id:i,className:He("text-sm font-medium text-destructive",t),...n,children:o}):null});It.displayName="FormMessage";const n8=(t,r,n)=>{if(t&&"reportValidity"in t){const s=Ot(n,r);t.setCustomValidity(s&&s.message||""),t.reportValidity()}},uK=(t,r)=>{for(const n in r.fields){const s=r.fields[n];s&&s.ref&&"reportValidity"in s.ref?n8(s.ref,n,t):s.refs&&s.refs.forEach(a=>n8(a,n,t))}},vNe=(t,r)=>{r.shouldUseNativeValidation&&uK(t,r);const n={};for(const s in t){const a=Ot(r.fields,s),i=Object.assign(t[s]||{},{ref:a&&a.ref});if(yNe(r.names||Object.keys(t),s)){const o=Object.assign({},Ot(n,s));_n(o,"root",i),_n(n,s,o)}else _n(n,s,i)}return n},yNe=(t,r)=>t.some(n=>n.startsWith(r+"."));var bNe=function(t,r){for(var n={};t.length;){var s=t[0],a=s.code,i=s.message,o=s.path.join(".");if(!n[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(f){return f.errors.forEach(function(p){return t.push(p)})}),r){var u=n[o].types,m=u&&u[s.code];n[o]=rK(o,r,n,a,m?[].concat(m,s.message):s.message)}t.shift()}return n},La=function(t,r,n){return n===void 0&&(n={}),function(s,a,i){try{return Promise.resolve((function(o,l){try{var u=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](s,r)).then(function(m){return i.shouldUseNativeValidation&&uK({},i),{errors:{},values:n.raw?s:m}})}catch(m){return l(m)}return u&&u.then?u.then(void 0,l):u})(0,function(o){if((function(l){return Array.isArray(l?.errors)})(o))return{values:{},errors:vNe(bNe(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},en;(function(t){t.assertEqual=a=>{};function r(a){}t.assertIs=r;function n(a){throw new Error}t.assertNever=n,t.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return t.objectValues(o)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},t.find=(a,i)=>{for(const o of a)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=s,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(en||(en={}));var kA;(function(t){t.mergeShapes=(r,n)=>({...r,...n})})(kA||(kA={}));const $t=en.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),mc=t=>{switch(typeof t){case"undefined":return $t.undefined;case"string":return $t.string;case"number":return Number.isNaN(t)?$t.nan:$t.number;case"boolean":return $t.boolean;case"function":return $t.function;case"bigint":return $t.bigint;case"symbol":return $t.symbol;case"object":return Array.isArray(t)?$t.array:t===null?$t.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?$t.promise:typeof Map<"u"&&t instanceof Map?$t.map:typeof Set<"u"&&t instanceof Set?$t.set:typeof Date<"u"&&t instanceof Date?$t.date:$t.object;default:return $t.unknown}},pt=en.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),jNe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Vi extends Error{get errors(){return this.issues}constructor(r){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=r}format(r){const n=r||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(n(o));else{let l=s,u=0;for(;u<o.path.length;){const m=o.path[u];u===o.path.length-1?(l[m]=l[m]||{_errors:[]},l[m]._errors.push(n(o))):l[m]=l[m]||{_errors:[]},l=l[m],u++}}};return a(this),s}static assert(r){if(!(r instanceof Vi))throw new Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,en.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=n=>n.message){const n={},s=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];n[i]=n[i]||[],n[i].push(r(a))}else s.push(r(a));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}Vi.create=t=>new Vi(t);const wf=(t,r)=>{let n;switch(t.code){case pt.invalid_type:t.received===$t.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case pt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,en.jsonStringifyReplacer)}`;break;case pt.unrecognized_keys:n=`Unrecognized key(s) in object: ${en.joinValues(t.keys,", ")}`;break;case pt.invalid_union:n="Invalid input";break;case pt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${en.joinValues(t.options)}`;break;case pt.invalid_enum_value:n=`Invalid enum value. Expected ${en.joinValues(t.options)}, received '${t.received}'`;break;case pt.invalid_arguments:n="Invalid function arguments";break;case pt.invalid_return_type:n="Invalid function return type";break;case pt.invalid_date:n="Invalid date";break;case pt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:en.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case pt.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case pt.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case pt.custom:n="Invalid input";break;case pt.invalid_intersection_types:n="Intersection results could not be merged";break;case pt.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case pt.not_finite:n="Number must be finite";break;default:n=r.defaultError,en.assertNever(t)}return{message:n}};let hK=wf;function wNe(t){hK=t}function wb(){return hK}const _b=t=>{const{data:r,path:n,errorMaps:s,issueData:a}=t,i=[...n,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const u=s.filter(m=>!!m).slice().reverse();for(const m of u)l=m(o,{data:r,defaultError:l}).message;return{...a,path:i,message:l}},_Ne=[];function Mt(t,r){const n=wb(),s=_b({issueData:r,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===wf?void 0:wf].filter(a=>!!a)});t.common.issues.push(s)}class Fa{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,n){const s=[];for(const a of n){if(a.status==="aborted")return ur;a.status==="dirty"&&r.dirty(),s.push(a.value)}return{status:r.value,value:s}}static async mergeObjectAsync(r,n){const s=[];for(const a of n){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return Fa.mergeObjectSync(r,s)}static mergeObjectSync(r,n){const s={};for(const a of n){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return ur;i.status==="dirty"&&r.dirty(),o.status==="dirty"&&r.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:r.value,value:s}}}const ur=Object.freeze({status:"aborted"}),Pm=t=>({status:"dirty",value:t}),ti=t=>({status:"valid",value:t}),AA=t=>t.status==="aborted",PA=t=>t.status==="dirty",uh=t=>t.status==="valid",lg=t=>typeof Promise<"u"&&t instanceof Promise;var Yt;(function(t){t.errToObj=r=>typeof r=="string"?{message:r}:r||{},t.toString=r=>typeof r=="string"?r:r?.message})(Yt||(Yt={}));class El{constructor(r,n,s,a){this._cachedPath=[],this.parent=r,this.data=n,this._path=s,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const s8=(t,r)=>{if(uh(r))return{success:!0,data:r.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Vi(t.common.issues);return this._error=n,this._error}}};function Pr(t){if(!t)return{};const{errorMap:r,invalid_type_error:n,required_error:s,description:a}=t;if(r&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:a}:{errorMap:(o,l)=>{const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:u??s??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:u??n??l.defaultError}},description:a}}class Dr{get description(){return this._def.description}_getType(r){return mc(r.data)}_getOrReturnCtx(r,n){return n||{common:r.parent.common,data:r.data,parsedType:mc(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new Fa,ctx:{common:r.parent.common,data:r.data,parsedType:mc(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){const n=this._parse(r);if(lg(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(r){const n=this._parse(r);return Promise.resolve(n)}parse(r,n){const s=this.safeParse(r,n);if(s.success)return s.data;throw s.error}safeParse(r,n){const s={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:mc(r)},a=this._parseSync({data:r,path:s.path,parent:s});return s8(s,a)}"~validate"(r){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:mc(r)};if(!this["~standard"].async)try{const s=this._parseSync({data:r,path:[],parent:n});return uh(s)?{value:s.value}:{issues:n.common.issues}}catch(s){s?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:r,path:[],parent:n}).then(s=>uh(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(r,n){const s=await this.safeParseAsync(r,n);if(s.success)return s.data;throw s.error}async safeParseAsync(r,n){const s={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:mc(r)},a=this._parse({data:r,path:s.path,parent:s}),i=await(lg(a)?a:Promise.resolve(a));return s8(s,i)}refine(r,n){const s=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,i)=>{const o=r(a),l=()=>i.addIssue({code:pt.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(r,n){return this._refinement((s,a)=>r(s)?!0:(a.addIssue(typeof n=="function"?n(s,a):n),!1))}_refinement(r){return new Qo({schema:this,typeName:hr.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Nl.create(this,this._def)}nullable(){return Ud.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Vo.create(this)}promise(){return Nf.create(this,this._def)}or(r){return hg.create([this,r],this._def)}and(r){return mg.create(this,r,this._def)}transform(r){return new Qo({...Pr(this._def),schema:this,typeName:hr.ZodEffects,effect:{type:"transform",transform:r}})}default(r){const n=typeof r=="function"?r:()=>r;return new vg({...Pr(this._def),innerType:this,defaultValue:n,typeName:hr.ZodDefault})}brand(){return new pT({typeName:hr.ZodBranded,type:this,...Pr(this._def)})}catch(r){const n=typeof r=="function"?r:()=>r;return new yg({...Pr(this._def),innerType:this,catchValue:n,typeName:hr.ZodCatch})}describe(r){const n=this.constructor;return new n({...this._def,description:r})}pipe(r){return Yg.create(this,r)}readonly(){return bg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const NNe=/^c[^\s-]{8,}$/i,SNe=/^[0-9a-z]+$/,CNe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,kNe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ANe=/^[a-z0-9_-]{21}$/i,PNe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,TNe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ENe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ONe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let dC;const INe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,MNe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,DNe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,RNe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,LNe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,FNe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,mK="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$Ne=new RegExp(`^${mK}$`);function fK(t){let r="[0-5]\\d";t.precision?r=`${r}\\.\\d{${t.precision}}`:t.precision==null&&(r=`${r}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${r})${n}`}function zNe(t){return new RegExp(`^${fK(t)}$`)}function pK(t){let r=`${mK}T${fK(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${n.join("|")})`,new RegExp(`^${r}$`)}function BNe(t,r){return!!((r==="v4"||!r)&&INe.test(t)||(r==="v6"||!r)&&DNe.test(t))}function qNe(t,r){if(!PNe.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||r&&a.alg!==r)}catch{return!1}}function UNe(t,r){return!!((r==="v4"||!r)&&MNe.test(t)||(r==="v6"||!r)&&RNe.test(t))}class Fo extends Dr{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==$t.string){const i=this._getOrReturnCtx(r);return Mt(i,{code:pt.invalid_type,expected:$t.string,received:i.parsedType}),ur}const s=new Fa;let a;for(const i of this._def.checks)if(i.kind==="min")r.data.length<i.value&&(a=this._getOrReturnCtx(r,a),Mt(a,{code:pt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")r.data.length>i.value&&(a=this._getOrReturnCtx(r,a),Mt(a,{code:pt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=r.data.length>i.value,l=r.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(r,a),o?Mt(a,{code:pt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Mt(a,{code:pt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")ENe.test(r.data)||(a=this._getOrReturnCtx(r,a),Mt(a,{validation:"email",code:pt.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")dC||(dC=new RegExp(ONe,"u")),dC.test(r.data)||(a=this._getOrReturnCtx(r,a),Mt(a,{validation:"emoji",code:pt.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")kNe.test(r.data)||(a=this._getOrReturnCtx(r,a),Mt(a,{validation:"uuid",code:pt.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")ANe.test(r.data)||(a=this._getOrReturnCtx(r,a),Mt(a,{validation:"nanoid",code:pt.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")NNe.test(r.data)||(a=this._getOrReturnCtx(r,a),Mt(a,{validation:"cuid",code:pt.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")SNe.test(r.data)||(a=this._getOrReturnCtx(r,a),Mt(a,{validation:"cuid2",code:pt.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")CNe.test(r.data)||(a=this._getOrReturnCtx(r,a),Mt(a,{validation:"ulid",code:pt.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(r.data)}catch{a=this._getOrReturnCtx(r,a),Mt(a,{validation:"url",code:pt.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(r.data)||(a=this._getOrReturnCtx(r,a),Mt(a,{validation:"regex",code:pt.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?r.data=r.data.trim():i.kind==="includes"?r.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(r,a),Mt(a,{code:pt.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?r.data=r.data.toLowerCase():i.kind==="toUpperCase"?r.data=r.data.toUpperCase():i.kind==="startsWith"?r.data.startsWith(i.value)||(a=this._getOrReturnCtx(r,a),Mt(a,{code:pt.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?r.data.endsWith(i.value)||(a=this._getOrReturnCtx(r,a),Mt(a,{code:pt.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?pK(i).test(r.data)||(a=this._getOrReturnCtx(r,a),Mt(a,{code:pt.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?$Ne.test(r.data)||(a=this._getOrReturnCtx(r,a),Mt(a,{code:pt.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?zNe(i).test(r.data)||(a=this._getOrReturnCtx(r,a),Mt(a,{code:pt.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?TNe.test(r.data)||(a=this._getOrReturnCtx(r,a),Mt(a,{validation:"duration",code:pt.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?BNe(r.data,i.version)||(a=this._getOrReturnCtx(r,a),Mt(a,{validation:"ip",code:pt.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?qNe(r.data,i.alg)||(a=this._getOrReturnCtx(r,a),Mt(a,{validation:"jwt",code:pt.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?UNe(r.data,i.version)||(a=this._getOrReturnCtx(r,a),Mt(a,{validation:"cidr",code:pt.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?LNe.test(r.data)||(a=this._getOrReturnCtx(r,a),Mt(a,{validation:"base64",code:pt.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?FNe.test(r.data)||(a=this._getOrReturnCtx(r,a),Mt(a,{validation:"base64url",code:pt.invalid_string,message:i.message}),s.dirty()):en.assertNever(i);return{status:s.value,value:r.data}}_regex(r,n,s){return this.refinement(a=>r.test(a),{validation:n,code:pt.invalid_string,...Yt.errToObj(s)})}_addCheck(r){return new Fo({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...Yt.errToObj(r)})}url(r){return this._addCheck({kind:"url",...Yt.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...Yt.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...Yt.errToObj(r)})}nanoid(r){return this._addCheck({kind:"nanoid",...Yt.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...Yt.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...Yt.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...Yt.errToObj(r)})}base64(r){return this._addCheck({kind:"base64",...Yt.errToObj(r)})}base64url(r){return this._addCheck({kind:"base64url",...Yt.errToObj(r)})}jwt(r){return this._addCheck({kind:"jwt",...Yt.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...Yt.errToObj(r)})}cidr(r){return this._addCheck({kind:"cidr",...Yt.errToObj(r)})}datetime(r){return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:r}):this._addCheck({kind:"datetime",precision:typeof r?.precision>"u"?null:r?.precision,offset:r?.offset??!1,local:r?.local??!1,...Yt.errToObj(r?.message)})}date(r){return this._addCheck({kind:"date",message:r})}time(r){return typeof r=="string"?this._addCheck({kind:"time",precision:null,message:r}):this._addCheck({kind:"time",precision:typeof r?.precision>"u"?null:r?.precision,...Yt.errToObj(r?.message)})}duration(r){return this._addCheck({kind:"duration",...Yt.errToObj(r)})}regex(r,n){return this._addCheck({kind:"regex",regex:r,...Yt.errToObj(n)})}includes(r,n){return this._addCheck({kind:"includes",value:r,position:n?.position,...Yt.errToObj(n?.message)})}startsWith(r,n){return this._addCheck({kind:"startsWith",value:r,...Yt.errToObj(n)})}endsWith(r,n){return this._addCheck({kind:"endsWith",value:r,...Yt.errToObj(n)})}min(r,n){return this._addCheck({kind:"min",value:r,...Yt.errToObj(n)})}max(r,n){return this._addCheck({kind:"max",value:r,...Yt.errToObj(n)})}length(r,n){return this._addCheck({kind:"length",value:r,...Yt.errToObj(n)})}nonempty(r){return this.min(1,Yt.errToObj(r))}trim(){return new Fo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Fo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Fo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isDate(){return!!this._def.checks.find(r=>r.kind==="date")}get isTime(){return!!this._def.checks.find(r=>r.kind==="time")}get isDuration(){return!!this._def.checks.find(r=>r.kind==="duration")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(r=>r.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get isCIDR(){return!!this._def.checks.find(r=>r.kind==="cidr")}get isBase64(){return!!this._def.checks.find(r=>r.kind==="base64")}get isBase64url(){return!!this._def.checks.find(r=>r.kind==="base64url")}get minLength(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r}get maxLength(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r}}Fo.create=t=>new Fo({checks:[],typeName:hr.ZodString,coerce:t?.coerce??!1,...Pr(t)});function VNe(t,r){const n=(t.toString().split(".")[1]||"").length,s=(r.toString().split(".")[1]||"").length,a=n>s?n:s,i=Number.parseInt(t.toFixed(a).replace(".","")),o=Number.parseInt(r.toFixed(a).replace(".",""));return i%o/10**a}class zd extends Dr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==$t.number){const i=this._getOrReturnCtx(r);return Mt(i,{code:pt.invalid_type,expected:$t.number,received:i.parsedType}),ur}let s;const a=new Fa;for(const i of this._def.checks)i.kind==="int"?en.isInteger(r.data)||(s=this._getOrReturnCtx(r,s),Mt(s,{code:pt.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?r.data<i.value:r.data<=i.value)&&(s=this._getOrReturnCtx(r,s),Mt(s,{code:pt.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?r.data>i.value:r.data>=i.value)&&(s=this._getOrReturnCtx(r,s),Mt(s,{code:pt.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?VNe(r.data,i.value)!==0&&(s=this._getOrReturnCtx(r,s),Mt(s,{code:pt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(r.data)||(s=this._getOrReturnCtx(r,s),Mt(s,{code:pt.not_finite,message:i.message}),a.dirty()):en.assertNever(i);return{status:a.value,value:r.data}}gte(r,n){return this.setLimit("min",r,!0,Yt.toString(n))}gt(r,n){return this.setLimit("min",r,!1,Yt.toString(n))}lte(r,n){return this.setLimit("max",r,!0,Yt.toString(n))}lt(r,n){return this.setLimit("max",r,!1,Yt.toString(n))}setLimit(r,n,s,a){return new zd({...this._def,checks:[...this._def.checks,{kind:r,value:n,inclusive:s,message:Yt.toString(a)}]})}_addCheck(r){return new zd({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:Yt.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Yt.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Yt.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Yt.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Yt.toString(r)})}multipleOf(r,n){return this._addCheck({kind:"multipleOf",value:r,message:Yt.toString(n)})}finite(r){return this._addCheck({kind:"finite",message:Yt.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Yt.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Yt.toString(r)})}get minValue(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r}get maxValue(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&en.isInteger(r.value))}get isFinite(){let r=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(r===null||s.value<r)&&(r=s.value)}return Number.isFinite(n)&&Number.isFinite(r)}}zd.create=t=>new zd({checks:[],typeName:hr.ZodNumber,coerce:t?.coerce||!1,...Pr(t)});class Bd extends Dr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce)try{r.data=BigInt(r.data)}catch{return this._getInvalidInput(r)}if(this._getType(r)!==$t.bigint)return this._getInvalidInput(r);let s;const a=new Fa;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?r.data<i.value:r.data<=i.value)&&(s=this._getOrReturnCtx(r,s),Mt(s,{code:pt.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?r.data>i.value:r.data>=i.value)&&(s=this._getOrReturnCtx(r,s),Mt(s,{code:pt.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?r.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(r,s),Mt(s,{code:pt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):en.assertNever(i);return{status:a.value,value:r.data}}_getInvalidInput(r){const n=this._getOrReturnCtx(r);return Mt(n,{code:pt.invalid_type,expected:$t.bigint,received:n.parsedType}),ur}gte(r,n){return this.setLimit("min",r,!0,Yt.toString(n))}gt(r,n){return this.setLimit("min",r,!1,Yt.toString(n))}lte(r,n){return this.setLimit("max",r,!0,Yt.toString(n))}lt(r,n){return this.setLimit("max",r,!1,Yt.toString(n))}setLimit(r,n,s,a){return new Bd({...this._def,checks:[...this._def.checks,{kind:r,value:n,inclusive:s,message:Yt.toString(a)}]})}_addCheck(r){return new Bd({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Yt.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Yt.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Yt.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Yt.toString(r)})}multipleOf(r,n){return this._addCheck({kind:"multipleOf",value:r,message:Yt.toString(n)})}get minValue(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r}get maxValue(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r}}Bd.create=t=>new Bd({checks:[],typeName:hr.ZodBigInt,coerce:t?.coerce??!1,...Pr(t)});class cg extends Dr{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==$t.boolean){const s=this._getOrReturnCtx(r);return Mt(s,{code:pt.invalid_type,expected:$t.boolean,received:s.parsedType}),ur}return ti(r.data)}}cg.create=t=>new cg({typeName:hr.ZodBoolean,coerce:t?.coerce||!1,...Pr(t)});class hh extends Dr{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==$t.date){const i=this._getOrReturnCtx(r);return Mt(i,{code:pt.invalid_type,expected:$t.date,received:i.parsedType}),ur}if(Number.isNaN(r.data.getTime())){const i=this._getOrReturnCtx(r);return Mt(i,{code:pt.invalid_date}),ur}const s=new Fa;let a;for(const i of this._def.checks)i.kind==="min"?r.data.getTime()<i.value&&(a=this._getOrReturnCtx(r,a),Mt(a,{code:pt.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?r.data.getTime()>i.value&&(a=this._getOrReturnCtx(r,a),Mt(a,{code:pt.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):en.assertNever(i);return{status:s.value,value:new Date(r.data.getTime())}}_addCheck(r){return new hh({...this._def,checks:[...this._def.checks,r]})}min(r,n){return this._addCheck({kind:"min",value:r.getTime(),message:Yt.toString(n)})}max(r,n){return this._addCheck({kind:"max",value:r.getTime(),message:Yt.toString(n)})}get minDate(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r!=null?new Date(r):null}}hh.create=t=>new hh({checks:[],coerce:t?.coerce||!1,typeName:hr.ZodDate,...Pr(t)});class Nb extends Dr{_parse(r){if(this._getType(r)!==$t.symbol){const s=this._getOrReturnCtx(r);return Mt(s,{code:pt.invalid_type,expected:$t.symbol,received:s.parsedType}),ur}return ti(r.data)}}Nb.create=t=>new Nb({typeName:hr.ZodSymbol,...Pr(t)});class dg extends Dr{_parse(r){if(this._getType(r)!==$t.undefined){const s=this._getOrReturnCtx(r);return Mt(s,{code:pt.invalid_type,expected:$t.undefined,received:s.parsedType}),ur}return ti(r.data)}}dg.create=t=>new dg({typeName:hr.ZodUndefined,...Pr(t)});class ug extends Dr{_parse(r){if(this._getType(r)!==$t.null){const s=this._getOrReturnCtx(r);return Mt(s,{code:pt.invalid_type,expected:$t.null,received:s.parsedType}),ur}return ti(r.data)}}ug.create=t=>new ug({typeName:hr.ZodNull,...Pr(t)});class _f extends Dr{constructor(){super(...arguments),this._any=!0}_parse(r){return ti(r.data)}}_f.create=t=>new _f({typeName:hr.ZodAny,...Pr(t)});class Hu extends Dr{constructor(){super(...arguments),this._unknown=!0}_parse(r){return ti(r.data)}}Hu.create=t=>new Hu({typeName:hr.ZodUnknown,...Pr(t)});class Ec extends Dr{_parse(r){const n=this._getOrReturnCtx(r);return Mt(n,{code:pt.invalid_type,expected:$t.never,received:n.parsedType}),ur}}Ec.create=t=>new Ec({typeName:hr.ZodNever,...Pr(t)});class Sb extends Dr{_parse(r){if(this._getType(r)!==$t.undefined){const s=this._getOrReturnCtx(r);return Mt(s,{code:pt.invalid_type,expected:$t.void,received:s.parsedType}),ur}return ti(r.data)}}Sb.create=t=>new Sb({typeName:hr.ZodVoid,...Pr(t)});class Vo extends Dr{_parse(r){const{ctx:n,status:s}=this._processInputParams(r),a=this._def;if(n.parsedType!==$t.array)return Mt(n,{code:pt.invalid_type,expected:$t.array,received:n.parsedType}),ur;if(a.exactLength!==null){const o=n.data.length>a.exactLength.value,l=n.data.length<a.exactLength.value;(o||l)&&(Mt(n,{code:o?pt.too_big:pt.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(Mt(n,{code:pt.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(Mt(n,{code:pt.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>a.type._parseAsync(new El(n,o,n.path,l)))).then(o=>Fa.mergeArray(s,o));const i=[...n.data].map((o,l)=>a.type._parseSync(new El(n,o,n.path,l)));return Fa.mergeArray(s,i)}get element(){return this._def.type}min(r,n){return new Vo({...this._def,minLength:{value:r,message:Yt.toString(n)}})}max(r,n){return new Vo({...this._def,maxLength:{value:r,message:Yt.toString(n)}})}length(r,n){return new Vo({...this._def,exactLength:{value:r,message:Yt.toString(n)}})}nonempty(r){return this.min(1,r)}}Vo.create=(t,r)=>new Vo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:hr.ZodArray,...Pr(r)});function wm(t){if(t instanceof us){const r={};for(const n in t.shape){const s=t.shape[n];r[n]=Nl.create(wm(s))}return new us({...t._def,shape:()=>r})}else return t instanceof Vo?new Vo({...t._def,type:wm(t.element)}):t instanceof Nl?Nl.create(wm(t.unwrap())):t instanceof Ud?Ud.create(wm(t.unwrap())):t instanceof Ol?Ol.create(t.items.map(r=>wm(r))):t}class us extends Dr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const r=this._def.shape(),n=en.objectKeys(r);return this._cached={shape:r,keys:n},this._cached}_parse(r){if(this._getType(r)!==$t.object){const m=this._getOrReturnCtx(r);return Mt(m,{code:pt.invalid_type,expected:$t.object,received:m.parsedType}),ur}const{status:s,ctx:a}=this._processInputParams(r),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ec&&this._def.unknownKeys==="strip"))for(const m in a.data)o.includes(m)||l.push(m);const u=[];for(const m of o){const f=i[m],p=a.data[m];u.push({key:{status:"valid",value:m},value:f._parse(new El(a,p,a.path,m)),alwaysSet:m in a.data})}if(this._def.catchall instanceof Ec){const m=this._def.unknownKeys;if(m==="passthrough")for(const f of l)u.push({key:{status:"valid",value:f},value:{status:"valid",value:a.data[f]}});else if(m==="strict")l.length>0&&(Mt(a,{code:pt.unrecognized_keys,keys:l}),s.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const f of l){const p=a.data[f];u.push({key:{status:"valid",value:f},value:m._parse(new El(a,p,a.path,f)),alwaysSet:f in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const m=[];for(const f of u){const p=await f.key,g=await f.value;m.push({key:p,value:g,alwaysSet:f.alwaysSet})}return m}).then(m=>Fa.mergeObjectSync(s,m)):Fa.mergeObjectSync(s,u)}get shape(){return this._def.shape()}strict(r){return Yt.errToObj,new us({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(n,s)=>{const a=this._def.errorMap?.(n,s).message??s.defaultError;return n.code==="unrecognized_keys"?{message:Yt.errToObj(r).message??a}:{message:a}}}:{}})}strip(){return new us({...this._def,unknownKeys:"strip"})}passthrough(){return new us({...this._def,unknownKeys:"passthrough"})}extend(r){return new us({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new us({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:hr.ZodObject})}setKey(r,n){return this.augment({[r]:n})}catchall(r){return new us({...this._def,catchall:r})}pick(r){const n={};for(const s of en.objectKeys(r))r[s]&&this.shape[s]&&(n[s]=this.shape[s]);return new us({...this._def,shape:()=>n})}omit(r){const n={};for(const s of en.objectKeys(this.shape))r[s]||(n[s]=this.shape[s]);return new us({...this._def,shape:()=>n})}deepPartial(){return wm(this)}partial(r){const n={};for(const s of en.objectKeys(this.shape)){const a=this.shape[s];r&&!r[s]?n[s]=a:n[s]=a.optional()}return new us({...this._def,shape:()=>n})}required(r){const n={};for(const s of en.objectKeys(this.shape))if(r&&!r[s])n[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof Nl;)i=i._def.innerType;n[s]=i}return new us({...this._def,shape:()=>n})}keyof(){return xK(en.objectKeys(this.shape))}}us.create=(t,r)=>new us({shape:()=>t,unknownKeys:"strip",catchall:Ec.create(),typeName:hr.ZodObject,...Pr(r)});us.strictCreate=(t,r)=>new us({shape:()=>t,unknownKeys:"strict",catchall:Ec.create(),typeName:hr.ZodObject,...Pr(r)});us.lazycreate=(t,r)=>new us({shape:t,unknownKeys:"strip",catchall:Ec.create(),typeName:hr.ZodObject,...Pr(r)});class hg extends Dr{_parse(r){const{ctx:n}=this._processInputParams(r),s=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Vi(l.ctx.common.issues));return Mt(n,{code:pt.invalid_union,unionErrors:o}),ur}if(n.common.async)return Promise.all(s.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const u of s){const m={...n,common:{...n.common,issues:[]},parent:null},f=u._parseSync({data:n.data,path:n.path,parent:m});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:m}),m.common.issues.length&&o.push(m.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(u=>new Vi(u));return Mt(n,{code:pt.invalid_union,unionErrors:l}),ur}}get options(){return this._def.options}}hg.create=(t,r)=>new hg({options:t,typeName:hr.ZodUnion,...Pr(r)});const uc=t=>t instanceof pg?uc(t.schema):t instanceof Qo?uc(t.innerType()):t instanceof xg?[t.value]:t instanceof qd?t.options:t instanceof gg?en.objectValues(t.enum):t instanceof vg?uc(t._def.innerType):t instanceof dg?[void 0]:t instanceof ug?[null]:t instanceof Nl?[void 0,...uc(t.unwrap())]:t instanceof Ud?[null,...uc(t.unwrap())]:t instanceof pT||t instanceof bg?uc(t.unwrap()):t instanceof yg?uc(t._def.innerType):[];class Jj extends Dr{_parse(r){const{ctx:n}=this._processInputParams(r);if(n.parsedType!==$t.object)return Mt(n,{code:pt.invalid_type,expected:$t.object,received:n.parsedType}),ur;const s=this.discriminator,a=n.data[s],i=this.optionsMap.get(a);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(Mt(n,{code:pt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),ur)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(r,n,s){const a=new Map;for(const i of n){const o=uc(i.shape[r]);if(!o.length)throw new Error(`A discriminator value for key \`${r}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(r)} has duplicate value ${String(l)}`);a.set(l,i)}}return new Jj({typeName:hr.ZodDiscriminatedUnion,discriminator:r,options:n,optionsMap:a,...Pr(s)})}}function TA(t,r){const n=mc(t),s=mc(r);if(t===r)return{valid:!0,data:t};if(n===$t.object&&s===$t.object){const a=en.objectKeys(r),i=en.objectKeys(t).filter(l=>a.indexOf(l)!==-1),o={...t,...r};for(const l of i){const u=TA(t[l],r[l]);if(!u.valid)return{valid:!1};o[l]=u.data}return{valid:!0,data:o}}else if(n===$t.array&&s===$t.array){if(t.length!==r.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const o=t[i],l=r[i],u=TA(o,l);if(!u.valid)return{valid:!1};a.push(u.data)}return{valid:!0,data:a}}else return n===$t.date&&s===$t.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}class mg extends Dr{_parse(r){const{status:n,ctx:s}=this._processInputParams(r),a=(i,o)=>{if(AA(i)||AA(o))return ur;const l=TA(i.value,o.value);return l.valid?((PA(i)||PA(o))&&n.dirty(),{status:n.value,value:l.data}):(Mt(s,{code:pt.invalid_intersection_types}),ur)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}mg.create=(t,r,n)=>new mg({left:t,right:r,typeName:hr.ZodIntersection,...Pr(n)});class Ol extends Dr{_parse(r){const{status:n,ctx:s}=this._processInputParams(r);if(s.parsedType!==$t.array)return Mt(s,{code:pt.invalid_type,expected:$t.array,received:s.parsedType}),ur;if(s.data.length<this._def.items.length)return Mt(s,{code:pt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ur;!this._def.rest&&s.data.length>this._def.items.length&&(Mt(s,{code:pt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...s.data].map((o,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new El(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>Fa.mergeArray(n,o)):Fa.mergeArray(n,i)}get items(){return this._def.items}rest(r){return new Ol({...this._def,rest:r})}}Ol.create=(t,r)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ol({items:t,typeName:hr.ZodTuple,rest:null,...Pr(r)})};class fg extends Dr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:n,ctx:s}=this._processInputParams(r);if(s.parsedType!==$t.object)return Mt(s,{code:pt.invalid_type,expected:$t.object,received:s.parsedType}),ur;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in s.data)a.push({key:i._parse(new El(s,l,s.path,l)),value:o._parse(new El(s,s.data[l],s.path,l)),alwaysSet:l in s.data});return s.common.async?Fa.mergeObjectAsync(n,a):Fa.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(r,n,s){return n instanceof Dr?new fg({keyType:r,valueType:n,typeName:hr.ZodRecord,...Pr(s)}):new fg({keyType:Fo.create(),valueType:r,typeName:hr.ZodRecord,...Pr(n)})}}class Cb extends Dr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:n,ctx:s}=this._processInputParams(r);if(s.parsedType!==$t.map)return Mt(s,{code:pt.invalid_type,expected:$t.map,received:s.parsedType}),ur;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,u],m)=>({key:a._parse(new El(s,l,s.path,[m,"key"])),value:i._parse(new El(s,u,s.path,[m,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of o){const m=await u.key,f=await u.value;if(m.status==="aborted"||f.status==="aborted")return ur;(m.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(m.value,f.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const u of o){const m=u.key,f=u.value;if(m.status==="aborted"||f.status==="aborted")return ur;(m.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(m.value,f.value)}return{status:n.value,value:l}}}}Cb.create=(t,r,n)=>new Cb({valueType:r,keyType:t,typeName:hr.ZodMap,...Pr(n)});class mh extends Dr{_parse(r){const{status:n,ctx:s}=this._processInputParams(r);if(s.parsedType!==$t.set)return Mt(s,{code:pt.invalid_type,expected:$t.set,received:s.parsedType}),ur;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(Mt(s,{code:pt.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(Mt(s,{code:pt.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const i=this._def.valueType;function o(u){const m=new Set;for(const f of u){if(f.status==="aborted")return ur;f.status==="dirty"&&n.dirty(),m.add(f.value)}return{status:n.value,value:m}}const l=[...s.data.values()].map((u,m)=>i._parse(new El(s,u,s.path,m)));return s.common.async?Promise.all(l).then(u=>o(u)):o(l)}min(r,n){return new mh({...this._def,minSize:{value:r,message:Yt.toString(n)}})}max(r,n){return new mh({...this._def,maxSize:{value:r,message:Yt.toString(n)}})}size(r,n){return this.min(r,n).max(r,n)}nonempty(r){return this.min(1,r)}}mh.create=(t,r)=>new mh({valueType:t,minSize:null,maxSize:null,typeName:hr.ZodSet,...Pr(r)});class Lm extends Dr{constructor(){super(...arguments),this.validate=this.implement}_parse(r){const{ctx:n}=this._processInputParams(r);if(n.parsedType!==$t.function)return Mt(n,{code:pt.invalid_type,expected:$t.function,received:n.parsedType}),ur;function s(l,u){return _b({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,wb(),wf].filter(m=>!!m),issueData:{code:pt.invalid_arguments,argumentsError:u}})}function a(l,u){return _b({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,wb(),wf].filter(m=>!!m),issueData:{code:pt.invalid_return_type,returnTypeError:u}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Nf){const l=this;return ti(async function(...u){const m=new Vi([]),f=await l._def.args.parseAsync(u,i).catch(b=>{throw m.addIssue(s(u,b)),m}),p=await Reflect.apply(o,this,f);return await l._def.returns._def.type.parseAsync(p,i).catch(b=>{throw m.addIssue(a(p,b)),m})})}else{const l=this;return ti(function(...u){const m=l._def.args.safeParse(u,i);if(!m.success)throw new Vi([s(u,m.error)]);const f=Reflect.apply(o,this,m.data),p=l._def.returns.safeParse(f,i);if(!p.success)throw new Vi([a(f,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...r){return new Lm({...this._def,args:Ol.create(r).rest(Hu.create())})}returns(r){return new Lm({...this._def,returns:r})}implement(r){return this.parse(r)}strictImplement(r){return this.parse(r)}static create(r,n,s){return new Lm({args:r||Ol.create([]).rest(Hu.create()),returns:n||Hu.create(),typeName:hr.ZodFunction,...Pr(s)})}}class pg extends Dr{get schema(){return this._def.getter()}_parse(r){const{ctx:n}=this._processInputParams(r);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}pg.create=(t,r)=>new pg({getter:t,typeName:hr.ZodLazy,...Pr(r)});class xg extends Dr{_parse(r){if(r.data!==this._def.value){const n=this._getOrReturnCtx(r);return Mt(n,{received:n.data,code:pt.invalid_literal,expected:this._def.value}),ur}return{status:"valid",value:r.data}}get value(){return this._def.value}}xg.create=(t,r)=>new xg({value:t,typeName:hr.ZodLiteral,...Pr(r)});function xK(t,r){return new qd({values:t,typeName:hr.ZodEnum,...Pr(r)})}class qd extends Dr{_parse(r){if(typeof r.data!="string"){const n=this._getOrReturnCtx(r),s=this._def.values;return Mt(n,{expected:en.joinValues(s),received:n.parsedType,code:pt.invalid_type}),ur}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(r.data)){const n=this._getOrReturnCtx(r),s=this._def.values;return Mt(n,{received:n.data,code:pt.invalid_enum_value,options:s}),ur}return ti(r.data)}get options(){return this._def.values}get enum(){const r={};for(const n of this._def.values)r[n]=n;return r}get Values(){const r={};for(const n of this._def.values)r[n]=n;return r}get Enum(){const r={};for(const n of this._def.values)r[n]=n;return r}extract(r,n=this._def){return qd.create(r,{...this._def,...n})}exclude(r,n=this._def){return qd.create(this.options.filter(s=>!r.includes(s)),{...this._def,...n})}}qd.create=xK;class gg extends Dr{_parse(r){const n=en.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(r);if(s.parsedType!==$t.string&&s.parsedType!==$t.number){const a=en.objectValues(n);return Mt(s,{expected:en.joinValues(a),received:s.parsedType,code:pt.invalid_type}),ur}if(this._cache||(this._cache=new Set(en.getValidEnumValues(this._def.values))),!this._cache.has(r.data)){const a=en.objectValues(n);return Mt(s,{received:s.data,code:pt.invalid_enum_value,options:a}),ur}return ti(r.data)}get enum(){return this._def.values}}gg.create=(t,r)=>new gg({values:t,typeName:hr.ZodNativeEnum,...Pr(r)});class Nf extends Dr{unwrap(){return this._def.type}_parse(r){const{ctx:n}=this._processInputParams(r);if(n.parsedType!==$t.promise&&n.common.async===!1)return Mt(n,{code:pt.invalid_type,expected:$t.promise,received:n.parsedType}),ur;const s=n.parsedType===$t.promise?n.data:Promise.resolve(n.data);return ti(s.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Nf.create=(t,r)=>new Nf({type:t,typeName:hr.ZodPromise,...Pr(r)});class Qo extends Dr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===hr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){const{status:n,ctx:s}=this._processInputParams(r),a=this._def.effect||null,i={addIssue:o=>{Mt(s,o),o.fatal?n.abort():n.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return ur;const u=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return u.status==="aborted"?ur:u.status==="dirty"||n.value==="dirty"?Pm(u.value):u});{if(n.value==="aborted")return ur;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?ur:l.status==="dirty"||n.value==="dirty"?Pm(l.value):l}}if(a.type==="refinement"){const o=l=>{const u=a.refinement(l,i);if(s.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?ur:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?ur:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!uh(o))return ur;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>uh(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:n.value,value:l})):ur);en.assertNever(a)}}Qo.create=(t,r,n)=>new Qo({schema:t,typeName:hr.ZodEffects,effect:r,...Pr(n)});Qo.createWithPreprocess=(t,r,n)=>new Qo({schema:r,effect:{type:"preprocess",transform:t},typeName:hr.ZodEffects,...Pr(n)});class Nl extends Dr{_parse(r){return this._getType(r)===$t.undefined?ti(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}Nl.create=(t,r)=>new Nl({innerType:t,typeName:hr.ZodOptional,...Pr(r)});class Ud extends Dr{_parse(r){return this._getType(r)===$t.null?ti(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}Ud.create=(t,r)=>new Ud({innerType:t,typeName:hr.ZodNullable,...Pr(r)});class vg extends Dr{_parse(r){const{ctx:n}=this._processInputParams(r);let s=n.data;return n.parsedType===$t.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}vg.create=(t,r)=>new vg({innerType:t,typeName:hr.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...Pr(r)});class yg extends Dr{_parse(r){const{ctx:n}=this._processInputParams(r),s={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return lg(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Vi(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Vi(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}yg.create=(t,r)=>new yg({innerType:t,typeName:hr.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...Pr(r)});class kb extends Dr{_parse(r){if(this._getType(r)!==$t.nan){const s=this._getOrReturnCtx(r);return Mt(s,{code:pt.invalid_type,expected:$t.nan,received:s.parsedType}),ur}return{status:"valid",value:r.data}}}kb.create=t=>new kb({typeName:hr.ZodNaN,...Pr(t)});const KNe=Symbol("zod_brand");class pT extends Dr{_parse(r){const{ctx:n}=this._processInputParams(r),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class Yg extends Dr{_parse(r){const{status:n,ctx:s}=this._processInputParams(r);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?ur:i.status==="dirty"?(n.dirty(),Pm(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?ur:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(r,n){return new Yg({in:r,out:n,typeName:hr.ZodPipeline})}}class bg extends Dr{_parse(r){const n=this._def.innerType._parse(r),s=a=>(uh(a)&&(a.value=Object.freeze(a.value)),a);return lg(n)?n.then(a=>s(a)):s(n)}unwrap(){return this._def.innerType}}bg.create=(t,r)=>new bg({innerType:t,typeName:hr.ZodReadonly,...Pr(r)});function a8(t,r){const n=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function xT(t,r={},n){return t?_f.create().superRefine((s,a)=>{const i=t(s);if(i instanceof Promise)return i.then(o=>{if(!o){const l=a8(r,s),u=l.fatal??n??!0;a.addIssue({code:"custom",...l,fatal:u})}});if(!i){const o=a8(r,s),l=o.fatal??n??!0;a.addIssue({code:"custom",...o,fatal:l})}}):_f.create()}const WNe={object:us.lazycreate};var hr;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(hr||(hr={}));const HNe=(t,r={message:`Input not instance of ${t.name}`})=>xT(n=>n instanceof t,r),mt=Fo.create,tn=zd.create,GNe=kb.create,ZNe=Bd.create,xi=cg.create,YNe=hh.create,QNe=Nb.create,XNe=dg.create,gK=ug.create,Ab=_f.create,JNe=Hu.create,e1e=Ec.create,t1e=Sb.create,Oc=Vo.create,Xr=us.create,r1e=us.strictCreate,gT=hg.create,n1e=Jj.create,s1e=mg.create,a1e=Ol.create,vT=fg.create,i1e=Cb.create,o1e=mh.create,l1e=Lm.create,c1e=pg.create,d1e=xg.create,po=qd.create,u1e=gg.create,h1e=Nf.create,i8=Qo.create,m1e=Nl.create,f1e=Ud.create,p1e=Qo.createWithPreprocess,x1e=Yg.create,g1e=()=>mt().optional(),v1e=()=>tn().optional(),y1e=()=>xi().optional(),b1e={string:(t=>Fo.create({...t,coerce:!0})),number:(t=>zd.create({...t,coerce:!0})),boolean:(t=>cg.create({...t,coerce:!0})),bigint:(t=>Bd.create({...t,coerce:!0})),date:(t=>hh.create({...t,coerce:!0}))},j1e=ur,w1e=Object.freeze(Object.defineProperty({__proto__:null,BRAND:KNe,DIRTY:Pm,EMPTY_PATH:_Ne,INVALID:ur,NEVER:j1e,OK:ti,ParseStatus:Fa,Schema:Dr,ZodAny:_f,ZodArray:Vo,ZodBigInt:Bd,ZodBoolean:cg,ZodBranded:pT,ZodCatch:yg,ZodDate:hh,ZodDefault:vg,ZodDiscriminatedUnion:Jj,ZodEffects:Qo,ZodEnum:qd,ZodError:Vi,get ZodFirstPartyTypeKind(){return hr},ZodFunction:Lm,ZodIntersection:mg,ZodIssueCode:pt,ZodLazy:pg,ZodLiteral:xg,ZodMap:Cb,ZodNaN:kb,ZodNativeEnum:gg,ZodNever:Ec,ZodNull:ug,ZodNullable:Ud,ZodNumber:zd,ZodObject:us,ZodOptional:Nl,ZodParsedType:$t,ZodPipeline:Yg,ZodPromise:Nf,ZodReadonly:bg,ZodRecord:fg,ZodSchema:Dr,ZodSet:mh,ZodString:Fo,ZodSymbol:Nb,ZodTransformer:Qo,ZodTuple:Ol,ZodType:Dr,ZodUndefined:dg,ZodUnion:hg,ZodUnknown:Hu,ZodVoid:Sb,addIssueToContext:Mt,any:Ab,array:Oc,bigint:ZNe,boolean:xi,coerce:b1e,custom:xT,date:YNe,datetimeRegex:pK,defaultErrorMap:wf,discriminatedUnion:n1e,effect:i8,enum:po,function:l1e,getErrorMap:wb,getParsedType:mc,instanceof:HNe,intersection:s1e,isAborted:AA,isAsync:lg,isDirty:PA,isValid:uh,late:WNe,lazy:c1e,literal:d1e,makeIssue:_b,map:i1e,nan:GNe,nativeEnum:u1e,never:e1e,null:gK,nullable:f1e,number:tn,object:Xr,get objectUtil(){return kA},oboolean:y1e,onumber:v1e,optional:m1e,ostring:g1e,pipeline:x1e,preprocess:p1e,promise:h1e,quotelessJson:jNe,record:vT,set:o1e,setErrorMap:wNe,strictObject:r1e,string:mt,symbol:QNe,transformer:i8,tuple:a1e,undefined:XNe,union:gT,unknown:JNe,get util(){return en},void:t1e},Symbol.toStringTag,{value:"Module"})),_1e=Xr({name:mt().min(1,"Category name is required"),slug:mt().min(1,"Slug is required"),description:mt().optional(),parentId:mt().optional(),imageUrl:mt().optional(),isActive:xi().default(!0),sortOrder:tn().default(0),restrictionRules:mt().optional(),metaTitle:mt().optional(),metaDescription:mt().optional()});function N1e(){const{user:t}=kr(),{toast:r}=or(),[n,s]=j.useState("content"),[a,i]=j.useState(""),[o,l]=j.useState("all"),[u,m]=j.useState("all"),[f,p]=j.useState("all"),[g,b]=j.useState("name"),[y,_]=j.useState("asc"),[w,k]=j.useState("tree"),[A,P]=j.useState([]),[O,I]=j.useState(!1),[D,F]=j.useState(!1),[B,H]=j.useState(!1),[re,G]=j.useState(!1),[J,Z]=j.useState(!1),[ne,K]=j.useState(!1),[ae,U]=j.useState(null),[W,se]=j.useState(""),[de,z]=j.useState(!1),[oe,Ce]=j.useState(new Set),[ke,_e]=j.useState(!0),Le=Da({resolver:La(_1e),defaultValues:{name:"",slug:"",description:"",isActive:!0,sortOrder:0}}),{data:je,isLoading:Xe,error:qe,refetch:tt}=Ve({queryKey:["/api/admin/categories/content",{searchQuery:a,status:o!=="all"?o:void 0,parent:f!=="all"?f:void 0,sortBy:g,sortOrder:y}],enabled:(t?.role==="admin"||t?.role==="moderator")&&n==="content",refetchInterval:ke?6e4:!1}),{data:St,isLoading:Oe,error:qt,refetch:Et}=Ve({queryKey:["/api/admin/categories/products",{searchQuery:a,status:o!=="all"?o:void 0,parent:f!=="all"?f:void 0,sortBy:g,sortOrder:y}],enabled:(t?.role==="admin"||t?.role==="moderator")&&n==="products",refetchInterval:ke?6e4:!1}),{data:sr}=Ve({queryKey:[`/api/admin/categories/${n}/stats`],enabled:t?.role==="admin"||t?.role==="moderator",refetchInterval:ke?3e5:!1}),{data:Jt}=Ve({queryKey:[`/api/admin/categories/${n}/performance`],enabled:t?.role==="admin"||t?.role==="moderator",refetchInterval:ke?3e5:!1}),gr=n==="content"?je||[]:St||[],Hr=n==="content"?Xe:Oe,Jr=n==="content"?qe:qt,me=ot({mutationFn:ft=>Ze(`/api/admin/categories/${n}`,{method:"POST",body:JSON.stringify(ft)}),onSuccess:()=>{r({title:"Category created successfully"}),Rt.invalidateQueries({queryKey:[`/api/admin/categories/${n}`]}),F(!1),Le.reset()},onError:()=>{r({title:"Failed to create category",variant:"destructive"})}}),Ne=ot({mutationFn:ft=>Ze(`/api/admin/categories/${n}/${ft.categoryId}`,{method:"PATCH",body:JSON.stringify(ft.updates)}),onSuccess:()=>{r({title:"Category updated successfully"}),Rt.invalidateQueries({queryKey:[`/api/admin/categories/${n}`]}),F(!1),Le.reset()},onError:()=>{r({title:"Failed to update category",variant:"destructive"})}}),Ie=ot({mutationFn:ft=>Ze(`/api/admin/categories/${n}/${ft}`,{method:"DELETE"}),onSuccess:()=>{r({title:"Category deleted successfully"}),Rt.invalidateQueries({queryKey:[`/api/admin/categories/${n}`]})},onError:()=>{r({title:"Failed to delete category",variant:"destructive"})}}),ht=ot({mutationFn:ft=>Ze(`/api/admin/categories/${n}/bulk`,{method:"POST",body:JSON.stringify(ft)}),onSuccess:()=>{r({title:"Bulk operation completed successfully"}),Rt.invalidateQueries({queryKey:[`/api/admin/categories/${n}`]}),P([]),H(!1)},onError:()=>{r({title:"Bulk operation failed",variant:"destructive"})}});ot({mutationFn:ft=>Ze(`/api/admin/categories/${n}/reorder`,{method:"POST",body:JSON.stringify(ft)}),onSuccess:()=>{r({title:"Categories reordered successfully"}),Rt.invalidateQueries({queryKey:[`/api/admin/categories/${n}`]})},onError:()=>{r({title:"Failed to reorder categories",variant:"destructive"})}});const dt=ft=>ft.isActive?e.jsxs(ce,{className:"bg-green-500 text-white",children:[e.jsx(Cr,{className:"w-3 h-3 mr-1"}),"Active"]}):e.jsxs(ce,{className:"bg-red-500 text-white",children:[e.jsx(Ln,{className:"w-3 h-3 mr-1"}),"Inactive"]}),Je=ft=>ft.parentId?e.jsxs(ce,{variant:"outline",children:[e.jsx(jy,{className:"w-3 h-3 mr-1"}),"Subcategory"]}):e.jsxs(ce,{className:"bg-purple-500 text-white",children:[e.jsx($_,{className:"w-3 h-3 mr-1"}),"Parent"]}),ze=ft=>{const Lt=new Map,er=[];return ft.forEach(Qe=>{Lt.set(Qe.id,{...Qe,children:[]})}),ft.forEach(Qe=>{const Er=Lt.get(Qe.id);if(Qe.parentId){const fn=Lt.get(Qe.parentId);fn?fn.children.push(Er):er.push(Er)}else er.push(Er)}),er},Gt=(ft,Lt=0)=>ft.map(er=>e.jsxs("div",{children:[e.jsxs(Sr,{"data-testid":`category-row-${er.id}`,children:[e.jsx(Be,{children:e.jsx(Jn,{checked:A.includes(er.id),onCheckedChange:Qe=>Rn(er.id,Qe)})}),e.jsx(Be,{children:e.jsxs("div",{className:"flex items-center gap-2",style:{paddingLeft:`${Lt*24}px`},children:[er.children?.length>0&&e.jsx(V,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>_s(er.id),children:oe.has(er.id)?e.jsx(gh,{className:"h-4 w-4"}):e.jsx(GA,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[er.imageUrl?e.jsx("img",{src:er.imageUrl,alt:er.name,className:"h-8 w-8 rounded object-cover"}):e.jsx("div",{className:"h-8 w-8 bg-muted rounded flex items-center justify-center",children:e.jsx(jy,{className:"h-4 w-4 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium","data-testid":`category-name-${er.id}`,children:er.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["/",er.slug]})]})]})]})}),e.jsx(Be,{children:e.jsxs("div",{className:"space-y-1",children:[dt(er),Je(er)]})}),e.jsx(Be,{children:e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Cn,{className:"h-3 w-3"}),er.contentCount||0," items"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(lr,{className:"h-3 w-3"}),er.viewsCount?.toLocaleString()||0," views"]}),er.revenueGenerated&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(yn,{className:"h-3 w-3"}),"$",(er.revenueGenerated/100).toFixed(2)]})]})}),e.jsx(Be,{children:e.jsx("div",{className:"text-sm text-muted-foreground",children:er.sortOrder})}),e.jsx(Be,{children:e.jsx("div",{className:"text-sm",children:Ir(new Date(er.createdAt),"MMM d, yyyy")})}),e.jsx(Be,{children:e.jsxs(ns,{children:[e.jsx(ss,{asChild:!0,children:e.jsx(V,{variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(Ja,{className:"h-4 w-4"})})}),e.jsxs(es,{align:"end",children:[e.jsxs(rt,{onClick:()=>{U(er),z(!0),Le.reset(er),F(!0)},children:[e.jsx(Ko,{className:"h-4 w-4 mr-2"}),"Edit Category"]}),e.jsxs(rt,{onClick:()=>{U(er),z(!1),Le.reset({parentId:er.id}),F(!0)},children:[e.jsx(hs,{className:"h-4 w-4 mr-2"}),"Add Subcategory"]}),e.jsxs(rt,{children:[e.jsx(Qu,{className:"h-4 w-4 mr-2"}),"Duplicate Category"]}),e.jsxs(rt,{children:[e.jsx(z_,{className:"h-4 w-4 mr-2"}),"Move Category"]}),e.jsx(lo,{}),e.jsxs(rt,{children:[e.jsx(gl,{className:"h-4 w-4 mr-2"}),"View Analytics"]}),e.jsxs(rt,{children:[e.jsx(_c,{className:"h-4 w-4 mr-2"}),"Category Rules"]}),e.jsx(lo,{}),e.jsxs(rt,{className:"text-destructive",onClick:()=>Ie.mutate(er.id),children:[e.jsx(Bo,{className:"h-4 w-4 mr-2"}),"Delete Category"]})]})]})})]}),oe.has(er.id)&&er.children?.length>0&&Gt(er.children,Lt+1)]},er.id)),rr=ft=>ft.map(Lt=>e.jsxs(Sr,{"data-testid":`category-row-${Lt.id}`,children:[e.jsx(Be,{children:e.jsx(Jn,{checked:A.includes(Lt.id),onCheckedChange:er=>Rn(Lt.id,er)})}),e.jsx(Be,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[Lt.imageUrl?e.jsx("img",{src:Lt.imageUrl,alt:Lt.name,className:"h-8 w-8 rounded object-cover"}):e.jsx("div",{className:"h-8 w-8 bg-muted rounded flex items-center justify-center",children:e.jsx(jy,{className:"h-4 w-4 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium","data-testid":`category-name-${Lt.id}`,children:Lt.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["/",Lt.slug]}),Lt.description&&e.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-xs",children:Lt.description})]})]})}),e.jsx(Be,{children:Lt.parentId?e.jsx("div",{className:"text-sm text-muted-foreground",children:ft.find(er=>er.id===Lt.parentId)?.name||"Unknown Parent"}):e.jsx(ce,{variant:"outline",children:"Root Category"})}),e.jsx(Be,{children:e.jsxs("div",{className:"space-y-1",children:[dt(Lt),Je(Lt)]})}),e.jsx(Be,{children:e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Cn,{className:"h-3 w-3"}),Lt.contentCount||0," items"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(lr,{className:"h-3 w-3"}),Lt.viewsCount?.toLocaleString()||0," views"]}),Lt.revenueGenerated&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(yn,{className:"h-3 w-3"}),"$",(Lt.revenueGenerated/100).toFixed(2)]})]})}),e.jsx(Be,{children:e.jsx("div",{className:"text-sm text-muted-foreground",children:Lt.sortOrder})}),e.jsx(Be,{children:e.jsx("div",{className:"text-sm",children:Ir(new Date(Lt.createdAt),"MMM d, yyyy")})}),e.jsx(Be,{children:e.jsxs(ns,{children:[e.jsx(ss,{asChild:!0,children:e.jsx(V,{variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(Ja,{className:"h-4 w-4"})})}),e.jsxs(es,{align:"end",children:[e.jsxs(rt,{onClick:()=>{U(Lt),z(!0),Le.reset(Lt),F(!0)},children:[e.jsx(Ko,{className:"h-4 w-4 mr-2"}),"Edit Category"]}),e.jsxs(rt,{onClick:()=>{U(Lt),z(!1),Le.reset({parentId:Lt.id}),F(!0)},children:[e.jsx(hs,{className:"h-4 w-4 mr-2"}),"Add Subcategory"]}),e.jsxs(rt,{children:[e.jsx(Qu,{className:"h-4 w-4 mr-2"}),"Duplicate Category"]}),e.jsxs(rt,{children:[e.jsx(z_,{className:"h-4 w-4 mr-2"}),"Move Category"]}),e.jsx(lo,{}),e.jsxs(rt,{children:[e.jsx(gl,{className:"h-4 w-4 mr-2"}),"View Analytics"]}),e.jsxs(rt,{children:[e.jsx(_c,{className:"h-4 w-4 mr-2"}),"Category Rules"]}),e.jsx(lo,{}),e.jsxs(rt,{className:"text-destructive",onClick:()=>Ie.mutate(Lt.id),children:[e.jsx(Bo,{className:"h-4 w-4 mr-2"}),"Delete Category"]})]})]})})]},Lt.id)),Rn=(ft,Lt)=>{P(Lt?[...A,ft]:A.filter(er=>er!==ft))},as=ft=>{P(ft?gr.map(Lt=>Lt.id):[])},Gr=ft=>{se(ft),H(!0)},$a=()=>{ht.mutate({categoryIds:A,operation:W})},_s=ft=>{const Lt=new Set(oe);Lt.has(ft)?Lt.delete(ft):Lt.add(ft),Ce(Lt)},at=j.useMemo(()=>a?gr.filter(ft=>ft.name?.toLowerCase().includes(a.toLowerCase())||ft.slug?.toLowerCase().includes(a.toLowerCase())||ft.description?.toLowerCase().includes(a.toLowerCase())):gr,[gr,a]),dn=ft=>{de&&ae?Ne.mutate({categoryId:ae.id,updates:ft}):me.mutate(ft)};return j.useEffect(()=>{if(ke){const ft=setInterval(()=>{n==="content"?tt():Et()},6e4);return()=>clearInterval(ft)}},[ke,n,tt,Et]),t?.role!=="admin"&&t?.role!=="moderator"?e.jsx("div",{className:"space-y-6","data-testid":"access-denied",children:e.jsxs(bn,{className:"border-destructive/50 bg-destructive/10",children:[e.jsx(Qr,{className:"h-4 w-4 text-destructive"}),e.jsx(jn,{className:"text-destructive",children:"Access denied. Admin or moderator privileges required to manage categories."})]})}):Jr?e.jsx("div",{className:"space-y-6",children:e.jsxs(bn,{className:"border-destructive/50 bg-destructive/10",children:[e.jsx(Qr,{className:"h-4 w-4 text-destructive"}),e.jsx(jn,{className:"text-destructive",children:"Failed to load categories. Please try again."})]})}):e.jsxs("div",{className:"space-y-6","data-testid":"categories-management-page",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-display","data-testid":"page-title",children:"Categories Management"}),e.jsx("p",{className:"text-muted-foreground","data-testid":"page-description",children:"Hierarchical category organization and content filtering system"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(kn,{checked:ke,onCheckedChange:_e,"data-testid":"auto-refresh-toggle"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Auto-refresh"})]}),e.jsxs(V,{variant:"outline",className:"gap-2",onClick:()=>G(!0),children:[e.jsx(gl,{className:"h-4 w-4"}),"Analytics"]}),e.jsxs(V,{variant:"outline",className:"gap-2",onClick:()=>K(!0),children:[e.jsx($_,{className:"h-4 w-4"}),"Reorganize"]}),e.jsxs(V,{variant:"outline",className:"gap-2",children:[e.jsx($n,{className:"h-4 w-4"}),"Export"]}),e.jsxs(V,{className:"gap-2",onClick:()=>{z(!1),U(null),Le.reset(),F(!0)},children:[e.jsx(hs,{className:"h-4 w-4"}),"Add Category"]}),e.jsxs(V,{variant:"outline",className:"gap-2",onClick:()=>n==="content"?tt():Et(),children:[e.jsx(wn,{className:"h-4 w-4"}),"Refresh"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:e.jsx($_,{className:"h-5 w-5 text-purple-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Categories"}),e.jsx("p",{className:"text-xl font-bold text-purple-500","data-testid":"total-categories",children:sr?.totalCategories||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:e.jsx(Cr,{className:"h-5 w-5 text-green-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active Categories"}),e.jsx("p",{className:"text-xl font-bold text-green-500","data-testid":"active-categories",children:sr?.activeCategories||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:e.jsx(Cn,{className:"h-5 w-5 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Content"}),e.jsx("p",{className:"text-xl font-bold text-blue-500","data-testid":"total-content",children:sr?.totalContent?.toLocaleString()||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:e.jsx(yn,{className:"h-5 w-5 text-orange-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Top Performing"}),e.jsx("p",{className:"text-xl font-bold text-orange-500","data-testid":"top-performing",children:sr?.topPerforming||"N/A"})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-red-500/10 rounded-lg flex items-center justify-center",children:e.jsx(Qr,{className:"h-5 w-5 text-red-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Empty Categories"}),e.jsx("p",{className:"text-xl font-bold text-red-500","data-testid":"empty-categories",children:sr?.emptyCategories||0})]})]})})}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-cyan-500/10 rounded-lg flex items-center justify-center",children:e.jsx(pY,{className:"h-5 w-5 text-cyan-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Max Depth"}),e.jsx("p",{className:"text-xl font-bold text-cyan-500","data-testid":"max-depth",children:sr?.maxDepth||0})]})]})})})]}),e.jsxs(Y,{className:"bg-card border-border",children:[e.jsxs(ue,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(fe,{children:"Category Structure & Organization"}),e.jsx(lt,{children:"Manage hierarchical categories with advanced organization tools"})]}),A.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ce,{variant:"secondary",children:[A.length," selected"]}),e.jsxs(ns,{children:[e.jsx(ss,{asChild:!0,children:e.jsx(V,{variant:"outline",size:"sm",children:"Bulk Actions"})}),e.jsxs(es,{children:[e.jsxs(rt,{onClick:()=>Gr("activate"),children:[e.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Activate Categories"]}),e.jsxs(rt,{onClick:()=>Gr("deactivate"),children:[e.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Deactivate Categories"]}),e.jsxs(rt,{onClick:()=>Gr("merge"),children:[e.jsx(wY,{className:"h-4 w-4 mr-2"}),"Merge Categories"]}),e.jsxs(rt,{onClick:()=>Gr("move"),children:[e.jsx(z_,{className:"h-4 w-4 mr-2"}),"Move Categories"]}),e.jsxs(rt,{onClick:()=>Gr("delete"),children:[e.jsx(Bo,{className:"h-4 w-4 mr-2"}),"Delete Categories"]})]})]})]})]}),e.jsx(Xs,{value:n,onValueChange:s,className:"w-full",children:e.jsxs(zs,{className:"grid w-full grid-cols-2",children:[e.jsxs(Kt,{value:"content",className:"gap-2",children:[e.jsx(Cn,{className:"h-4 w-4"}),"Content Categories"]}),e.jsxs(Kt,{value:"products",className:"gap-2",children:[e.jsx(dc,{className:"h-4 w-4"}),"Product Categories"]})]})})]}),e.jsxs(ee,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ue,{placeholder:"Search categories...",value:a,onChange:ft=>i(ft.target.value),className:"pl-10","data-testid":"category-search-input"})]}),e.jsxs(yt,{value:o,onValueChange:l,children:[e.jsx(xt,{"data-testid":"status-filter",children:e.jsx(bt,{placeholder:"Status"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Status"}),e.jsx(Q,{value:"active",children:"Active"}),e.jsx(Q,{value:"inactive",children:"Inactive"})]})]}),e.jsxs(yt,{value:f,onValueChange:p,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Parent Category"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Categories"}),e.jsx(Q,{value:"root",children:"Root Categories"}),e.jsx(Q,{value:"subcategories",children:"Subcategories"})]})]}),e.jsxs(yt,{value:g,onValueChange:b,children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Sort By"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"name",children:"Name"}),e.jsx(Q,{value:"createdAt",children:"Date Created"}),e.jsx(Q,{value:"sortOrder",children:"Sort Order"}),e.jsx(Q,{value:"contentCount",children:"Content Count"}),e.jsx(Q,{value:"viewsCount",children:"Views"})]})]}),e.jsxs(yt,{value:y,onValueChange:ft=>_(ft),children:[e.jsx(xt,{children:e.jsx(bt,{placeholder:"Order"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"asc",children:"Ascending"}),e.jsx(Q,{value:"desc",children:"Descending"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(V,{variant:w==="tree"?"default":"outline",size:"sm",onClick:()=>k("tree"),className:"flex-1",children:[e.jsx(RY,{className:"h-4 w-4 mr-1"}),"Tree"]}),e.jsxs(V,{variant:w==="list"?"default":"outline",size:"sm",onClick:()=>k("list"),className:"flex-1",children:[e.jsx(xY,{className:"h-4 w-4 mr-1"}),"List"]})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(Ta,{children:[e.jsx(Ea,{children:e.jsxs(Sr,{children:[e.jsx(We,{className:"w-12",children:e.jsx(Jn,{checked:A.length===gr.length&&gr.length>0,onCheckedChange:as})}),e.jsx(We,{children:"Category"}),w==="list"&&e.jsx(We,{children:"Parent"}),e.jsx(We,{children:"Status"}),e.jsx(We,{children:"Performance"}),e.jsx(We,{children:"Order"}),e.jsx(We,{children:"Created"}),e.jsx(We,{className:"w-32",children:"Actions"})]})}),e.jsx(Oa,{children:Hr?Array.from({length:5}).map((ft,Lt)=>e.jsx(Sr,{children:e.jsx(Be,{colSpan:w==="list"?8:7,children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-8 w-8 bg-muted rounded animate-pulse"}),e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"h-3 bg-muted rounded w-2/3 animate-pulse"})]})]})})},Lt)):at.length===0?e.jsx(Sr,{children:e.jsxs(Be,{colSpan:w==="list"?8:7,className:"text-center py-12",children:[e.jsx("div",{className:"h-16 w-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(jy,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No categories found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search criteria or create a new category."})]})}):w==="tree"?Gt(ze(at)):rr(at)})]})})]})]}),e.jsx(Ur,{open:D,onOpenChange:F,children:e.jsxs(Lr,{className:"max-w-2xl",children:[e.jsxs(Fr,{children:[e.jsx($r,{children:de?"Edit Category":"Create New Category"}),e.jsx(Wr,{children:de?"Update category information and settings.":"Create a new category for organizing content."})]}),e.jsx(Ra,{...Le,children:e.jsxs("form",{onSubmit:Le.handleSubmit(dn),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Pt,{control:Le.control,name:"name",render:({field:ft})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Category Name"}),e.jsx(At,{children:e.jsx(Ue,{placeholder:"Enter category name",...ft})}),e.jsx(It,{})]})}),e.jsx(Pt,{control:Le.control,name:"slug",render:({field:ft})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"URL Slug"}),e.jsx(At,{children:e.jsx(Ue,{placeholder:"category-slug",...ft})}),e.jsx(It,{})]})})]}),e.jsx(Pt,{control:Le.control,name:"description",render:({field:ft})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Description"}),e.jsx(At,{children:e.jsx(on,{placeholder:"Category description...",...ft})}),e.jsx(It,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Pt,{control:Le.control,name:"parentId",render:({field:ft})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Parent Category"}),e.jsxs(yt,{value:ft.value,onValueChange:ft.onChange,children:[e.jsx(At,{children:e.jsx(xt,{children:e.jsx(bt,{placeholder:"Select parent category"})})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"",children:"No Parent (Root Category)"}),gr.filter(Lt=>Lt.id!==ae?.id).map(Lt=>e.jsx(Q,{value:Lt.id,children:Lt.name},Lt.id))]})]}),e.jsx(It,{})]})}),e.jsx(Pt,{control:Le.control,name:"sortOrder",render:({field:ft})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Sort Order"}),e.jsx(At,{children:e.jsx(Ue,{type:"number",placeholder:"0",...ft,onChange:Lt=>ft.onChange(parseInt(Lt.target.value)||0)})}),e.jsx(It,{})]})})]}),e.jsx(Pt,{control:Le.control,name:"imageUrl",render:({field:ft})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Category Image URL"}),e.jsx(At,{children:e.jsx(Ue,{placeholder:"https://example.com/image.jpg",...ft})}),e.jsx(It,{})]})}),e.jsx(Pt,{control:Le.control,name:"isActive",render:({field:ft})=>e.jsxs(Ct,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(kt,{className:"text-base",children:"Active Category"}),e.jsx(Aa,{children:"Whether this category is active and visible to users."})]}),e.jsx(At,{children:e.jsx(kn,{checked:ft.value,onCheckedChange:ft.onChange})})]})}),e.jsxs(pa,{children:[e.jsx(V,{variant:"outline",onClick:()=>F(!1),children:"Cancel"}),e.jsx(V,{type:"submit",disabled:me.isPending||Ne.isPending,children:de?"Update Category":"Create Category"})]})]})})]})}),e.jsx(Ur,{open:B,onOpenChange:H,children:e.jsxs(Lr,{children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Bulk Category Operation"}),e.jsxs(Wr,{children:["Apply ",W," to ",A.length," selected categories."]})]}),e.jsxs("div",{className:"space-y-4",children:[W==="delete"&&e.jsxs(bn,{children:[e.jsx(Qr,{className:"h-4 w-4"}),e.jsx(jn,{children:"Warning: This will permanently delete all selected categories and their content. This action cannot be undone."})]}),W==="merge"&&e.jsxs(bn,{children:[e.jsx(Qr,{className:"h-4 w-4"}),e.jsx(jn,{children:"This will merge all selected categories into a single category. Content will be redistributed accordingly."})]})]}),e.jsxs(pa,{children:[e.jsx(V,{variant:"outline",onClick:()=>H(!1),children:"Cancel"}),e.jsxs(V,{onClick:$a,variant:W==="delete"?"destructive":"default",children:["Execute ",W]})]})]})})]})}const uC={completed:"bg-green-500",pending:"bg-yellow-500",failed:"bg-red-500",cancelled:"bg-gray-500",refunded:"bg-blue-500",disputed:"bg-purple-500"},hC={low:"bg-green-500",medium:"bg-yellow-500",high:"bg-orange-500",critical:"bg-red-500"};function S1e(){const{toast:t}=or();ws();const[r,n]=j.useState({page:1,limit:50,sortBy:"createdAt",sortOrder:"desc"}),[s,a]=j.useState([]),[i,o]=j.useState(!1),[l,u]=j.useState(null),[m,f]=j.useState(""),[p,g]=j.useState(""),[b,y]=j.useState(""),[_,w]=j.useState("csv"),{data:k,isLoading:A,refetch:P}=Ve({queryKey:["/api/admin/financial/transactions",r],queryFn:()=>Ze(`/api/admin/financial/transactions?${new URLSearchParams(Object.entries(r).reduce((U,[W,se])=>(se!==void 0&&se!==""&&(U[W]=String(se)),U),{})).toString()}`)}),{data:O,isLoading:I}=Ve({queryKey:["/api/admin/financial/transactions/analytics",r.startDate,r.endDate],queryFn:()=>Ze(`/api/admin/financial/transactions/analytics?${new URLSearchParams({startDate:r.startDate||new Date(Date.now()-720*60*60*1e3).toISOString().split("T")[0],endDate:r.endDate||new Date().toISOString().split("T")[0],groupBy:"day"}).toString()}`)}),{data:D}=Ve({queryKey:["/api/admin/financial/fraud/alerts"],queryFn:()=>Ze("/api/admin/financial/fraud/alerts?status=pending&limit=10")}),F=ot({mutationFn:({transactionId:U,data:W})=>Ze(`/api/admin/financial/transactions/${U}/refund`,{method:"POST",body:JSON.stringify(W)}),onSuccess:()=>{t({title:"Success",description:"Refund processed successfully"}),P(),u(null)},onError:U=>{t({title:"Error",description:U.message||"Failed to process refund",variant:"destructive"})}});ot({mutationFn:({transactionId:U,data:W})=>Ze(`/api/admin/financial/transactions/${U}/status`,{method:"PATCH",body:JSON.stringify(W)}),onSuccess:()=>{t({title:"Success",description:"Transaction status updated"}),P()},onError:U=>{t({title:"Error",description:U.message||"Failed to update status",variant:"destructive"})}});const B=ot({mutationFn:U=>Ze("/api/admin/financial/transactions/bulk",{method:"POST",body:JSON.stringify(U)}),onSuccess:U=>{t({title:"Success",description:`Bulk operation completed. Processed ${U.processed} transactions.`}),P(),a([]),f("")},onError:U=>{t({title:"Error",description:U.message||"Bulk operation failed",variant:"destructive"})}}),H=(U,W)=>{n(se=>({...se,[U]:W,page:1}))},re=U=>{a(W=>W.includes(U)?W.filter(se=>se!==U):[...W,U])},G=()=>{s.length===k?.data?.length?a([]):a(k?.data?.map(U=>U.id)||[])},J=()=>{!m||s.length===0||B.mutate({transactionIds:s,operation:m,data:m==="update_status"?{status:"flagged"}:{}})},Z=()=>{if(!l)return;const U=p?parseFloat(p)*100:void 0;F.mutate({transactionId:l.id,data:{reason:b,amount:U}})},ne=async()=>{try{const U=new URLSearchParams({format:_,...Object.entries(r).reduce((oe,[Ce,ke])=>(ke!==void 0&&ke!==""&&(oe[Ce]=String(ke)),oe),{})}),W=await fetch(`/api/admin/financial/transactions/export?${U}`,{method:"GET",credentials:"include"});if(!W.ok)throw new Error("Export failed");const se=await W.blob(),de=window.URL.createObjectURL(se),z=document.createElement("a");z.href=de,z.download=`transactions-${new Date().toISOString().split("T")[0]}.${_}`,document.body.appendChild(z),z.click(),window.URL.revokeObjectURL(de),document.body.removeChild(z),t({title:"Success",description:"Transactions exported successfully"})}catch{t({title:"Error",description:"Failed to export transactions",variant:"destructive"})}},K=(U,W="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:W}).format(U/100),ae=U=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(U));return A?e.jsxs("div",{className:"flex items-center justify-center h-96",children:[e.jsx(wn,{className:"h-8 w-8 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading transactions..."})]}):e.jsxs("div",{className:"p-6 space-y-6","data-testid":"transactions-management",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold","data-testid":"page-title",children:"Transaction Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Monitor and manage all platform transactions"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(V,{variant:"outline",onClick:()=>o(!i),"data-testid":"button-toggle-filters",children:[e.jsx(Ic,{className:"h-4 w-4 mr-2"}),"Filters"]}),e.jsxs(V,{variant:"outline",onClick:ne,"data-testid":"button-export",children:[e.jsx($n,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(V,{onClick:()=>P(),"data-testid":"button-refresh",children:[e.jsx(wn,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),O&&e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(Y,{"data-testid":"card-total-transactions",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Total Transactions"}),e.jsx($o,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-transactions",children:O.totalTransactions?.toLocaleString()}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[O.successRate,"% success rate"]})]})]}),e.jsxs(Y,{"data-testid":"card-total-volume",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Transaction Volume"}),e.jsx(qr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-volume",children:K(O.totalVolume)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg: ",K(O.averageAmount)]})]})]}),e.jsxs(Y,{"data-testid":"card-fraud-alerts",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Fraud Alerts"}),e.jsx(Mr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600","data-testid":"text-fraud-alerts",children:O.fraudAlerts}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Requires review"})]})]}),e.jsxs(Y,{"data-testid":"card-success-rate",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Success Rate"}),e.jsx(Cr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-success-rate",children:[O.successRate,"%"]}),e.jsx(bs,{value:O.successRate,className:"mt-2"})]})]})]}),i&&e.jsxs(Y,{"data-testid":"filters-panel",children:[e.jsx(ue,{children:e.jsx(fe,{children:"Advanced Filters"})}),e.jsx(ee,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-5",children:[e.jsxs("div",{children:[e.jsx(et,{htmlFor:"search",children:"Search"}),e.jsx(Ue,{id:"search",placeholder:"Transaction ID, User...",value:r.search||"",onChange:U=>H("search",U.target.value),"data-testid":"input-search"})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"status",children:"Status"}),e.jsxs(yt,{value:r.status||"",onValueChange:U=>H("status",U),children:[e.jsx(xt,{"data-testid":"select-status",children:e.jsx(bt,{placeholder:"All Statuses"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"",children:"All Statuses"}),e.jsx(Q,{value:"completed",children:"Completed"}),e.jsx(Q,{value:"pending",children:"Pending"}),e.jsx(Q,{value:"failed",children:"Failed"}),e.jsx(Q,{value:"cancelled",children:"Cancelled"}),e.jsx(Q,{value:"refunded",children:"Refunded"})]})]})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"type",children:"Type"}),e.jsxs(yt,{value:r.type||"",onValueChange:U=>H("type",U),children:[e.jsx(xt,{"data-testid":"select-type",children:e.jsx(bt,{placeholder:"All Types"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"",children:"All Types"}),e.jsx(Q,{value:"purchase",children:"Purchase"}),e.jsx(Q,{value:"subscription",children:"Subscription"}),e.jsx(Q,{value:"tip",children:"Tip"}),e.jsx(Q,{value:"payout",children:"Payout"}),e.jsx(Q,{value:"refund",children:"Refund"})]})]})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"paymentMethod",children:"Payment Method"}),e.jsxs(yt,{value:r.paymentMethod||"",onValueChange:U=>H("paymentMethod",U),children:[e.jsx(xt,{"data-testid":"select-payment-method",children:e.jsx(bt,{placeholder:"All Methods"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"",children:"All Methods"}),e.jsx(Q,{value:"card",children:"Credit Card"}),e.jsx(Q,{value:"paypal",children:"PayPal"}),e.jsx(Q,{value:"crypto",children:"Cryptocurrency"}),e.jsx(Q,{value:"bank_transfer",children:"Bank Transfer"})]})]})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"dateRange",children:"Date Range"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Ue,{type:"date",value:r.startDate||"",onChange:U=>H("startDate",U.target.value),"data-testid":"input-start-date"}),e.jsx(Ue,{type:"date",value:r.endDate||"",onChange:U=>H("endDate",U.target.value),"data-testid":"input-end-date"})]})]})]})})]}),e.jsxs(Xs,{defaultValue:"transactions",className:"space-y-4",children:[e.jsxs(zs,{children:[e.jsx(Kt,{value:"transactions","data-testid":"tab-transactions",children:"Transactions"}),e.jsx(Kt,{value:"analytics","data-testid":"tab-analytics",children:"Analytics"}),e.jsx(Kt,{value:"fraud","data-testid":"tab-fraud",children:"Fraud Detection"})]}),e.jsxs(Qt,{value:"transactions",className:"space-y-4",children:[s.length>0&&e.jsx(Y,{"data-testid":"bulk-actions",children:e.jsx(ee,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium",children:[s.length," selected"]}),e.jsxs(yt,{value:m,onValueChange:f,children:[e.jsx(xt,{className:"w-[200px]","data-testid":"select-bulk-action",children:e.jsx(bt,{placeholder:"Choose action..."})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"flag_for_review",children:"Flag for Review"}),e.jsx(Q,{value:"export",children:"Export Selected"})]})]}),e.jsx(V,{onClick:J,disabled:!m||B.isPending,"data-testid":"button-execute-bulk",children:"Execute"})]})})}),e.jsxs(Y,{"data-testid":"transactions-table",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Transactions"}),e.jsxs(lt,{children:["Showing ",k?.data?.length||0," of ",k?.total||0," transactions"]})]}),e.jsx(ee,{children:e.jsxs(Ta,{children:[e.jsx(Ea,{children:e.jsxs(Sr,{children:[e.jsx(We,{className:"w-12",children:e.jsx(Jn,{checked:s.length===k?.data?.length,onCheckedChange:G,"data-testid":"checkbox-select-all"})}),e.jsx(We,{children:"ID"}),e.jsx(We,{children:"User"}),e.jsx(We,{children:"Type"}),e.jsx(We,{children:"Amount"}),e.jsx(We,{children:"Status"}),e.jsx(We,{children:"Payment Method"}),e.jsx(We,{children:"Risk"}),e.jsx(We,{children:"Date"}),e.jsx(We,{children:"Actions"})]})}),e.jsx(Oa,{children:k?.data?.map(U=>e.jsxs(Sr,{"data-testid":`row-transaction-${U.id}`,children:[e.jsx(Be,{children:e.jsx(Jn,{checked:s.includes(U.id),onCheckedChange:()=>re(U.id),"data-testid":`checkbox-select-${U.id}`})}),e.jsxs(Be,{className:"font-mono text-sm",children:[U.id.slice(0,8),"..."]}),e.jsx(Be,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:U.username}),e.jsx("div",{className:"text-sm text-muted-foreground",children:U.userEmail})]})}),e.jsx(Be,{children:e.jsx(ce,{variant:"outline","data-testid":`badge-type-${U.id}`,children:U.type})}),e.jsx(Be,{className:"font-medium",children:K(U.amount,U.currency)}),e.jsx(Be,{children:e.jsx(ce,{className:`${uC[U.status]} text-white`,"data-testid":`badge-status-${U.id}`,children:U.status})}),e.jsx(Be,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(vs,{className:"h-4 w-4 mr-2"}),U.paymentMethod]})}),e.jsx(Be,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${hC[U.riskLevel]}`}),e.jsx("span",{className:"text-sm",children:U.fraudScore})]})}),e.jsx(Be,{children:ae(U.createdAt)}),e.jsx(Be,{children:e.jsxs(ns,{children:[e.jsx(ss,{asChild:!0,children:e.jsx(V,{variant:"ghost",size:"sm","data-testid":`button-actions-${U.id}`,children:e.jsx(Ja,{className:"h-4 w-4"})})}),e.jsxs(es,{children:[e.jsxs(rt,{onClick:()=>u(U),children:[e.jsx(pr,{className:"h-4 w-4 mr-2"}),"View Details"]}),e.jsxs(rt,{onClick:()=>u(U),children:[e.jsx(Lo,{className:"h-4 w-4 mr-2"}),"Process Refund"]})]})]})})]},U.id))})]})})]})]}),e.jsx(Qt,{value:"analytics",className:"space-y-4",children:O&&e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(Y,{"data-testid":"chart-revenue",children:[e.jsx(ue,{children:e.jsx(fe,{children:"Revenue Trend"})}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(bf,{data:O.revenueChart,children:[e.jsx(Ps,{strokeDasharray:"3 3"}),e.jsx(Yn,{dataKey:"date"}),e.jsx(Qn,{}),e.jsx(Br,{formatter:U=>K(Number(U))}),e.jsx(Xa,{type:"monotone",dataKey:"amount",stroke:"#8884d8",fill:"#8884d8"})]})})})]}),e.jsxs(Y,{"data-testid":"chart-status-distribution",children:[e.jsx(ue,{children:e.jsx(fe,{children:"Status Distribution"})}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(wc,{children:[e.jsx(xa,{data:O.statusDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({status:U,percentage:W})=>`${U} (${W}%)`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:O.statusDistribution?.map((U,W)=>e.jsx(ho,{fill:uC[U.status]},`cell-${W}`))}),e.jsx(Br,{})]})})})]}),e.jsxs(Y,{"data-testid":"chart-payment-methods",children:[e.jsx(ue,{children:e.jsx(fe,{children:"Payment Methods"})}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(Tc,{data:O.paymentMethodDistribution,children:[e.jsx(Ps,{strokeDasharray:"3 3"}),e.jsx(Yn,{dataKey:"method"}),e.jsx(Qn,{}),e.jsx(Br,{formatter:U=>K(Number(U))}),e.jsx(Ia,{dataKey:"amount",fill:"#8884d8"})]})})})]}),e.jsxs(Y,{"data-testid":"chart-risk-distribution",children:[e.jsx(ue,{children:e.jsx(fe,{children:"Risk Level Distribution"})}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(Tc,{data:O.riskLevelDistribution,children:[e.jsx(Ps,{strokeDasharray:"3 3"}),e.jsx(Yn,{dataKey:"level"}),e.jsx(Qn,{}),e.jsx(Br,{}),e.jsx(Ia,{dataKey:"count",fill:"#8884d8"})]})})})]})]})}),e.jsx(Qt,{value:"fraud",className:"space-y-4",children:e.jsxs(Y,{"data-testid":"fraud-alerts",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Recent Fraud Alerts"}),e.jsx(lt,{children:"Transactions requiring manual review"})]}),e.jsx(ee,{children:D?.data?.length>0?e.jsx("div",{className:"space-y-4",children:D.data.map(U=>e.jsxs(bn,{"data-testid":`alert-${U.id}`,children:[e.jsx(Qr,{className:"h-4 w-4"}),e.jsx(jn,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:["Transaction ",U.transactionId.slice(0,8),"... - Risk Score: ",U.riskScore]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[U.reason,"  ",ae(U.createdAt)]})]}),e.jsx(ce,{className:`${hC[U.riskLevel]} text-white`,children:U.riskLevel})]})})]},U.id))}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No fraud alerts at this time"})})]})})]}),e.jsx(Ur,{open:!!l,onOpenChange:()=>u(null),children:e.jsxs(Lr,{className:"max-w-2xl","data-testid":"dialog-transaction-details",children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Transaction Details"}),e.jsxs(Wr,{children:["Transaction ID: ",l?.id]})]}),l&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(et,{children:"Amount"}),e.jsx("div",{className:"font-medium text-lg",children:K(l.amount,l.currency)})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Status"}),e.jsx(ce,{className:`${uC[l.status]} text-white`,children:l.status})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Type"}),e.jsx("div",{children:l.type})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Payment Method"}),e.jsx("div",{children:l.paymentMethod})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Gateway"}),e.jsx("div",{children:l.gatewayProvider})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Risk Score"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${hC[l.riskLevel]}`}),e.jsx("span",{children:l.fraudScore})]})]})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Description"}),e.jsx("div",{className:"text-sm",children:l.description})]}),l.status==="completed"&&e.jsxs("div",{className:"space-y-4 border-t pt-4",children:[e.jsx("h4",{className:"font-medium",children:"Process Refund"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(et,{htmlFor:"refundAmount",children:"Refund Amount"}),e.jsx(Ue,{id:"refundAmount",type:"number",step:"0.01",placeholder:`Max: ${(l.amount/100).toFixed(2)}`,value:p,onChange:U=>g(U.target.value),"data-testid":"input-refund-amount"})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"refundReason",children:"Reason"}),e.jsxs(yt,{value:b,onValueChange:y,children:[e.jsx(xt,{"data-testid":"select-refund-reason",children:e.jsx(bt,{placeholder:"Select reason..."})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"customer_request",children:"Customer Request"}),e.jsx(Q,{value:"duplicate_charge",children:"Duplicate Charge"}),e.jsx(Q,{value:"fraud_detected",children:"Fraud Detected"}),e.jsx(Q,{value:"service_not_delivered",children:"Service Not Delivered"}),e.jsx(Q,{value:"other",children:"Other"})]})]})]})]}),e.jsx(V,{onClick:Z,disabled:F.isPending||!b,"data-testid":"button-process-refund",children:F.isPending?"Processing...":"Process Refund"})]})]})]})})]})}const C1e=Xr({userId:mt().min(1,"User ID is required"),companyName:mt().optional(),taxId:mt().optional(),vatNumber:mt().optional(),billingAddress:Xr({street:mt().min(1,"Street address is required"),city:mt().min(1,"City is required"),state:mt().min(1,"State is required"),zipCode:mt().min(1,"ZIP code is required"),country:mt().min(1,"Country is required")}),paymentTerms:tn().min(1).max(365),preferredCurrency:mt().default("USD"),billingCycle:po(["weekly","monthly","quarterly","annually"]),creditLimit:tn().min(0),autoPayEnabled:xi().default(!1),invoiceDeliveryMethod:mt().default("email")}),k1e=Xr({billingProfileId:mt().min(1,"Billing profile is required"),customerId:mt().min(1,"Customer is required"),subtotalCents:tn().min(0),taxCents:tn().min(0).default(0),discountCents:tn().min(0).default(0),currency:mt().default("USD"),dueDate:mt().min(1,"Due date is required"),notes:mt().optional(),lineItems:Oc(Xr({description:mt().min(1),quantity:tn().min(1),unitPrice:tn().min(0),totalPrice:tn().min(0)})).min(1,"At least one line item is required")}),o8={draft:"bg-gray-500",sent:"bg-blue-500",paid:"bg-green-500",overdue:"bg-red-500",cancelled:"bg-gray-600",refunded:"bg-purple-500"},A1e={weekly:"#8884d8",monthly:"#82ca9d",quarterly:"#ffc658",annually:"#ff7300"};function P1e(){const{toast:t}=or();ws();const[r,n]=j.useState("profiles"),[s,a]=j.useState(null),[i,o]=j.useState(null),[l,u]=j.useState(!1),[m,f]=j.useState(!1),[p,g]=j.useState({page:1,limit:50,search:""}),[b,y]=j.useState({page:1,limit:50,status:"",startDate:"",endDate:""}),_=Da({resolver:La(C1e),defaultValues:{paymentTerms:30,preferredCurrency:"USD",billingCycle:"monthly",creditLimit:0,autoPayEnabled:!1,invoiceDeliveryMethod:"email",billingAddress:{street:"",city:"",state:"",zipCode:"",country:"US"}}}),w=Da({resolver:La(k1e),defaultValues:{subtotalCents:0,taxCents:0,discountCents:0,currency:"USD",lineItems:[{description:"",quantity:1,unitPrice:0,totalPrice:0}]}}),{data:k,isLoading:A,refetch:P}=Ve({queryKey:["/api/admin/financial/billing/profiles",p],queryFn:()=>Ze(`/api/admin/financial/billing/profiles?${new URLSearchParams(Object.entries(p).reduce((z,[oe,Ce])=>(Ce!==void 0&&Ce!==""&&(z[oe]=String(Ce)),z),{})).toString()}`)}),{data:O,isLoading:I,refetch:D}=Ve({queryKey:["/api/admin/financial/billing/invoices",b],queryFn:()=>Ze(`/api/admin/financial/billing/invoices?${new URLSearchParams(Object.entries(b).reduce((z,[oe,Ce])=>(Ce!==void 0&&Ce!==""&&(z[oe]=String(Ce)),z),{})).toString()}`)}),{data:F,isLoading:B}=Ve({queryKey:["/api/admin/financial/billing/analytics"],queryFn:()=>Ze("/api/admin/financial/billing/analytics")}),{data:H}=Ve({queryKey:["/api/admin/users"],queryFn:()=>Ze("/api/admin/users?limit=1000")}),re=ot({mutationFn:z=>Ze("/api/admin/financial/billing/profiles",{method:"POST",body:JSON.stringify(z)}),onSuccess:()=>{t({title:"Success",description:"Billing profile created successfully"}),P(),u(!1),_.reset()},onError:z=>{t({title:"Error",description:z.message||"Failed to create profile",variant:"destructive"})}});ot({mutationFn:({id:z,data:oe})=>Ze(`/api/admin/financial/billing/profiles/${z}`,{method:"PATCH",body:JSON.stringify(oe)}),onSuccess:()=>{t({title:"Success",description:"Billing profile updated successfully"}),P(),a(null)},onError:z=>{t({title:"Error",description:z.message||"Failed to update profile",variant:"destructive"})}});const G=ot({mutationFn:z=>Ze("/api/admin/financial/billing/invoices",{method:"POST",body:JSON.stringify({...z,totalCents:z.subtotalCents+z.taxCents-z.discountCents})}),onSuccess:()=>{t({title:"Success",description:"Invoice created successfully"}),D(),f(!1),w.reset()},onError:z=>{t({title:"Error",description:z.message||"Failed to create invoice",variant:"destructive"})}}),J=ot({mutationFn:({id:z,data:oe})=>Ze(`/api/admin/financial/billing/invoices/${z}/status`,{method:"PATCH",body:JSON.stringify(oe)}),onSuccess:()=>{t({title:"Success",description:"Invoice status updated"}),D()},onError:z=>{t({title:"Error",description:z.message||"Failed to update invoice",variant:"destructive"})}}),Z=z=>{re.mutate(z)},ne=z=>{G.mutate(z)},K=()=>{const z=w.getValues("lineItems");w.setValue("lineItems",[...z,{description:"",quantity:1,unitPrice:0,totalPrice:0}])},ae=z=>{const oe=w.getValues("lineItems");oe.length>1&&w.setValue("lineItems",oe.filter((Ce,ke)=>ke!==z))},U=z=>{const oe=w.getValues("lineItems"),Ce=oe[z],ke=Ce.quantity*Ce.unitPrice;w.setValue(`lineItems.${z}.totalPrice`,ke);const _e=oe.reduce((Le,je)=>Le+je.quantity*je.unitPrice,0);w.setValue("subtotalCents",Math.round(_e*100))},W=(z,oe="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:oe}).format(z/100),se=z=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(z)),de=async z=>{try{await J.mutateAsync({id:z,data:{status:"sent"}})}catch(oe){console.error("Failed to send invoice:",oe)}};return A||I?e.jsxs("div",{className:"flex items-center justify-center h-96",children:[e.jsx(wn,{className:"h-8 w-8 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading billing data..."})]}):e.jsxs("div",{className:"p-6 space-y-6","data-testid":"billing-management",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold","data-testid":"page-title",children:"Billing Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage customer billing profiles, invoices, and payment cycles"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(V,{onClick:()=>u(!0),"data-testid":"button-create-profile",children:[e.jsx(hs,{className:"h-4 w-4 mr-2"}),"New Profile"]}),e.jsxs(V,{onClick:()=>f(!0),"data-testid":"button-create-invoice",children:[e.jsx(Cn,{className:"h-4 w-4 mr-2"}),"New Invoice"]}),e.jsxs(V,{variant:"outline",onClick:()=>{P(),D()},"data-testid":"button-refresh",children:[e.jsx(wn,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),F&&e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(Y,{"data-testid":"card-total-profiles",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Billing Profiles"}),e.jsx(HA,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-profiles",children:F.totalProfiles?.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active customers"})]})]}),e.jsxs(Y,{"data-testid":"card-total-invoices",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Total Invoices"}),e.jsx(QA,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-invoices",children:F.totalInvoices?.toLocaleString()}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg: ",W(F.averageInvoiceAmount)]})]})]}),e.jsxs(Y,{"data-testid":"card-total-revenue",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Total Revenue"}),e.jsx(qr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-revenue",children:W(F.totalRevenue)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[F.paymentRate,"% payment rate"]})]})]}),e.jsxs(Y,{"data-testid":"card-overdue-invoices",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Overdue Invoices"}),e.jsx(Qr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600","data-testid":"text-overdue-invoices",children:F.overdueInvoices}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Requires attention"})]})]})]}),e.jsxs(Xs,{value:r,onValueChange:n,className:"space-y-4",children:[e.jsxs(zs,{children:[e.jsx(Kt,{value:"profiles","data-testid":"tab-profiles",children:"Billing Profiles"}),e.jsx(Kt,{value:"invoices","data-testid":"tab-invoices",children:"Invoices"}),e.jsx(Kt,{value:"analytics","data-testid":"tab-analytics",children:"Analytics"})]}),e.jsxs(Qt,{value:"profiles",className:"space-y-4",children:[e.jsx(Y,{"data-testid":"profile-filters",children:e.jsx(ee,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(Ue,{placeholder:"Search profiles...",value:p.search,onChange:z=>g(oe=>({...oe,search:z.target.value,page:1})),"data-testid":"input-search-profiles"})}),e.jsx(V,{variant:"outline",children:e.jsx(Ts,{className:"h-4 w-4"})})]})})}),e.jsxs(Y,{"data-testid":"profiles-table",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Billing Profiles"}),e.jsxs(lt,{children:["Showing ",k?.data?.length||0," of ",k?.total||0," profiles"]})]}),e.jsx(ee,{children:e.jsxs(Ta,{children:[e.jsx(Ea,{children:e.jsxs(Sr,{children:[e.jsx(We,{children:"Customer"}),e.jsx(We,{children:"Company"}),e.jsx(We,{children:"Currency"}),e.jsx(We,{children:"Billing Cycle"}),e.jsx(We,{children:"Credit Limit"}),e.jsx(We,{children:"Current Balance"}),e.jsx(We,{children:"Auto Pay"}),e.jsx(We,{children:"Actions"})]})}),e.jsx(Oa,{children:k?.data?.map(z=>e.jsxs(Sr,{"data-testid":`row-profile-${z.id}`,children:[e.jsx(Be,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:z.user?.username}),e.jsx("div",{className:"text-sm text-muted-foreground",children:z.user?.email})]})}),e.jsx(Be,{children:z.companyName||"-"}),e.jsx(Be,{children:z.preferredCurrency}),e.jsx(Be,{children:e.jsx(ce,{variant:"outline","data-testid":`badge-cycle-${z.id}`,children:z.billingCycle})}),e.jsx(Be,{children:W(z.creditLimit)}),e.jsx(Be,{children:e.jsx("span",{className:z.currentBalance>0?"text-red-600":"text-green-600",children:W(Math.abs(z.currentBalance))})}),e.jsx(Be,{children:z.autoPayEnabled?e.jsx(Cr,{className:"h-4 w-4 text-green-600"}):e.jsx(yl,{className:"h-4 w-4 text-gray-400"})}),e.jsx(Be,{children:e.jsxs(ns,{children:[e.jsx(ss,{asChild:!0,children:e.jsx(V,{variant:"ghost",size:"sm","data-testid":`button-actions-${z.id}`,children:e.jsx(Ja,{className:"h-4 w-4"})})}),e.jsxs(es,{children:[e.jsxs(rt,{onClick:()=>a(z),children:[e.jsx(pr,{className:"h-4 w-4 mr-2"}),"View Details"]}),e.jsxs(rt,{onClick:()=>a(z),children:[e.jsx(Ko,{className:"h-4 w-4 mr-2"}),"Edit Profile"]}),e.jsxs(rt,{children:[e.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Create Invoice"]})]})]})})]},z.id))})]})})]})]}),e.jsxs(Qt,{value:"invoices",className:"space-y-4",children:[e.jsx(Y,{"data-testid":"invoice-filters",children:e.jsx(ee,{className:"pt-6",children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs("div",{children:[e.jsx(et,{htmlFor:"invoice-status",children:"Status"}),e.jsxs(yt,{value:b.status,onValueChange:z=>y(oe=>({...oe,status:z,page:1})),children:[e.jsx(xt,{"data-testid":"select-invoice-status",children:e.jsx(bt,{placeholder:"All Statuses"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"",children:"All Statuses"}),e.jsx(Q,{value:"draft",children:"Draft"}),e.jsx(Q,{value:"sent",children:"Sent"}),e.jsx(Q,{value:"paid",children:"Paid"}),e.jsx(Q,{value:"overdue",children:"Overdue"}),e.jsx(Q,{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"start-date",children:"Start Date"}),e.jsx(Ue,{id:"start-date",type:"date",value:b.startDate,onChange:z=>y(oe=>({...oe,startDate:z.target.value,page:1})),"data-testid":"input-start-date"})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"end-date",children:"End Date"}),e.jsx(Ue,{id:"end-date",type:"date",value:b.endDate,onChange:z=>y(oe=>({...oe,endDate:z.target.value,page:1})),"data-testid":"input-end-date"})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs(V,{variant:"outline",className:"w-full",children:[e.jsx(Ic,{className:"h-4 w-4 mr-2"}),"Filter"]})})]})})}),e.jsxs(Y,{"data-testid":"invoices-table",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Invoices"}),e.jsxs(lt,{children:["Showing ",O?.data?.length||0," of ",O?.total||0," invoices"]})]}),e.jsx(ee,{children:e.jsxs(Ta,{children:[e.jsx(Ea,{children:e.jsxs(Sr,{children:[e.jsx(We,{children:"Invoice #"}),e.jsx(We,{children:"Customer"}),e.jsx(We,{children:"Amount"}),e.jsx(We,{children:"Status"}),e.jsx(We,{children:"Due Date"}),e.jsx(We,{children:"Created"}),e.jsx(We,{children:"Actions"})]})}),e.jsx(Oa,{children:O?.data?.map(z=>e.jsxs(Sr,{"data-testid":`row-invoice-${z.id}`,children:[e.jsx(Be,{className:"font-mono",children:z.invoiceNumber}),e.jsx(Be,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:z.customer?.username}),e.jsx("div",{className:"text-sm text-muted-foreground",children:z.customer?.email})]})}),e.jsx(Be,{className:"font-medium",children:W(z.totalCents,z.currency)}),e.jsx(Be,{children:e.jsx(ce,{className:`${o8[z.status]} text-white`,"data-testid":`badge-status-${z.id}`,children:z.status})}),e.jsx(Be,{children:e.jsx("div",{className:new Date(z.dueDate)<new Date&&z.status!=="paid"?"text-red-600":"",children:se(z.dueDate)})}),e.jsx(Be,{children:se(z.createdAt)}),e.jsx(Be,{children:e.jsxs(ns,{children:[e.jsx(ss,{asChild:!0,children:e.jsx(V,{variant:"ghost",size:"sm","data-testid":`button-actions-${z.id}`,children:e.jsx(Ja,{className:"h-4 w-4"})})}),e.jsxs(es,{children:[e.jsxs(rt,{onClick:()=>o(z),children:[e.jsx(pr,{className:"h-4 w-4 mr-2"}),"View Details"]}),z.status==="draft"&&e.jsxs(rt,{onClick:()=>de(z.id),children:[e.jsx(ei,{className:"h-4 w-4 mr-2"}),"Send Invoice"]}),e.jsxs(rt,{children:[e.jsx($n,{className:"h-4 w-4 mr-2"}),"Download PDF"]})]})]})})]},z.id))})]})})]})]}),e.jsx(Qt,{value:"analytics",className:"space-y-4",children:F&&e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(Y,{"data-testid":"chart-revenue",children:[e.jsx(ue,{children:e.jsx(fe,{children:"Revenue Trend"})}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(bf,{data:F.revenueChart,children:[e.jsx(Ps,{strokeDasharray:"3 3"}),e.jsx(Yn,{dataKey:"date"}),e.jsx(Qn,{}),e.jsx(Br,{formatter:z=>W(Number(z))}),e.jsx(Xa,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",fill:"#8884d8"})]})})})]}),e.jsxs(Y,{"data-testid":"chart-payment-cycles",children:[e.jsx(ue,{children:e.jsx(fe,{children:"Payment Cycle Distribution"})}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(wc,{children:[e.jsx(xa,{data:F.paymentCycleDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({cycle:z,count:oe})=>`${z} (${oe})`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:F.paymentCycleDistribution?.map((z,oe)=>e.jsx(ho,{fill:A1e[z.cycle]},`cell-${oe}`))}),e.jsx(Br,{})]})})})]}),e.jsxs(Y,{"data-testid":"chart-invoice-status",children:[e.jsx(ue,{children:e.jsx(fe,{children:"Invoice Status Distribution"})}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(Tc,{data:F.statusDistribution,children:[e.jsx(Ps,{strokeDasharray:"3 3"}),e.jsx(Yn,{dataKey:"status"}),e.jsx(Qn,{}),e.jsx(Br,{}),e.jsx(Ia,{dataKey:"count",fill:"#8884d8"})]})})})]}),e.jsxs(Y,{"data-testid":"chart-churn-analysis",children:[e.jsx(ue,{children:e.jsx(fe,{children:"Customer Retention & Churn"})}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(Vg,{data:F.churnAnalysis,children:[e.jsx(Ps,{strokeDasharray:"3 3"}),e.jsx(Yn,{dataKey:"month"}),e.jsx(Qn,{}),e.jsx(Br,{formatter:z=>`${Number(z).toFixed(1)}%`}),e.jsx(fo,{type:"monotone",dataKey:"churnRate",stroke:"#ff7300",name:"Churn Rate"}),e.jsx(fo,{type:"monotone",dataKey:"retention",stroke:"#82ca9d",name:"Retention Rate"})]})})})]})]})})]}),e.jsx(Ur,{open:l,onOpenChange:u,children:e.jsxs(Lr,{className:"max-w-2xl","data-testid":"dialog-create-profile",children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Create Billing Profile"}),e.jsx(Wr,{children:"Set up a new billing profile for a customer"})]}),e.jsx(Ra,{..._,children:e.jsxs("form",{onSubmit:_.handleSubmit(Z),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Pt,{control:_.control,name:"userId",render:({field:z})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Customer"}),e.jsxs(yt,{onValueChange:z.onChange,value:z.value,children:[e.jsx(At,{children:e.jsx(xt,{"data-testid":"select-customer",children:e.jsx(bt,{placeholder:"Select customer..."})})}),e.jsx(gt,{children:H?.data?.map(oe=>e.jsxs(Q,{value:oe.id,children:[oe.username," (",oe.email,")"]},oe.id))})]}),e.jsx(It,{})]})}),e.jsx(Pt,{control:_.control,name:"companyName",render:({field:z})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Company Name"}),e.jsx(At,{children:e.jsx(Ue,{placeholder:"Optional",...z,"data-testid":"input-company-name"})}),e.jsx(It,{})]})}),e.jsx(Pt,{control:_.control,name:"billingCycle",render:({field:z})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Billing Cycle"}),e.jsxs(yt,{onValueChange:z.onChange,value:z.value,children:[e.jsx(At,{children:e.jsx(xt,{"data-testid":"select-billing-cycle",children:e.jsx(bt,{})})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"weekly",children:"Weekly"}),e.jsx(Q,{value:"monthly",children:"Monthly"}),e.jsx(Q,{value:"quarterly",children:"Quarterly"}),e.jsx(Q,{value:"annually",children:"Annually"})]})]}),e.jsx(It,{})]})}),e.jsx(Pt,{control:_.control,name:"paymentTerms",render:({field:z})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Payment Terms (Days)"}),e.jsx(At,{children:e.jsx(Ue,{type:"number",...z,onChange:oe=>z.onChange(parseInt(oe.target.value)),"data-testid":"input-payment-terms"})}),e.jsx(It,{})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Billing Address"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Pt,{control:_.control,name:"billingAddress.street",render:({field:z})=>e.jsxs(Ct,{className:"col-span-2",children:[e.jsx(kt,{children:"Street Address"}),e.jsx(At,{children:e.jsx(Ue,{...z,"data-testid":"input-street"})}),e.jsx(It,{})]})}),e.jsx(Pt,{control:_.control,name:"billingAddress.city",render:({field:z})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"City"}),e.jsx(At,{children:e.jsx(Ue,{...z,"data-testid":"input-city"})}),e.jsx(It,{})]})}),e.jsx(Pt,{control:_.control,name:"billingAddress.state",render:({field:z})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"State"}),e.jsx(At,{children:e.jsx(Ue,{...z,"data-testid":"input-state"})}),e.jsx(It,{})]})}),e.jsx(Pt,{control:_.control,name:"billingAddress.zipCode",render:({field:z})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"ZIP Code"}),e.jsx(At,{children:e.jsx(Ue,{...z,"data-testid":"input-zip"})}),e.jsx(It,{})]})}),e.jsx(Pt,{control:_.control,name:"billingAddress.country",render:({field:z})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Country"}),e.jsx(At,{children:e.jsx(Ue,{...z,"data-testid":"input-country"})}),e.jsx(It,{})]})})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>u(!1),"data-testid":"button-cancel-profile",children:"Cancel"}),e.jsx(V,{type:"submit",disabled:re.isPending,"data-testid":"button-create-profile-submit",children:re.isPending?"Creating...":"Create Profile"})]})]})})]})}),e.jsx(Ur,{open:m,onOpenChange:f,children:e.jsxs(Lr,{className:"max-w-4xl","data-testid":"dialog-create-invoice",children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Create Invoice"}),e.jsx(Wr,{children:"Generate a new invoice for a customer"})]}),e.jsx(Ra,{...w,children:e.jsxs("form",{onSubmit:w.handleSubmit(ne),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(Pt,{control:w.control,name:"billingProfileId",render:({field:z})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Billing Profile"}),e.jsxs(yt,{onValueChange:z.onChange,value:z.value,children:[e.jsx(At,{children:e.jsx(xt,{"data-testid":"select-billing-profile",children:e.jsx(bt,{placeholder:"Select profile..."})})}),e.jsx(gt,{children:k?.data?.map(oe=>e.jsx(Q,{value:oe.id,children:oe.user?.username||oe.companyName||oe.id},oe.id))})]}),e.jsx(It,{})]})}),e.jsx(Pt,{control:w.control,name:"customerId",render:({field:z})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Customer"}),e.jsxs(yt,{onValueChange:z.onChange,value:z.value,children:[e.jsx(At,{children:e.jsx(xt,{"data-testid":"select-invoice-customer",children:e.jsx(bt,{placeholder:"Select customer..."})})}),e.jsx(gt,{children:H?.data?.map(oe=>e.jsxs(Q,{value:oe.id,children:[oe.username," (",oe.email,")"]},oe.id))})]}),e.jsx(It,{})]})}),e.jsx(Pt,{control:w.control,name:"dueDate",render:({field:z})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Due Date"}),e.jsx(At,{children:e.jsx(Ue,{type:"date",...z,"data-testid":"input-due-date"})}),e.jsx(It,{})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h4",{className:"font-medium",children:"Line Items"}),e.jsxs(V,{type:"button",onClick:K,size:"sm","data-testid":"button-add-line-item",children:[e.jsx(hs,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),w.watch("lineItems").map((z,oe)=>e.jsxs("div",{className:"grid grid-cols-5 gap-4 items-end",children:[e.jsx(Pt,{control:w.control,name:`lineItems.${oe}.description`,render:({field:Ce})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Description"}),e.jsx(At,{children:e.jsx(Ue,{...Ce,"data-testid":`input-description-${oe}`})}),e.jsx(It,{})]})}),e.jsx(Pt,{control:w.control,name:`lineItems.${oe}.quantity`,render:({field:Ce})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Quantity"}),e.jsx(At,{children:e.jsx(Ue,{type:"number",...Ce,onChange:ke=>{Ce.onChange(parseInt(ke.target.value)),U(oe)},"data-testid":`input-quantity-${oe}`})}),e.jsx(It,{})]})}),e.jsx(Pt,{control:w.control,name:`lineItems.${oe}.unitPrice`,render:({field:Ce})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Unit Price"}),e.jsx(At,{children:e.jsx(Ue,{type:"number",step:"0.01",...Ce,onChange:ke=>{Ce.onChange(parseFloat(ke.target.value)),U(oe)},"data-testid":`input-unit-price-${oe}`})}),e.jsx(It,{})]})}),e.jsx(Pt,{control:w.control,name:`lineItems.${oe}.totalPrice`,render:({field:Ce})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Total"}),e.jsx(At,{children:e.jsx(Ue,{type:"number",step:"0.01",...Ce,readOnly:!0,"data-testid":`input-total-${oe}`})}),e.jsx(It,{})]})}),e.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:()=>ae(oe),disabled:w.watch("lineItems").length===1,"data-testid":`button-remove-item-${oe}`,children:"Remove"})]},oe))]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>f(!1),"data-testid":"button-cancel-invoice",children:"Cancel"}),e.jsx(V,{type:"submit",disabled:G.isPending,"data-testid":"button-create-invoice-submit",children:G.isPending?"Creating...":"Create Invoice"})]})]})})]})}),e.jsx(Ur,{open:!!i,onOpenChange:()=>o(null),children:e.jsxs(Lr,{className:"max-w-2xl","data-testid":"dialog-invoice-details",children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Invoice Details"}),e.jsxs(Wr,{children:["Invoice #",i?.invoiceNumber]})]}),i&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(et,{children:"Customer"}),e.jsx("div",{className:"font-medium",children:i.customer?.username}),e.jsx("div",{className:"text-sm text-muted-foreground",children:i.customer?.email})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Status"}),e.jsx(ce,{className:`${o8[i.status]} text-white`,children:i.status})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Total Amount"}),e.jsx("div",{className:"text-lg font-medium",children:W(i.totalCents,i.currency)})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Due Date"}),e.jsx("div",{className:new Date(i.dueDate)<new Date&&i.status!=="paid"?"text-red-600":"",children:se(i.dueDate)})]})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Line Items"}),e.jsx("div",{className:"mt-2 space-y-2",children:i.lineItems?.map((z,oe)=>e.jsxs("div",{className:"flex justify-between p-2 bg-muted rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:z.description}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[z.quantity,"  ",W(z.unitPrice*100)]})]}),e.jsx("div",{className:"font-medium",children:W(z.totalPrice*100)})]},oe))})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Subtotal:"}),e.jsx("span",{children:W(i.subtotalCents)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tax:"}),e.jsx("span",{children:W(i.taxCents)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Discount:"}),e.jsxs("span",{children:["-",W(i.discountCents)]})]}),e.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2",children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{children:W(i.totalCents)})]})]})]})]})})]})}const T1e=Xr({jurisdiction:mt().min(1,"Jurisdiction is required"),country:mt().min(1,"Country is required"),state:mt().optional(),taxType:po(["vat","sales_tax","income_tax","withholding_tax","service_tax"]),taxName:mt().min(1,"Tax name is required"),rate:tn().min(0).max(100,"Rate must be between 0 and 100"),isActive:xi().default(!0),effectiveDate:mt().min(1,"Effective date is required"),expiryDate:mt().optional(),minAmount:tn().min(0).optional(),maxAmount:tn().min(0).optional(),applicableCategories:Oc(mt()).default([]),exemptions:Oc(mt()).default([])}),E1e=Xr({amount:tn().min(.01,"Amount must be greater than 0"),jurisdiction:mt().min(1,"Jurisdiction is required"),taxType:mt().optional(),category:mt().optional()}),mC={vat:"bg-blue-500",sales_tax:"bg-green-500",income_tax:"bg-purple-500",withholding_tax:"bg-orange-500",service_tax:"bg-pink-500"},O1e={compliant:"bg-green-500",pending:"bg-yellow-500",overdue:"bg-red-500",submitted:"bg-blue-500"},Xp=[{code:"US",name:"United States",states:["CA","NY","TX","FL","WA","IL"]},{code:"GB",name:"United Kingdom"},{code:"DE",name:"Germany"},{code:"FR",name:"France"},{code:"CA",name:"Canada",states:["ON","BC","AB","QC"]},{code:"AU",name:"Australia",states:["NSW","VIC","QLD","WA"]},{code:"IN",name:"India",states:["MH","DL","KA","TN"]},{code:"SG",name:"Singapore"},{code:"NL",name:"Netherlands"},{code:"SE",name:"Sweden"}];function I1e(){const{toast:t}=or();ws();const[r,n]=j.useState("rates"),[s,a]=j.useState(null),[i,o]=j.useState(!1),[l,u]=j.useState(!1),[m,f]=j.useState({page:1,limit:50,jurisdiction:"",taxType:"",isActive:""}),[p,g]=j.useState(null),b=Da({resolver:La(T1e),defaultValues:{taxType:"vat",rate:0,isActive:!0,applicableCategories:[],exemptions:[]}}),y=Da({resolver:La(E1e),defaultValues:{amount:0}}),{data:_,isLoading:w,refetch:k}=Ve({queryKey:["/api/admin/financial/tax-rates",m],queryFn:()=>Ze(`/api/admin/financial/tax-rates?${new URLSearchParams(Object.entries(m).reduce((U,[W,se])=>(se!==void 0&&se!==""&&(U[W]=String(se)),U),{})).toString()}`)}),{data:A,isLoading:P}=Ve({queryKey:["/api/admin/financial/tax-rates/analytics"],queryFn:()=>Ze("/api/admin/financial/tax-rates/analytics")}),{data:O,isLoading:I}=Ve({queryKey:["/api/admin/financial/tax-compliance"],queryFn:()=>Ze("/api/admin/financial/tax-compliance")}),D=ot({mutationFn:U=>Ze("/api/admin/financial/tax-rates",{method:"POST",body:JSON.stringify(U)}),onSuccess:()=>{t({title:"Success",description:"Tax rate created successfully"}),k(),o(!1),b.reset()},onError:U=>{t({title:"Error",description:U.message||"Failed to create tax rate",variant:"destructive"})}}),F=ot({mutationFn:({id:U,data:W})=>Ze(`/api/admin/financial/tax-rates/${U}`,{method:"PATCH",body:JSON.stringify(W)}),onSuccess:()=>{t({title:"Success",description:"Tax rate updated successfully"}),k(),a(null)},onError:U=>{t({title:"Error",description:U.message||"Failed to update tax rate",variant:"destructive"})}}),B=ot({mutationFn:U=>Ze("/api/admin/financial/tax-rates/calculate",{method:"POST",body:JSON.stringify(U)}),onSuccess:U=>{g(U)},onError:U=>{t({title:"Error",description:U.message||"Tax calculation failed",variant:"destructive"})}}),H=U=>{D.mutate(U)},re=U=>{B.mutate(U)},G=U=>{F.mutate({id:U.id,data:{isActive:!U.isActive}})},J=(U,W="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:W}).format(U),Z=U=>`${U.toFixed(2)}%`,ne=U=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(U)),K=U=>Xp.find(W=>W.code===U)?.name||U,ae=U=>Xp.find(W=>W.code===U)?.states||[];return w?e.jsxs("div",{className:"flex items-center justify-center h-96",children:[e.jsx(wn,{className:"h-8 w-8 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading tax rates..."})]}):e.jsxs("div",{className:"p-6 space-y-6","data-testid":"tax-rates-management",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold","data-testid":"page-title",children:"Tax Rates Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Configure tax rates by jurisdiction and manage compliance"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(V,{onClick:()=>o(!0),"data-testid":"button-create-rate",children:[e.jsx(hs,{className:"h-4 w-4 mr-2"}),"New Tax Rate"]}),e.jsxs(V,{variant:"outline",onClick:()=>u(!0),"data-testid":"button-calculator",children:[e.jsx(ZZ,{className:"h-4 w-4 mr-2"}),"Tax Calculator"]}),e.jsxs(V,{variant:"outline",onClick:()=>k(),"data-testid":"button-refresh",children:[e.jsx(wn,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),A&&e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(Y,{"data-testid":"card-total-collected",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Total Tax Collected"}),e.jsx(qr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-collected",children:J(A.totalCollected)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This fiscal year"})]})]}),e.jsxs(Y,{"data-testid":"card-total-owed",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Tax Owed"}),e.jsx(QA,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600","data-testid":"text-total-owed",children:J(A.totalOwed)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending remittance"})]})]}),e.jsxs(Y,{"data-testid":"card-compliance-rate",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Compliance Rate"}),e.jsx(Mr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-compliance-rate",children:[A.complianceRate,"%"]}),e.jsx(bs,{value:A.complianceRate,className:"mt-2"})]})]}),e.jsxs(Y,{"data-testid":"card-jurisdictions",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Active Jurisdictions"}),e.jsx(a0,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"text-jurisdictions",children:A.jurisdictionCount}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Countries & states"})]})]})]}),e.jsxs(Xs,{value:r,onValueChange:n,className:"space-y-4",children:[e.jsxs(zs,{children:[e.jsx(Kt,{value:"rates","data-testid":"tab-rates",children:"Tax Rates"}),e.jsx(Kt,{value:"compliance","data-testid":"tab-compliance",children:"Compliance"}),e.jsx(Kt,{value:"analytics","data-testid":"tab-analytics",children:"Analytics"})]}),e.jsxs(Qt,{value:"rates",className:"space-y-4",children:[e.jsx(Y,{"data-testid":"tax-filters",children:e.jsx(ee,{className:"pt-6",children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs("div",{children:[e.jsx(et,{htmlFor:"jurisdiction",children:"Jurisdiction"}),e.jsxs(yt,{value:m.jurisdiction,onValueChange:U=>f(W=>({...W,jurisdiction:U,page:1})),children:[e.jsx(xt,{"data-testid":"select-jurisdiction",children:e.jsx(bt,{placeholder:"All Jurisdictions"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"",children:"All Jurisdictions"}),Xp.map(U=>e.jsx(Q,{value:U.code,children:U.name},U.code))]})]})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"tax-type",children:"Tax Type"}),e.jsxs(yt,{value:m.taxType,onValueChange:U=>f(W=>({...W,taxType:U,page:1})),children:[e.jsx(xt,{"data-testid":"select-tax-type",children:e.jsx(bt,{placeholder:"All Types"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"",children:"All Types"}),e.jsx(Q,{value:"vat",children:"VAT"}),e.jsx(Q,{value:"sales_tax",children:"Sales Tax"}),e.jsx(Q,{value:"income_tax",children:"Income Tax"}),e.jsx(Q,{value:"withholding_tax",children:"Withholding Tax"}),e.jsx(Q,{value:"service_tax",children:"Service Tax"})]})]})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"status",children:"Status"}),e.jsxs(yt,{value:m.isActive,onValueChange:U=>f(W=>({...W,isActive:U,page:1})),children:[e.jsx(xt,{"data-testid":"select-status",children:e.jsx(bt,{placeholder:"All"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"",children:"All"}),e.jsx(Q,{value:"true",children:"Active"}),e.jsx(Q,{value:"false",children:"Inactive"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs(V,{variant:"outline",className:"w-full",children:[e.jsx(Ic,{className:"h-4 w-4 mr-2"}),"Filter"]})})]})})}),e.jsxs(Y,{"data-testid":"tax-rates-table",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Tax Rates"}),e.jsxs(lt,{children:["Showing ",_?.data?.length||0," of ",_?.total||0," tax rates"]})]}),e.jsx(ee,{children:e.jsxs(Ta,{children:[e.jsx(Ea,{children:e.jsxs(Sr,{children:[e.jsx(We,{children:"Jurisdiction"}),e.jsx(We,{children:"Tax Name"}),e.jsx(We,{children:"Type"}),e.jsx(We,{children:"Rate"}),e.jsx(We,{children:"Effective Date"}),e.jsx(We,{children:"Status"}),e.jsx(We,{children:"Actions"})]})}),e.jsx(Oa,{children:_?.data?.map(U=>e.jsxs(Sr,{"data-testid":`row-tax-rate-${U.id}`,children:[e.jsx(Be,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:K(U.country)}),U.state&&e.jsx("div",{className:"text-sm text-muted-foreground",children:U.state})]})}),e.jsx(Be,{className:"font-medium",children:U.taxName}),e.jsx(Be,{children:e.jsx(ce,{className:`${mC[U.taxType]} text-white`,"data-testid":`badge-type-${U.id}`,children:U.taxType.replace("_"," ").toUpperCase()})}),e.jsx(Be,{className:"font-medium",children:Z(U.rate)}),e.jsx(Be,{children:ne(U.effectiveDate)}),e.jsx(Be,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(kn,{checked:U.isActive,onCheckedChange:()=>G(U),"data-testid":`switch-active-${U.id}`}),e.jsx("span",{className:U.isActive?"text-green-600":"text-gray-500",children:U.isActive?"Active":"Inactive"})]})}),e.jsx(Be,{children:e.jsxs(ns,{children:[e.jsx(ss,{asChild:!0,children:e.jsx(V,{variant:"ghost",size:"sm","data-testid":`button-actions-${U.id}`,children:e.jsx(Ja,{className:"h-4 w-4"})})}),e.jsxs(es,{children:[e.jsxs(rt,{onClick:()=>a(U),children:[e.jsx(pr,{className:"h-4 w-4 mr-2"}),"View Details"]}),e.jsxs(rt,{onClick:()=>a(U),children:[e.jsx(Ko,{className:"h-4 w-4 mr-2"}),"Edit Rate"]})]})]})})]},U.id))})]})})]})]}),e.jsx(Qt,{value:"compliance",className:"space-y-4",children:e.jsxs(Y,{"data-testid":"compliance-overview",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Tax Compliance Overview"}),e.jsx(lt,{children:"Filing status and requirements by jurisdiction"})]}),e.jsx(ee,{children:O?.data?.length>0?e.jsx("div",{className:"space-y-4",children:O.data.map((U,W)=>e.jsx("div",{className:"border rounded-lg p-4","data-testid":`compliance-${W}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:"font-medium",children:U.jurisdiction}),e.jsx(ce,{className:`${O1e[U.status]} text-white`,children:U.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Next Filing: "}),e.jsx("span",{className:"font-medium",children:ne(U.nextFilingDate)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Period: "}),e.jsx("span",{children:U.filingPeriod})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Tax Collected: "}),e.jsx("span",{className:"font-medium",children:J(U.totalTaxCollected)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Tax Owed: "}),e.jsx("span",{className:"font-medium text-orange-600",children:J(U.taxOwed)})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Required Forms: "}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:U.requiredForms.map((se,de)=>e.jsx(ce,{variant:"outline",className:"text-xs",children:se},de))})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Generate Report"]}),e.jsxs(V,{size:"sm",children:[e.jsx($n,{className:"h-4 w-4 mr-2"}),"File Return"]})]})]})},W))}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No compliance data available"})})]})}),e.jsx(Qt,{value:"analytics",className:"space-y-4",children:A&&e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(Y,{"data-testid":"chart-collections-jurisdiction",children:[e.jsx(ue,{children:e.jsx(fe,{children:"Tax Collections by Jurisdiction"})}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(Tc,{data:A.collectionsByJurisdiction,children:[e.jsx(Ps,{strokeDasharray:"3 3"}),e.jsx(Yn,{dataKey:"jurisdiction"}),e.jsx(Qn,{}),e.jsx(Br,{formatter:U=>J(Number(U))}),e.jsx(Ia,{dataKey:"amount",fill:"#8884d8"})]})})})]}),e.jsxs(Y,{"data-testid":"chart-tax-types",children:[e.jsx(ue,{children:e.jsx(fe,{children:"Tax Types Distribution"})}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(wc,{children:[e.jsx(xa,{data:A.taxTypesDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({type:U,amount:W})=>`${U} (${J(W)})`,outerRadius:80,fill:"#8884d8",dataKey:"amount",children:A.taxTypesDistribution?.map((U,W)=>e.jsx(ho,{fill:mC[U.type]||"#8884d8"},`cell-${W}`))}),e.jsx(Br,{formatter:U=>J(Number(U))})]})})})]}),e.jsxs(Y,{"data-testid":"chart-monthly-trends",className:"col-span-2",children:[e.jsx(ue,{children:e.jsx(fe,{children:"Monthly Tax Trends"})}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(Vg,{data:A.monthlyTrends,children:[e.jsx(Ps,{strokeDasharray:"3 3"}),e.jsx(Yn,{dataKey:"month"}),e.jsx(Qn,{}),e.jsx(Br,{formatter:U=>J(Number(U))}),e.jsx(fo,{type:"monotone",dataKey:"collected",stroke:"#82ca9d",name:"Collected"}),e.jsx(fo,{type:"monotone",dataKey:"owed",stroke:"#ff7300",name:"Owed"})]})})})]})]})})]}),e.jsx(Ur,{open:i,onOpenChange:o,children:e.jsxs(Lr,{className:"max-w-2xl","data-testid":"dialog-create-rate",children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Create Tax Rate"}),e.jsx(Wr,{children:"Configure a new tax rate for a specific jurisdiction"})]}),e.jsx(Ra,{...b,children:e.jsxs("form",{onSubmit:b.handleSubmit(H),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Pt,{control:b.control,name:"country",render:({field:U})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Country"}),e.jsxs(yt,{onValueChange:U.onChange,value:U.value,children:[e.jsx(At,{children:e.jsx(xt,{"data-testid":"select-country",children:e.jsx(bt,{placeholder:"Select country..."})})}),e.jsx(gt,{children:Xp.map(W=>e.jsx(Q,{value:W.code,children:W.name},W.code))})]}),e.jsx(It,{})]})}),e.jsx(Pt,{control:b.control,name:"state",render:({field:U})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"State/Province (Optional)"}),e.jsxs(yt,{onValueChange:U.onChange,value:U.value||"",children:[e.jsx(At,{children:e.jsx(xt,{"data-testid":"select-state",children:e.jsx(bt,{placeholder:"Select state..."})})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"",children:"None"}),ae(b.watch("country")).map(W=>e.jsx(Q,{value:W,children:W},W))]})]}),e.jsx(It,{})]})}),e.jsx(Pt,{control:b.control,name:"taxType",render:({field:U})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Tax Type"}),e.jsxs(yt,{onValueChange:U.onChange,value:U.value,children:[e.jsx(At,{children:e.jsx(xt,{"data-testid":"select-tax-type-create",children:e.jsx(bt,{})})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"vat",children:"VAT"}),e.jsx(Q,{value:"sales_tax",children:"Sales Tax"}),e.jsx(Q,{value:"income_tax",children:"Income Tax"}),e.jsx(Q,{value:"withholding_tax",children:"Withholding Tax"}),e.jsx(Q,{value:"service_tax",children:"Service Tax"})]})]}),e.jsx(It,{})]})}),e.jsx(Pt,{control:b.control,name:"taxName",render:({field:U})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Tax Name"}),e.jsx(At,{children:e.jsx(Ue,{placeholder:"e.g., Standard VAT",...U,"data-testid":"input-tax-name"})}),e.jsx(It,{})]})}),e.jsx(Pt,{control:b.control,name:"rate",render:({field:U})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Tax Rate (%)"}),e.jsx(At,{children:e.jsx(Ue,{type:"number",step:"0.01",...U,onChange:W=>U.onChange(parseFloat(W.target.value)),"data-testid":"input-tax-rate"})}),e.jsx(It,{})]})}),e.jsx(Pt,{control:b.control,name:"effectiveDate",render:({field:U})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Effective Date"}),e.jsx(At,{children:e.jsx(Ue,{type:"date",...U,"data-testid":"input-effective-date"})}),e.jsx(It,{})]})}),e.jsx(Pt,{control:b.control,name:"expiryDate",render:({field:U})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Expiry Date (Optional)"}),e.jsx(At,{children:e.jsx(Ue,{type:"date",...U,"data-testid":"input-expiry-date"})}),e.jsx(It,{})]})}),e.jsx(Pt,{control:b.control,name:"isActive",render:({field:U})=>e.jsxs(Ct,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(kt,{className:"text-base",children:"Active Status"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Enable this tax rate for calculations"})]}),e.jsx(At,{children:e.jsx(kn,{checked:U.value,onCheckedChange:U.onChange,"data-testid":"switch-active"})})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>o(!1),"data-testid":"button-cancel-rate",children:"Cancel"}),e.jsx(V,{type:"submit",disabled:D.isPending,"data-testid":"button-create-rate-submit",children:D.isPending?"Creating...":"Create Tax Rate"})]})]})})]})}),e.jsx(Ur,{open:l,onOpenChange:u,children:e.jsxs(Lr,{className:"max-w-lg","data-testid":"dialog-calculator",children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Tax Calculator"}),e.jsx(Wr,{children:"Calculate taxes for a specific amount and jurisdiction"})]}),e.jsx(Ra,{...y,children:e.jsxs("form",{onSubmit:y.handleSubmit(re),className:"space-y-4",children:[e.jsx(Pt,{control:y.control,name:"amount",render:({field:U})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Amount"}),e.jsx(At,{children:e.jsx(Ue,{type:"number",step:"0.01",placeholder:"0.00",...U,onChange:W=>U.onChange(parseFloat(W.target.value)),"data-testid":"input-calc-amount"})}),e.jsx(It,{})]})}),e.jsx(Pt,{control:y.control,name:"jurisdiction",render:({field:U})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Jurisdiction"}),e.jsxs(yt,{onValueChange:U.onChange,value:U.value,children:[e.jsx(At,{children:e.jsx(xt,{"data-testid":"select-calc-jurisdiction",children:e.jsx(bt,{placeholder:"Select jurisdiction..."})})}),e.jsx(gt,{children:Xp.map(W=>e.jsx(Q,{value:W.code,children:W.name},W.code))})]}),e.jsx(It,{})]})}),e.jsx(V,{type:"submit",className:"w-full",disabled:B.isPending,"data-testid":"button-calculate",children:B.isPending?"Calculating...":"Calculate Tax"})]})}),p&&e.jsxs("div",{className:"mt-4 space-y-4 border-t pt-4","data-testid":"calculation-result",children:[e.jsx("h4",{className:"font-medium",children:"Tax Calculation Result"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Subtotal:"}),e.jsx("span",{children:J(p.subtotal)})]}),p.breakdown.map((U,W)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:[U.taxName," (",Z(U.rate),"):"]}),e.jsx("span",{children:J(U.amount)})]},W)),e.jsxs("div",{className:"flex justify-between font-bold border-t pt-2",children:[e.jsx("span",{children:"Total Tax:"}),e.jsx("span",{children:J(p.totalTax)})]}),e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Grand Total:"}),e.jsx("span",{children:J(p.netAmount)})]})]})]})]})}),e.jsx(Ur,{open:!!s,onOpenChange:()=>a(null),children:e.jsxs(Lr,{className:"max-w-2xl","data-testid":"dialog-tax-rate-details",children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Tax Rate Details"}),e.jsxs(Wr,{children:[s?.taxName," - ",K(s?.country||"")]})]}),s&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(et,{children:"Jurisdiction"}),e.jsxs("div",{className:"font-medium",children:[K(s.country),s.state&&` - ${s.state}`]})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Tax Type"}),e.jsx(ce,{className:`${mC[s.taxType]} text-white`,children:s.taxType.replace("_"," ").toUpperCase()})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Tax Rate"}),e.jsx("div",{className:"text-lg font-medium",children:Z(s.rate)})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Status"}),e.jsx("div",{className:s.isActive?"text-green-600":"text-gray-500",children:s.isActive?"Active":"Inactive"})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Effective Date"}),e.jsx("div",{children:ne(s.effectiveDate)})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Expiry Date"}),e.jsx("div",{children:s.expiryDate?ne(s.expiryDate):"No expiry"})]})]}),s.applicableCategories.length>0&&e.jsxs("div",{children:[e.jsx(et,{children:"Applicable Categories"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.applicableCategories.map((U,W)=>e.jsx(ce,{variant:"outline",children:U},W))})]}),s.exemptions.length>0&&e.jsxs("div",{children:[e.jsx(et,{children:"Tax Exemptions"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.exemptions.map((U,W)=>e.jsx(ce,{variant:"secondary",children:U},W))})]})]})]})})]})}const M1e=Xr({name:mt().min(1,"Gateway name is required"),provider:po(["stripe","paypal","square","crypto","bank_transfer"]),supportedCurrencies:Oc(mt()).min(1,"At least one currency must be supported"),supportedMethods:Oc(mt()).min(1,"At least one payment method must be supported"),credentials:vT(mt()),webhookUrl:mt().url().optional(),webhookSecret:mt().optional(),feeStructure:Xr({flatFee:tn().min(0),percentageFee:tn().min(0).max(100),currency:mt().default("USD")}),limits:Xr({minAmount:tn().min(0),maxAmount:tn().min(0),dailyLimit:tn().min(0)}),testMode:xi().default(!0),isActive:xi().default(!1)}),D1e=Xr({name:mt().min(1,"Schedule name is required"),frequency:po(["daily","weekly","monthly","manual"]),minThreshold:tn().min(0,"Minimum threshold must be non-negative"),currency:mt().default("USD"),description:mt().optional(),isActive:xi().default(!0)}),R1e={active:"bg-green-500",inactive:"bg-gray-500",testing:"bg-yellow-500",error:"bg-red-500"},L1e={success:"bg-green-500",failed:"bg-red-500",pending:"bg-yellow-500",retrying:"bg-orange-500"},l8=["USD","EUR","GBP","CAD","AUD","JPY","BTC","ETH"];function F1e(){const{toast:t}=or();ws();const[r,n]=j.useState("gateways"),[s,a]=j.useState(null),[i,o]=j.useState(!1),[l,u]=j.useState(!1),[m,f]=j.useState({}),[p,g]=j.useState(null),b=Da({resolver:La(M1e),defaultValues:{provider:"stripe",supportedCurrencies:["USD"],supportedMethods:["card"],credentials:{},feeStructure:{flatFee:0,percentageFee:2.9,currency:"USD"},limits:{minAmount:50,maxAmount:1e5,dailyLimit:1e6},testMode:!0,isActive:!1}}),y=Da({resolver:La(D1e),defaultValues:{frequency:"weekly",minThreshold:100,currency:"USD",isActive:!0}}),{data:_,isLoading:w,refetch:k}=Ve({queryKey:["/api/admin/financial/payment-gateways"],queryFn:()=>Ze("/api/admin/financial/payment-gateways")}),{data:A,isLoading:P,refetch:O}=Ve({queryKey:["/api/admin/financial/payout-schedules"],queryFn:()=>Ze("/api/admin/financial/payout-schedules")}),{data:I}=Ve({queryKey:["/api/admin/financial/webhook-events"],queryFn:()=>Ze("/api/admin/financial/webhook-events?limit=20")}),{data:D}=Ve({queryKey:["/api/admin/financial/payment-analytics"],queryFn:()=>Ze("/api/admin/financial/payment-analytics")}),F=ot({mutationFn:K=>Ze("/api/admin/financial/payment-gateways",{method:"POST",body:JSON.stringify(K)}),onSuccess:()=>{t({title:"Success",description:"Payment gateway created successfully"}),k(),o(!1),b.reset()},onError:K=>{t({title:"Error",description:K.message||"Failed to create gateway",variant:"destructive"})}});ot({mutationFn:({id:K,data:ae})=>Ze(`/api/admin/financial/payment-gateways/${K}`,{method:"PATCH",body:JSON.stringify(ae)}),onSuccess:()=>{t({title:"Success",description:"Gateway updated successfully"}),k()},onError:K=>{t({title:"Error",description:K.message||"Failed to update gateway",variant:"destructive"})}});const B=ot({mutationFn:K=>Ze(`/api/admin/financial/payment-gateways/${K}/test`,{method:"POST"}),onSuccess:(K,ae)=>{g(null),K.success?t({title:"Success",description:"Gateway test completed successfully"}):t({title:"Test Failed",description:K.error||"Gateway test failed",variant:"destructive"})},onError:(K,ae)=>{g(null),t({title:"Error",description:K.message||"Test failed",variant:"destructive"})}}),H=ot({mutationFn:K=>Ze("/api/admin/financial/payout-schedules",{method:"POST",body:JSON.stringify(K)}),onSuccess:()=>{t({title:"Success",description:"Payout schedule created successfully"}),O(),u(!1),y.reset()},onError:K=>{t({title:"Error",description:K.message||"Failed to create schedule",variant:"destructive"})}}),re=K=>{F.mutate(K)},G=K=>{H.mutate(K)},J=K=>{g(K),B.mutate(K)},Z=(K,ae="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:ae}).format(K),ne=K=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(K));return w?e.jsxs("div",{className:"flex items-center justify-center h-96",children:[e.jsx(wn,{className:"h-8 w-8 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading payment settings..."})]}):e.jsxs("div",{className:"p-6 space-y-6","data-testid":"payment-settings",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold","data-testid":"page-title",children:"Payment Settings"}),e.jsx("p",{className:"text-muted-foreground",children:"Configure payment gateways, schedules, and security settings"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(V,{onClick:()=>o(!0),"data-testid":"button-create-gateway",children:[e.jsx(hs,{className:"h-4 w-4 mr-2"}),"New Gateway"]}),e.jsxs(V,{variant:"outline",onClick:()=>u(!0),"data-testid":"button-create-schedule",children:[e.jsx(wr,{className:"h-4 w-4 mr-2"}),"New Schedule"]}),e.jsxs(V,{variant:"outline",onClick:()=>k(),"data-testid":"button-refresh",children:[e.jsx(wn,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),D&&e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(Y,{"data-testid":"card-total-processed",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Total Processed"}),e.jsx(qr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-processed",children:Z(D.totalProcessed)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]})]}),e.jsxs(Y,{"data-testid":"card-total-fees",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Processing Fees"}),e.jsx(vs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600","data-testid":"text-total-fees",children:Z(D.totalFees)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Gateway fees paid"})]})]}),e.jsxs(Y,{"data-testid":"card-success-rate",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Success Rate"}),e.jsx(Cr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-success-rate",children:[D.successRate,"%"]}),e.jsx(bs,{value:D.successRate,className:"mt-2"})]})]}),e.jsxs(Y,{"data-testid":"card-avg-processing-time",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Avg Processing Time"}),e.jsx($o,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-avg-processing-time",children:[D.averageProcessingTime,"s"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Average response time"})]})]})]}),e.jsxs(Xs,{value:r,onValueChange:n,className:"space-y-4",children:[e.jsxs(zs,{children:[e.jsx(Kt,{value:"gateways","data-testid":"tab-gateways",children:"Payment Gateways"}),e.jsx(Kt,{value:"schedules","data-testid":"tab-schedules",children:"Payout Schedules"}),e.jsx(Kt,{value:"webhooks","data-testid":"tab-webhooks",children:"Webhooks"}),e.jsx(Kt,{value:"security","data-testid":"tab-security",children:"Security"})]}),e.jsx(Qt,{value:"gateways",className:"space-y-4",children:e.jsxs(Y,{"data-testid":"gateways-table",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Payment Gateways"}),e.jsx(lt,{children:"Configure and manage payment processing gateways"})]}),e.jsx(ee,{children:e.jsxs(Ta,{children:[e.jsx(Ea,{children:e.jsxs(Sr,{children:[e.jsx(We,{children:"Gateway"}),e.jsx(We,{children:"Provider"}),e.jsx(We,{children:"Status"}),e.jsx(We,{children:"Supported Methods"}),e.jsx(We,{children:"Fee Structure"}),e.jsx(We,{children:"Mode"}),e.jsx(We,{children:"Actions"})]})}),e.jsx(Oa,{children:_?.data?.map(K=>e.jsxs(Sr,{"data-testid":`row-gateway-${K.id}`,children:[e.jsx(Be,{className:"font-medium",children:K.name}),e.jsx(Be,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vs,{className:"h-4 w-4"}),e.jsx("span",{className:"capitalize",children:K.provider})]})}),e.jsx(Be,{children:e.jsx(ce,{className:`${R1e[K.status]} text-white`,"data-testid":`badge-status-${K.id}`,children:K.status})}),e.jsx(Be,{children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[K.supportedMethods.slice(0,2).map(ae=>e.jsx(ce,{variant:"outline",className:"text-xs",children:ae},ae)),K.supportedMethods.length>2&&e.jsxs(ce,{variant:"outline",className:"text-xs",children:["+",K.supportedMethods.length-2]})]})}),e.jsx(Be,{children:e.jsxs("div",{className:"text-sm",children:[K.feeStructure.percentageFee,"%",K.feeStructure.flatFee>0&&` + ${Z(K.feeStructure.flatFee)}`]})}),e.jsx(Be,{children:e.jsx(ce,{variant:K.testMode?"secondary":"default",children:K.testMode?"Test":"Live"})}),e.jsx(Be,{children:e.jsxs(ns,{children:[e.jsx(ss,{asChild:!0,children:e.jsx(V,{variant:"ghost",size:"sm","data-testid":`button-actions-${K.id}`,children:e.jsx(Ja,{className:"h-4 w-4"})})}),e.jsxs(es,{children:[e.jsxs(rt,{onClick:()=>a(K),children:[e.jsx(pr,{className:"h-4 w-4 mr-2"}),"View Details"]}),e.jsxs(rt,{onClick:()=>a(K),children:[e.jsx(Ko,{className:"h-4 w-4 mr-2"}),"Edit Gateway"]}),e.jsxs(rt,{onClick:()=>J(K.id),disabled:p===K.id,children:[e.jsx(DY,{className:"h-4 w-4 mr-2"}),p===K.id?"Testing...":"Test Connection"]})]})]})})]},K.id))})]})})]})}),e.jsx(Qt,{value:"schedules",className:"space-y-4",children:e.jsxs(Y,{"data-testid":"schedules-table",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Payout Schedules"}),e.jsx(lt,{children:"Configure automated payout schedules and thresholds"})]}),e.jsx(ee,{children:e.jsxs(Ta,{children:[e.jsx(Ea,{children:e.jsxs(Sr,{children:[e.jsx(We,{children:"Schedule Name"}),e.jsx(We,{children:"Frequency"}),e.jsx(We,{children:"Min Threshold"}),e.jsx(We,{children:"Next Payout"}),e.jsx(We,{children:"Status"}),e.jsx(We,{children:"Actions"})]})}),e.jsx(Oa,{children:A?.data?.map(K=>e.jsxs(Sr,{"data-testid":`row-schedule-${K.id}`,children:[e.jsx(Be,{className:"font-medium",children:K.name}),e.jsx(Be,{className:"capitalize",children:K.frequency}),e.jsx(Be,{children:Z(K.minThreshold,K.currency)}),e.jsx(Be,{children:ne(K.nextPayoutDate)}),e.jsx(Be,{children:e.jsx(ce,{variant:K.isActive?"default":"secondary",children:K.isActive?"Active":"Inactive"})}),e.jsx(Be,{children:e.jsx(V,{variant:"ghost",size:"sm",children:e.jsx(Ko,{className:"h-4 w-4"})})})]},K.id))})]})})]})}),e.jsx(Qt,{value:"webhooks",className:"space-y-4",children:e.jsxs(Y,{"data-testid":"webhooks-table",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Recent Webhook Events"}),e.jsx(lt,{children:"Monitor webhook deliveries and responses"})]}),e.jsx(ee,{children:e.jsxs(Ta,{children:[e.jsx(Ea,{children:e.jsxs(Sr,{children:[e.jsx(We,{children:"Event Type"}),e.jsx(We,{children:"Gateway"}),e.jsx(We,{children:"Status"}),e.jsx(We,{children:"Attempts"}),e.jsx(We,{children:"Last Attempt"}),e.jsx(We,{children:"Actions"})]})}),e.jsx(Oa,{children:I?.data?.map(K=>e.jsxs(Sr,{"data-testid":`row-webhook-${K.id}`,children:[e.jsx(Be,{className:"font-mono text-sm",children:K.eventType}),e.jsx(Be,{children:K.gatewayId}),e.jsx(Be,{children:e.jsx(ce,{className:`${L1e[K.status]} text-white`,children:K.status})}),e.jsx(Be,{children:K.attempts}),e.jsx(Be,{children:K.lastAttempt?ne(K.lastAttempt):"Never"}),e.jsx(Be,{children:e.jsx(V,{variant:"ghost",size:"sm",children:e.jsx(pr,{className:"h-4 w-4"})})})]},K.id))})]})})]})}),e.jsx(Qt,{value:"security",className:"space-y-4",children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(Y,{"data-testid":"security-fraud-prevention",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Fraud Prevention"}),e.jsx(lt,{children:"Configure fraud detection and prevention settings"})]}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(et,{className:"text-base",children:"Real-time Fraud Detection"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Enable AI-powered fraud detection"})]}),e.jsx(kn,{defaultChecked:!0,"data-testid":"switch-fraud-detection"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(et,{className:"text-base",children:"Risk Score Threshold"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Minimum score to flag transactions"})]}),e.jsx(Ue,{type:"number",defaultValue:"75",className:"w-20","data-testid":"input-risk-threshold"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(et,{className:"text-base",children:"3D Secure"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Require 3D Secure for high-risk transactions"})]}),e.jsx(kn,{defaultChecked:!0,"data-testid":"switch-3d-secure"})]})]})]}),e.jsxs(Y,{"data-testid":"security-compliance",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Compliance & Security"}),e.jsx(lt,{children:"PCI DSS and security compliance settings"})]}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(et,{className:"text-base",children:"PCI DSS Compliance"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Enable PCI DSS compliant data handling"})]}),e.jsxs(ce,{className:"bg-green-500 text-white",children:[e.jsx(Cr,{className:"h-3 w-3 mr-1"}),"Enabled"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(et,{className:"text-base",children:"Data Encryption"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Encrypt sensitive payment data"})]}),e.jsxs(ce,{className:"bg-green-500 text-white",children:[e.jsx(Mr,{className:"h-3 w-3 mr-1"}),"Active"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(et,{className:"text-base",children:"Audit Logging"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Log all payment-related activities"})]}),e.jsx(kn,{defaultChecked:!0,"data-testid":"switch-audit-logging"})]})]})]})]})})]}),e.jsx(Ur,{open:i,onOpenChange:o,children:e.jsxs(Lr,{className:"max-w-2xl","data-testid":"dialog-create-gateway",children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Create Payment Gateway"}),e.jsx(Wr,{children:"Configure a new payment processing gateway"})]}),e.jsx(Ra,{...b,children:e.jsxs("form",{onSubmit:b.handleSubmit(re),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Pt,{control:b.control,name:"name",render:({field:K})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Gateway Name"}),e.jsx(At,{children:e.jsx(Ue,{placeholder:"e.g., Primary Stripe",...K,"data-testid":"input-gateway-name"})}),e.jsx(It,{})]})}),e.jsx(Pt,{control:b.control,name:"provider",render:({field:K})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Provider"}),e.jsxs(yt,{onValueChange:K.onChange,value:K.value,children:[e.jsx(At,{children:e.jsx(xt,{"data-testid":"select-provider",children:e.jsx(bt,{})})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"stripe",children:"Stripe"}),e.jsx(Q,{value:"paypal",children:"PayPal"}),e.jsx(Q,{value:"square",children:"Square"}),e.jsx(Q,{value:"crypto",children:"Crypto Wallet"}),e.jsx(Q,{value:"bank_transfer",children:"Bank Transfer"})]})]}),e.jsx(It,{})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Fee Structure"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(Pt,{control:b.control,name:"feeStructure.flatFee",render:({field:K})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Flat Fee"}),e.jsx(At,{children:e.jsx(Ue,{type:"number",step:"0.01",...K,onChange:ae=>K.onChange(parseFloat(ae.target.value)),"data-testid":"input-flat-fee"})}),e.jsx(It,{})]})}),e.jsx(Pt,{control:b.control,name:"feeStructure.percentageFee",render:({field:K})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Percentage Fee (%)"}),e.jsx(At,{children:e.jsx(Ue,{type:"number",step:"0.1",...K,onChange:ae=>K.onChange(parseFloat(ae.target.value)),"data-testid":"input-percentage-fee"})}),e.jsx(It,{})]})}),e.jsx(Pt,{control:b.control,name:"feeStructure.currency",render:({field:K})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Currency"}),e.jsxs(yt,{onValueChange:K.onChange,value:K.value,children:[e.jsx(At,{children:e.jsx(xt,{"data-testid":"select-fee-currency",children:e.jsx(bt,{})})}),e.jsx(gt,{children:l8.map(ae=>e.jsx(Q,{value:ae,children:ae},ae))})]}),e.jsx(It,{})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Transaction Limits"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(Pt,{control:b.control,name:"limits.minAmount",render:({field:K})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Minimum Amount"}),e.jsx(At,{children:e.jsx(Ue,{type:"number",...K,onChange:ae=>K.onChange(parseFloat(ae.target.value)),"data-testid":"input-min-amount"})}),e.jsx(It,{})]})}),e.jsx(Pt,{control:b.control,name:"limits.maxAmount",render:({field:K})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Maximum Amount"}),e.jsx(At,{children:e.jsx(Ue,{type:"number",...K,onChange:ae=>K.onChange(parseFloat(ae.target.value)),"data-testid":"input-max-amount"})}),e.jsx(It,{})]})}),e.jsx(Pt,{control:b.control,name:"limits.dailyLimit",render:({field:K})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Daily Limit"}),e.jsx(At,{children:e.jsx(Ue,{type:"number",...K,onChange:ae=>K.onChange(parseFloat(ae.target.value)),"data-testid":"input-daily-limit"})}),e.jsx(It,{})]})})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>o(!1),"data-testid":"button-cancel-gateway",children:"Cancel"}),e.jsx(V,{type:"submit",disabled:F.isPending,"data-testid":"button-create-gateway-submit",children:F.isPending?"Creating...":"Create Gateway"})]})]})})]})}),e.jsx(Ur,{open:l,onOpenChange:u,children:e.jsxs(Lr,{className:"max-w-lg","data-testid":"dialog-create-schedule",children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Create Payout Schedule"}),e.jsx(Wr,{children:"Configure automated payout schedule and thresholds"})]}),e.jsx(Ra,{...y,children:e.jsxs("form",{onSubmit:y.handleSubmit(G),className:"space-y-4",children:[e.jsx(Pt,{control:y.control,name:"name",render:({field:K})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Schedule Name"}),e.jsx(At,{children:e.jsx(Ue,{placeholder:"e.g., Weekly Creator Payouts",...K,"data-testid":"input-schedule-name"})}),e.jsx(It,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Pt,{control:y.control,name:"frequency",render:({field:K})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Frequency"}),e.jsxs(yt,{onValueChange:K.onChange,value:K.value,children:[e.jsx(At,{children:e.jsx(xt,{"data-testid":"select-frequency",children:e.jsx(bt,{})})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"daily",children:"Daily"}),e.jsx(Q,{value:"weekly",children:"Weekly"}),e.jsx(Q,{value:"monthly",children:"Monthly"}),e.jsx(Q,{value:"manual",children:"Manual"})]})]}),e.jsx(It,{})]})}),e.jsx(Pt,{control:y.control,name:"currency",render:({field:K})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Currency"}),e.jsxs(yt,{onValueChange:K.onChange,value:K.value,children:[e.jsx(At,{children:e.jsx(xt,{"data-testid":"select-schedule-currency",children:e.jsx(bt,{})})}),e.jsx(gt,{children:l8.map(ae=>e.jsx(Q,{value:ae,children:ae},ae))})]}),e.jsx(It,{})]})})]}),e.jsx(Pt,{control:y.control,name:"minThreshold",render:({field:K})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Minimum Threshold"}),e.jsx(At,{children:e.jsx(Ue,{type:"number",step:"0.01",...K,onChange:ae=>K.onChange(parseFloat(ae.target.value)),"data-testid":"input-threshold"})}),e.jsx(It,{})]})}),e.jsx(Pt,{control:y.control,name:"description",render:({field:K})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Description (Optional)"}),e.jsx(At,{children:e.jsx(on,{...K,"data-testid":"textarea-description"})}),e.jsx(It,{})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>u(!1),"data-testid":"button-cancel-schedule",children:"Cancel"}),e.jsx(V,{type:"submit",disabled:H.isPending,"data-testid":"button-create-schedule-submit",children:H.isPending?"Creating...":"Create Schedule"})]})]})})]})})]})}const c8={pending:"bg-yellow-500",approved:"bg-green-500",rejected:"bg-red-500",processing:"bg-blue-500",failed:"bg-red-600",cancelled:"bg-gray-500"},fC={pending:"bg-yellow-500",clear:"bg-green-500",flagged:"bg-orange-500",blocked:"bg-red-500",review:"bg-purple-500"},pC={low:"bg-green-500",medium:"bg-yellow-500",high:"bg-orange-500",critical:"bg-red-500"};function $1e(){const{toast:t}=or();ws();const[r,n]=j.useState("deposits"),[s,a]=j.useState(null),[i,o]=j.useState(!1),[l,u]=j.useState({page:1,limit:50}),[m,f]=j.useState([]),[p,g]=j.useState(""),{data:b,isLoading:y,refetch:_}=Ve({queryKey:["/api/admin/financial/deposits",l],queryFn:()=>Ze(`/api/admin/financial/deposits?${new URLSearchParams(Object.entries(l).reduce((Z,[ne,K])=>(K!==void 0&&K!==""&&(Z[ne]=String(K)),Z),{})).toString()}`)}),{data:w,isLoading:k}=Ve({queryKey:["/api/admin/financial/deposits/analytics"],queryFn:()=>Ze("/api/admin/financial/deposits/analytics")}),{data:A}=Ve({queryKey:["/api/admin/financial/aml/checks"],queryFn:()=>Ze("/api/admin/financial/aml/checks?limit=20")}),P=ot({mutationFn:({id:Z,data:ne})=>Ze(`/api/admin/financial/deposits/${Z}/status`,{method:"PATCH",body:JSON.stringify(ne)}),onSuccess:()=>{t({title:"Success",description:"Deposit status updated"}),_(),a(null)},onError:Z=>{t({title:"Error",description:Z.message||"Failed to update status",variant:"destructive"})}}),O=ot({mutationFn:Z=>Ze("/api/admin/financial/deposits/bulk",{method:"POST",body:JSON.stringify(Z)}),onSuccess:Z=>{t({title:"Success",description:`Bulk operation completed. Processed ${Z.processed} deposits.`}),_(),f([]),g("")},onError:Z=>{t({title:"Error",description:Z.message||"Bulk operation failed",variant:"destructive"})}}),I=(Z,ne)=>{u(K=>({...K,[Z]:ne,page:1}))},D=Z=>{f(ne=>ne.includes(Z)?ne.filter(K=>K!==Z):[...ne,Z])},F=()=>{m.length===b?.data?.length?f([]):f(b?.data?.map(Z=>Z.id)||[])},B=()=>{!p||m.length===0||O.mutate({depositIds:m,operation:p,data:{}})},H=(Z,ne,K)=>{s&&P.mutate({id:s.id,data:{status:Z,amlStatus:ne,notes:K}})},re=(Z,ne="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:ne}).format(Z/100),G=Z=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(Z)),J=Z=>Z<=25?"low":Z<=50?"medium":Z<=75?"high":"critical";return y?e.jsxs("div",{className:"flex items-center justify-center h-96",children:[e.jsx(wn,{className:"h-8 w-8 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading deposits..."})]}):e.jsxs("div",{className:"p-6 space-y-6","data-testid":"deposits-management",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold","data-testid":"page-title",children:"Deposits Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Monitor deposits, verify compliance, and manage AML requirements"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(V,{variant:"outline",onClick:()=>o(!i),"data-testid":"button-toggle-filters",children:[e.jsx(Ic,{className:"h-4 w-4 mr-2"}),"Filters"]}),e.jsxs(V,{onClick:()=>_(),"data-testid":"button-refresh",children:[e.jsx(wn,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),w&&e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(Y,{"data-testid":"card-total-deposits",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Total Deposits"}),e.jsx(jx,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-deposits",children:w.totalDeposits?.toLocaleString()}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg: ",re(w.averageDeposit)]})]})]}),e.jsxs(Y,{"data-testid":"card-total-volume",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Total Volume"}),e.jsx(qr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-volume",children:re(w.totalVolume)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All-time deposits"})]})]}),e.jsxs(Y,{"data-testid":"card-pending-review",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Pending Review"}),e.jsx(wr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600","data-testid":"text-pending-review",children:w.pendingReview}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Requires attention"})]})]}),e.jsxs(Y,{"data-testid":"card-aml-compliance",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"AML Compliance"}),e.jsx(Mr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-aml-compliance",children:[w.amlCompliance,"%"]}),e.jsx(bs,{value:w.amlCompliance,className:"mt-2"})]})]})]}),i&&e.jsxs(Y,{"data-testid":"filters-panel",children:[e.jsx(ue,{children:e.jsx(fe,{children:"Advanced Filters"})}),e.jsx(ee,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-5",children:[e.jsxs("div",{children:[e.jsx(et,{htmlFor:"status",children:"Status"}),e.jsxs(yt,{value:l.status||"",onValueChange:Z=>I("status",Z),children:[e.jsx(xt,{"data-testid":"select-status",children:e.jsx(bt,{placeholder:"All Statuses"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"",children:"All Statuses"}),e.jsx(Q,{value:"pending",children:"Pending"}),e.jsx(Q,{value:"approved",children:"Approved"}),e.jsx(Q,{value:"rejected",children:"Rejected"}),e.jsx(Q,{value:"processing",children:"Processing"}),e.jsx(Q,{value:"failed",children:"Failed"})]})]})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"amlStatus",children:"AML Status"}),e.jsxs(yt,{value:l.amlStatus||"",onValueChange:Z=>I("amlStatus",Z),children:[e.jsx(xt,{"data-testid":"select-aml-status",children:e.jsx(bt,{placeholder:"All AML Status"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"",children:"All AML Status"}),e.jsx(Q,{value:"pending",children:"Pending"}),e.jsx(Q,{value:"clear",children:"Clear"}),e.jsx(Q,{value:"flagged",children:"Flagged"}),e.jsx(Q,{value:"blocked",children:"Blocked"}),e.jsx(Q,{value:"review",children:"Review"})]})]})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"method",children:"Method"}),e.jsxs(yt,{value:l.method||"",onValueChange:Z=>I("method",Z),children:[e.jsx(xt,{"data-testid":"select-method",children:e.jsx(bt,{placeholder:"All Methods"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"",children:"All Methods"}),e.jsx(Q,{value:"bank_transfer",children:"Bank Transfer"}),e.jsx(Q,{value:"card",children:"Credit Card"}),e.jsx(Q,{value:"crypto",children:"Cryptocurrency"}),e.jsx(Q,{value:"paypal",children:"PayPal"}),e.jsx(Q,{value:"wire",children:"Wire Transfer"})]})]})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"startDate",children:"Start Date"}),e.jsx(Ue,{id:"startDate",type:"date",value:l.startDate||"",onChange:Z=>I("startDate",Z.target.value),"data-testid":"input-start-date"})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"endDate",children:"End Date"}),e.jsx(Ue,{id:"endDate",type:"date",value:l.endDate||"",onChange:Z=>I("endDate",Z.target.value),"data-testid":"input-end-date"})]})]})})]}),e.jsxs(Xs,{value:r,onValueChange:n,className:"space-y-4",children:[e.jsxs(zs,{children:[e.jsx(Kt,{value:"deposits","data-testid":"tab-deposits",children:"Deposits"}),e.jsx(Kt,{value:"aml","data-testid":"tab-aml",children:"AML/KYC"}),e.jsx(Kt,{value:"analytics","data-testid":"tab-analytics",children:"Analytics"})]}),e.jsxs(Qt,{value:"deposits",className:"space-y-4",children:[m.length>0&&e.jsx(Y,{"data-testid":"bulk-actions",children:e.jsx(ee,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium",children:[m.length," selected"]}),e.jsxs(yt,{value:p,onValueChange:g,children:[e.jsx(xt,{className:"w-[200px]","data-testid":"select-bulk-action",children:e.jsx(bt,{placeholder:"Choose action..."})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"approve",children:"Approve Selected"}),e.jsx(Q,{value:"flag_review",children:"Flag for Review"}),e.jsx(Q,{value:"export",children:"Export Selected"})]})]}),e.jsx(V,{onClick:B,disabled:!p||O.isPending,"data-testid":"button-execute-bulk",children:"Execute"})]})})}),e.jsxs(Y,{"data-testid":"deposits-table",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Deposits"}),e.jsxs(lt,{children:["Showing ",b?.data?.length||0," of ",b?.total||0," deposits"]})]}),e.jsx(ee,{children:e.jsxs(Ta,{children:[e.jsx(Ea,{children:e.jsxs(Sr,{children:[e.jsx(We,{className:"w-12",children:e.jsx(Jn,{checked:m.length===b?.data?.length,onCheckedChange:F,"data-testid":"checkbox-select-all"})}),e.jsx(We,{children:"User"}),e.jsx(We,{children:"Amount"}),e.jsx(We,{children:"Method"}),e.jsx(We,{children:"Status"}),e.jsx(We,{children:"AML Status"}),e.jsx(We,{children:"Risk Score"}),e.jsx(We,{children:"Date"}),e.jsx(We,{children:"Actions"})]})}),e.jsx(Oa,{children:b?.data?.map(Z=>e.jsxs(Sr,{"data-testid":`row-deposit-${Z.id}`,children:[e.jsx(Be,{children:e.jsx(Jn,{checked:m.includes(Z.id),onCheckedChange:()=>D(Z.id),"data-testid":`checkbox-select-${Z.id}`})}),e.jsx(Be,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:Z.username}),e.jsx("div",{className:"text-sm text-muted-foreground",children:Z.userEmail})]})}),e.jsx(Be,{className:"font-medium",children:re(Z.amount,Z.currency)}),e.jsx(Be,{children:e.jsxs("div",{className:"flex items-center",children:[Z.method==="crypto"&&e.jsx(WZ,{className:"h-4 w-4 mr-2"}),Z.method==="card"&&e.jsx(vs,{className:"h-4 w-4 mr-2"}),Z.method==="bank_transfer"&&e.jsx(HA,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"capitalize",children:Z.method.replace("_"," ")})]})}),e.jsx(Be,{children:e.jsx(ce,{className:`${c8[Z.status]} text-white`,"data-testid":`badge-status-${Z.id}`,children:Z.status})}),e.jsx(Be,{children:e.jsx(ce,{className:`${fC[Z.amlStatus]} text-white`,"data-testid":`badge-aml-${Z.id}`,children:Z.amlStatus})}),e.jsx(Be,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${pC[J(Z.riskScore)]}`}),e.jsx("span",{className:"text-sm",children:Z.riskScore})]})}),e.jsx(Be,{children:G(Z.createdAt)}),e.jsx(Be,{children:e.jsxs(ns,{children:[e.jsx(ss,{asChild:!0,children:e.jsx(V,{variant:"ghost",size:"sm","data-testid":`button-actions-${Z.id}`,children:e.jsx(Ja,{className:"h-4 w-4"})})}),e.jsxs(es,{children:[e.jsxs(rt,{onClick:()=>a(Z),children:[e.jsx(pr,{className:"h-4 w-4 mr-2"}),"View Details"]}),e.jsxs(rt,{onClick:()=>a(Z),children:[e.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Approve"]}),e.jsxs(rt,{onClick:()=>a(Z),children:[e.jsx(Lo,{className:"h-4 w-4 mr-2"}),"Flag for Review"]})]})]})})]},Z.id))})]})})]})]}),e.jsx(Qt,{value:"aml",className:"space-y-4",children:e.jsxs(Y,{"data-testid":"aml-checks",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Recent AML/KYC Checks"}),e.jsx(lt,{children:"Anti-Money Laundering and Know Your Customer compliance monitoring"})]}),e.jsx(ee,{children:A?.data?.length>0?e.jsxs(Ta,{children:[e.jsx(Ea,{children:e.jsxs(Sr,{children:[e.jsx(We,{children:"User"}),e.jsx(We,{children:"Check Type"}),e.jsx(We,{children:"Status"}),e.jsx(We,{children:"Risk Level"}),e.jsx(We,{children:"Performed At"}),e.jsx(We,{children:"Expires At"}),e.jsx(We,{children:"Actions"})]})}),e.jsx(Oa,{children:A.data.map(Z=>e.jsxs(Sr,{"data-testid":`row-aml-${Z.id}`,children:[e.jsx(Be,{children:Z.userId}),e.jsx(Be,{className:"capitalize",children:Z.checkType.replace("_"," ")}),e.jsx(Be,{children:e.jsx(ce,{className:`${fC[Z.status]} text-white`,children:Z.status})}),e.jsx(Be,{children:e.jsx(ce,{className:`${pC[Z.riskLevel]} text-white`,children:Z.riskLevel})}),e.jsx(Be,{children:G(Z.performedAt)}),e.jsx(Be,{children:Z.expiresAt?G(Z.expiresAt):"Never"}),e.jsx(Be,{children:e.jsx(V,{variant:"ghost",size:"sm",children:e.jsx(pr,{className:"h-4 w-4"})})})]},Z.id))})]}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No AML checks available"})})]})}),e.jsx(Qt,{value:"analytics",className:"space-y-4",children:w&&e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(Y,{"data-testid":"chart-deposit-trends",children:[e.jsx(ue,{children:e.jsx(fe,{children:"Deposit Trends"})}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(Vg,{data:w.depositTrends,children:[e.jsx(Ps,{strokeDasharray:"3 3"}),e.jsx(Yn,{dataKey:"date"}),e.jsx(Qn,{}),e.jsx(Br,{formatter:Z=>re(Number(Z))}),e.jsx(fo,{type:"monotone",dataKey:"amount",stroke:"#8884d8"})]})})})]}),e.jsxs(Y,{"data-testid":"chart-method-distribution",children:[e.jsx(ue,{children:e.jsx(fe,{children:"Deposit Methods"})}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(wc,{children:[e.jsx(xa,{data:w.methodDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({method:Z,volume:ne})=>`${Z} (${re(ne)})`,outerRadius:80,fill:"#8884d8",dataKey:"volume",children:w.methodDistribution?.map((Z,ne)=>e.jsx(ho,{fill:["#8884d8","#82ca9d","#ffc658","#ff7300"][ne%4]},`cell-${ne}`))}),e.jsx(Br,{formatter:Z=>re(Number(Z))})]})})})]}),e.jsxs(Y,{"data-testid":"chart-status-distribution",children:[e.jsx(ue,{children:e.jsx(fe,{children:"Status Distribution"})}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(Tc,{data:w.statusDistribution,children:[e.jsx(Ps,{strokeDasharray:"3 3"}),e.jsx(Yn,{dataKey:"status"}),e.jsx(Qn,{}),e.jsx(Br,{}),e.jsx(Ia,{dataKey:"count",fill:"#8884d8"})]})})})]}),e.jsxs(Y,{"data-testid":"chart-risk-distribution",children:[e.jsx(ue,{children:e.jsx(fe,{children:"Risk Level Distribution"})}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(Tc,{data:w.riskDistribution,children:[e.jsx(Ps,{strokeDasharray:"3 3"}),e.jsx(Yn,{dataKey:"level"}),e.jsx(Qn,{}),e.jsx(Br,{}),e.jsx(Ia,{dataKey:"count",fill:"#8884d8"})]})})})]})]})})]}),e.jsx(Ur,{open:!!s,onOpenChange:()=>a(null),children:e.jsxs(Lr,{className:"max-w-2xl","data-testid":"dialog-deposit-details",children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Deposit Details"}),e.jsxs(Wr,{children:["Deposit ID: ",s?.id]})]}),s&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(et,{children:"User"}),e.jsx("div",{className:"font-medium",children:s.username}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.userEmail})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Amount"}),e.jsx("div",{className:"font-medium text-lg",children:re(s.amount,s.currency)})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Method"}),e.jsx("div",{className:"capitalize",children:s.method.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Provider"}),e.jsx("div",{children:s.provider})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Status"}),e.jsx(ce,{className:`${c8[s.status]} text-white`,children:s.status})]}),e.jsxs("div",{children:[e.jsx(et,{children:"AML Status"}),e.jsx(ce,{className:`${fC[s.amlStatus]} text-white`,children:s.amlStatus})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Risk Score"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${pC[J(s.riskScore)]}`}),e.jsx("span",{children:s.riskScore})]})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Reference"}),e.jsx("div",{className:"font-mono text-sm",children:s.reference})]})]}),s.description&&e.jsxs("div",{children:[e.jsx(et,{children:"Description"}),e.jsx("div",{className:"text-sm",children:s.description})]}),s.adminNotes&&e.jsxs("div",{children:[e.jsx(et,{children:"Admin Notes"}),e.jsx("div",{className:"text-sm bg-muted p-2 rounded",children:s.adminNotes})]}),e.jsxs("div",{className:"space-y-4 border-t pt-4",children:[e.jsx("h4",{className:"font-medium",children:"Update Status"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs(V,{size:"sm",onClick:()=>H("approved","clear","Approved by admin"),disabled:P.isPending,"data-testid":"button-approve",children:[e.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Approve"]}),e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>H("pending","review","Flagged for manual review"),disabled:P.isPending,"data-testid":"button-flag",children:[e.jsx(Lo,{className:"h-4 w-4 mr-2"}),"Flag"]}),e.jsxs(V,{size:"sm",variant:"destructive",onClick:()=>H("rejected","blocked","Rejected due to compliance issues"),disabled:P.isPending,"data-testid":"button-reject",children:[e.jsx(Qr,{className:"h-4 w-4 mr-2"}),"Reject"]})]})]})]})]})})]})}function z1e(){const{user:t}=kr(),[r,n]=j.useState({displayName:"",bio:"",avatarUrl:""}),[s,a]=j.useState({email:!0,push:!0,marketing:!1}),i=ws(),{toast:o}=or(),{data:l}=Ve({queryKey:["/api/profile"],enabled:!1}),{data:u,isLoading:m}=Ve({queryKey:["/api/api-keys"]}),{data:f,isLoading:p}=Ve({queryKey:["/api/webhooks"]}),g=ot({mutationFn:async k=>Ze("PUT","/api/profile",k),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/profile"]}),o({title:"Success",description:"Profile updated successfully"})},onError:k=>{o({title:"Error",description:k.message,variant:"destructive"})}}),b=ot({mutationFn:async k=>Ze("POST","/api/api-keys",k),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/api-keys"]}),o({title:"Success",description:"API key created successfully"})},onError:k=>{o({title:"Error",description:k.message,variant:"destructive"})}});ot({mutationFn:async k=>Ze("POST","/api/webhooks",k),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/webhooks"]}),o({title:"Success",description:"Webhook created successfully"})},onError:k=>{o({title:"Error",description:k.message,variant:"destructive"})}});const y=k=>{k.preventDefault(),g.mutate(r)},_=()=>{window.location.href="/api/logout"},w=k=>{navigator.clipboard.writeText(k),o({title:"Copied",description:"Text copied to clipboard"})};return e.jsxs("div",{className:"space-y-6","data-testid":"settings-page",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-display","data-testid":"page-title",children:"Settings"}),e.jsx("p",{className:"text-muted-foreground","data-testid":"page-description",children:"Manage your account settings and preferences"})]}),e.jsxs(Xs,{defaultValue:"profile",className:"w-full",children:[e.jsxs(zs,{className:"grid w-full grid-cols-5",children:[e.jsxs(Kt,{value:"profile","data-testid":"profile-tab",children:[e.jsx(_m,{className:"h-4 w-4 mr-2"}),"Profile"]}),e.jsxs(Kt,{value:"security","data-testid":"security-tab",children:[e.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Security"]}),e.jsxs(Kt,{value:"notifications","data-testid":"notifications-tab",children:[e.jsx(n0,{className:"h-4 w-4 mr-2"}),"Notifications"]}),e.jsxs(Kt,{value:"api-keys","data-testid":"api-keys-tab",children:[e.jsx(i0,{className:"h-4 w-4 mr-2"}),"API Keys"]}),e.jsxs(Kt,{value:"webhooks","data-testid":"webhooks-tab",children:[e.jsx(rI,{className:"h-4 w-4 mr-2"}),"Webhooks"]})]}),e.jsx(Qt,{value:"profile",className:"space-y-6 mt-6",children:e.jsxs(Y,{className:"bg-card border-border",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Profile Information"}),e.jsx(lt,{children:"Update your personal information and profile details"})]}),e.jsxs(ee,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("img",{src:t?.profileImageUrl||"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face",alt:"Profile Avatar",className:"h-20 w-20 rounded-full ring-2 ring-primary/20","data-testid":"profile-avatar"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium","data-testid":"profile-name",children:[t?.firstName," ",t?.lastName]}),e.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"profile-email",children:t?.email}),e.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":"profile-role",children:["Role: ",t?.role]})]})]}),e.jsx(Tn,{}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(et,{htmlFor:"displayName",children:"Display Name"}),e.jsx(Ue,{id:"displayName",value:r.displayName,onChange:k=>n(A=>({...A,displayName:k.target.value})),placeholder:"Your display name","data-testid":"display-name-input"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(et,{htmlFor:"avatarUrl",children:"Avatar URL"}),e.jsx(Ue,{id:"avatarUrl",value:r.avatarUrl,onChange:k=>n(A=>({...A,avatarUrl:k.target.value})),placeholder:"https://example.com/avatar.jpg","data-testid":"avatar-url-input"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(et,{htmlFor:"bio",children:"Bio"}),e.jsx(on,{id:"bio",value:r.bio,onChange:k=>n(A=>({...A,bio:k.target.value})),placeholder:"Tell us about yourself...",rows:4,"data-testid":"bio-input"})]}),e.jsxs(V,{type:"submit",disabled:g.isPending,"data-testid":"save-profile-button",children:[e.jsx(JO,{className:"mr-2 h-4 w-4"}),g.isPending?"Saving...":"Save Changes"]})]})]})]})}),e.jsx(Qt,{value:"security",className:"space-y-6 mt-6",children:e.jsxs(Y,{className:"bg-card border-border",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Account Security"}),e.jsx(lt,{children:"Manage your account security settings"})]}),e.jsxs(ee,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security to your account"})]}),e.jsx(V,{variant:"outline","data-testid":"setup-2fa-button",children:"Setup 2FA"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Change Password"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Update your account password"})]}),e.jsx(V,{variant:"outline","data-testid":"change-password-button",children:"Change Password"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Active Sessions"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your active login sessions"})]}),e.jsx(V,{variant:"outline","data-testid":"manage-sessions-button",children:"Manage Sessions"})]})]}),e.jsx(Tn,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-destructive",children:"Danger Zone"}),e.jsx("div",{className:"p-4 border border-destructive/20 rounded-lg bg-destructive/5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium",children:"Sign Out"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign out of your account"})]}),e.jsx(V,{variant:"destructive",onClick:_,"data-testid":"logout-button",children:"Sign Out"})]})})]})]})]})}),e.jsx(Qt,{value:"notifications",className:"space-y-6 mt-6",children:e.jsxs(Y,{className:"bg-card border-border",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Notification Preferences"}),e.jsx(lt,{children:"Configure how you receive notifications"})]}),e.jsxs(ee,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"})]}),e.jsx(kn,{checked:s.email,onCheckedChange:k=>a(A=>({...A,email:k})),"data-testid":"email-notifications-switch"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Push Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive push notifications in your browser"})]}),e.jsx(kn,{checked:s.push,onCheckedChange:k=>a(A=>({...A,push:k})),"data-testid":"push-notifications-switch"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Marketing Communications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive updates about new features and promotions"})]}),e.jsx(kn,{checked:s.marketing,onCheckedChange:k=>a(A=>({...A,marketing:k})),"data-testid":"marketing-notifications-switch"})]})]}),e.jsxs(V,{"data-testid":"save-notifications-button",children:[e.jsx(JO,{className:"mr-2 h-4 w-4"}),"Save Preferences"]})]})]})}),e.jsx(Qt,{value:"api-keys",className:"space-y-6 mt-6",children:e.jsxs(Y,{className:"bg-card border-border",children:[e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(fe,{children:"API Keys"}),e.jsx(lt,{children:"Manage your API keys for programmatic access"})]}),e.jsxs(V,{onClick:()=>b.mutate({scopes:["read"]}),"data-testid":"create-api-key-button",children:[e.jsx(hs,{className:"mr-2 h-4 w-4"}),"Create API Key"]})]})}),e.jsx(ee,{children:m?e.jsx("div",{className:"space-y-4",children:[1,2].map(k=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg animate-pulse",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-1/3 mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/4"})]}),e.jsx("div",{className:"h-8 w-16 bg-muted rounded"})]},k))}):u&&Array.isArray(u)&&u.length>0?e.jsx("div",{className:"space-y-4",children:u.map(k=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg","data-testid":`api-key-${k.id}`,children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("code",{className:"text-sm bg-muted px-2 py-1 rounded font-mono","data-testid":`api-key-hash-${k.id}`,children:[k.keyHash.substring(0,8),"..."]}),e.jsx(V,{variant:"ghost",size:"sm",onClick:()=>w(k.keyHash),"data-testid":`copy-api-key-${k.id}`,children:e.jsx(Qu,{className:"h-4 w-4"})})]}),e.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":`api-key-created-${k.id}`,children:["Created: ",new Date(k.createdAt).toLocaleDateString()]})]}),e.jsx(V,{variant:"destructive",size:"sm","data-testid":`delete-api-key-${k.id}`,children:e.jsx(Bo,{className:"h-4 w-4"})})]},k.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(i0,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2","data-testid":"no-api-keys-title",children:"No API keys"}),e.jsx("p",{className:"text-muted-foreground mb-4","data-testid":"no-api-keys-description",children:"Create your first API key to access the BoyFanz API"}),e.jsxs(V,{onClick:()=>b.mutate({scopes:["read"]}),"data-testid":"create-first-api-key-button",children:[e.jsx(hs,{className:"mr-2 h-4 w-4"}),"Create API Key"]})]})})]})}),e.jsx(Qt,{value:"webhooks",className:"space-y-6 mt-6",children:e.jsxs(Y,{className:"bg-card border-border",children:[e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(fe,{children:"Webhooks"}),e.jsx(lt,{children:"Configure webhooks to receive real-time notifications"})]}),e.jsxs(V,{"data-testid":"create-webhook-button",children:[e.jsx(hs,{className:"mr-2 h-4 w-4"}),"Add Webhook"]})]})}),e.jsx(ee,{children:p?e.jsx("div",{className:"space-y-4",children:[1,2].map(k=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg animate-pulse",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-2/3 mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/3"})]}),e.jsx("div",{className:"h-8 w-16 bg-muted rounded"})]},k))}):f&&Array.isArray(f)&&f.length>0?e.jsx("div",{className:"space-y-4",children:f.map(k=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg","data-testid":`webhook-${k.id}`,children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium","data-testid":`webhook-url-${k.id}`,children:k.url}),e.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":`webhook-status-${k.id}`,children:["Status: ",k.status]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{variant:"outline",size:"sm","data-testid":`edit-webhook-${k.id}`,children:"Edit"}),e.jsx(V,{variant:"destructive",size:"sm","data-testid":`delete-webhook-${k.id}`,children:e.jsx(Bo,{className:"h-4 w-4"})})]})]},k.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(rI,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2","data-testid":"no-webhooks-title",children:"No webhooks configured"}),e.jsx("p",{className:"text-muted-foreground mb-4","data-testid":"no-webhooks-description",children:"Set up webhooks to receive real-time event notifications"}),e.jsxs(V,{"data-testid":"create-first-webhook-button",children:[e.jsx(hs,{className:"mr-2 h-4 w-4"}),"Add Your First Webhook"]})]})})]})})]})]})}function d8(){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:e.jsx(Y,{className:"w-full max-w-md mx-4",children:e.jsxs(ee,{className:"pt-6",children:[e.jsxs("div",{className:"flex mb-4 gap-2",children:[e.jsx(yl,{className:"h-8 w-8 text-red-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const vK=yP,B1e=bP,q1e=jP,yK=j.forwardRef(({className:t,...r},n)=>e.jsx(kg,{className:He("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:n}));yK.displayName=kg.displayName;const U1e=Pf("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),yT=j.forwardRef(({side:t="right",className:r,children:n,...s},a)=>e.jsxs(q1e,{children:[e.jsx(yK,{}),e.jsxs(Ag,{ref:a,className:He(U1e({side:t}),r),...s,children:[n,e.jsxs(Jb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(Il,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));yT.displayName=Ag.displayName;const V1e=j.forwardRef(({className:t,...r},n)=>e.jsx(Pg,{ref:n,className:He("text-lg font-semibold text-foreground",t),...r}));V1e.displayName=Pg.displayName;const K1e=j.forwardRef(({className:t,...r},n)=>e.jsx(Tg,{ref:n,className:He("text-sm text-muted-foreground",t),...r}));K1e.displayName=Tg.displayName;function W1e({user:t}){const[r]=js(),n=_P(),[s,a]=j.useState(!1),i=b=>r===b,o=()=>{a(!1)},l=[{path:"/",icon:"fas fa-home",label:"Home"},{path:"/infinity-feed",icon:"fas fa-infinity",label:"Infinity Feed"},{path:"/fanz-money-center",icon:"fas fa-wallet",label:"FanzMoneyCenter"},{path:`/creator/${t?.id}`,icon:"fas fa-user",label:"My page"},{path:"/dashboard",icon:"fas fa-tachometer-alt",label:"Dashboard"},{path:"/purchased",icon:"fas fa-shopping-bag",label:"Purchased"},{path:"/messages",icon:"fas fa-comments",label:"Messages",dot:!0},{path:"/search",icon:"fas fa-search",label:"Explore"},{path:"/subscriptions",icon:"fas fa-star",label:"Subscriptions"},{path:"/release-forms",icon:"fas fa-file-contract",label:"Release Forms"},{path:"/nearby",icon:"fas fa-map-marker-alt",label:"Near by me"}];t?.role==="creator"||t?.role==="admin"||t?.role==="moderator"?(l.splice(2,0,{path:"/streams",icon:"fas fa-broadcast-tower",label:"Live Streams"}),l.splice(3,0,{path:"/events",icon:"fas fa-calendar-star",label:"Live Events"})):l.splice(2,0,{path:"/events",icon:"fas fa-calendar-star",label:"Live Events"});const u=[{path:"/admin/dashboard",icon:"fas fa-tachometer-alt",label:"Admin Dashboard"},{path:"/admin/complaints",icon:"fas fa-exclamation-triangle",label:"Complaints Management"},{path:"/admin/withdrawals",icon:"fas fa-money-bill-wave",label:"Withdrawals & Payouts"},{path:"/admin/verification",icon:"fas fa-shield-alt",label:"Verification Requests"},{path:"/admin/moderation",icon:"fas fa-tasks",label:"Moderation Queue",badge:"7"},{path:"/admin/users",icon:"fas fa-users",label:"User Management"},{path:"/admin/delegation",icon:"fas fa-key",label:"Delegation Manager"},{path:"/admin/themes",icon:"fas fa-palette",label:"Theme Manager"},{path:"/admin/reports",icon:"fas fa-chart-bar",label:"Reports & Analytics"}],m=[{path:"/admin/posts",icon:"fas fa-file-alt",label:"Posts Management"},{path:"/admin/streaming",icon:"fas fa-broadcast-tower",label:"Live Streaming"},{path:"/admin/stories",icon:"fas fa-clock",label:"Stories Management"},{path:"/admin/shop",icon:"fas fa-store",label:"Shop Management"},{path:"/admin/categories",icon:"fas fa-folder-tree",label:"Categories Management"}],f=[{path:"/admin/transactions",icon:"fas fa-exchange-alt",label:"Transactions"},{path:"/admin/billing",icon:"fas fa-file-invoice",label:"Billing Management"},{path:"/admin/tax-rates",icon:"fas fa-percentage",label:"Tax Rates"},{path:"/admin/payment-settings",icon:"fas fa-cogs",label:"Payment Settings"},{path:"/admin/deposits",icon:"fas fa-wallet",label:"Deposits"}],p=[{path:"/admin/announcements",icon:"fas fa-bullhorn",label:"Announcements"},{path:"/admin/push-notifications",icon:"fas fa-bell",label:"Push Notifications"},{path:"/admin/system-settings",icon:"fas fa-cog",label:"System Settings"},{path:"/admin/storage",icon:"fas fa-hdd",label:"Storage Management"}],g=e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsx("div",{className:"flex h-16 md:h-20 items-center px-4 md:px-6 border-b border-border",children:e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsx("img",{src:"/boyfanz-logo.png",alt:"BoyFanz Logo",className:"h-8 md:h-12 w-auto"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-display font-bold text-lg md:text-xl neon-sign tracking-wider",children:"BoyFanz"}),e.jsx("span",{className:"text-xs neon-sign-golden font-heading font-semibold tracking-wide uppercase hidden sm:block",children:"Every Man's Playground"})]})]})}),e.jsxs("nav",{className:"flex-1 px-3 py-4","data-testid":"sidebar-nav",children:[e.jsx("div",{className:"space-y-1",children:l.map(b=>e.jsxs(_t,{href:b.path,onClick:n?o:void 0,className:He("sidebar-link flex items-center gap-3 px-3 py-3 md:py-2 rounded-md text-sm font-medium transition-all touch-target min-h-[44px] md:min-h-[36px]",i(b.path)?"active bg-primary/10 text-primary border-r-2 border-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"),"data-testid":`nav-${b.label.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsx("i",{className:`${b.icon} w-5 h-5 md:w-4 md:h-4`}),b.label,b.badge&&e.jsx("span",{className:He("ml-auto text-xs px-2 py-0.5 rounded-full",b.badge==="KYC"?"bg-yellow-500 text-yellow-900":"bg-primary text-primary-foreground"),children:b.badge}),b.dot&&e.jsx("span",{className:"ml-auto w-2 h-2 bg-primary rounded-full notification-dot"})]},b.path))}),(t?.role==="creator"||t?.role==="admin"||t?.role==="moderator")&&e.jsxs("div",{className:"mt-6 md:mt-8",children:[e.jsx("h3",{className:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Creator"}),e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsxs(_t,{href:"/streams/create",onClick:n?o:void 0,className:He("sidebar-link flex items-center gap-3 px-3 py-3 md:py-2 rounded-md text-sm font-medium transition-all touch-target min-h-[44px] md:min-h-[36px]",i("/streams/create")?"active bg-primary/10 text-primary border-r-2 border-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"),"data-testid":"nav-create-stream",children:[e.jsx("i",{className:"fas fa-video w-5 h-5 md:w-4 md:h-4"}),"Create Stream"]}),e.jsxs(_t,{href:"/events/host",onClick:n?o:void 0,className:He("sidebar-link flex items-center gap-3 px-3 py-3 md:py-2 rounded-md text-sm font-medium transition-all touch-target min-h-[44px] md:min-h-[36px]",i("/events/host")?"active bg-primary/10 text-primary border-r-2 border-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"),"data-testid":"nav-host-event",children:[e.jsx("i",{className:"fas fa-calendar-plus w-5 h-5 md:w-4 md:h-4"}),"Host Event"]}),e.jsxs(_t,{href:"/earnings",onClick:n?o:void 0,className:He("sidebar-link flex items-center gap-3 px-3 py-3 md:py-2 rounded-md text-sm font-medium transition-all touch-target min-h-[44px] md:min-h-[36px]",i("/earnings")?"active bg-primary/10 text-primary border-r-2 border-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"),"data-testid":"nav-earnings",children:[e.jsx("i",{className:"fas fa-chart-line w-5 h-5 md:w-4 md:h-4"}),"Earnings"]})]})]}),e.jsxs("div",{className:"mt-6 md:mt-8",children:[e.jsx("h3",{className:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Support & Help"}),e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsxs(_t,{href:"/help",onClick:n?o:void 0,className:He("sidebar-link flex items-center gap-3 px-3 py-3 md:py-2 rounded-md text-sm font-medium transition-all touch-target min-h-[44px] md:min-h-[36px]",i("/help")?"active bg-primary/10 text-primary border-r-2 border-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"),"data-testid":"nav-help-center",children:[e.jsx("i",{className:"fas fa-question-circle w-5 h-5 md:w-4 md:h-4"}),"Help Center"]}),e.jsxs(_t,{href:"/help/wiki",onClick:n?o:void 0,className:He("sidebar-link flex items-center gap-3 px-3 py-3 md:py-2 rounded-md text-sm font-medium transition-all touch-target min-h-[44px] md:min-h-[36px]",i("/help/wiki")?"active bg-primary/10 text-primary border-r-2 border-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"),"data-testid":"nav-ai-wiki",children:[e.jsx("i",{className:"fas fa-brain w-5 h-5 md:w-4 md:h-4"}),"AI Wiki"]}),e.jsxs(_t,{href:"/help/tutorials",onClick:n?o:void 0,className:He("sidebar-link flex items-center gap-3 px-3 py-3 md:py-2 rounded-md text-sm font-medium transition-all touch-target min-h-[44px] md:min-h-[36px]",i("/help/tutorials")?"active bg-primary/10 text-primary border-r-2 border-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"),"data-testid":"nav-tutorials",children:[e.jsx("i",{className:"fas fa-play-circle w-5 h-5 md:w-4 md:h-4"}),"Tutorials"]}),e.jsxs(_t,{href:"/help/tickets",onClick:n?o:void 0,className:He("sidebar-link flex items-center gap-3 px-3 py-3 md:py-2 rounded-md text-sm font-medium transition-all touch-target min-h-[44px] md:min-h-[36px]",i("/help/tickets")?"active bg-primary/10 text-primary border-r-2 border-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"),"data-testid":"nav-support-tickets",children:[e.jsx("i",{className:"fas fa-ticket-alt w-5 h-5 md:w-4 md:h-4"}),"Support Tickets"]}),e.jsxs(_t,{href:"/help/chat",onClick:n?o:void 0,className:He("sidebar-link flex items-center gap-3 px-3 py-3 md:py-2 rounded-md text-sm font-medium transition-all touch-target min-h-[44px] md:min-h-[36px]",i("/help/chat")?"active bg-primary/10 text-primary border-r-2 border-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"),"data-testid":"nav-ai-chat",children:[e.jsx("i",{className:"fas fa-robot w-5 h-5 md:w-4 md:h-4"}),"AI Chat Support"]}),e.jsxs(_t,{href:"/blog",onClick:n?o:void 0,className:He("sidebar-link flex items-center gap-3 px-3 py-3 md:py-2 rounded-md text-sm font-medium transition-all touch-target min-h-[44px] md:min-h-[36px]",i("/blog")?"active bg-primary/10 text-primary border-r-2 border-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"),"data-testid":"nav-blog",children:[e.jsx("i",{className:"fas fa-blog w-5 h-5 md:w-4 md:h-4"}),"Blog"]}),e.jsxs(_t,{href:"/contact",onClick:n?o:void 0,className:He("sidebar-link flex items-center gap-3 px-3 py-3 md:py-2 rounded-md text-sm font-medium transition-all touch-target min-h-[44px] md:min-h-[36px]",i("/contact")?"active bg-primary/10 text-primary border-r-2 border-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"),"data-testid":"nav-contact",children:[e.jsx("i",{className:"fas fa-envelope w-5 h-5 md:w-4 md:h-4"}),"Contact"]})]})]}),(t?.role==="admin"||t?.role==="moderator")&&e.jsxs("div",{className:"mt-6 md:mt-8",children:[e.jsx("h3",{className:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Administration"}),e.jsx("div",{className:"mt-2 space-y-1",children:u.map(b=>e.jsxs(_t,{href:b.path,onClick:n?o:void 0,className:He("sidebar-link flex items-center gap-3 px-3 py-3 md:py-2 rounded-md text-sm font-medium transition-all touch-target min-h-[44px] md:min-h-[36px]",i(b.path)?"active bg-primary/10 text-primary border-r-2 border-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"),"data-testid":`nav-${b.label.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsx("i",{className:`${b.icon} w-5 h-5 md:w-4 md:h-4`}),b.label,b.badge&&e.jsx("span",{className:"ml-auto text-xs px-2 py-0.5 bg-primary text-primary-foreground rounded-full",children:b.badge})]},b.path))})]}),(t?.role==="admin"||t?.role==="moderator")&&e.jsxs("div",{className:"mt-6 md:mt-8",children:[e.jsx("h3",{className:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Content Management"}),e.jsx("div",{className:"mt-2 space-y-1",children:m.map(b=>e.jsxs(_t,{href:b.path,onClick:n?o:void 0,className:He("sidebar-link flex items-center gap-3 px-3 py-3 md:py-2 rounded-md text-sm font-medium transition-all touch-target min-h-[44px] md:min-h-[36px]",i(b.path)?"active bg-primary/10 text-primary border-r-2 border-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"),"data-testid":`nav-${b.label.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsx("i",{className:`${b.icon} w-5 h-5 md:w-4 md:h-4`}),b.label]},b.path))})]}),t?.role==="admin"&&e.jsxs("div",{className:"mt-6 md:mt-8",children:[e.jsx("h3",{className:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Financial Management"}),e.jsx("div",{className:"mt-2 space-y-1",children:f.map(b=>e.jsxs(_t,{href:b.path,onClick:n?o:void 0,className:He("sidebar-link flex items-center gap-3 px-3 py-3 md:py-2 rounded-md text-sm font-medium transition-all touch-target min-h-[44px] md:min-h-[36px]",i(b.path)?"active bg-primary/10 text-primary border-r-2 border-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"),"data-testid":`nav-${b.label.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsx("i",{className:`${b.icon} w-5 h-5 md:w-4 md:h-4`}),b.label]},b.path))})]}),t?.role==="admin"&&e.jsxs("div",{className:"mt-6 md:mt-8",children:[e.jsx("h3",{className:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"System Management"}),e.jsx("div",{className:"mt-2 space-y-1",children:p.map(b=>e.jsxs(_t,{href:b.path,onClick:n?o:void 0,className:He("sidebar-link flex items-center gap-3 px-3 py-3 md:py-2 rounded-md text-sm font-medium transition-all touch-target min-h-[44px] md:min-h-[36px]",i(b.path)?"active bg-primary/10 text-primary border-r-2 border-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"),"data-testid":`nav-${b.label.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsx("i",{className:`${b.icon} w-5 h-5 md:w-4 md:h-4`}),b.label]},b.path))})]}),e.jsx("div",{className:"mt-6 md:mt-8",children:e.jsxs(_t,{href:"/settings",onClick:n?o:void 0,className:He("sidebar-link flex items-center gap-3 px-3 py-3 md:py-2 rounded-md text-sm font-medium transition-all touch-target min-h-[44px] md:min-h-[36px]",i("/settings")?"active bg-primary/10 text-primary border-r-2 border-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"),"data-testid":"nav-settings",children:[e.jsx("i",{className:"fas fa-cog w-5 h-5 md:w-4 md:h-4"}),"Settings"]})})]}),e.jsx("div",{className:"border-t border-border p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:t?.profileImageUrl||"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face",alt:"User Avatar",className:"h-8 w-8 md:h-10 md:w-10 rounded-full ring-2 ring-primary/20"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm font-medium text-foreground truncate",children:[t?.firstName," ",t?.lastName]}),e.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:["@",t?.username]})]})]})})]});return n?e.jsxs(e.Fragment,{children:[e.jsx(V,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-50 md:hidden bg-background/80 backdrop-blur border border-border",onClick:()=>a(!0),"data-testid":"mobile-menu-trigger",children:e.jsx(MF,{className:"h-5 w-5"})}),e.jsx(vK,{open:s,onOpenChange:a,children:e.jsx(yT,{side:"left",className:"w-80 p-0 bg-card border-r retro-border smoky-bg",children:g})})]}):e.jsx("aside",{className:"fixed left-0 top-0 z-40 h-screen w-64 bg-card border-r retro-border smoky-bg","data-testid":"sidebar",children:g})}function bT(t={}){const{user:r,isAuthenticated:n}=kr(),{toast:s}=or(),[a,i]=j.useState(!1),[o,l]=j.useState("disconnected"),[u,m]=j.useState(null),[f,p]=j.useState([]),[g,b]=j.useState(new Map),y=j.useRef(t);y.current=t,j.useEffect(()=>{if(!n||!r?.id){Yr.disconnect(),i(!1),l("disconnected");return}y.current.autoConnect!==!1&&Yr.connect(r.id);const H=se=>{const de=se.data?.status;l(de==="connected"?"connected":"disconnected"),i(de==="connected"),de==="connected"?y.current.onConnect?.():y.current.onDisconnect?.()},re=se=>{l("reconnecting"),i(!1)},G=se=>{console.error("WebSocket error:",se.data),y.current.onError?.(se.data)},J=se=>{m(se),y.current.onMessage?.(se)},Z=se=>{const de=se.data;de?.senderId!==r.id&&s({title:"New Message",description:`${de?.senderName||"Someone"} sent you a message`})},ne=se=>{const de=se.data;s({title:de?.title||"Notification",description:de?.message||"You have a new notification"})},K=se=>{const de=se.data;s({title:" Tip Received!",description:`${de?.senderName||"Someone"} sent you $${(de?.amountCents||0)/100}`,className:"bg-green-500 text-white"})},ae=se=>{se.data?.status==="online"?p(de=>[...new Set([...de,se.data.userId])]):se.data?.status==="offline"&&p(de=>de.filter(z=>z!==se.data.userId))},U=se=>{const{userId:de,isTyping:z}=se.data||{};de&&b(oe=>{const Ce=new Map(oe);return z?Ce.set(de,!0):Ce.delete(de),Ce})},W=se=>{const de=se.data?.users||[];p(de)};return Yr.on("connection",H),Yr.on("reconnecting",re),Yr.on("error",G),Yr.on("message",J),Yr.on("new_message",Z),Yr.on("new_notification",ne),Yr.on("tip_received",K),Yr.on("presence_update",ae),Yr.on("typing_update",U),Yr.on("online_users",W),()=>{Yr.off("connection",H),Yr.off("reconnecting",re),Yr.off("error",G),Yr.off("message",J),Yr.off("new_message",Z),Yr.off("new_notification",ne),Yr.off("tip_received",K),Yr.off("presence_update",ae),Yr.off("typing_update",U),Yr.off("online_users",W)}},[n,r?.id,s]);const _=j.useCallback((H,re,G,J,Z)=>Yr.sendMessage(H,re,G,J,Z),[]),w=j.useCallback((H,re)=>Yr.sendTyping(H,re),[]),k=j.useCallback((H,re)=>Yr.sendReadReceipt(H,re),[]),A=j.useCallback((H,re,G)=>Yr.requestMessageHistory(H,re,G),[]),P=j.useCallback(H=>Yr.requestOnlineUsers(H),[]),O=j.useCallback(H=>Yr.updatePresence(H),[]),I=j.useCallback(H=>f.includes(H),[f]),D=j.useCallback(H=>g.get(H)===!0,[g]),F=j.useCallback(()=>{r?.id&&Yr.connect(r.id)},[r?.id]),B=j.useCallback(()=>{Yr.disconnect()},[]);return{isConnected:a,connectionState:o,lastMessage:u,onlineUsers:f,typingUsers:Array.from(g.keys()),sendMessage:_,sendTyping:w,sendReadReceipt:k,requestMessageHistory:A,requestOnlineUsers:P,updatePresence:O,isUserOnline:I,isUserTyping:D,connect:F,disconnect:B}}function H1e(t){const[r,n]=j.useState([]),[s,a]=j.useState(!1),{sendTyping:i,sendReadReceipt:o,requestMessageHistory:l}=bT({onMessage:f=>{if(f.type==="message"&&t){const p=f.data;(p?.senderId===t||p?.receiverId===t)&&n(g=>[...g,p])}else f.type==="typing_update"&&f.data?.userId===t?a(f.data?.isTyping||!1):f.type==="message_history"&&t&&n(f.data?.messages||[])}});j.useEffect(()=>{t&&l(t)},[t,l]);const u=j.useCallback(f=>{t&&i(t,f)},[t,i]),m=j.useCallback(f=>{t&&f.length>0&&o(f,t)},[t,o]);return{messages:r,isTyping:s,handleTyping:u,markAsRead:m}}function G1e(t=[]){const[r,n]=j.useState(new Map),{onlineUsers:s,isUserOnline:a}=bT();return j.useEffect(()=>{const i=new Map;t.forEach(o=>{i.set(o,a(o))}),n(i)},[t,s,a]),r}function Z1e({user:t}){const[r,n]=j.useState(""),[s,a]=j.useState(!1),[i,o]=j.useState(0),l=_P(),{isConnected:u,connectionState:m}=bT({onMessage:p=>{(p.type==="new_notification"||p.type==="tip_received")&&o(g=>g+1)}}),f=p=>{p.preventDefault(),r.trim()&&(window.location.href=`/search?q=${encodeURIComponent(r.trim())}`,a(!1))};return e.jsx("header",{className:"sticky top-0 z-30 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60","data-testid":"header",children:e.jsxs("div",{className:He("flex h-14 md:h-16 items-center justify-between px-4 md:px-6",l&&"pl-16"),children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-4 flex-1 min-w-0",children:[e.jsx("h1",{className:"text-lg md:text-2xl font-bold font-display truncate","data-testid":"page-title",children:"Dashboard"}),e.jsxs("div",{className:"hidden lg:flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("div",{className:He("h-2 w-2 rounded-full",u?"bg-green-500":m==="reconnecting"?"bg-yellow-500 animate-pulse":"bg-red-500")}),e.jsx("span",{"data-testid":"system-status",children:u?"Connected":m==="reconnecting"?"Reconnecting...":"Disconnected"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[(t?.role==="creator"||t?.role==="admin"||t?.role==="moderator")&&e.jsx(_t,{href:"/streams/create",children:e.jsxs(V,{variant:"default",size:"sm",className:"bg-red-600 hover:bg-red-700 text-white hidden md:flex items-center gap-2","data-testid":"go-live-button",children:[e.jsx(As,{className:"h-4 w-4"}),"Go Live"]})}),e.jsxs("div",{className:"relative hidden md:block",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(Ue,{type:"search",placeholder:"Search...",value:r,onChange:p=>n(p.target.value),className:"w-48 lg:w-64 pl-10","data-testid":"search-input"})]}),e.jsxs(vK,{open:s,onOpenChange:a,children:[e.jsx(B1e,{asChild:!0,children:e.jsx(V,{variant:"ghost",size:"icon",className:"md:hidden touch-target","data-testid":"mobile-search-button","aria-label":"Open search",children:e.jsx(Ts,{className:"h-5 w-5"})})}),e.jsx(yT,{side:"top",className:"h-auto p-4",children:e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(Ue,{type:"search",placeholder:"Search creators, content...",value:r,onChange:p=>n(p.target.value),className:"pl-10 touch-target","data-testid":"mobile-search-input",autoFocus:!0})]}),e.jsx(V,{type:"button",variant:"ghost",size:"icon",onClick:()=>a(!1),className:"touch-target","aria-label":"Close search",children:e.jsx(Il,{className:"h-5 w-5"})})]}),e.jsx(V,{type:"submit",className:"w-full touch-target",disabled:!r.trim(),children:"Search"})]})})]}),e.jsx(_t,{href:"/notifications",children:e.jsxs(V,{variant:"ghost",size:"icon",className:"relative touch-target","data-testid":"notifications-button",onClick:()=>o(0),children:[e.jsx(n0,{className:"h-4 w-4 md:h-4 md:w-4"}),i>0&&e.jsx(ce,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center text-xs",children:i>99?"99+":i})]})}),e.jsxs(V,{variant:"ghost",className:"flex items-center gap-2 p-2 touch-target min-h-[44px] md:min-h-[36px]","data-testid":"profile-menu",children:[e.jsx("img",{src:t?.profileImageUrl||"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face",alt:"User Avatar",className:"h-7 w-7 md:h-8 md:w-8 rounded-full ring-2 ring-primary/20","data-testid":"header-user-avatar"}),e.jsx("span",{className:"hidden lg:block text-sm font-medium text-foreground truncate max-w-24",children:t?.firstName})]})]})]})})}const Y1e=Xr({email:mt().email("Invalid email address"),password:mt().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:mt()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function Q1e({password:t}){const r=[{label:"At least 8 characters",valid:t.length>=8},{label:"Uppercase letter",valid:/[A-Z]/.test(t)},{label:"Lowercase letter",valid:/[a-z]/.test(t)},{label:"Number",valid:/[0-9]/.test(t)}],n=r.filter(i=>i.valid).length,s=["bg-red-500","bg-orange-500","bg-yellow-500","bg-green-500"],a=["Weak","Fair","Good","Strong"];return t?e.jsxs("div",{className:"mt-2 space-y-2","data-testid":"password-strength-meter",children:[e.jsx("div",{className:"flex gap-1",children:[0,1,2,3].map(i=>e.jsx("div",{className:He("h-1 flex-1 rounded-full transition-colors",i<n?s[n-1]:"bg-zinc-800")},i))}),n>0&&e.jsxs("p",{className:"text-xs text-zinc-400","data-testid":"password-strength-label",children:["Password strength: ",a[n-1]]}),e.jsx("ul",{className:"space-y-1",children:r.map((i,o)=>e.jsxs("li",{className:"flex items-center gap-2 text-xs",children:[i.valid?e.jsx(vh,{className:"w-3 h-3 text-green-500"}):e.jsx(Ln,{className:"w-3 h-3 text-zinc-600"}),e.jsx("span",{className:i.valid?"text-green-400":"text-zinc-500",children:i.label})]},o))})]}):null}function X1e(){const[,t]=js(),{toast:r}=or(),[n,s]=j.useState(!1),[a,i]=j.useState(!1),o=Da({resolver:La(Y1e),defaultValues:{email:"",password:"",confirmPassword:""}}),l=ot({mutationFn:async m=>await Ze("/api/auth/register","POST",m),onSuccess:m=>{r({title:"Registration Successful!",description:"Check your email to verify your account before logging in."}),t("/auth/login")},onError:m=>{r({title:"Registration Failed",description:m.message,variant:"destructive"})}}),u=m=>{l.mutate(m)};return e.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"font-display text-5xl font-bold mb-2",children:[e.jsx("span",{className:"text-[#ff0000]",children:"Boy"}),e.jsx("span",{className:"text-[#d4a959]",children:"Fanz"})]}),e.jsx("p",{className:"text-zinc-400 text-sm",children:"Create your account"})]}),e.jsxs("div",{className:"relative backdrop-blur-xl bg-black/40 border border-white/10 rounded-2xl p-8 shadow-2xl",style:{boxShadow:"0 8px 32px 0 rgba(255, 0, 0, 0.1), inset 0 0 20px rgba(212, 169, 89, 0.05)"},children:[e.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-[#ff0000]/5 via-transparent to-[#d4a959]/5 pointer-events-none"}),e.jsx(Ra,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(u),className:"space-y-6 relative z-10",children:[e.jsx(Pt,{control:o.control,name:"email",render:({field:m})=>e.jsxs(Ct,{children:[e.jsx(kt,{className:"text-zinc-300 font-medium",children:"Email"}),e.jsx(At,{children:e.jsxs("div",{className:"relative",children:[e.jsx(kl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),e.jsx(Ue,{...m,type:"email",placeholder:"you@example.com","data-testid":"input-email",className:"pl-10 bg-black/60 border-white/10 text-white placeholder:text-zinc-600 focus:border-[#ff0000]/50 focus:ring-[#ff0000]/20"})]})}),e.jsx(It,{className:"text-red-400 text-xs"})]})}),e.jsx(Pt,{control:o.control,name:"password",render:({field:m})=>e.jsxs(Ct,{children:[e.jsx(kt,{className:"text-zinc-300 font-medium",children:"Password"}),e.jsx(At,{children:e.jsxs("div",{className:"relative",children:[e.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),e.jsx(Ue,{...m,type:n?"text":"password",placeholder:"Create a strong password","data-testid":"input-password",className:"pl-10 pr-10 bg-black/60 border-white/10 text-white placeholder:text-zinc-600 focus:border-[#ff0000]/50 focus:ring-[#ff0000]/20"}),e.jsx("button",{type:"button",onClick:()=>s(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-500 hover:text-zinc-300","data-testid":"button-toggle-password",children:n?e.jsx(vx,{className:"w-4 h-4"}):e.jsx(pr,{className:"w-4 h-4"})})]})}),e.jsx(It,{className:"text-red-400 text-xs"}),e.jsx(Q1e,{password:m.value})]})}),e.jsx(Pt,{control:o.control,name:"confirmPassword",render:({field:m})=>e.jsxs(Ct,{children:[e.jsx(kt,{className:"text-zinc-300 font-medium",children:"Confirm Password"}),e.jsx(At,{children:e.jsxs("div",{className:"relative",children:[e.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),e.jsx(Ue,{...m,type:a?"text":"password",placeholder:"Re-enter your password","data-testid":"input-confirm-password",className:"pl-10 pr-10 bg-black/60 border-white/10 text-white placeholder:text-zinc-600 focus:border-[#ff0000]/50 focus:ring-[#ff0000]/20"}),e.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-500 hover:text-zinc-300","data-testid":"button-toggle-confirm-password",children:a?e.jsx(vx,{className:"w-4 h-4"}):e.jsx(pr,{className:"w-4 h-4"})})]})}),e.jsx(It,{className:"text-red-400 text-xs"})]})}),e.jsx(V,{type:"submit",disabled:l.isPending,"data-testid":"button-register",className:"w-full h-12 bg-[#ff0000] hover:bg-[#cc0000] text-white font-bold text-base shadow-lg shadow-red-500/20 transition-all",children:l.isPending?e.jsxs(e.Fragment,{children:[e.jsx(oa,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Account..."]}):"Create Account"}),e.jsxs("div",{className:"text-center text-sm",children:[e.jsx("span",{className:"text-zinc-500",children:"Already have an account? "}),e.jsx("button",{type:"button",onClick:()=>t("/auth/login"),"data-testid":"link-login",className:"text-[#d4a959] hover:text-[#e5ba6a] font-medium transition-colors",children:"Log in"})]})]})})]}),e.jsxs("p",{className:"text-center text-xs text-zinc-600 mt-6",children:["By creating an account, you agree to our"," ",e.jsx("a",{href:"/terms",className:"text-zinc-500 hover:text-zinc-400 underline",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"/privacy",className:"text-zinc-500 hover:text-zinc-400 underline",children:"Privacy Policy"})]})]})})}const J1e=Xr({email:mt().email("Invalid email address"),password:mt().min(1,"Password is required")});function eSe(){const[,t]=js(),{toast:r}=or(),[n,s]=j.useState(!1),a=Da({resolver:La(J1e),defaultValues:{email:"",password:""}}),i=ot({mutationFn:async l=>await Ze("/api/auth/login","POST",l),onSuccess:()=>{Rt.invalidateQueries({queryKey:["/api/auth/user"]}),r({title:"Welcome back!",description:"You've successfully logged in."}),t("/")},onError:l=>{r({title:"Login Failed",description:l.message,variant:"destructive"})}}),o=l=>{i.mutate(l)};return e.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"font-display text-5xl font-bold mb-2",children:[e.jsx("span",{className:"text-[#ff0000]",children:"Boy"}),e.jsx("span",{className:"text-[#d4a959]",children:"Fanz"})]}),e.jsx("p",{className:"text-zinc-400 text-sm",children:"Welcome back"})]}),e.jsxs("div",{className:"relative backdrop-blur-xl bg-black/40 border border-white/10 rounded-2xl p-8 shadow-2xl",style:{boxShadow:"0 8px 32px 0 rgba(255, 0, 0, 0.1), inset 0 0 20px rgba(212, 169, 89, 0.05)"},children:[e.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-[#ff0000]/5 via-transparent to-[#d4a959]/5 pointer-events-none"}),e.jsx(Ra,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(o),className:"space-y-6 relative z-10",children:[e.jsx(Pt,{control:a.control,name:"email",render:({field:l})=>e.jsxs(Ct,{children:[e.jsx(kt,{className:"text-zinc-300 font-medium",children:"Email"}),e.jsx(At,{children:e.jsxs("div",{className:"relative",children:[e.jsx(kl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),e.jsx(Ue,{...l,type:"email",placeholder:"you@example.com","data-testid":"input-email",className:"pl-10 bg-black/60 border-white/10 text-white placeholder:text-zinc-600 focus:border-[#ff0000]/50 focus:ring-[#ff0000]/20"})]})}),e.jsx(It,{className:"text-red-400 text-xs"})]})}),e.jsx(Pt,{control:a.control,name:"password",render:({field:l})=>e.jsxs(Ct,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(kt,{className:"text-zinc-300 font-medium",children:"Password"}),e.jsx("button",{type:"button",onClick:()=>t("/auth/forgot-password"),"data-testid":"link-forgot-password",className:"text-xs text-[#d4a959] hover:text-[#e5ba6a] transition-colors",children:"Forgot password?"})]}),e.jsx(At,{children:e.jsxs("div",{className:"relative",children:[e.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),e.jsx(Ue,{...l,type:n?"text":"password",placeholder:"Enter your password","data-testid":"input-password",className:"pl-10 pr-10 bg-black/60 border-white/10 text-white placeholder:text-zinc-600 focus:border-[#ff0000]/50 focus:ring-[#ff0000]/20"}),e.jsx("button",{type:"button",onClick:()=>s(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-500 hover:text-zinc-300","data-testid":"button-toggle-password",children:n?e.jsx(vx,{className:"w-4 h-4"}):e.jsx(pr,{className:"w-4 h-4"})})]})}),e.jsx(It,{className:"text-red-400 text-xs"})]})}),e.jsx(V,{type:"submit",disabled:i.isPending,"data-testid":"button-login",className:"w-full h-12 bg-[#ff0000] hover:bg-[#cc0000] text-white font-bold text-base shadow-lg shadow-red-500/20 transition-all",children:i.isPending?e.jsxs(e.Fragment,{children:[e.jsx(oa,{className:"w-4 h-4 mr-2 animate-spin"}),"Logging in..."]}):"Log In"}),e.jsxs("div",{className:"text-center text-sm",children:[e.jsx("span",{className:"text-zinc-500",children:"Don't have an account? "}),e.jsx("button",{type:"button",onClick:()=>t("/auth/register"),"data-testid":"link-register",className:"text-[#d4a959] hover:text-[#e5ba6a] font-medium transition-colors",children:"Create one"})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>t("/auth/resend-verification"),"data-testid":"link-resend-verification",className:"text-xs text-zinc-500 hover:text-zinc-400 transition-colors",children:"Didn't receive verification email?"})})]})})]})]})})}const tSe=Xr({email:mt().email("Invalid email address")});function rSe(){const[,t]=js(),{toast:r}=or(),[n,s]=j.useState(!1),a=Da({resolver:La(tSe),defaultValues:{email:""}}),i=ot({mutationFn:async l=>await Ze("/api/auth/forgot-password","POST",l),onSuccess:()=>{s(!0),r({title:"Email Sent",description:"Check your email for password reset instructions."})},onError:l=>{r({title:"Error",description:l.message,variant:"destructive"})}}),o=l=>{i.mutate(l)};return n?e.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"relative backdrop-blur-xl bg-black/40 border border-white/10 rounded-2xl p-8 shadow-2xl text-center",style:{boxShadow:"0 8px 32px 0 rgba(255, 0, 0, 0.1), inset 0 0 20px rgba(212, 169, 89, 0.05)"},children:[e.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-[#ff0000]/5 via-transparent to-[#d4a959]/5 pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-16 h-16 bg-green-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(vh,{className:"w-8 h-8 text-green-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Check Your Email"}),e.jsxs("p",{className:"text-zinc-400 mb-6",children:["We've sent password reset instructions to"," ",e.jsx("span",{className:"text-[#d4a959]",children:a.getValues("email")})]}),e.jsx("p",{className:"text-sm text-zinc-500 mb-6",children:"The link will expire in 1 hour. If you don't see the email, check your spam folder."}),e.jsx(V,{onClick:()=>t("/auth/login"),"data-testid":"button-back-to-login",className:"w-full bg-[#ff0000] hover:bg-[#cc0000] text-white font-bold",children:"Back to Login"})]})]})})}):e.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"font-display text-5xl font-bold mb-2",children:[e.jsx("span",{className:"text-[#ff0000]",children:"Boy"}),e.jsx("span",{className:"text-[#d4a959]",children:"Fanz"})]}),e.jsx("p",{className:"text-zinc-400 text-sm",children:"Reset your password"})]}),e.jsxs("div",{className:"relative backdrop-blur-xl bg-black/40 border border-white/10 rounded-2xl p-8 shadow-2xl",style:{boxShadow:"0 8px 32px 0 rgba(255, 0, 0, 0.1), inset 0 0 20px rgba(212, 169, 89, 0.05)"},children:[e.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-[#ff0000]/5 via-transparent to-[#d4a959]/5 pointer-events-none"}),e.jsx(Ra,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(o),className:"space-y-6 relative z-10",children:[e.jsx("div",{className:"text-center mb-6",children:e.jsx("p",{className:"text-zinc-400 text-sm",children:"Enter your email address and we'll send you instructions to reset your password."})}),e.jsx(Pt,{control:a.control,name:"email",render:({field:l})=>e.jsxs(Ct,{children:[e.jsx(kt,{className:"text-zinc-300 font-medium",children:"Email"}),e.jsx(At,{children:e.jsxs("div",{className:"relative",children:[e.jsx(kl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),e.jsx(Ue,{...l,type:"email",placeholder:"you@example.com","data-testid":"input-email",className:"pl-10 bg-black/60 border-white/10 text-white placeholder:text-zinc-600 focus:border-[#ff0000]/50 focus:ring-[#ff0000]/20"})]})}),e.jsx(It,{className:"text-red-400 text-xs"})]})}),e.jsx(V,{type:"submit",disabled:i.isPending,"data-testid":"button-send-reset-link",className:"w-full h-12 bg-[#ff0000] hover:bg-[#cc0000] text-white font-bold text-base shadow-lg shadow-red-500/20 transition-all",children:i.isPending?e.jsxs(e.Fragment,{children:[e.jsx(oa,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):"Send Reset Link"}),e.jsxs("button",{type:"button",onClick:()=>t("/auth/login"),"data-testid":"link-back-to-login",className:"w-full flex items-center justify-center gap-2 text-zinc-500 hover:text-zinc-300 text-sm transition-colors",children:[e.jsx(Cl,{className:"w-4 h-4"}),"Back to login"]})]})})]})]})})}const nSe=Xr({password:mt().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:mt()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function sSe(){const[,t]=js(),r=F8(),{toast:n}=or(),[s,a]=j.useState(!1),[i,o]=j.useState(!1),[l,u]=j.useState(null),[m,f]=j.useState(!1);j.useEffect(()=>{const _=new URLSearchParams(r).get("token");_?u(_):(n({title:"Invalid Link",description:"Password reset token is missing.",variant:"destructive"}),t("/auth/forgot-password"))},[r]);const p=Da({resolver:La(nSe),defaultValues:{password:"",confirmPassword:""}}),g=ot({mutationFn:async y=>{if(!l)throw new Error("Token missing");return await Ze("/api/auth/reset-password","POST",{token:l,password:y.password})},onSuccess:()=>{f(!0),n({title:"Password Reset Successful",description:"You can now log in with your new password."})},onError:y=>{n({title:"Reset Failed",description:y.message,variant:"destructive"})}}),b=y=>{g.mutate(y)};return m?e.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"relative backdrop-blur-xl bg-black/40 border border-white/10 rounded-2xl p-8 shadow-2xl text-center",style:{boxShadow:"0 8px 32px 0 rgba(255, 0, 0, 0.1), inset 0 0 20px rgba(212, 169, 89, 0.05)"},children:[e.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-[#ff0000]/5 via-transparent to-[#d4a959]/5 pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-16 h-16 bg-green-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(vh,{className:"w-8 h-8 text-green-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Password Reset Complete"}),e.jsx("p",{className:"text-zinc-400 mb-6",children:"Your password has been successfully reset. You can now log in with your new password."}),e.jsx(V,{onClick:()=>t("/auth/login"),"data-testid":"button-login",className:"w-full bg-[#ff0000] hover:bg-[#cc0000] text-white font-bold",children:"Go to Login"})]})]})})}):e.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"font-display text-5xl font-bold mb-2",children:[e.jsx("span",{className:"text-[#ff0000]",children:"Boy"}),e.jsx("span",{className:"text-[#d4a959]",children:"Fanz"})]}),e.jsx("p",{className:"text-zinc-400 text-sm",children:"Create a new password"})]}),e.jsxs("div",{className:"relative backdrop-blur-xl bg-black/40 border border-white/10 rounded-2xl p-8 shadow-2xl",style:{boxShadow:"0 8px 32px 0 rgba(255, 0, 0, 0.1), inset 0 0 20px rgba(212, 169, 89, 0.05)"},children:[e.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-[#ff0000]/5 via-transparent to-[#d4a959]/5 pointer-events-none"}),e.jsx(Ra,{...p,children:e.jsxs("form",{onSubmit:p.handleSubmit(b),className:"space-y-6 relative z-10",children:[e.jsx(Pt,{control:p.control,name:"password",render:({field:y})=>e.jsxs(Ct,{children:[e.jsx(kt,{className:"text-zinc-300 font-medium",children:"New Password"}),e.jsx(At,{children:e.jsxs("div",{className:"relative",children:[e.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),e.jsx(Ue,{...y,type:s?"text":"password",placeholder:"Create a strong password","data-testid":"input-password",className:"pl-10 pr-10 bg-black/60 border-white/10 text-white placeholder:text-zinc-600 focus:border-[#ff0000]/50 focus:ring-[#ff0000]/20"}),e.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-500 hover:text-zinc-300","data-testid":"button-toggle-password",children:s?e.jsx(vx,{className:"w-4 h-4"}):e.jsx(pr,{className:"w-4 h-4"})})]})}),e.jsx(It,{className:"text-red-400 text-xs"})]})}),e.jsx(Pt,{control:p.control,name:"confirmPassword",render:({field:y})=>e.jsxs(Ct,{children:[e.jsx(kt,{className:"text-zinc-300 font-medium",children:"Confirm New Password"}),e.jsx(At,{children:e.jsxs("div",{className:"relative",children:[e.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),e.jsx(Ue,{...y,type:i?"text":"password",placeholder:"Re-enter your password","data-testid":"input-confirm-password",className:"pl-10 pr-10 bg-black/60 border-white/10 text-white placeholder:text-zinc-600 focus:border-[#ff0000]/50 focus:ring-[#ff0000]/20"}),e.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-500 hover:text-zinc-300","data-testid":"button-toggle-confirm-password",children:i?e.jsx(vx,{className:"w-4 h-4"}):e.jsx(pr,{className:"w-4 h-4"})})]})}),e.jsx(It,{className:"text-red-400 text-xs"})]})}),e.jsx(V,{type:"submit",disabled:g.isPending,"data-testid":"button-reset-password",className:"w-full h-12 bg-[#ff0000] hover:bg-[#cc0000] text-white font-bold text-base shadow-lg shadow-red-500/20 transition-all",children:g.isPending?e.jsxs(e.Fragment,{children:[e.jsx(oa,{className:"w-4 h-4 mr-2 animate-spin"}),"Resetting..."]}):"Reset Password"})]})})]})]})})}function aSe(){const[,t]=js(),r=F8(),{toast:n}=or(),[s,a]=j.useState("verifying"),i=ot({mutationFn:async o=>await Ze("/api/auth/verify-email","POST",{token:o}),onSuccess:()=>{a("success"),n({title:"Email Verified!",description:"Your email has been successfully verified. You can now log in."})},onError:o=>{a("error"),n({title:"Verification Failed",description:o.message,variant:"destructive"})}});return j.useEffect(()=>{const l=new URLSearchParams(r).get("token");l?i.mutate(l):(a("error"),n({title:"Invalid Link",description:"Email verification token is missing.",variant:"destructive"}))},[r]),e.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsxs("h1",{className:"font-display text-5xl font-bold mb-2",children:[e.jsx("span",{className:"text-[#ff0000]",children:"Boy"}),e.jsx("span",{className:"text-[#d4a959]",children:"Fanz"})]})}),e.jsxs("div",{className:"relative backdrop-blur-xl bg-black/40 border border-white/10 rounded-2xl p-8 shadow-2xl text-center",style:{boxShadow:"0 8px 32px 0 rgba(255, 0, 0, 0.1), inset 0 0 20px rgba(212, 169, 89, 0.05)"},children:[e.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-[#ff0000]/5 via-transparent to-[#d4a959]/5 pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:[s==="verifying"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-[#ff0000]/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(oa,{className:"w-8 h-8 text-[#ff0000] animate-spin"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2","data-testid":"text-verifying",children:"Verifying Your Email"}),e.jsx("p",{className:"text-zinc-400",children:"Please wait while we verify your email address..."})]}),s==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-green-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(vh,{className:"w-8 h-8 text-green-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2","data-testid":"text-success",children:"Email Verified!"}),e.jsx("p",{className:"text-zinc-400 mb-6",children:"Your email has been successfully verified. You can now log in to your account."}),e.jsx(V,{onClick:()=>t("/auth/login"),"data-testid":"button-login",className:"w-full bg-[#ff0000] hover:bg-[#cc0000] text-white font-bold",children:"Go to Login"})]}),s==="error"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ln,{className:"w-8 h-8 text-red-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2","data-testid":"text-error",children:"Verification Failed"}),e.jsx("p",{className:"text-zinc-400 mb-6",children:"The verification link is invalid or has expired."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(V,{onClick:()=>t("/auth/resend-verification"),"data-testid":"button-resend",className:"w-full bg-[#ff0000] hover:bg-[#cc0000] text-white font-bold",children:[e.jsx(kl,{className:"w-4 h-4 mr-2"}),"Resend Verification Email"]}),e.jsx(V,{onClick:()=>t("/auth/login"),"data-testid":"button-back-to-login",variant:"outline",className:"w-full border-white/10 text-zinc-300 hover:bg-white/5",children:"Back to Login"})]})]})]})]})]})})}const iSe=Xr({email:mt().email("Invalid email address")});function oSe(){const[,t]=js(),{toast:r}=or(),[n,s]=j.useState(!1),a=Da({resolver:La(iSe),defaultValues:{email:""}}),i=ot({mutationFn:async l=>await Ze("/api/auth/resend-verification","POST",l),onSuccess:()=>{s(!0),r({title:"Email Sent",description:"Check your email for the verification link."})},onError:l=>{r({title:"Error",description:l.message,variant:"destructive"})}}),o=l=>{i.mutate(l)};return n?e.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"relative backdrop-blur-xl bg-black/40 border border-white/10 rounded-2xl p-8 shadow-2xl text-center",style:{boxShadow:"0 8px 32px 0 rgba(255, 0, 0, 0.1), inset 0 0 20px rgba(212, 169, 89, 0.05)"},children:[e.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-[#ff0000]/5 via-transparent to-[#d4a959]/5 pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-16 h-16 bg-green-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(vh,{className:"w-8 h-8 text-green-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Check Your Email"}),e.jsxs("p",{className:"text-zinc-400 mb-6",children:["We've sent a new verification link to"," ",e.jsx("span",{className:"text-[#d4a959]",children:a.getValues("email")})]}),e.jsx("p",{className:"text-sm text-zinc-500 mb-6",children:"If you don't see the email, check your spam folder."}),e.jsx(V,{onClick:()=>t("/auth/login"),"data-testid":"button-back-to-login",className:"w-full bg-[#ff0000] hover:bg-[#cc0000] text-white font-bold",children:"Back to Login"})]})]})})}):e.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"font-display text-5xl font-bold mb-2",children:[e.jsx("span",{className:"text-[#ff0000]",children:"Boy"}),e.jsx("span",{className:"text-[#d4a959]",children:"Fanz"})]}),e.jsx("p",{className:"text-zinc-400 text-sm",children:"Resend verification email"})]}),e.jsxs("div",{className:"relative backdrop-blur-xl bg-black/40 border border-white/10 rounded-2xl p-8 shadow-2xl",style:{boxShadow:"0 8px 32px 0 rgba(255, 0, 0, 0.1), inset 0 0 20px rgba(212, 169, 89, 0.05)"},children:[e.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-[#ff0000]/5 via-transparent to-[#d4a959]/5 pointer-events-none"}),e.jsx(Ra,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(o),className:"space-y-6 relative z-10",children:[e.jsx("div",{className:"text-center mb-6",children:e.jsx("p",{className:"text-zinc-400 text-sm",children:"Enter your email address and we'll send you a new verification link."})}),e.jsx(Pt,{control:a.control,name:"email",render:({field:l})=>e.jsxs(Ct,{children:[e.jsx(kt,{className:"text-zinc-300 font-medium",children:"Email"}),e.jsx(At,{children:e.jsxs("div",{className:"relative",children:[e.jsx(kl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),e.jsx(Ue,{...l,type:"email",placeholder:"you@example.com","data-testid":"input-email",className:"pl-10 bg-black/60 border-white/10 text-white placeholder:text-zinc-600 focus:border-[#ff0000]/50 focus:ring-[#ff0000]/20"})]})}),e.jsx(It,{className:"text-red-400 text-xs"})]})}),e.jsx(V,{type:"submit",disabled:i.isPending,"data-testid":"button-resend-verification",className:"w-full h-12 bg-[#ff0000] hover:bg-[#cc0000] text-white font-bold text-base shadow-lg shadow-red-500/20 transition-all",children:i.isPending?e.jsxs(e.Fragment,{children:[e.jsx(oa,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):"Resend Verification Email"}),e.jsxs("button",{type:"button",onClick:()=>t("/auth/login"),"data-testid":"link-back-to-login",className:"w-full flex items-center justify-center gap-2 text-zinc-500 hover:text-zinc-300 text-sm transition-colors",children:[e.jsx(Cl,{className:"w-4 h-4"}),"Back to login"]})]})})]})]})})}var bK={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},u8=le.createContext&&le.createContext(bK),lSe=["attr","size","title"];function cSe(t,r){if(t==null)return{};var n=dSe(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function dSe(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Pb(){return Pb=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Pb.apply(this,arguments)}function h8(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Tb(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?h8(Object(n),!0).forEach(function(s){uSe(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h8(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function uSe(t,r,n){return r=hSe(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function hSe(t){var r=mSe(t,"string");return typeof r=="symbol"?r:r+""}function mSe(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function jK(t){return t&&t.map((r,n)=>le.createElement(r.tag,Tb({key:n},r.attr),jK(r.child)))}function Qg(t){return r=>le.createElement(fSe,Pb({attr:Tb({},t.attr)},r),jK(t.child))}function fSe(t){var r=n=>{var{attr:s,size:a,title:i}=t,o=cSe(t,lSe),l=a||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),le.createElement("svg",Pb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,o,{className:u,style:Tb(Tb({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&le.createElement("title",null,i),t.children)};return u8!==void 0?le.createElement(u8.Consumer,null,n=>r(n)):r(bK)}function pSe(t){return Qg({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(t)}function xSe(t){return Qg({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(t)}function gSe(t){return Qg({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function vSe(t){return Qg({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}function ySe(t){return Qg({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}const bSe=[{name:"Google",provider:"google",icon:vSe,color:"hover:bg-red-600",bgColor:"bg-red-500"},{name:"Facebook",provider:"facebook",icon:xSe,color:"hover:bg-blue-700",bgColor:"bg-blue-600"},{name:"Twitter",provider:"twitter",icon:ySe,color:"hover:bg-sky-600",bgColor:"bg-sky-500"},{name:"Discord",provider:"discord",icon:pSe,color:"hover:bg-indigo-700",bgColor:"bg-indigo-600"},{name:"GitHub",provider:"github",icon:gSe,color:"hover:bg-gray-800",bgColor:"bg-gray-700"}];function jT({mode:t="login",variant:r="outline",size:n="default",className:s="",role:a}){const[i,o]=j.useState(null),l=u=>{o(u);let m=`/auth/${u}`;t==="signup"&&a&&(m+=`?role=${a}`),window.location.href=m};return e.jsxs("div",{className:`space-y-4 ${s}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx(Tn,{className:"bg-gradient-to-r from-pink-500/20 via-purple-500/20 to-cyan-500/20"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"bg-black dark:bg-gray-900 px-4 text-sm text-gray-400 uppercase tracking-wider font-medium",children:t==="login"?"Or sign in with":"Or sign up with"})})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:bSe.map(u=>{const m=u.icon,f=i===u.provider;return e.jsxs(V,{variant:r,size:n,onClick:()=>l(u.provider),disabled:f,"data-testid":`button-social-${u.provider}`,className:`
                relative overflow-hidden transition-all duration-300 
                border-2 border-gray-700 dark:border-gray-600
                ${r==="outline"?`hover:border-${u.provider==="google"?"red":u.provider==="facebook"?"blue":u.provider==="twitter"?"sky":u.provider==="discord"?"indigo":"gray"}-500 hover:text-white hover:${u.bgColor}`:`${u.bgColor} ${u.color} text-white border-transparent`}
                hover:scale-105 hover:shadow-lg hover:shadow-${u.provider==="google"?"red":u.provider==="facebook"?"blue":u.provider==="twitter"?"sky":u.provider==="discord"?"indigo":"gray"}-500/25
                focus:ring-2 focus:ring-${u.provider==="google"?"red":u.provider==="facebook"?"blue":u.provider==="twitter"?"sky":u.provider==="discord"?"indigo":"gray"}-500
                group
              `,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-500/0 via-purple-500/0 to-cyan-500/0 group-hover:from-pink-500/10 group-hover:via-purple-500/10 group-hover:to-cyan-500/10 transition-all duration-500"}),e.jsxs("div",{className:"relative flex items-center justify-center space-x-2",children:[e.jsx(m,{className:`text-lg ${f?"animate-spin":""}`}),e.jsx("span",{className:"font-medium text-sm hidden sm:inline",children:u.name})]}),e.jsx("div",{className:"absolute inset-0 rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx("div",{className:"absolute inset-0 rounded-md border border-gradient-to-r from-pink-500 via-purple-500 to-cyan-500 animate-pulse"})})]},u.provider)})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t==="login"?"Sign in securely with your social account":"Create your account using your favorite social platform"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-500 mt-1",children:"We never store your social account passwords"})]})]})}function jSe(){const[,t]=js(),{registerMutation:r,user:n}=kr(),{toast:s}=or(),[a,i]=j.useState("welcome"),[o,l]=j.useState({username:"",email:"",password:"",confirmPassword:"",displayName:"",stageName:"",pronouns:"",bio:"",niches:[],agreeToTerms:!1,over18:!1,payoutMethod:"",payoutDetails:""});if(n)return t("/"),null;const u=["welcome","account","profile","verification","monetization","complete"],m=u.indexOf(a),f=(m+1)/u.length*100,p=["Fitness & Wellness","Gaming","Music","Art","Fashion","Lifestyle","Adult Content","Education","Tech","Food & Cooking"],g=()=>{const k=m+1;k<u.length&&i(u[k])},b=()=>{const k=m-1;k>=0&&i(u[k])},y=async()=>{if(!o.agreeToTerms||!o.over18){s({title:"Agreement Required",description:"You must agree to the terms and confirm you are 18+",variant:"destructive"});return}if(o.password!==o.confirmPassword){s({title:"Password Mismatch",description:"Passwords do not match",variant:"destructive"});return}r.mutate({username:o.username,email:o.email,password:o.password,role:"creator",firstName:o.displayName.split(" ")[0]||o.displayName,lastName:o.displayName.split(" ").slice(1).join(" ")||""})},_=(k,A)=>{l(P=>({...P,[k]:A}))},w=k=>{l(A=>({...A,niches:A.niches.includes(k)?A.niches.filter(P=>P!==k):[...A.niches,k]}))};return e.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-4xl",children:[a!=="welcome"&&a!=="complete"&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between mb-2 text-sm",children:[e.jsxs("span",{className:"text-zinc-400",children:["Step ",m+1," of ",u.length]}),e.jsxs("span",{className:"text-[#ff0000]",children:[Math.round(f),"% Complete"]})]}),e.jsx(bs,{value:f,className:"h-2 bg-zinc-800"})]}),e.jsxs(Y,{className:"bg-zinc-900/50 border-[#ff0000]/30 backdrop-blur-sm",children:[a==="welcome"&&e.jsxs("div",{className:"p-8 md:p-12 text-center",children:[e.jsx("div",{className:"mx-auto mb-6 w-20 h-20 bg-gradient-to-br from-[#ff0000]/20 to-[#d4a959]/20 rounded-full flex items-center justify-center border border-[#ff0000]/30",children:e.jsx(Rd,{className:"h-10 w-10 text-[#ff0000]"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-['Bebas_Neue'] text-white mb-4 tracking-wide",children:"Claim Your Star Power"}),e.jsx("p",{className:"text-xl text-zinc-400 mb-8 max-w-2xl mx-auto",children:"Join the creator economy that puts you first. Build your empire with 100% earnings, full content ownership, and powerful community tools."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8 max-w-3xl mx-auto",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-zinc-800/50 border border-zinc-700",children:[e.jsx(qr,{className:"w-8 h-8 text-[#d4a959] mx-auto mb-2"}),e.jsx("h3",{className:"text-white font-semibold mb-1",children:"100% Earnings"}),e.jsx("p",{className:"text-sm text-zinc-400",children:"Keep everything you make"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-zinc-800/50 border border-zinc-700",children:[e.jsx(Mr,{className:"w-8 h-8 text-[#ff0000] mx-auto mb-2"}),e.jsx("h3",{className:"text-white font-semibold mb-1",children:"Full Ownership"}),e.jsx("p",{className:"text-sm text-zinc-400",children:"Your content, your rules"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-zinc-800/50 border border-zinc-700",children:[e.jsx(lr,{className:"w-8 h-8 text-[#d4a959] mx-auto mb-2"}),e.jsx("h3",{className:"text-white font-semibold mb-1",children:"Community Tools"}),e.jsx("p",{className:"text-sm text-zinc-400",children:"Engage like never before"})]})]}),e.jsxs(V,{onClick:g,className:"bg-[#ff0000] hover:bg-[#cc0000] text-white px-8 py-6 text-lg","data-testid":"button-start-creator-signup",children:["Start Your Journey",e.jsx(fa,{className:"ml-2 h-5 w-5"})]}),e.jsxs("p",{className:"mt-6 text-sm text-zinc-500",children:["Already have an account?"," ",e.jsx(_t,{href:"/auth/login",className:"text-[#ff0000] hover:underline",children:"Sign In"})]})]}),a==="account"&&e.jsxs("div",{className:"p-8",children:[e.jsxs(ue,{children:[e.jsx(fe,{className:"text-2xl font-['Bebas_Neue'] text-white",children:"Create Your Account"}),e.jsx(lt,{className:"text-zinc-400",children:"Choose your preferred sign-up method"})]}),e.jsxs(ee,{className:"space-y-6",children:[e.jsx(jT,{role:"creator","data-testid":"social-login-creator"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t border-zinc-700"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-zinc-900 px-2 text-zinc-500",children:"Or continue with email"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(et,{htmlFor:"email",className:"text-zinc-300",children:"Email Address"}),e.jsx(Ue,{id:"email",type:"email",placeholder:"creator@example.com",value:o.email,onChange:k=>_("email",k.target.value),className:"bg-zinc-800 border-zinc-700 text-white mt-1","data-testid":"input-creator-email",required:!0})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"username",className:"text-zinc-300",children:"Creator Username"}),e.jsx(Ue,{id:"username",type:"text",placeholder:"@yourcreatorname",value:o.username,onChange:k=>_("username",k.target.value),className:"bg-zinc-800 border-zinc-700 text-white mt-1","data-testid":"input-creator-username",required:!0})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"password",className:"text-zinc-300",children:"Password"}),e.jsx(Ue,{id:"password",type:"password",placeholder:"Create a strong password",value:o.password,onChange:k=>_("password",k.target.value),className:"bg-zinc-800 border-zinc-700 text-white mt-1","data-testid":"input-creator-password",required:!0})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"confirmPassword",className:"text-zinc-300",children:"Confirm Password"}),e.jsx(Ue,{id:"confirmPassword",type:"password",placeholder:"Re-enter your password",value:o.confirmPassword,onChange:k=>_("confirmPassword",k.target.value),className:"bg-zinc-800 border-zinc-700 text-white mt-1","data-testid":"input-creator-confirm-password",required:!0})]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(V,{onClick:b,variant:"outline",className:"border-zinc-700","data-testid":"button-back-account",children:"Back"}),e.jsxs(V,{onClick:g,className:"bg-[#ff0000] hover:bg-[#cc0000]","data-testid":"button-next-account",disabled:!o.email||!o.username||!o.password||!o.confirmPassword,children:["Continue",e.jsx(fa,{className:"ml-2 h-4 w-4"})]})]})]})]}),a==="profile"&&e.jsxs("div",{className:"p-8",children:[e.jsxs(ue,{children:[e.jsx(fe,{className:"text-2xl font-['Bebas_Neue'] text-white",children:"Build Your Creator Profile"}),e.jsx(lt,{className:"text-zinc-400",children:"Tell your fans who you are"})]}),e.jsxs(ee,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(et,{htmlFor:"displayName",className:"text-zinc-300",children:"Display Name"}),e.jsx(Ue,{id:"displayName",placeholder:"Your real or public name",value:o.displayName,onChange:k=>_("displayName",k.target.value),className:"bg-zinc-800 border-zinc-700 text-white mt-1","data-testid":"input-display-name"})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"stageName",className:"text-zinc-300",children:"Stage Name"}),e.jsx(Ue,{id:"stageName",placeholder:"Your creative alias",value:o.stageName,onChange:k=>_("stageName",k.target.value),className:"bg-zinc-800 border-zinc-700 text-white mt-1","data-testid":"input-stage-name"})]})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"pronouns",className:"text-zinc-300",children:"Pronouns (Optional)"}),e.jsx(Ue,{id:"pronouns",placeholder:"e.g., they/them, she/her, he/him",value:o.pronouns,onChange:k=>_("pronouns",k.target.value),className:"bg-zinc-800 border-zinc-700 text-white mt-1","data-testid":"input-pronouns"})]}),e.jsxs("div",{children:[e.jsx(et,{className:"text-zinc-300 mb-3 block",children:"Select Your Niches"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(k=>e.jsxs(ce,{onClick:()=>w(k),className:`cursor-pointer transition-all ${o.niches.includes(k)?"bg-[#ff0000] text-white border-[#ff0000]":"bg-zinc-800 text-zinc-400 border-zinc-700 hover:border-[#ff0000]/50"}`,"data-testid":`badge-niche-${k.toLowerCase().replace(/\s+/g,"-")}`,children:[o.niches.includes(k)&&e.jsx(vl,{className:"w-3 h-3 mr-1"}),k]},k))})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(V,{onClick:b,variant:"outline",className:"border-zinc-700","data-testid":"button-back-profile",children:"Back"}),e.jsxs(V,{onClick:g,className:"bg-[#ff0000] hover:bg-[#cc0000]","data-testid":"button-next-profile",children:["Continue",e.jsx(fa,{className:"ml-2 h-4 w-4"})]})]})]})]}),a==="verification"&&e.jsxs("div",{className:"p-8",children:[e.jsxs(ue,{children:[e.jsx(fe,{className:"text-2xl font-['Bebas_Neue'] text-white",children:"Verification & Compliance"}),e.jsx(lt,{className:"text-zinc-400",children:"Quick and secure identity verification"})]}),e.jsxs(ee,{className:"space-y-6",children:[e.jsx("div",{className:"p-6 rounded-lg border border-[#d4a959]/30 bg-[#d4a959]/5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(Mr,{className:"w-8 h-8 text-[#d4a959] flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold mb-2",children:"Why We Verify"}),e.jsx("p",{className:"text-sm text-zinc-400",children:"We verify all creators to ensure platform safety, comply with regulations, and protect both you and your fans. Your data is encrypted and secure."})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Jn,{id:"over18",checked:o.over18,onCheckedChange:k=>_("over18",k),"data-testid":"checkbox-over-18"}),e.jsx("label",{htmlFor:"over18",className:"text-sm text-zinc-300 cursor-pointer",children:"I confirm that I am 18 years of age or older"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Jn,{id:"agreeToTerms",checked:o.agreeToTerms,onCheckedChange:k=>_("agreeToTerms",k),"data-testid":"checkbox-agree-terms"}),e.jsxs("label",{htmlFor:"agreeToTerms",className:"text-sm text-zinc-300 cursor-pointer",children:["I agree to the"," ",e.jsx(_t,{href:"/terms",className:"text-[#ff0000] hover:underline",children:"Terms of Service"})," ","and"," ",e.jsx(_t,{href:"/privacy",className:"text-[#ff0000] hover:underline",children:"Privacy Policy"})]})]})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-zinc-800/50 border border-zinc-700",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Pa,{className:"w-5 h-5 text-[#ff0000]"}),e.jsx("span",{className:"text-white font-medium",children:"ID Verification (Coming Soon)"})]}),e.jsx("p",{className:"text-sm text-zinc-400",children:"You'll be prompted to complete ID verification via a secure photo + selfie match after account creation. This ensures platform compliance and unlocks monetization features."})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(V,{onClick:b,variant:"outline",className:"border-zinc-700","data-testid":"button-back-verification",children:"Back"}),e.jsxs(V,{onClick:g,className:"bg-[#ff0000] hover:bg-[#cc0000]","data-testid":"button-next-verification",disabled:!o.over18||!o.agreeToTerms,children:["Continue",e.jsx(fa,{className:"ml-2 h-4 w-4"})]})]})]})]}),a==="monetization"&&e.jsxs("div",{className:"p-8",children:[e.jsxs(ue,{children:[e.jsx(fe,{className:"text-2xl font-['Bebas_Neue'] text-white",children:"Set Up Payouts"}),e.jsx(lt,{className:"text-zinc-400",children:"Choose how you want to receive your 100% earnings"})]}),e.jsxs(ee,{className:"space-y-6",children:[e.jsxs("div",{className:"p-6 rounded-lg border border-[#d4a959]/30 bg-gradient-to-br from-[#d4a959]/10 to-transparent",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-zinc-400",children:"Your Estimated Earnings"}),e.jsx(Ls,{className:"w-5 h-5 text-[#d4a959]"})]}),e.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:"100% Yours"}),e.jsx("p",{className:"text-sm text-zinc-400",children:"Unlike other platforms, you keep every dollar you earn. No platform fees, no hidden charges."})]}),e.jsxs("div",{children:[e.jsx(et,{className:"text-zinc-300 mb-3 block",children:"Select Payout Method"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["PayPal","Bank Transfer","Crypto Wallet","Paxum"].map(k=>e.jsx("div",{onClick:()=>_("payoutMethod",k),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${o.payoutMethod===k?"border-[#ff0000] bg-[#ff0000]/10":"border-zinc-700 bg-zinc-800/50 hover:border-zinc-600"}`,"data-testid":`payout-method-${k.toLowerCase().replace(/\s+/g,"-")}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[o.payoutMethod===k&&e.jsx("div",{className:"w-5 h-5 rounded-full bg-[#ff0000] flex items-center justify-center",children:e.jsx(vl,{className:"w-3 h-3 text-white"})}),e.jsx("span",{className:"text-white font-medium",children:k})]})},k))})]}),o.payoutMethod&&e.jsxs("div",{children:[e.jsx(et,{htmlFor:"payoutDetails",className:"text-zinc-300",children:"Payout Details"}),e.jsx(Ue,{id:"payoutDetails",placeholder:`Enter your ${o.payoutMethod} details`,value:o.payoutDetails,onChange:k=>_("payoutDetails",k.target.value),className:"bg-zinc-800 border-zinc-700 text-white mt-1","data-testid":"input-payout-details"}),e.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"You can update this later in your account settings"})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(V,{onClick:b,variant:"outline",className:"border-zinc-700","data-testid":"button-back-monetization",children:"Back"}),e.jsxs(V,{onClick:g,className:"bg-[#ff0000] hover:bg-[#cc0000]","data-testid":"button-next-monetization",children:["Continue",e.jsx(fa,{className:"ml-2 h-4 w-4"})]})]})]})]}),a==="complete"&&e.jsxs("div",{className:"p-8 md:p-12 text-center",children:[e.jsx("div",{className:"mx-auto mb-6 w-20 h-20 bg-gradient-to-br from-[#ff0000]/20 to-[#d4a959]/20 rounded-full flex items-center justify-center border border-[#ff0000]/30 animate-pulse",children:e.jsx(An,{className:"h-10 w-10 text-[#d4a959]"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-['Bebas_Neue'] text-white mb-4 tracking-wide",children:"Welcome to Your Empire!"}),e.jsx("p",{className:"text-xl text-zinc-400 mb-8 max-w-2xl mx-auto",children:"Your creator account is almost ready. Complete your registration to unlock your dashboard and start building your community."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8 max-w-3xl mx-auto",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-zinc-800/50 border border-zinc-700",children:[e.jsx(zi,{className:"w-8 h-8 text-[#ff0000] mx-auto mb-2"}),e.jsx("h3",{className:"text-white font-semibold mb-1",children:"Upload Content"}),e.jsx("p",{className:"text-sm text-zinc-400",children:"Share photos, videos & more"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-zinc-800/50 border border-zinc-700",children:[e.jsx(lr,{className:"w-8 h-8 text-[#d4a959] mx-auto mb-2"}),e.jsx("h3",{className:"text-white font-semibold mb-1",children:"Go Live"}),e.jsx("p",{className:"text-sm text-zinc-400",children:"Stream to your fans in real-time"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-zinc-800/50 border border-zinc-700",children:[e.jsx(Vd,{className:"w-8 h-8 text-[#ff0000] mx-auto mb-2"}),e.jsx("h3",{className:"text-white font-semibold mb-1",children:"Earn Instantly"}),e.jsx("p",{className:"text-sm text-zinc-400",children:"Get paid for every interaction"})]})]}),e.jsxs(V,{onClick:y,disabled:r.isPending,className:"bg-[#ff0000] hover:bg-[#cc0000] text-white px-8 py-6 text-lg","data-testid":"button-complete-signup",children:[r.isPending?"Creating Your Account...":"Enter Your Dashboard",e.jsx(fa,{className:"ml-2 h-5 w-5"})]})]})]})]})})}function wSe(){const[,t]=js(),{registerMutation:r,user:n}=kr(),{toast:s}=or(),[a,i]=j.useState("welcome"),[o,l]=j.useState({username:"",email:"",password:"",confirmPassword:"",displayName:"",birthday:"",interests:[],paymentAdded:!1,agreeToTerms:!1,over18:!1});if(n)return t("/"),null;const u=["welcome","account","personalization","payment","complete"],m=u.indexOf(a),f=(m+1)/u.length*100,p=["Fitness","Gaming","Music","Art","Fashion","Lifestyle","Adult","Education","Tech","Food","Travel","Sports","Comedy","Beauty","Dance"],g=()=>{const A=m+1;A<u.length&&i(u[A])},b=()=>{const A=m-1;A>=0&&i(u[A])},y=()=>{i("complete")},_=async()=>{if(!o.agreeToTerms||!o.over18){s({title:"Agreement Required",description:"You must agree to the terms and confirm you are 18+",variant:"destructive"});return}if(o.password!==o.confirmPassword){s({title:"Password Mismatch",description:"Passwords do not match",variant:"destructive"});return}r.mutate({username:o.username,email:o.email,password:o.password,role:"fan",firstName:o.displayName.split(" ")[0]||o.displayName,lastName:o.displayName.split(" ").slice(1).join(" ")||""})},w=(A,P)=>{l(O=>({...O,[A]:P}))},k=A=>{l(P=>({...P,interests:P.interests.includes(A)?P.interests.filter(O=>O!==A):[...P.interests,A]}))};return e.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-4xl",children:[a!=="welcome"&&a!=="complete"&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between mb-2 text-sm",children:[e.jsxs("span",{className:"text-zinc-400",children:["Step ",m+1," of ",u.length]}),e.jsxs("span",{className:"text-[#d4a959]",children:[Math.round(f),"% Complete"]})]}),e.jsx(bs,{value:f,className:"h-2 bg-zinc-800"})]}),e.jsxs(Y,{className:"bg-zinc-900/50 border-[#d4a959]/30 backdrop-blur-sm",children:[a==="welcome"&&e.jsxs("div",{className:"p-8 md:p-12 text-center",children:[e.jsx("div",{className:"mx-auto mb-6 w-20 h-20 bg-gradient-to-br from-[#d4a959]/20 to-[#ff0000]/20 rounded-full flex items-center justify-center border border-[#d4a959]/30",children:e.jsx(Ma,{className:"h-10 w-10 text-[#d4a959]"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-['Bebas_Neue'] text-white mb-4 tracking-wide",children:"Discover. Connect. Support."}),e.jsx("p",{className:"text-xl text-zinc-400 mb-8 max-w-2xl mx-auto",children:"Your new world of creators awaits. Join millions discovering exclusive content and connecting with their favorite stars."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8 max-w-3xl mx-auto",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-zinc-800/50 border border-zinc-700",children:[e.jsx(pr,{className:"w-8 h-8 text-[#d4a959] mx-auto mb-2"}),e.jsx("h3",{className:"text-white font-semibold mb-1",children:"Exclusive Content"}),e.jsx("p",{className:"text-sm text-zinc-400",children:"Access unique creator posts"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-zinc-800/50 border border-zinc-700",children:[e.jsx(Pn,{className:"w-8 h-8 text-[#ff0000] mx-auto mb-2"}),e.jsx("h3",{className:"text-white font-semibold mb-1",children:"Direct Connection"}),e.jsx("p",{className:"text-sm text-zinc-400",children:"Chat with your favorites"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-zinc-800/50 border border-zinc-700",children:[e.jsx(yx,{className:"w-8 h-8 text-[#d4a959] mx-auto mb-2"}),e.jsx("h3",{className:"text-white font-semibold mb-1",children:"Support Creators"}),e.jsx("p",{className:"text-sm text-zinc-400",children:"Tips, subs, and rewards"})]})]}),e.jsxs(V,{onClick:g,className:"bg-[#d4a959] hover:bg-[#b8925e] text-white px-8 py-6 text-lg","data-testid":"button-start-fan-signup",children:["Start Exploring",e.jsx(fa,{className:"ml-2 h-5 w-5"})]}),e.jsxs("p",{className:"mt-6 text-sm text-zinc-500",children:["Already have an account?"," ",e.jsx(_t,{href:"/auth/login",className:"text-[#d4a959] hover:underline",children:"Sign In"})]})]}),a==="account"&&e.jsxs("div",{className:"p-8",children:[e.jsxs(ue,{children:[e.jsx(fe,{className:"text-2xl font-['Bebas_Neue'] text-white",children:"Create Your Account"}),e.jsx(lt,{className:"text-zinc-400",children:"Simple and secure sign-up"})]}),e.jsxs(ee,{className:"space-y-6",children:[e.jsx(jT,{role:"fan","data-testid":"social-login-fan"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t border-zinc-700"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-zinc-900 px-2 text-zinc-500",children:"Or continue with email"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(et,{htmlFor:"email",className:"text-zinc-300",children:"Email Address"}),e.jsx(Ue,{id:"email",type:"email",placeholder:"fan@example.com",value:o.email,onChange:A=>w("email",A.target.value),className:"bg-zinc-800 border-zinc-700 text-white mt-1","data-testid":"input-fan-email",required:!0})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"username",className:"text-zinc-300",children:"Username"}),e.jsx(Ue,{id:"username",type:"text",placeholder:"@yourusername",value:o.username,onChange:A=>w("username",A.target.value),className:"bg-zinc-800 border-zinc-700 text-white mt-1","data-testid":"input-fan-username",required:!0})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"displayName",className:"text-zinc-300",children:"Display Name"}),e.jsx(Ue,{id:"displayName",type:"text",placeholder:"Your name",value:o.displayName,onChange:A=>w("displayName",A.target.value),className:"bg-zinc-800 border-zinc-700 text-white mt-1","data-testid":"input-fan-display-name",required:!0})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"birthday",className:"text-zinc-300",children:"Birthday (Age Verification)"}),e.jsx(Ue,{id:"birthday",type:"date",value:o.birthday,onChange:A=>w("birthday",A.target.value),className:"bg-zinc-800 border-zinc-700 text-white mt-1","data-testid":"input-fan-birthday",required:!0}),e.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"You must be 18+ to use this platform"})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"password",className:"text-zinc-300",children:"Password"}),e.jsx(Ue,{id:"password",type:"password",placeholder:"Create a strong password",value:o.password,onChange:A=>w("password",A.target.value),className:"bg-zinc-800 border-zinc-700 text-white mt-1","data-testid":"input-fan-password",required:!0})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"confirmPassword",className:"text-zinc-300",children:"Confirm Password"}),e.jsx(Ue,{id:"confirmPassword",type:"password",placeholder:"Re-enter your password",value:o.confirmPassword,onChange:A=>w("confirmPassword",A.target.value),className:"bg-zinc-800 border-zinc-700 text-white mt-1","data-testid":"input-fan-confirm-password",required:!0})]}),e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Jn,{id:"over18",checked:o.over18,onCheckedChange:A=>w("over18",A),"data-testid":"checkbox-fan-over-18"}),e.jsx("label",{htmlFor:"over18",className:"text-sm text-zinc-300 cursor-pointer",children:"I confirm that I am 18 years of age or older"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Jn,{id:"agreeToTerms",checked:o.agreeToTerms,onCheckedChange:A=>w("agreeToTerms",A),"data-testid":"checkbox-fan-agree-terms"}),e.jsxs("label",{htmlFor:"agreeToTerms",className:"text-sm text-zinc-300 cursor-pointer",children:["I agree to the"," ",e.jsx(_t,{href:"/terms",className:"text-[#d4a959] hover:underline",children:"Terms of Service"})," ","and"," ",e.jsx(_t,{href:"/privacy",className:"text-[#d4a959] hover:underline",children:"Privacy Policy"})]})]})]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(V,{onClick:b,variant:"outline",className:"border-zinc-700","data-testid":"button-back-account",children:"Back"}),e.jsxs(V,{onClick:g,className:"bg-[#d4a959] hover:bg-[#b8925e]","data-testid":"button-next-account",disabled:!o.email||!o.username||!o.password||!o.confirmPassword||!o.over18||!o.agreeToTerms,children:["Continue",e.jsx(fa,{className:"ml-2 h-4 w-4"})]})]})]})]}),a==="personalization"&&e.jsxs("div",{className:"p-8",children:[e.jsxs(ue,{children:[e.jsx(fe,{className:"text-2xl font-['Bebas_Neue'] text-white",children:"Personalize Your Experience"}),e.jsx(lt,{className:"text-zinc-400",children:"Select interests to discover creators you'll love"})]}),e.jsxs(ee,{className:"space-y-6",children:[e.jsx("div",{className:"p-6 rounded-lg border border-[#d4a959]/30 bg-[#d4a959]/5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(Ls,{className:"w-8 h-8 text-[#d4a959] flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold mb-2",children:"We'll Create Your Perfect Feed"}),e.jsx("p",{className:"text-sm text-zinc-400",children:"Based on your interests, we'll curate a personalized feed of creators and content just for you. You can always adjust this later."})]})]})}),e.jsxs("div",{children:[e.jsx(et,{className:"text-zinc-300 mb-3 block",children:"What are you interested in?"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(A=>e.jsxs(ce,{onClick:()=>k(A),className:`cursor-pointer transition-all px-4 py-2 ${o.interests.includes(A)?"bg-[#d4a959] text-white border-[#d4a959]":"bg-zinc-800 text-zinc-400 border-zinc-700 hover:border-[#d4a959]/50"}`,"data-testid":`badge-interest-${A.toLowerCase()}`,children:[o.interests.includes(A)&&e.jsx(vl,{className:"w-3 h-3 mr-1"}),A]},A))}),e.jsx("p",{className:"text-sm text-zinc-500 mt-3",children:"Select at least 3 interests to continue"})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(V,{onClick:b,variant:"outline",className:"border-zinc-700","data-testid":"button-back-personalization",children:"Back"}),e.jsxs(V,{onClick:g,className:"bg-[#d4a959] hover:bg-[#b8925e]","data-testid":"button-next-personalization",disabled:o.interests.length<3,children:["Continue",e.jsx(fa,{className:"ml-2 h-4 w-4"})]})]})]})]}),a==="payment"&&e.jsxs("div",{className:"p-8",children:[e.jsxs(ue,{children:[e.jsx(fe,{className:"text-2xl font-['Bebas_Neue'] text-white",children:"Add Payment Method"}),e.jsx(lt,{className:"text-zinc-400",children:"Tip and subscribe to creators instantly (Optional)"})]}),e.jsxs(ee,{className:"space-y-6",children:[e.jsx("div",{className:"p-6 rounded-lg border border-[#d4a959]/30 bg-gradient-to-br from-[#d4a959]/10 to-transparent",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(vs,{className:"w-8 h-8 text-[#d4a959] flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold mb-2",children:"Why Add Payment Now?"}),e.jsxs("ul",{className:"text-sm text-zinc-400 space-y-1",children:[e.jsx("li",{children:" Send tips to creators instantly"}),e.jsx("li",{children:" Subscribe to exclusive content with one click"}),e.jsx("li",{children:" Unlock premium features and perks"})]})]})]})}),e.jsxs("div",{className:"p-4 rounded-lg bg-zinc-800/50 border border-zinc-700",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-10 h-6 bg-gradient-to-r from-blue-500 to-blue-600 rounded"}),e.jsx("div",{className:"w-10 h-6 bg-gradient-to-r from-orange-500 to-orange-600 rounded"}),e.jsx("div",{className:"w-10 h-6 bg-gradient-to-r from-purple-500 to-purple-600 rounded"})]}),e.jsx("span",{className:"text-white font-medium",children:"Secure Payment Processing"})]}),e.jsx("p",{className:"text-sm text-zinc-400",children:"Your payment information is encrypted and secure. We never see or store your card details."})]}),e.jsxs("div",{className:"p-4 rounded-lg border-2 border-dashed border-zinc-700 text-center",children:[e.jsx(vs,{className:"w-12 h-12 text-zinc-600 mx-auto mb-3"}),e.jsx("p",{className:"text-zinc-400 mb-4",children:"Payment integration coming soon"}),e.jsx("p",{className:"text-sm text-zinc-500",children:"You'll be able to add payment methods in your account settings after sign-up"})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(V,{onClick:b,variant:"outline",className:"border-zinc-700","data-testid":"button-back-payment",children:"Back"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(V,{onClick:y,variant:"outline",className:"border-zinc-700","data-testid":"button-skip-payment",children:"Skip for Now"}),e.jsxs(V,{onClick:g,className:"bg-[#d4a959] hover:bg-[#b8925e]","data-testid":"button-next-payment",children:["Add Payment",e.jsx(fa,{className:"ml-2 h-4 w-4"})]})]})]})]})]}),a==="complete"&&e.jsxs("div",{className:"p-8 md:p-12 text-center",children:[e.jsx("div",{className:"mx-auto mb-6 w-20 h-20 bg-gradient-to-br from-[#d4a959]/20 to-[#ff0000]/20 rounded-full flex items-center justify-center border border-[#d4a959]/30 animate-pulse",children:e.jsx(Ls,{className:"h-10 w-10 text-[#d4a959]"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-['Bebas_Neue'] text-white mb-4 tracking-wide",children:"Your Journey Begins!"}),e.jsx("p",{className:"text-xl text-zinc-400 mb-8 max-w-2xl mx-auto",children:"Your personalized feed is ready. Discover exclusive content, connect with creators, and support the community."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8 max-w-3xl mx-auto",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-zinc-800/50 border border-zinc-700",children:[e.jsx(pr,{className:"w-8 h-8 text-[#d4a959] mx-auto mb-2"}),e.jsx("h3",{className:"text-white font-semibold mb-1",children:"Explore Feed"}),e.jsx("p",{className:"text-sm text-zinc-400",children:"Discover amazing creators"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-zinc-800/50 border border-zinc-700",children:[e.jsx(Ma,{className:"w-8 h-8 text-[#ff0000] mx-auto mb-2"}),e.jsx("h3",{className:"text-white font-semibold mb-1",children:"Follow & Like"}),e.jsx("p",{className:"text-sm text-zinc-400",children:"Support your favorites"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-zinc-800/50 border border-zinc-700",children:[e.jsx(Pn,{className:"w-8 h-8 text-[#d4a959] mx-auto mb-2"}),e.jsx("h3",{className:"text-white font-semibold mb-1",children:"Interact"}),e.jsx("p",{className:"text-sm text-zinc-400",children:"Chat, tip, and engage"})]})]}),e.jsxs(V,{onClick:_,disabled:r.isPending,className:"bg-[#d4a959] hover:bg-[#b8925e] text-white px-8 py-6 text-lg","data-testid":"button-complete-signup",children:[r.isPending?"Creating Your Account...":"Explore Now",e.jsx(fa,{className:"ml-2 h-5 w-5"})]}),e.jsxs("p",{className:"mt-6 text-sm text-zinc-500",children:["Want to become a creator?"," ",e.jsx(_t,{href:"/auth/starz-signup",className:"text-[#ff0000] hover:underline",children:"Upgrade to Starz"})]})]})]})]})})}function _Se(){const[,t]=js(),{loginMutation:r,user:n}=kr(),{csrfToken:s,isLoading:a}=wP(),{toast:i}=or(),[o,l]=j.useState({username:"",password:""});if(n)return t("/"),null;const u=async f=>{if(f.preventDefault(),!o.username||!o.password){i({title:"Missing Information",description:"Please enter your username and password",variant:"destructive"});return}if(!s){i({title:"Security Error",description:"Security token not available. Please refresh the page.",variant:"destructive"});return}r.mutate({username:o.username,password:o.password})},m=(f,p)=>{l(g=>({...g,[f]:p}))};return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(Y,{className:"w-full max-w-md mx-auto bg-card/50 border-accent/20 backdrop-blur-sm",children:[e.jsxs(ue,{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-accent/10 rounded-full flex items-center justify-center",children:e.jsx(IF,{className:"h-8 w-8 text-accent neon-heartbeat"})}),e.jsx(fe,{className:"text-3xl font-bold font-heading neon-crimson-heading neon-breathe",children:"Welcome Back"}),e.jsx(lt,{className:"text-lg neon-white-body neon-pulse",children:"Sign in to your playground account"})]}),e.jsxs(ee,{children:[e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(et,{htmlFor:"login-username",className:"neon-white-body",children:"Username or Email"}),e.jsx(Ue,{id:"login-username",type:"text",placeholder:"@username or email@example.com",value:o.username,onChange:f=>m("username",f.target.value),className:"bg-background/80 border-accent/30 text-foreground","data-testid":"input-login-username",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(et,{htmlFor:"login-password",className:"neon-white-body",children:"Password"}),e.jsx(Ue,{id:"login-password",type:"password",placeholder:"Enter your password",value:o.password,onChange:f=>m("password",f.target.value),className:"bg-background/80 border-accent/30 text-foreground","data-testid":"input-login-password",required:!0})]}),e.jsx(V,{type:"submit",className:"w-full bg-accent hover:bg-accent/80 text-white font-semibold py-3 glow-effect",disabled:r.isPending||a||!s,"data-testid":"button-login",children:r.isPending?"Signing In...":a?"Loading...":"Enter the Playground"})]}),e.jsx("div",{className:"mt-6",children:e.jsx(jT,{mode:"login",variant:"outline",className:"w-full"})}),e.jsxs("div",{className:"mt-8 text-center space-y-4",children:[e.jsxs("p",{className:"text-sm neon-white-body",children:["Forgot your password?"," ",e.jsx(_t,{href:"/auth/reset-password",className:"text-accent hover:underline font-semibold","data-testid":"link-reset-password",children:"Reset it here"})]}),e.jsxs("div",{className:"border-t border-muted/20 pt-4",children:[e.jsx("p",{className:"text-sm neon-white-body mb-4",children:"Don't have an account yet?"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx(_t,{href:"/auth/starz-signup",className:"block",children:e.jsxs(V,{variant:"outline",className:"w-full border-primary/30 hover:bg-primary/10 text-primary hover:text-primary","data-testid":"button-join-starz",children:[e.jsx(Rd,{className:"w-4 h-4 mr-2"}),"Join as Starz"]})}),e.jsx(_t,{href:"/auth/fanz-signup",className:"block",children:e.jsxs(V,{variant:"outline",className:"w-full border-secondary/30 hover:bg-secondary/10 text-secondary hover:text-secondary","data-testid":"button-join-fanz",children:[e.jsx(Ma,{className:"w-4 h-4 mr-2"}),"Join as Fanz"]})})]})]})]})]})]}),e.jsxs("div",{className:"flex flex-col justify-center space-y-8 p-8",children:[e.jsxs("div",{className:"text-center lg:text-left",children:[e.jsx("h1",{className:"text-5xl font-bold font-heading mb-4 neon-sign-golden neon-flicker",children:"Every Man's Playground"}),e.jsx("p",{className:"text-xl neon-white-body neon-breathe mb-8",children:"Where creators become stars and fans discover their desires in the ultimate underground experience."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Rd,{className:"h-8 w-8 text-primary neon-heartbeat flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold neon-crimson-heading neon-buzz",children:"For Starz"}),e.jsx("p",{className:"text-sm neon-white-body",children:"Build your empire, monetize content, connect with fans"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Ma,{className:"h-8 w-8 text-secondary neon-dying flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold neon-crimson-heading neon-flicker",children:"For Fanz"}),e.jsx("p",{className:"text-sm neon-white-body",children:"Discover exclusive content, support creators, join the community"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Mr,{className:"h-8 w-8 text-accent neon-strobe flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold neon-crimson-heading neon-heartbeat",children:"Secure Platform"}),e.jsx("p",{className:"text-sm neon-white-body",children:"Advanced security and privacy protection"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Vd,{className:"h-8 w-8 text-primary neon-buzz flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold neon-crimson-heading neon-breathe",children:"Real-time Experience"}),e.jsx("p",{className:"text-sm neon-white-body",children:"Live streaming, instant messaging, immediate payouts"})]})]})]}),e.jsxs("div",{className:"bg-card/30 rounded-lg p-6 border border-accent/20",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(An,{className:"h-6 w-6 text-accent neon-heartbeat"}),e.jsx("h3",{className:"font-semibold neon-crimson-heading neon-dying",children:"Why Choose BoyFanz?"})]}),e.jsxs("ul",{className:"space-y-2 text-sm neon-white-body",children:[e.jsx("li",{children:" Underground club aesthetic with seductive neon vibes"}),e.jsx("li",{children:" 100% creator earnings - no platform fees"}),e.jsx("li",{children:" Advanced KYC compliance and content moderation"}),e.jsx("li",{children:" Direct messaging, tips, and custom content"}),e.jsx("li",{children:" Real-time notifications and live streaming"})]})]})]})]})})}function NSe(){const{toast:t}=or(),[r,n]=j.useState(""),[s,a]=j.useState(!1),[i,o]=j.useState(!1),l=async u=>{if(u.preventDefault(),!r){t({title:"Email Required",description:"Please enter your email address",variant:"destructive"});return}o(!0),setTimeout(()=>{o(!1),a(!0),t({title:"Reset Link Sent",description:"If an account with that email exists, we've sent you a reset link."})},2e3)};return s?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs(Y,{className:"w-full max-w-md bg-card/50 border-accent/20 backdrop-blur-sm",children:[e.jsxs(ue,{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-accent/10 rounded-full flex items-center justify-center",children:e.jsx(kl,{className:"h-8 w-8 text-accent neon-heartbeat"})}),e.jsx(fe,{className:"text-2xl font-bold font-heading neon-crimson-heading neon-breathe",children:"Check Your Email"}),e.jsxs(lt,{className:"text-lg neon-white-body neon-pulse",children:["We've sent a password reset link to ",r]})]}),e.jsxs(ee,{className:"text-center",children:[e.jsx("p",{className:"text-sm neon-white-body mb-6",children:"Didn't receive the email? Check your spam folder or try again."}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(V,{onClick:()=>a(!1),variant:"outline",className:"w-full border-accent/30 hover:bg-accent/10","data-testid":"button-try-again",children:"Try Again"}),e.jsx(_t,{href:"/auth/login",className:"block",children:e.jsxs(V,{variant:"ghost",className:"w-full text-accent hover:bg-accent/10","data-testid":"button-back-to-login",children:[e.jsx(Cl,{className:"w-4 h-4 mr-2"}),"Back to Login"]})})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs(Y,{className:"w-full max-w-md bg-card/50 border-accent/20 backdrop-blur-sm",children:[e.jsxs(ue,{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-accent/10 rounded-full flex items-center justify-center",children:e.jsx(kl,{className:"h-8 w-8 text-accent neon-heartbeat"})}),e.jsx(fe,{className:"text-2xl font-bold font-heading neon-crimson-heading neon-breathe",children:"Reset Your Password"}),e.jsx(lt,{className:"text-lg neon-white-body neon-pulse",children:"Enter your email and we'll send you a reset link"})]}),e.jsxs(ee,{children:[e.jsxs("form",{onSubmit:l,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(et,{htmlFor:"reset-email",className:"neon-white-body",children:"Email Address"}),e.jsx(Ue,{id:"reset-email",type:"email",placeholder:"Enter your email",value:r,onChange:u=>n(u.target.value),className:"bg-background/50 border-accent/30","data-testid":"input-reset-email",required:!0})]}),e.jsx(V,{type:"submit",className:"w-full bg-accent hover:bg-accent/80 text-white font-semibold py-3 glow-effect",disabled:i,"data-testid":"button-send-reset",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ei,{className:"w-4 h-4 mr-2"}),"Send Reset Link"]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(_t,{href:"/auth/login",className:"text-accent hover:underline font-semibold","data-testid":"link-back-to-login",children:[e.jsx(Cl,{className:"w-4 h-4 inline mr-1"}),"Back to Login"]})})]})]})})}function m8(){const[,t]=$8("/creator/:userId"),{user:r}=kr(),{toast:n}=or(),s=t?.userId,{data:a,isLoading:i}=Ve({queryKey:["/api/creator-profiles",s],enabled:!!s}),{data:o=[]}=Ve({queryKey:["/api/posts/creator",s],enabled:!!s}),l=async()=>{if(!r){n({title:"Login Required",description:"Please login to subscribe to creators",variant:"destructive"});return}try{const m=await fetch("/api/subscriptions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({creatorId:s})});if(m.ok)n({title:"Subscribed!",description:`You're now subscribed to ${a?.user?.username}`});else{const f=await m.json();n({title:"Subscription Failed",description:f.message||"Failed to subscribe",variant:"destructive"})}}catch{n({title:"Error",description:"Something went wrong. Please try again.",variant:"destructive"})}},u=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(m/100);return i?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):a?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs("div",{className:"relative h-64 bg-gradient-to-r from-primary/20 to-accent/20",children:[a.coverImageUrl&&e.jsx("img",{src:a.coverImageUrl,alt:"Cover",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/40"})]}),e.jsx("div",{className:"container mx-auto px-4 -mt-16 relative z-10",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(Y,{className:"bg-card/95 backdrop-blur border-border/50",children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsxs(un,{className:"h-24 w-24 ring-4 ring-primary/20","data-testid":"creator-avatar",children:[e.jsx(En,{src:a.user?.profileImageUrl}),e.jsx(hn,{className:"bg-primary/10 text-primary text-2xl",children:a.user?.username?.[0]?.toUpperCase()||"C"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold","data-testid":"creator-username",children:a.user?.username||"Creator"}),a.isVerified&&e.jsxs(ce,{variant:"secondary",className:"bg-primary/10 text-primary border-primary/20",children:[e.jsx(Mr,{className:"h-3 w-3 mr-1"}),"Verified"]}),a.isOnline&&e.jsx(ce,{variant:"outline",className:"bg-green-500/10 text-green-400 border-green-500/20",children:" Online"})]}),e.jsx("p",{className:"text-muted-foreground mb-4",children:a.user?.firstName&&a.user?.lastName&&`${a.user.firstName} ${a.user.lastName}`}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:a.categories.map((m,f)=>e.jsx(ce,{variant:"outline",className:"text-xs",children:m},f))}),e.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(lr,{className:"h-4 w-4"}),e.jsxs("span",{"data-testid":"subscriber-count",children:[a.totalSubscribers," subscribers"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(An,{className:"h-4 w-4"}),e.jsx("span",{children:"Creator"})]})]})]})]})})}),e.jsxs(Y,{children:[e.jsx(ue,{children:e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(Pa,{className:"h-5 w-5"}),"Recent Posts"]})}),e.jsx(ee,{children:o.length===0?e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(Pa,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No posts yet"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(m=>e.jsxs(Y,{className:"overflow-hidden hover:ring-2 hover:ring-primary/20 transition-all cursor-pointer","data-testid":`post-${m.id}`,children:[e.jsxs("div",{className:"aspect-square bg-gradient-to-br from-primary/10 to-accent/10 relative",children:[m.thumbnailUrl?e.jsx("img",{src:m.thumbnailUrl,alt:m.title||"Post",className:"w-full h-full object-cover"}):e.jsx("div",{className:"flex items-center justify-center h-full",children:m.type==="video"?e.jsx(As,{className:"h-8 w-8 text-muted-foreground"}):e.jsx(Pa,{className:"h-8 w-8 text-muted-foreground"})}),m.visibility==="premium"&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsxs(ce,{variant:"secondary",className:"bg-primary/90 text-primary-foreground text-xs",children:["$",(m.priceCents/100).toFixed(2)]})})]}),e.jsxs(ee,{className:"p-3",children:[e.jsx("h3",{className:"font-medium line-clamp-1 mb-2",children:m.title||"Untitled Post"}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ma,{className:"h-3 w-3"}),m.likesCount]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Pn,{className:"h-3 w-3"}),m.commentsCount]})]}),e.jsx("span",{className:"capitalize",children:m.type})]})]})]},m.id))})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Y,{className:"bg-gradient-to-br from-primary/10 to-accent/10 border-primary/20",children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2 text-primary",children:[e.jsx(qr,{className:"h-5 w-5"}),"Subscribe"]}),e.jsxs(lt,{children:["Get exclusive access to ",a.user?.username,"'s content"]})]}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-primary","data-testid":"monthly-price",children:u(a.monthlyPriceCents)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"per month"})]}),e.jsx(V,{className:"w-full",onClick:l,"data-testid":"subscribe-button",children:"Subscribe Now"}),a.welcomeMessageEnabled&&e.jsxs(e.Fragment,{children:[e.jsx(Tn,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Welcome Message"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.welcomeMessageText||"Get a special welcome message!"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:u(a.welcomeMessagePriceCents)}),e.jsx(V,{size:"sm",variant:"outline",children:"Purchase"})]})]})]})]})]}),e.jsxs(Y,{children:[e.jsx(ue,{children:e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(Pn,{className:"h-5 w-5"}),"Send Message"]})}),e.jsx(ee,{children:e.jsx(V,{className:"w-full",variant:"outline","data-testid":"message-button",children:"Send Private Message"})})]}),e.jsxs(Y,{children:[e.jsx(ue,{children:e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(Ma,{className:"h-5 w-5"}),"Send Tip"]})}),e.jsxs(ee,{children:[e.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[5,10,25].map(m=>e.jsxs(V,{variant:"outline",size:"sm",className:"text-xs",children:["$",m]},m))}),e.jsx(V,{className:"w-full","data-testid":"tip-button",children:"Send Custom Tip"})]})]}),e.jsxs(Y,{children:[e.jsx(ue,{children:e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(s0,{className:"h-5 w-5"}),"Links"]})}),e.jsx(ee,{children:e.jsx(V,{className:"w-full",variant:"outline",size:"sm",children:"Share Profile"})})]})]})]})})]}):e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(Y,{className:"w-96",children:e.jsxs(ue,{className:"text-center",children:[e.jsx(fe,{children:"Creator Not Found"}),e.jsx(lt,{children:"This creator profile doesn't exist or has been removed."})]})})})}const f8=({type:t})=>{const n={photo:Pa,video:As,audio:$b,text:tP,reel:gi,story:wr,live:lr}[t]||Pa;return e.jsx(n,{className:"h-4 w-4"})},SSe=({post:t})=>{const{toast:r}=or(),n=async()=>{try{if(!(await fetch("/api/posts/like",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({postId:t.id})})).ok)throw new Error("Failed to like post");r({title:"Liked!",description:"Added to your likes"})}catch{r({title:"Error",description:"Failed to like post",variant:"destructive"})}},s=i=>{const o=new Date(i),u=new Date().getTime()-o.getTime(),m=Math.floor(u/6e4),f=Math.floor(u/36e5),p=Math.floor(u/864e5);return m<60?`${m}m ago`:f<24?`${f}h ago`:`${p}d ago`},a=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(i/100);return e.jsxs(Y,{className:"overflow-hidden hover:shadow-lg transition-all duration-200","data-testid":`post-card-${t.id}`,children:[e.jsxs(ue,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_t,{href:`/creator/${t.creatorId}`,children:e.jsxs(un,{className:"h-10 w-10 cursor-pointer hover:ring-2 hover:ring-primary/20 transition-all",children:[e.jsx(En,{src:t.creator?.profileImageUrl}),e.jsx(hn,{className:"bg-primary/10 text-primary",children:t.creator?.username?.[0]?.toUpperCase()||"C"})]})}),e.jsxs("div",{children:[e.jsx(_t,{href:`/creator/${t.creatorId}`,children:e.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:text-primary transition-colors",children:[e.jsx("span",{className:"font-semibold text-sm","data-testid":`creator-name-${t.id}`,children:t.creator?.username||"Creator"}),t.creator?.isVerified&&e.jsx(ce,{variant:"secondary",className:"text-xs px-1 py-0",children:""})]})}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(f8,{type:t.type}),e.jsx("span",{className:"capitalize",children:t.type}),e.jsx("span",{children:""}),e.jsx("span",{"data-testid":`post-time-${t.id}`,children:s(t.createdAt)})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.visibility==="premium"&&e.jsx(ce,{variant:"outline",className:"text-xs bg-primary/10 text-primary border-primary/20",children:a(t.priceCents)}),t.visibility==="subscribers_only"&&e.jsx(ce,{variant:"outline",className:"text-xs bg-accent/10 text-accent border-accent/20",children:"Subscribers"}),e.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(Fb,{className:"h-4 w-4"})})]})]}),t.title&&e.jsx(fe,{className:"text-lg leading-tight","data-testid":`post-title-${t.id}`,children:t.title})]}),e.jsxs(ee,{className:"pt-0",children:[t.content&&e.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-3","data-testid":`post-content-${t.id}`,children:t.content}),(t.thumbnailUrl||t.mediaUrls.length>0)&&e.jsx(_t,{href:`/post/${t.id}`,children:e.jsxs("div",{className:"relative aspect-video bg-gradient-to-br from-primary/10 to-accent/10 rounded-lg overflow-hidden cursor-pointer hover:opacity-95 transition-opacity group",children:[t.thumbnailUrl?e.jsx("img",{src:t.thumbnailUrl,alt:t.title||"Post media",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):t.mediaUrls[0]?e.jsx("img",{src:t.mediaUrls[0],alt:t.title||"Post media",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(f8,{type:t.type})}),t.type==="video"&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"bg-black/60 rounded-full p-4 group-hover:bg-black/80 transition-colors",children:e.jsx(gi,{className:"h-8 w-8 text-white fill-current"})})}),t.type==="live"&&e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx(ce,{className:"bg-red-500 text-white animate-pulse",children:"LIVE"})}),t.mediaUrls.length>1&&e.jsx("div",{className:"absolute top-3 right-3",children:e.jsxs(ce,{variant:"secondary",className:"text-xs",children:["+",t.mediaUrls.length-1]})})]})}),t.hashtags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mt-3",children:[t.hashtags.slice(0,3).map((i,o)=>e.jsxs("span",{className:"text-xs text-primary hover:text-primary/80 cursor-pointer",children:["#",i]},o)),t.hashtags.length>3&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",t.hashtags.length-3," more"]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-border/50",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs(V,{variant:"ghost",size:"sm",className:"flex items-center gap-2 hover:text-red-400 hover:bg-red-400/10",onClick:n,"data-testid":`like-button-${t.id}`,children:[e.jsx(Ma,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm","data-testid":`likes-count-${t.id}`,children:t.likesCount})]}),e.jsx(_t,{href:`/post/${t.id}`,children:e.jsxs(V,{variant:"ghost",size:"sm",className:"flex items-center gap-2 hover:text-blue-400 hover:bg-blue-400/10","data-testid":`comments-button-${t.id}`,children:[e.jsx(Pn,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm","data-testid":`comments-count-${t.id}`,children:t.commentsCount})]})}),e.jsxs(V,{variant:"ghost",size:"sm",className:"flex items-center gap-2 hover:text-green-400 hover:bg-green-400/10","data-testid":`share-button-${t.id}`,children:[e.jsx(zb,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Share"})]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(pr,{className:"h-3 w-3"}),e.jsx("span",{"data-testid":`views-count-${t.id}`,children:t.viewsCount})]})]})]})]})};function CSe(){kr();const{data:t=[],isLoading:r}=Ve({queryKey:["/api/posts/feed"]});return r?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:[...Array(3)].map((n,s)=>e.jsxs(Y,{className:"animate-pulse",children:[e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-muted rounded-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 w-32 bg-muted rounded"}),e.jsx("div",{className:"h-3 w-20 bg-muted rounded"})]})]})}),e.jsxs(ee,{children:[e.jsx("div",{className:"aspect-video bg-muted rounded-lg mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 w-full bg-muted rounded"}),e.jsx("div",{className:"h-4 w-3/4 bg-muted rounded"})]})]})]},s))})}):e.jsx("div",{className:"container mx-auto px-4 py-8","data-testid":"posts-feed",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent mb-2",children:"Your Feed"}),e.jsx("p",{className:"text-muted-foreground",children:"Latest posts from creators you follow"})]}),t.length===0?e.jsx(Y,{className:"text-center py-12",children:e.jsx(ee,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(Pa,{className:"h-16 w-16 mx-auto text-muted-foreground/50"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No posts yet"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Start following creators to see their posts in your feed"}),e.jsx(_t,{href:"/search",children:e.jsx(V,{"data-testid":"discover-creators-button",children:"Discover Creators"})})]})]})})}):e.jsx("div",{className:"space-y-6",children:t.map(n=>e.jsx(SSe,{post:n},n.id))})]})})}const xC=({creator:t})=>{const r=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n/100);return e.jsxs(Y,{className:"overflow-hidden hover:shadow-lg transition-all duration-200 group","data-testid":`creator-card-${t.userId}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"aspect-square bg-gradient-to-br from-primary/10 to-accent/10 p-6 flex items-center justify-center",children:e.jsxs(un,{className:"h-24 w-24 ring-4 ring-primary/20 group-hover:ring-primary/40 transition-all",children:[e.jsx(En,{src:t.user?.profileImageUrl}),e.jsx(hn,{className:"bg-primary/10 text-primary text-2xl",children:t.user?.username?.[0]?.toUpperCase()||"C"})]})}),t.isOnline&&e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx(ce,{variant:"outline",className:"bg-green-500/10 text-green-400 border-green-500/20 text-xs",children:" Online"})}),t.verificationBadge!=="none"&&e.jsx("div",{className:"absolute top-3 left-3",children:e.jsxs(ce,{variant:"secondary",className:"bg-primary/10 text-primary border-primary/20 text-xs",children:[e.jsx(Mr,{className:"h-3 w-3 mr-1"}),t.verificationBadge==="featured"?"Featured":"Verified"]})})]}),e.jsxs(ue,{className:"pb-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs(fe,{className:"flex items-center justify-center gap-2 text-lg","data-testid":`creator-name-${t.userId}`,children:[t.user?.username||"Creator",t.isVerified&&e.jsx(Mr,{className:"h-4 w-4 text-primary"})]}),e.jsx(lt,{className:"mt-1",children:t.user?.firstName&&t.user?.lastName&&`${t.user.firstName} ${t.user.lastName}`})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-1 mt-3",children:[t.categories.slice(0,2).map((n,s)=>e.jsx(ce,{variant:"outline",className:"text-xs",children:n},s)),t.categories.length>2&&e.jsxs(ce,{variant:"outline",className:"text-xs",children:["+",t.categories.length-2]})]})]}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(lr,{className:"h-4 w-4"}),e.jsx("span",{"data-testid":`subscriber-count-${t.userId}`,children:t.totalSubscribers})]}),e.jsxs("div",{className:"font-semibold text-primary","data-testid":`monthly-price-${t.userId}`,children:[r(t.monthlyPriceCents),"/mo"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(_t,{href:`/creator/${t.userId}`,children:e.jsx(V,{className:"w-full","data-testid":`view-profile-${t.userId}`,children:"View Profile"})}),e.jsxs(V,{variant:"outline",size:"sm",className:"w-full","data-testid":`follow-${t.userId}`,children:[e.jsx(Ma,{className:"h-4 w-4 mr-2"}),"Follow"]})]})]})]})};function p8(){const[t,r]=j.useState(""),[n,s]=j.useState(""),{data:a=[],isLoading:i}=Ve({queryKey:["/api/creators",{search:t,category:n}]}),o=["All","Gaming","Fitness","Music","Art","Cooking","Fashion","Tech","Travel","Lifestyle","Education"],l=a.filter(f=>f.verificationBadge==="featured"),u=a.filter(f=>f.isVerified&&f.verificationBadge!=="featured"),m=a.filter(f=>!f.isVerified&&f.verificationBadge==="none");return i?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((f,p)=>e.jsxs(Y,{className:"animate-pulse",children:[e.jsx("div",{className:"aspect-square bg-muted"}),e.jsxs(ue,{children:[e.jsx("div",{className:"h-4 w-32 bg-muted rounded mx-auto"}),e.jsx("div",{className:"h-3 w-24 bg-muted rounded mx-auto"})]}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-8 bg-muted rounded"}),e.jsx("div",{className:"h-6 bg-muted rounded"})]})})]},p))})})}):e.jsx("div",{className:"container mx-auto px-4 py-8","data-testid":"search-creators",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent mb-2",children:"Discover Creators"}),e.jsx("p",{className:"text-muted-foreground",children:"Find and follow amazing creators across all categories"})]}),e.jsxs("div",{className:"mb-8 space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(Ue,{type:"search",placeholder:"Search creators by name or username...",value:t,onChange:f=>r(f.target.value),className:"pl-10","data-testid":"search-input"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(f=>e.jsx(V,{variant:n===(f==="All"?"":f)?"default":"outline",size:"sm",onClick:()=>s(f==="All"?"":f),"data-testid":`category-${f.toLowerCase()}`,children:f},f))})]}),a.length===0?e.jsx(Y,{className:"text-center py-12",children:e.jsx(ee,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(lr,{className:"h-16 w-16 mx-auto text-muted-foreground/50"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No creators found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search criteria or browse all categories"})]})]})})}):e.jsxs("div",{className:"space-y-8",children:[l.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(An,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Featured Creators"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.map(f=>e.jsx(xC,{creator:f},f.userId))})]}),u.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(yn,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Trending Creators"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:u.map(f=>e.jsx(xC,{creator:f},f.userId))})]}),m.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(lr,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"text-xl font-semibold",children:"More Creators"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:m.map(f=>e.jsx(xC,{creator:f},f.userId))})]})]})]})})}const kSe="modulepreload",ASe=function(t){return"/"+t},x8={},PSe=function(r,n,s){let a=Promise.resolve();if(n&&n.length>0){let m=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var o=m;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");a=m(n.map(f=>{if(f=ASe(f),f in x8)return;x8[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":kSe,p||(b.as="script"),b.crossOrigin="",b.href=f,u&&b.setAttribute("nonce",u),document.head.appendChild(b),p)return new Promise((y,_)=>{b.addEventListener("load",y),b.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return a.then(l=>{for(const u of l||[])u.status==="rejected"&&i(u.reason);return r().catch(i)})},TSe=({conversations:t,selectedUserId:r,onSelectConversation:n})=>{const s=a=>{const i=new Date(a),l=new Date().getTime()-i.getTime(),u=Math.floor(l/6e4),m=Math.floor(l/36e5),f=Math.floor(l/864e5);return u<60?`${u}m`:m<24?`${m}h`:`${f}d`};return e.jsx("div",{className:"space-y-2",children:t.map(a=>e.jsx("div",{className:`p-3 rounded-lg cursor-pointer transition-colors hover:bg-accent/50 ${r===a.userId?"bg-accent":""}`,onClick:()=>n(a.userId),"data-testid":`conversation-${a.userId}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(un,{className:"h-12 w-12",children:[e.jsx(En,{src:a.profileImageUrl}),e.jsx(hn,{className:"bg-primary/10 text-primary",children:a.username[0]?.toUpperCase()})]}),a.isOnline&&e.jsx("div",{className:"absolute bottom-0 right-0 h-3 w-3 bg-green-500 border-2 border-background rounded-full"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-sm truncate","data-testid":`username-${a.userId}`,children:a.username}),a.lastMessage&&e.jsx("span",{className:"text-xs text-muted-foreground",children:s(a.lastMessage.createdAt)})]}),a.lastMessage&&e.jsx("p",{className:"text-xs text-muted-foreground truncate mt-1",children:a.lastMessage.type==="text"?a.lastMessage.content:`${a.lastMessage.type} message`})]}),a.unreadCount>0&&e.jsx(ce,{variant:"destructive",className:"text-xs min-w-[20px] h-5 flex items-center justify-center",children:a.unreadCount})]})},a.userId))})},ESe=({message:t,isOwn:r,onPurchase:n})=>{const s=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l/100),a=l=>new Date(l).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),i=t.priceCents>0,o=r||!i||t.isPaid;return e.jsx("div",{className:`flex ${r?"justify-end":"justify-start"} mb-4`,"data-testid":`message-${t.id}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${r?"bg-primary text-primary-foreground":i&&!o?"bg-gradient-to-r from-red-600/20 to-red-700/20 border border-red-500/30":"bg-muted"}`,children:[t.type==="tip"&&e.jsxs("div",{className:"flex items-center gap-2 mb-2 text-amber-400",children:[e.jsx(qr,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-semibold",children:[s(t.priceCents)," tip"]})]}),i&&!r&&e.jsxs("div",{className:"flex items-center gap-2 mb-2 text-red-400",children:[o?e.jsx(yY,{className:"h-4 w-4"}):e.jsx(ia,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-xs font-semibold",children:[o?"Unlocked":"Paid Message"," - ",s(t.priceCents)]})]}),t.type==="text"&&e.jsx(e.Fragment,{children:o?e.jsx("p",{className:"text-sm",children:t.content}):e.jsxs("div",{className:"text-center py-2",children:[e.jsx(ia,{className:"h-6 w-6 mx-auto mb-2 text-red-400"}),e.jsxs("p",{className:"text-xs text-muted-foreground mb-3",children:["This message is locked. Pay ",s(t.priceCents)," to unlock."]}),e.jsxs(V,{size:"sm",variant:"destructive",onClick:()=>n(t),className:"bg-red-600 hover:bg-red-700","data-testid":`unlock-message-${t.id}`,children:[e.jsx(vs,{className:"h-3 w-3 mr-1"}),"Unlock ",s(t.priceCents)]})]})}),(t.type==="photo"||t.type==="video")&&e.jsx("div",{className:"mb-2",children:o&&t.mediaUrl?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:t.mediaUrl,alt:"Message media",className:"rounded max-w-full h-auto"}),t.content&&e.jsx("p",{className:"text-sm mt-2",children:t.content})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx(ia,{className:"h-8 w-8 mx-auto mb-2 text-red-400"}),e.jsxs("p",{className:"text-xs text-muted-foreground mb-3",children:["Premium media content - Pay ",s(t.priceCents)," to unlock."]}),e.jsxs(V,{size:"sm",variant:"destructive",onClick:()=>n(t),className:"bg-red-600 hover:bg-red-700",children:[e.jsx(vs,{className:"h-3 w-3 mr-1"}),"Unlock ",s(t.priceCents)]})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx("span",{className:"text-xs opacity-75",children:a(t.createdAt)}),t.readAt&&r&&e.jsx("span",{className:"text-xs opacity-75",children:"Read"}),i&&r&&e.jsx(ce,{variant:"outline",className:"text-xs bg-green-600/20 text-green-400 border-green-600/30",children:s(t.priceCents)})]})]})})};function OSe(){const[t,r]=j.useState(),[n,s]=j.useState(""),[a,i]=j.useState(!1),[o,l]=j.useState(""),[u,m]=j.useState(null),{toast:f}=or(),p=ws(),g=j.useRef(),b=j.useRef(null),y="current-user",{messages:_,handleTyping:w,markAsRead:k}=H1e(t||void 0);G1e(t?[t]:[]);const{data:A=[]}=Ve({queryKey:["/api/messages/conversations"]}),{data:P=[]}=Ve({queryKey:["/api/messages",t],enabled:!!t}),O=[...P,..._].filter((G,J,Z)=>J===Z.findIndex(ne=>ne.id===G.id)).sort((G,J)=>new Date(G.createdAt).getTime()-new Date(J.createdAt).getTime());j.useEffect(()=>{b.current?.scrollIntoView({behavior:"smooth"})},[O]),j.useCallback(G=>{s(G),g.current&&clearTimeout(g.current),G&&t?(w(!0),g.current=setTimeout(()=>{w(!1)},2e3)):!G&&t&&w(!1)},[t,w]),j.useEffect(()=>{if(t&&O.length>0){const G=O.filter(J=>J.receiverId===y&&!J.readAt).map(J=>J.id);G.length>0&&k(G)}},[t,O,k,y]);const{data:I}=Ve({queryKey:["/api/auth/me"]}),D=ot({mutationFn:async G=>{const{default:J}=await PSe(async()=>{const{default:ne}=await Promise.resolve().then(()=>dee);return{default:ne}},void 0);t&&J.sendMessage(t,G.content,G.type,G.mediaUrl,G.priceCents);const Z=await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(G)});if(!Z.ok)throw new Error("Failed to send message");return Z.json()},onSuccess:()=>{p.invalidateQueries({queryKey:["/api/messages",t]}),p.invalidateQueries({queryKey:["/api/messages/conversations"]}),s(""),i(!1),l(""),f({title:"Message sent!",description:a?`Paid message sent for $${o}`:"Message sent successfully"})},onError:G=>{f({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}}),F=ot({mutationFn:async G=>{const J=await fetch(`/api/messages/${G}/purchase`,{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}});if(!J.ok)throw new Error("Failed to purchase message");return J.json()},onSuccess:()=>{p.invalidateQueries({queryKey:["/api/messages",t]}),m(null),f({title:"Message unlocked!",description:"You can now view the message content."})},onError:G=>{f({title:"Payment failed",description:"Unable to process payment. Please try again.",variant:"destructive"})}}),B=async()=>{if(!n.trim()||!t)return;const G=a&&o?parseFloat(o)*100:0;D.mutate({receiverId:t,type:"text",content:n,priceCents:G,isPaid:a})},H=G=>{F.mutate(G.id)},re=I?.role==="creator";return e.jsx("div",{className:"h-[calc(100vh-2rem)] max-h-[800px] border rounded-lg overflow-hidden bg-background","data-testid":"messages-page",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 h-full",children:[e.jsxs("div",{className:"border-r border-border bg-muted/30",children:[e.jsxs("div",{className:"p-4 border-b border-border",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Messages"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(Ue,{type:"search",placeholder:"Search conversations...",className:"pl-10","data-testid":"search-conversations"})]})]}),e.jsx(eh,{className:"h-[calc(100%-120px)]",children:e.jsx("div",{className:"p-4",children:A.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Pn,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No conversations yet"})]}):e.jsx(TSe,{conversations:A,selectedUserId:t,onSelectConversation:r})})})]}),e.jsx("div",{className:"lg:col-span-2 flex flex-col",children:t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-4 border-b border-border bg-muted/30",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(un,{className:"h-10 w-10",children:[e.jsx(En,{src:A.find(G=>G.userId===t)?.profileImageUrl}),e.jsx(hn,{className:"bg-primary/10 text-primary",children:A.find(G=>G.userId===t)?.username?.[0]?.toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold","data-testid":"chat-username",children:A.find(G=>G.userId===t)?.username}),e.jsx("p",{className:"text-xs text-muted-foreground",children:A.find(G=>G.userId===t)?.isOnline?"Online":"Offline"})]})]}),e.jsx(V,{variant:"ghost",size:"icon",children:e.jsx(Fb,{className:"h-4 w-4"})})]})}),e.jsx(eh,{className:"flex-1 p-4",children:O.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e.jsx("p",{className:"text-sm",children:"Start the conversation!"})}):e.jsx("div",{children:O.map(G=>e.jsx(ESe,{message:G,isOwn:G.senderId===y,onPurchase:H},G.id))})}),e.jsxs("div",{className:"p-4 border-t border-border bg-muted/30",children:[re&&e.jsxs("div",{className:"mb-3 p-3 bg-card rounded-lg border border-border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(et,{htmlFor:"paid-message",className:"text-sm font-medium",children:"Charge for this message"}),e.jsx(kn,{id:"paid-message",checked:a,onCheckedChange:i,"data-testid":"paid-message-toggle"})]}),a&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qr,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(Ue,{type:"number",step:"0.01",min:"0.01",max:"999.99",value:o,onChange:G=>l(G.target.value),placeholder:"0.00",className:"w-20 text-sm","data-testid":"message-price-input"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"USD"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{variant:"ghost",size:"icon","data-testid":"attach-image",children:e.jsx(YA,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"icon","data-testid":"attach-video",children:e.jsx(As,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"icon","data-testid":"send-tip",children:e.jsx(qr,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 flex gap-2",children:[e.jsx(Ue,{value:n,onChange:G=>s(G.target.value),placeholder:a&&o?`Type paid message ($${o})...`:"Type a message...",onKeyDown:G=>G.key==="Enter"&&B(),"data-testid":"message-input",className:a?"border-red-500/50 focus:border-red-500":""}),e.jsx(V,{onClick:B,disabled:!n.trim()||a&&!o||D.isPending,"data-testid":"send-message",className:a?"bg-red-600 hover:bg-red-700":"",children:D.isPending?e.jsx("div",{className:"h-4 w-4 animate-spin border-2 border-background border-t-transparent rounded-full"}):a?e.jsx(ia,{className:"h-4 w-4"}):e.jsx(ei,{className:"h-4 w-4"})})]})]})]})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Pn,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a conversation"}),e.jsx("p",{className:"text-sm",children:"Choose a conversation from the list to start messaging"})]})})})]})})}const g8=[{value:"all_fans",label:"All Fans",description:"Send to all your subscribers",icon:lr},{value:"paying_fans",label:"Paying Fans",description:"Fans who have made purchases",icon:qr},{value:"high_spenders",label:"High Spenders",description:"Top 20% spenders",icon:yn},{value:"recent_activity",label:"Recently Active",description:"Active in last 7 days",icon:JA}],ISe=({job:t})=>{const r=a=>{switch(a){case"pending":return e.jsx(wr,{className:"h-4 w-4 text-yellow-500"});case"processing":return e.jsx(oa,{className:"h-4 w-4 text-blue-500 animate-spin"});case"completed":return e.jsx(Cr,{className:"h-4 w-4 text-green-500"});case"failed":return e.jsx(Ln,{className:"h-4 w-4 text-red-500"});default:return null}},n=a=>{switch(a){case"pending":return"bg-yellow-500/20 text-yellow-700 border-yellow-500/30";case"processing":return"bg-blue-500/20 text-blue-700 border-blue-500/30";case"completed":return"bg-green-500/20 text-green-700 border-green-500/30";case"failed":return"bg-red-500/20 text-red-700 border-red-500/30";default:return"bg-gray-500/20 text-gray-700 border-gray-500/30"}},s=t.totalRecipients>0?(t.sentCount+t.failedCount)/t.totalRecipients*100:0;return e.jsx(Y,{className:"mb-4",children:e.jsxs(ee,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[r(t.status),e.jsx(ce,{className:n(t.status),children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:t.startedAt?new Date(t.startedAt).toLocaleString():"Not started"})]}),e.jsx("p",{className:"text-sm mb-3 line-clamp-2",children:t.messageContent}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Progress"}),e.jsxs("span",{className:"text-xs font-medium",children:[t.sentCount+t.failedCount,"/",t.totalRecipients]})]}),e.jsx(bs,{value:s,className:"h-2 mb-3"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold text-green-600",children:t.sentCount}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Sent"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold text-red-600",children:t.failedCount}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Failed"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-lg font-semibold text-blue-600",children:["$",(t.priceCents*t.sentCount/100).toFixed(2)]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Revenue"})]})]}),t.error&&e.jsxs("div",{className:"mt-3 p-2 bg-red-500/10 border border-red-500/20 rounded text-xs text-red-600",children:["Error: ",t.error]})]})})};function MSe(){const[t,r]=j.useState(""),[n,s]=j.useState(""),[a,i]=j.useState(!1),[o,l]=j.useState(""),[u,m]=j.useState("compose"),{toast:f}=or(),p=ws(),{data:g=[]}=Ve({queryKey:["/api/messages/mass/jobs"],refetchInterval:5e3}),{data:b}=Ve({queryKey:["/api/messages/mass/analytics"]}),y=ot({mutationFn:async k=>{const A=await fetch("/api/messages/mass",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(k)});if(!A.ok)throw new Error("Failed to send mass message");return A.json()},onSuccess:k=>{p.invalidateQueries({queryKey:["/api/messages/mass/jobs"]}),r(""),s(""),i(!1),l(""),f({title:"Mass message sent!",description:`Message queued for ${k.estimatedRecipients||0} recipients`}),m("jobs")},onError:k=>{f({title:"Error",description:k.message||"Failed to send mass message",variant:"destructive"})}}),_=()=>{if(!t.trim()||!n){f({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}const k=a&&o?parseFloat(o)*100:0;y.mutate({content:t,type:"text",targetSegment:n,priceCents:k})},w=g8.find(k=>k.value===n);return e.jsxs("div",{className:"max-w-4xl mx-auto p-6","data-testid":"mass-messaging-page",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Mass Messaging"}),e.jsx("p",{className:"text-muted-foreground",children:"Send messages to your fans in bulk with targeting and pricing options"})]}),e.jsxs(Xs,{value:u,onValueChange:m,className:"space-y-6",children:[e.jsxs(zs,{className:"grid w-full grid-cols-3",children:[e.jsxs(Kt,{value:"compose","data-testid":"compose-tab",children:[e.jsx(fi,{className:"h-4 w-4 mr-2"}),"Compose"]}),e.jsxs(Kt,{value:"jobs","data-testid":"jobs-tab",children:[e.jsx(wr,{className:"h-4 w-4 mr-2"}),"Jobs (",g.length,")"]}),e.jsxs(Kt,{value:"analytics","data-testid":"analytics-tab",children:[e.jsx(gl,{className:"h-4 w-4 mr-2"}),"Analytics"]})]}),e.jsx(Qt,{value:"compose",children:e.jsxs(Y,{children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Compose Mass Message"}),e.jsx(lt,{children:"Send a message to multiple fans at once with targeting options"})]}),e.jsxs(ee,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(et,{children:"Target Audience"}),e.jsxs(yt,{value:n,onValueChange:s,children:[e.jsx(xt,{"data-testid":"segment-selector",children:e.jsx(bt,{placeholder:"Select fan segment"})}),e.jsx(gt,{children:g8.map(k=>e.jsx(Q,{value:k.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k.icon,{className:"h-4 w-4"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:k.label}),e.jsx("div",{className:"text-xs text-muted-foreground",children:k.description})]})]})},k.value))})]}),w&&e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(w.icon,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium",children:w.label})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:w.description})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(et,{htmlFor:"message-content",children:"Message Content"}),e.jsx(on,{id:"message-content",value:t,onChange:k=>r(k.target.value),placeholder:"Write your message...",className:"min-h-[120px]","data-testid":"message-content"}),e.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[t.length,"/1000 characters"]})]}),e.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(et,{htmlFor:"paid-message",className:"text-sm font-medium",children:"Charge for this message"}),e.jsx(kn,{id:"paid-message",checked:a,onCheckedChange:i,"data-testid":"paid-message-toggle"})]}),a&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qr,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(Ue,{type:"number",step:"0.01",min:"0.01",max:"999.99",value:o,onChange:k=>l(k.target.value),placeholder:"0.00",className:"w-24","data-testid":"message-price-input"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"USD per message"})]}),a&&o&&n&&e.jsx("div",{className:"text-sm text-muted-foreground",children:" Estimated revenue will be calculated based on your audience size"})]}),e.jsxs(V,{onClick:_,disabled:!t.trim()||!n||y.isPending,className:"w-full","data-testid":"send-mass-message",children:[y.isPending?e.jsx(oa,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(ei,{className:"h-4 w-4 mr-2"}),"Send Mass Message"]})]})]})}),e.jsx(Qt,{value:"jobs",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Message Jobs"}),e.jsxs(ce,{variant:"outline",children:[g.length," total"]})]}),g.length===0?e.jsx(Y,{children:e.jsxs(ee,{className:"text-center py-8",children:[e.jsx(fi,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-muted-foreground",children:"No mass messages sent yet"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Create your first mass message to get started"})]})}):e.jsx("div",{className:"space-y-4",children:g.map(k=>e.jsx(ISe,{job:k},k.id))})]})}),e.jsx(Qt,{value:"analytics",children:b&&e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Y,{children:e.jsxs(ee,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ei,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Total Sent"})]}),e.jsx("div",{className:"text-2xl font-bold",children:b.totalSent.toLocaleString()}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Last 30 days"})]})}),e.jsx(Y,{children:e.jsxs(ee,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(qr,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Revenue"})]}),e.jsxs("div",{className:"text-2xl font-bold",children:["$",b.totalRevenue.toFixed(2)]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"From paid messages"})]})}),e.jsx(Y,{children:e.jsxs(ee,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(pr,{className:"h-4 w-4 text-purple-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Open Rate"})]}),e.jsxs("div",{className:"text-2xl font-bold",children:[(b.openRate*100).toFixed(1),"%"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Messages viewed"})]})}),e.jsx(Y,{children:e.jsxs(ee,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(TY,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Response Rate"})]}),e.jsxs("div",{className:"text-2xl font-bold",children:[(b.responseRate*100).toFixed(1),"%"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Fans who replied"})]})})]}),e.jsxs(Y,{children:[e.jsx(ue,{children:e.jsx(fe,{children:"Performance Insights"})}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Average Recipients per Message"}),e.jsx(ce,{variant:"outline",children:b.averageRecipientsPerMessage})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Average Revenue per Message"}),e.jsxs(ce,{variant:"outline",children:["$",b.totalSent>0?(b.totalRevenue/b.totalSent).toFixed(2):"0.00"]})]})]})})]})]})})]})]})}const DSe=({type:t})=>{const n={photo:Pa,video:As,audio:$b,text:tP,reel:gi,story:wr,live:lr}[t]||Pa;return e.jsx(n,{className:"h-4 w-4"})},RSe=({comment:t})=>{const r=n=>{const s=new Date(n),i=new Date().getTime()-s.getTime(),o=Math.floor(i/6e4),l=Math.floor(i/36e5),u=Math.floor(i/864e5);return o<60?`${o}m ago`:l<24?`${l}h ago`:`${u}d ago`};return e.jsxs("div",{className:"flex gap-3 py-3","data-testid":`comment-${t.id}`,children:[e.jsxs(un,{className:"h-8 w-8",children:[e.jsx(En,{src:t.user?.profileImageUrl}),e.jsx(hn,{className:"bg-primary/10 text-primary text-xs",children:t.user?.username?.[0]?.toUpperCase()||"U"})]}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-sm","data-testid":`comment-username-${t.id}`,children:t.user?.username||"User"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:r(t.createdAt)})]}),e.jsx("p",{className:"text-sm","data-testid":`comment-content-${t.id}`,children:t.content}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(V,{variant:"ghost",size:"sm",className:"h-auto p-0 text-xs hover:text-red-400",children:[e.jsx(Ma,{className:"h-3 w-3 mr-1"}),t.likesCount]}),e.jsx(V,{variant:"ghost",size:"sm",className:"h-auto p-0 text-xs",children:"Reply"})]})]})]})};function LSe(){const[,t]=$8("/post/:postId"),{user:r}=kr(),{toast:n}=or(),[s,a]=j.useState(""),i=t?.postId,{data:o,isLoading:l}=Ve({queryKey:["/api/posts",i],enabled:!!i}),{data:u=[]}=Ve({queryKey:["/api/posts",i,"comments"],enabled:!!i}),m=async()=>{try{if(!(await fetch("/api/posts/like",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({postId:i})})).ok)throw new Error("Failed to like post");n({title:"Liked!",description:"Added to your likes"})}catch{n({title:"Error",description:"Failed to like post",variant:"destructive"})}},f=async()=>{if(s.trim())try{if((await fetch("/api/comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({postId:i,content:s})})).ok)a(""),n({title:"Comment posted!",description:"Your comment has been added"});else throw new Error("Failed to post comment")}catch{n({title:"Error",description:"Failed to post comment",variant:"destructive"})}},p=b=>{const y=new Date(b),w=new Date().getTime()-y.getTime(),k=Math.floor(w/6e4),A=Math.floor(w/36e5),P=Math.floor(w/864e5);return k<60?`${k}m ago`:A<24?`${A}h ago`:`${P}d ago`},g=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(b/100);return l?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):o?e.jsx("div",{className:"container mx-auto px-4 py-8","data-testid":"post-view",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-6",children:e.jsx(_t,{href:"/feed",children:e.jsxs(V,{variant:"ghost",className:"gap-2","data-testid":"back-to-feed",children:[e.jsx(Cl,{className:"h-4 w-4"}),"Back to Feed"]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(Y,{className:"overflow-hidden",children:[e.jsxs(ue,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_t,{href:`/creator/${o.creatorId}`,children:e.jsxs(un,{className:"h-12 w-12 cursor-pointer hover:ring-2 hover:ring-primary/20 transition-all",children:[e.jsx(En,{src:o.creator?.profileImageUrl}),e.jsx(hn,{className:"bg-primary/10 text-primary",children:o.creator?.username?.[0]?.toUpperCase()||"C"})]})}),e.jsxs("div",{children:[e.jsx(_t,{href:`/creator/${o.creatorId}`,children:e.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:text-primary transition-colors",children:[e.jsx("span",{className:"font-semibold","data-testid":"creator-username",children:o.creator?.username||"Creator"}),o.creator?.isVerified&&e.jsx(ce,{variant:"secondary",className:"text-xs px-1 py-0",children:""})]})}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(DSe,{type:o.type}),e.jsx("span",{className:"capitalize",children:o.type}),e.jsx("span",{children:""}),e.jsx("span",{"data-testid":"post-time",children:p(o.createdAt)})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[o.visibility==="premium"&&e.jsx(ce,{variant:"outline",className:"bg-primary/10 text-primary border-primary/20",children:g(o.priceCents)}),o.visibility==="subscribers_only"&&e.jsx(ce,{variant:"outline",className:"bg-accent/10 text-accent border-accent/20",children:"Subscribers Only"})]})]}),o.title&&e.jsx(fe,{className:"text-xl leading-tight mt-4","data-testid":"post-title",children:o.title})]}),e.jsxs(ee,{className:"pt-0",children:[o.content&&e.jsx("p",{className:"text-muted-foreground mb-6","data-testid":"post-content",children:o.content}),o.mediaUrls.length>0&&e.jsx("div",{className:"space-y-4 mb-6",children:o.mediaUrls.map((b,y)=>e.jsx("div",{className:"relative",children:o.type==="video"?e.jsx("video",{controls:!0,className:"w-full rounded-lg",poster:o.thumbnailUrl,children:e.jsx("source",{src:b,type:"video/mp4"})}):o.type==="audio"?e.jsx("audio",{controls:!0,className:"w-full",children:e.jsx("source",{src:b,type:"audio/mpeg"})}):e.jsx("img",{src:b,alt:`Post media ${y+1}`,className:"w-full rounded-lg"})},y))}),o.hashtags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:o.hashtags.map((b,y)=>e.jsxs("span",{className:"text-sm text-primary hover:text-primary/80 cursor-pointer",children:["#",b]},y))}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border/50",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs(V,{variant:"ghost",className:"flex items-center gap-2 hover:text-red-400 hover:bg-red-400/10",onClick:m,"data-testid":"like-button",children:[e.jsx(Ma,{className:"h-5 w-5"}),e.jsx("span",{"data-testid":"likes-count",children:o.likesCount})]}),e.jsxs(V,{variant:"ghost",className:"flex items-center gap-2 hover:text-blue-400 hover:bg-blue-400/10",children:[e.jsx(Pn,{className:"h-5 w-5"}),e.jsx("span",{"data-testid":"comments-count",children:o.commentsCount})]}),e.jsxs(V,{variant:"ghost",className:"flex items-center gap-2 hover:text-green-400 hover:bg-green-400/10",children:[e.jsx(zb,{className:"h-5 w-5"}),e.jsx("span",{children:"Share"})]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(pr,{className:"h-4 w-4"}),e.jsxs("span",{"data-testid":"views-count",children:[o.viewsCount," views"]})]})]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Y,{children:[e.jsx(ue,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(un,{className:"h-12 w-12",children:[e.jsx(En,{src:o.creator?.profileImageUrl}),e.jsx(hn,{className:"bg-primary/10 text-primary",children:o.creator?.username?.[0]?.toUpperCase()||"C"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:o.creator?.username}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Creator"})]})]})}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(_t,{href:`/creator/${o.creatorId}`,children:e.jsx(V,{className:"w-full","data-testid":"view-profile",children:"View Profile"})}),e.jsx(V,{variant:"outline",className:"w-full","data-testid":"follow-creator",children:"Follow"})]})})]}),e.jsxs(Y,{children:[e.jsx(ue,{children:e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(Pn,{className:"h-5 w-5"}),"Comments (",u.length,")"]})}),e.jsxs(ee,{children:[r&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(un,{className:"h-8 w-8",children:[e.jsx(En,{src:r.profileImageUrl}),e.jsx(hn,{className:"bg-primary/10 text-primary text-xs",children:r.username?.[0]?.toUpperCase()||"U"})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(Ue,{value:s,onChange:b=>a(b.target.value),placeholder:"Write a comment...","data-testid":"comment-input"}),e.jsxs(V,{size:"sm",onClick:f,disabled:!s.trim(),"data-testid":"post-comment",children:[e.jsx(ei,{className:"h-4 w-4 mr-2"}),"Comment"]})]})]}),e.jsx(Tn,{className:"mt-4"})]}),e.jsx("div",{className:"space-y-1",children:u.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Pn,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No comments yet"}),e.jsx("p",{className:"text-xs",children:"Be the first to comment!"})]}):u.map((b,y)=>e.jsxs("div",{children:[e.jsx(RSe,{comment:b}),y<u.length-1&&e.jsx(Tn,{})]},b.id))})]})]})]})]})]})}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(Y,{className:"max-w-2xl mx-auto text-center py-12",children:e.jsxs(ee,{children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Post Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"This post doesn't exist or has been removed."}),e.jsx(_t,{href:"/feed",children:e.jsx(V,{children:"Back to Feed"})})]})})})}function FSe(){const{data:t,isLoading:r}=Ve({queryKey:["/api/earnings/breakdown"]}),{data:n,isLoading:s}=Ve({queryKey:["/api/earnings/stats"]});if(r||s)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})});const a=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(i);return e.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8","data-testid":"earnings-page",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:" Earnings Dashboard"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"100% creator earnings program - no platform fees, full transparency"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(Y,{className:"bg-gradient-to-br from-green-500/10 to-green-600/5 border-green-500/20","data-testid":"card-available-balance",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium text-green-400",children:"Available Balance"}),e.jsx(qr,{className:"h-4 w-4 text-green-400"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-400","data-testid":"text-available-balance",children:a(t?.availableBalance||0)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready for payout"})]})]}),e.jsxs(Y,{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/5 border-blue-500/20","data-testid":"card-total-earnings",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium text-blue-400",children:"Total Earnings"}),e.jsx(yn,{className:"h-4 w-4 text-blue-400"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-400","data-testid":"text-total-earnings",children:a(t?.grossEarnings||0)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All-time gross"})]})]}),e.jsxs(Y,{className:"bg-gradient-to-br from-purple-500/10 to-purple-600/5 border-purple-500/20","data-testid":"card-monthly-earnings",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium text-purple-400",children:"This Month"}),e.jsx(ys,{className:"h-4 w-4 text-purple-400"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold text-purple-400","data-testid":"text-monthly-earnings",children:a(n?.monthlyEarnings||0)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly revenue"})]})]}),e.jsxs(Y,{className:"bg-gradient-to-br from-amber-500/10 to-amber-600/5 border-amber-500/20","data-testid":"card-transactions",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium text-amber-400",children:"Transactions"}),e.jsx(Vd,{className:"h-4 w-4 text-amber-400"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold text-amber-400","data-testid":"text-transaction-count",children:n?.transactionCount||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total transactions"})]})]})]}),e.jsxs(Y,{className:"bg-gradient-to-r from-emerald-500/10 to-green-500/10 border-emerald-500/30","data-testid":"card-earnings-program",children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2 text-emerald-400",children:[e.jsx(AY,{className:"h-5 w-5"}),"100% Creator Earnings Program"]}),e.jsx(lt,{className:"text-emerald-300",children:"BoyFanz takes 0% platform fees - creators keep 100% of their earnings"})]}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-emerald-500/5 rounded-lg border border-emerald-500/20",children:[e.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:"0%"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"BoyFanz Platform Fee"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-500/5 rounded-lg border border-blue-500/20",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-400",children:"2.9%"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Payment Processor Fee"})]}),e.jsxs("div",{className:"text-center p-4 bg-amber-500/5 rounded-lg border border-amber-500/20",children:[e.jsx("div",{className:"text-2xl font-bold text-amber-400",children:"97.1%"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Your Take-Home"})]})]}),e.jsx(Tn,{className:"bg-emerald-500/20"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"Transparency Promise:"}),e.jsx(ce,{variant:"outline",className:"border-emerald-500/50 text-emerald-400",children:"Full Disclosure"})]})]})]})]})}const v8=4;function $Se(){kr();const t=j.useRef(null),{data:r,isLoading:n,error:s,fetchNextPage:a,hasNextPage:i,isFetchingNextPage:o}=YG({queryKey:["/api/infinity-feed"],queryFn:async({pageParam:g=1})=>{const b=await fetch(`/api/infinity-feed?page=${g}`);if(!b.ok)throw new Error("Failed to fetch feed");return b.json()},getNextPageParam:(g,b)=>g.hasMore?b.length+1:void 0,initialPageParam:1});j.useEffect(()=>{const g=new IntersectionObserver(b=>{b[0].isIntersecting&&i&&!o&&a()},{threshold:.5});return t.current&&g.observe(t.current),()=>{t.current&&g.unobserve(t.current)}},[i,o,a]);const l=r?.pages.flatMap(g=>g.posts)??[],u=(g,b)=>{const y=g.isFreeToView||g.isSubscribed,_=!g.isAgeVerified&&!g.isSubscribed,w=g.mediaUrls&&g.mediaUrls.length>0;return e.jsx(Y,{className:"glass-card border-red-900/20 hover:border-red-500/40 transition-all duration-300 overflow-hidden group","data-testid":`post-card-${g.id}`,children:e.jsxs(ee,{className:"p-0",children:[e.jsx(_t,{href:`/creator/${g.creatorId}`,children:e.jsxs("div",{className:"p-4 flex items-center gap-3 border-b border-red-900/20 cursor-pointer hover:bg-red-950/20 transition-colors","data-testid":`creator-header-${g.id}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:g.creatorAvatar||"/default-avatar.png",alt:g.creatorName,className:"w-12 h-12 rounded-full border-2 border-gold-500/50","data-testid":`creator-avatar-${g.id}`}),g.isAgeVerified&&e.jsx(vh,{className:"absolute -top-1 -right-1 w-5 h-5 text-green-500 bg-black rounded-full","data-testid":`verified-badge-${g.id}`})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bebas text-lg text-gold-500","data-testid":`creator-name-${g.id}`,children:g.creatorName}),e.jsxs("div",{className:"text-sm text-muted-foreground","data-testid":`creator-handle-${g.id}`,children:["@",g.creatorHandle]})]})]})}),w&&e.jsx("div",{className:"relative bg-black/60 aspect-video group-hover:bg-black/80 transition-colors","data-testid":`media-container-${g.id}`,children:y&&!_?e.jsx(e.Fragment,{children:g.type==="video"?e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("video",{className:"w-full h-full object-cover",poster:g.thumbnailUrl||void 0,controls:!0,"data-testid":`video-player-${g.id}`,children:e.jsx("source",{src:g.mediaUrls[0],type:"video/mp4"})}),e.jsx(gi,{className:"absolute top-4 right-4 w-8 h-8 text-red-500"})]}):e.jsx("img",{src:g.mediaUrls[0],alt:g.title||"Post media",className:"w-full h-full object-cover","data-testid":`image-media-${g.id}`})}):e.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center backdrop-blur-xl bg-black/80","data-testid":`locked-content-${g.id}`,children:e.jsxs("div",{className:"relative",children:[g.thumbnailUrl&&e.jsx("img",{src:g.thumbnailUrl,alt:"Blurred preview",className:"w-full h-full object-cover blur-2xl opacity-20 absolute inset-0"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-4 p-8",children:[e.jsx(ia,{className:"w-16 h-16 text-red-500 neon-glow-red"}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"font-bebas text-2xl text-red-500","data-testid":`lock-reason-${g.id}`,children:_?"Age Verification Required":g.priceCents>0?`Unlock for $${(g.priceCents/100).toFixed(2)}`:"Subscribe to View"}),_&&e.jsx("p",{className:"text-sm text-muted-foreground max-w-xs",children:"Verify your age via VerifyMy to access free content"})]}),e.jsx(_t,{href:`/creator/${g.creatorId}`,children:e.jsx(V,{className:"glass-button-neon","data-testid":`unlock-button-${g.id}`,children:_?e.jsxs(e.Fragment,{children:[e.jsx(Mr,{className:"w-4 h-4 mr-2"}),"Verify Age"]}):e.jsxs(e.Fragment,{children:[e.jsx(ia,{className:"w-4 h-4 mr-2"}),g.priceCents>0?"Unlock":"Subscribe"]})})})]})]})})}),e.jsxs("div",{className:"p-4 space-y-3",children:[g.title&&e.jsx("h3",{className:"font-bebas text-xl text-gold-500","data-testid":`post-title-${g.id}`,children:g.title}),g.content&&e.jsx("p",{className:"text-sm text-foreground/80 line-clamp-3","data-testid":`post-content-${g.id}`,children:g.content}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground pt-2 border-t border-red-900/20",children:[e.jsxs("span",{"data-testid":`views-count-${g.id}`,children:[g.viewsCount," views"]}),e.jsxs("span",{"data-testid":`likes-count-${g.id}`,children:[g.likesCount," likes"]}),e.jsxs("span",{"data-testid":`comments-count-${g.id}`,children:[g.commentsCount," comments"]})]}),e.jsx(_t,{href:`/post/${g.id}`,children:e.jsx(V,{variant:"ghost",className:"w-full glass-button","data-testid":`view-post-${g.id}`,children:"View Full Post"})})]})]})},g.id)},m=g=>{const b=[{id:`ad-${g}`,type:"ad",title:"Premium Creator Tools",description:"Unlock advanced analytics and monetization features",imageUrl:"/ad-placeholder.jpg"},{id:`ad-${g}`,type:"ad",title:"FanzToken Early Access",description:"Be first to join the creator economy revolution"},{id:`ad-${g}`,type:"ad",title:"Boost Your Earnings",description:"Get discovered by thousands of new fans"}];return b[g%b.length]},f=(g,b)=>e.jsx(Y,{className:"glass-panel border-gold-500/30 overflow-hidden","data-testid":`ad-block-${b}`,children:e.jsxs(ee,{className:"p-6 text-center space-y-3",children:[e.jsx("div",{className:"inline-block px-3 py-1 bg-gold-500/20 border border-gold-500/40 rounded-full",children:e.jsx("p",{className:"text-xs font-bebas tracking-widest text-gold-500","data-testid":`ad-label-${b}`,children:"SPONSORED"})}),g.imageUrl&&e.jsx("img",{src:g.imageUrl,alt:g.title,className:"w-full h-32 object-cover rounded-lg"}),e.jsx("h3",{className:"font-bebas text-2xl text-gold-500","data-testid":`ad-title-${b}`,children:g.title}),e.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`ad-description-${b}`,children:g.description}),e.jsx(V,{className:"glass-button-gold w-full","data-testid":`ad-cta-${b}`,children:"Learn More"})]})},g.id),p=l.reduce((g,b,y)=>(g.push(b),(y+1)%v8===0&&g.push(m(Math.floor(y/v8))),g),[]);return s?e.jsx("div",{className:"min-h-[50vh] flex items-center justify-center",children:e.jsx(Y,{className:"glass-card border-red-500/50 p-8",children:e.jsx("p",{className:"text-red-500 font-bebas text-xl",children:"Error loading feed. Please try again."})})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"glass-panel p-6 border-red-900/30",children:[e.jsx("h1",{className:"font-bebas text-4xl text-red-500 neon-glow-red mb-2","data-testid":"feed-title",children:"INFINITY FEED"}),e.jsx("p",{className:"text-muted-foreground","data-testid":"feed-description",children:"Discover endless content from creators you follow and new stars to explore"})]}),e.jsx("div",{className:"grid gap-6 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4","data-testid":"feed-grid",children:p.map((g,b)=>"type"in g&&g.type==="ad"?f(g,b):u(g))}),e.jsxs("div",{ref:t,className:"flex justify-center py-8","data-testid":"loading-indicator",children:[(n||o)&&e.jsxs("div",{className:"flex items-center gap-3 text-red-500",children:[e.jsx(oa,{className:"w-6 h-6 animate-spin"}),e.jsx("span",{className:"font-bebas text-lg",children:n?"Loading feed...":"Loading more content..."})]}),!i&&l.length>0&&!n&&e.jsx("p",{className:"text-muted-foreground font-bebas text-lg","data-testid":"end-message",children:"You've reached the end of the feed"})]}),!n&&l.length===0&&e.jsxs(Y,{className:"glass-card border-red-900/30 p-12 text-center","data-testid":"empty-state",children:[e.jsx("h3",{className:"font-bebas text-2xl text-gold-500 mb-4",children:"No Posts Yet"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Start following creators to see their content in your feed"}),e.jsx(_t,{href:"/search",children:e.jsx(V,{className:"glass-button-neon","data-testid":"discover-creators",children:"Discover Creators"})})]})]})}function zSe(){const{data:t,isLoading:r}=Ve({queryKey:["/api/fanz-trust/dashboard"]});if(r)return e.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#ff0000] mx-auto mb-4"}),e.jsx("p",{className:"text-zinc-400",children:"Loading FanzMoneyCenter..."})]})});const{wallet:n,balance:s,stats:a,recentTransactions:i,tokens:o,creditLines:l,cards:u}=t||{},m=f=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(f/100);return e.jsxs("div",{className:"min-h-screen bg-[#050505] p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-[#ff0000]/20 to-[#d4a959]/20 border border-[#ff0000]/30",children:e.jsx(jx,{className:"w-8 h-8 text-[#ff0000]"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-['Bebas_Neue'] text-white tracking-wide",children:"FanzMoneyCenter"}),e.jsx("p",{className:"text-zinc-400 text-sm",children:"Powered by FanzTrust"})]})]}),e.jsx(Tn,{className:"bg-zinc-800 mt-4"})]}),e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(Y,{className:"bg-gradient-to-br from-[#ff0000]/10 to-transparent border-[#ff0000]/30",children:[e.jsx(ue,{className:"pb-2",children:e.jsx(fe,{className:"text-sm font-normal text-zinc-400",children:"Total Balance"})}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:m(s?.total||0)}),e.jsx("div",{className:"flex items-center gap-2 mt-2 text-xs",children:e.jsxs(ce,{variant:"secondary",className:"bg-green-500/20 text-green-400 border-green-500/30",children:[e.jsx(yn,{className:"w-3 h-3 mr-1"}),"Active"]})})]})]}),e.jsxs(Y,{className:"bg-zinc-900/50 border-zinc-800",children:[e.jsx(ue,{className:"pb-2",children:e.jsx(fe,{className:"text-sm font-normal text-zinc-400",children:"Available"})}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:m(s?.available||0)}),e.jsx("div",{className:"text-xs text-zinc-500 mt-2",children:"Ready to spend"})]})]}),e.jsxs(Y,{className:"bg-zinc-900/50 border-zinc-800",children:[e.jsx(ue,{className:"pb-2",children:e.jsx(fe,{className:"text-sm font-normal text-zinc-400",children:"Total Revenue"})}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold text-[#d4a959]",children:m(a?.totalRevenue||0)}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-400 mt-2",children:[e.jsx(L_,{className:"w-3 h-3"}),"All time"]})]})]}),e.jsxs(Y,{className:"bg-zinc-900/50 border-zinc-800",children:[e.jsx(ue,{className:"pb-2",children:e.jsx(fe,{className:"text-sm font-normal text-zinc-400",children:"Total Spent"})}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:m(a?.totalSpent||0)}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-red-400 mt-2",children:[e.jsx(R_,{className:"w-3 h-3"}),"All time"]})]})]})]}),e.jsxs(Xs,{defaultValue:"overview",className:"space-y-4",children:[e.jsxs(zs,{className:"bg-zinc-900 border border-zinc-800 p-1",children:[e.jsx(Kt,{value:"overview","data-testid":"tab-overview",children:"Overview"}),e.jsx(Kt,{value:"transactions","data-testid":"tab-transactions",children:"Transactions"}),e.jsx(Kt,{value:"tokens","data-testid":"tab-tokens",children:"Tokens"}),e.jsx(Kt,{value:"credit","data-testid":"tab-credit",children:"Credit"}),e.jsx(Kt,{value:"cards","data-testid":"tab-cards",children:"Cards"})]}),e.jsxs(Qt,{value:"overview",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(Y,{className:"bg-zinc-900/50 border-zinc-800",children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(jx,{className:"w-5 h-5 text-[#ff0000]"}),"Wallet Details"]}),e.jsx(lt,{children:"Your FanzWallet balance breakdown"})]}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-zinc-800/50",children:[e.jsx("span",{className:"text-sm text-zinc-400",children:"Available Balance"}),e.jsx("span",{className:"text-lg font-bold text-white",children:m(s?.available||0)})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-zinc-800/50",children:[e.jsx("span",{className:"text-sm text-zinc-400",children:"Pending Balance"}),e.jsx("span",{className:"text-lg font-bold text-yellow-500",children:m(s?.pending||0)})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-zinc-800/50",children:[e.jsx("span",{className:"text-sm text-zinc-400",children:"Held Balance"}),e.jsx("span",{className:"text-lg font-bold text-orange-500",children:m(s?.held||0)})]}),e.jsx(Tn,{className:"bg-zinc-800"}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gradient-to-r from-[#ff0000]/20 to-[#d4a959]/20",children:[e.jsx("span",{className:"text-sm font-semibold text-white",children:"Total Balance"}),e.jsx("span",{className:"text-xl font-bold text-[#ff0000]",children:m(s?.total||0)})]})]})]}),e.jsxs(Y,{className:"bg-zinc-900/50 border-zinc-800",children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(by,{className:"w-5 h-5 text-[#d4a959]"}),"Token Balances"]}),e.jsx(lt,{children:"Your FanzToken & FanzCoin holdings"})]}),e.jsxs(ee,{className:"space-y-3",children:[o?.map(f=>e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-zinc-800/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[f.type==="fanzcoin"&&e.jsx(by,{className:"w-4 h-4 text-[#d4a959]"}),f.type==="fanztoken"&&e.jsx(Vd,{className:"w-4 h-4 text-[#ff0000]"}),f.type==="loyalty"&&e.jsx(Ed,{className:"w-4 h-4 text-purple-500"}),f.type==="reward"&&e.jsx(Ed,{className:"w-4 h-4 text-blue-500"}),f.type==="utility"&&e.jsx(Mr,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm text-zinc-400 capitalize",children:f.type})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold text-white",children:f.balance}),e.jsxs("div",{className:"text-xs text-zinc-500",children:["$",(f.balance*f.valueCentsPerToken/100).toFixed(2)]})]})]},f.type)),e.jsxs(V,{className:"w-full bg-[#ff0000] hover:bg-[#cc0000] text-white","data-testid":"button-buy-tokens",children:[e.jsx(by,{className:"w-4 h-4 mr-2"}),"Buy Tokens"]})]})]})]}),e.jsxs(Y,{className:"bg-zinc-900/50 border-zinc-800",children:[e.jsx(ue,{children:e.jsx(fe,{children:"Quick Actions"})}),e.jsx(ee,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs(V,{variant:"outline",className:"border-[#ff0000]/30 hover:bg-[#ff0000]/10","data-testid":"button-transfer",children:[e.jsx(L_,{className:"w-4 h-4 mr-2"}),"Transfer"]}),e.jsxs(V,{variant:"outline",className:"border-[#d4a959]/30 hover:bg-[#d4a959]/10","data-testid":"button-deposit",children:[e.jsx(qr,{className:"w-4 h-4 mr-2"}),"Deposit"]}),e.jsxs(V,{variant:"outline",className:"border-zinc-600 hover:bg-zinc-800","data-testid":"button-withdraw",children:[e.jsx(R_,{className:"w-4 h-4 mr-2"}),"Withdraw"]}),e.jsxs(V,{variant:"outline",className:"border-zinc-600 hover:bg-zinc-800","data-testid":"button-analytics",children:[e.jsx(EF,{className:"w-4 h-4 mr-2"}),"Analytics"]})]})})]})]}),e.jsx(Qt,{value:"transactions",children:e.jsxs(Y,{className:"bg-zinc-900/50 border-zinc-800",children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(uY,{className:"w-5 h-5 text-[#ff0000]"}),"Transaction History"]}),e.jsx(lt,{children:"Your recent financial activity"})]}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-3",children:[i?.map((f,p)=>e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-zinc-800/50 hover:bg-zinc-800 transition-colors","data-testid":`transaction-${p}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${f.entryType==="credit"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:f.entryType==="credit"?e.jsx(L_,{className:"w-4 h-4"}):e.jsx(R_,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-white",children:f.description||f.transactionType}),e.jsx("div",{className:"text-xs text-zinc-500",children:new Date(f.createdAt).toLocaleString()})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-lg font-bold ${f.entryType==="credit"?"text-green-400":"text-red-400"}`,children:[f.entryType==="credit"?"+":"-",m(Math.abs(Number(f.amountCents)))]}),e.jsxs("div",{className:"text-xs text-zinc-500",children:["Balance: ",m(Number(f.balanceAfterCents))]})]})]},f.id)),(!i||i.length===0)&&e.jsx("div",{className:"text-center py-8 text-zinc-500",children:"No transactions yet"})]})})]})}),e.jsx(Qt,{value:"tokens",children:e.jsxs(Y,{className:"bg-zinc-900/50 border-zinc-800",children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(by,{className:"w-5 h-5 text-[#d4a959]"}),"Token Economy"]}),e.jsx(lt,{children:"Manage your FanzToken & FanzCoin"})]}),e.jsx(ee,{children:e.jsx("div",{className:"text-center py-12 text-zinc-500",children:"Token management coming soon..."})})]})}),e.jsx(Qt,{value:"credit",children:e.jsxs(Y,{className:"bg-zinc-900/50 border-zinc-800",children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(Mr,{className:"w-5 h-5 text-[#ff0000]"}),"FanzCredit"]}),e.jsx(lt,{children:"Your credit lines and lending"})]}),e.jsx(ee,{className:"space-y-4",children:l&&l.length>0?e.jsxs(e.Fragment,{children:[l.map(f=>e.jsxs("div",{className:"p-4 rounded-lg border border-zinc-800 bg-zinc-900/30",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-zinc-400",children:"Credit Line"}),e.jsx("div",{className:"text-xl font-bold text-white mt-1",children:m(Number(f.creditLimitCents))})]}),e.jsx(ce,{variant:"secondary",className:`${f.status==="active"?"bg-green-500/20 text-green-400 border-green-500/30":f.status==="pending"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":"bg-red-500/20 text-red-400 border-red-500/30"}`,"data-testid":`credit-status-${f.id}`,children:f.status})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-500",children:"Available"}),e.jsx("div",{className:"font-semibold text-green-400",children:m(Number(f.availableCreditCents))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-500",children:"Used"}),e.jsx("div",{className:"font-semibold text-red-400",children:m(Number(f.balanceCents))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-500",children:"APR"}),e.jsxs("div",{className:"font-semibold text-zinc-300",children:[f.interestRateApr,"%"]})]})]}),f.collateralType&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-800 text-xs text-zinc-500",children:["Collateral: ",f.collateralType," (",m(Number(f.collateralValueCents)||0),")"]})]},f.id)),e.jsxs(V,{className:"w-full bg-[#ff0000] hover:bg-[#cc0000] text-white","data-testid":"button-apply-credit",children:[e.jsx(Mr,{className:"w-4 h-4 mr-2"}),"Apply for Credit"]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Mr,{className:"w-12 h-12 mx-auto mb-4 text-zinc-600"}),e.jsx("p",{className:"text-zinc-500 mb-4",children:"No credit lines yet"}),e.jsxs(V,{className:"bg-[#ff0000] hover:bg-[#cc0000] text-white","data-testid":"button-apply-credit-empty",children:[e.jsx(Mr,{className:"w-4 h-4 mr-2"}),"Apply for Credit"]})]})})]})}),e.jsx(Qt,{value:"cards",children:e.jsxs(Y,{className:"bg-zinc-900/50 border-zinc-800",children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(vs,{className:"w-5 h-5 text-[#d4a959]"}),"FanzCard"]}),e.jsx(lt,{children:"Your virtual debit cards"})]}),e.jsx(ee,{className:"space-y-4",children:u&&u.length>0?e.jsxs(e.Fragment,{children:[u.map(f=>e.jsxs("div",{className:"relative overflow-hidden p-6 rounded-2xl bg-gradient-to-br from-[#ff0000]/20 via-zinc-900 to-[#d4a959]/20 border border-[#ff0000]/30",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-zinc-400 uppercase tracking-wider mb-1",children:"FanzCard"}),e.jsx("div",{className:"text-sm text-zinc-500",children:f.nickname||"Virtual Debit Card"})]}),e.jsx(ce,{variant:"secondary",className:`${f.status==="active"?"bg-green-500/20 text-green-400 border-green-500/30":f.status==="frozen"?"bg-blue-500/20 text-blue-400 border-blue-500/30":"bg-red-500/20 text-red-400 border-red-500/30"}`,"data-testid":`card-status-${f.id}`,children:f.status})]}),e.jsxs("div",{className:"text-2xl font-['Courier_New'] tracking-widest text-white mb-6",children:["   ",f.lastFour]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-500 mb-1",children:"Per Transaction"}),e.jsx("div",{className:"text-white font-semibold",children:m(Number(f.perTransactionLimitCents))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-500 mb-1",children:"Daily Limit"}),e.jsx("div",{className:"text-white font-semibold",children:m(Number(f.dailyLimitCents))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-500 mb-1",children:"Monthly Limit"}),e.jsx("div",{className:"text-white font-semibold",children:m(Number(f.monthlyLimitCents))})]})]})]}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-[#ff0000]/10 to-transparent rounded-full blur-3xl"})]},f.id)),e.jsxs(V,{className:"w-full bg-[#d4a959] hover:bg-[#b8925e] text-white","data-testid":"button-create-card",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),"Create New Card"]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(vs,{className:"w-12 h-12 mx-auto mb-4 text-zinc-600"}),e.jsx("p",{className:"text-zinc-500 mb-4",children:"No virtual cards yet"}),e.jsxs(V,{className:"bg-[#d4a959] hover:bg-[#b8925e] text-white","data-testid":"button-create-card-empty",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),"Create Your First Card"]})]})})]})})]})]})]})}const Tu=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t/100);function BSe(){const{user:t}=kr(),{toast:r}=or(),[n,s]=j.useState(!1),[a,i]=j.useState(!1),[o,l]=j.useState(null),{data:u=[]}=Ve({queryKey:["/api/revenue-quests/quests/active"]}),{data:m=[]}=Ve({queryKey:["/api/revenue-quests/quests/my-quests"],enabled:t?.role==="creator"}),{data:f=[]}=Ve({queryKey:["/api/revenue-quests/quests/my-participation"]}),[p,g]=j.useState({title:"",description:"",questType:"revenue_goal",goalAmountCents:"",minContributionCents:"100",contributorSharePercentage:"10",rewardType:"exclusive_content",startDate:"",endDate:""}),[b,y]=j.useState(""),_=ot({mutationFn:async O=>Ze("/api/revenue-quests/quests","POST",O),onSuccess:()=>{r({title:"Quest Created!",description:"Your revenue quest has been created successfully"}),Rt.invalidateQueries({queryKey:["/api/revenue-quests"]}),s(!1),g({title:"",description:"",questType:"revenue_goal",goalAmountCents:"",minContributionCents:"100",contributorSharePercentage:"10",rewardType:"exclusive_content",startDate:"",endDate:""})}}),w=ot({mutationFn:async({questId:O,amountCents:I})=>Ze(`/api/revenue-quests/quests/${O}/contribute`,"POST",{amountCents:I}),onSuccess:()=>{r({title:"Contribution Successful!",description:"Your contribution has been added to the quest"}),Rt.invalidateQueries({queryKey:["/api/revenue-quests"]}),i(!1),y("")},onError:O=>{r({title:"Contribution Failed",description:O.message||"Failed to contribute to quest",variant:"destructive"})}}),k=()=>{const O={title:p.title,description:p.description,questType:p.questType,goalAmountCents:Math.round(parseFloat(p.goalAmountCents)*100),minContributionCents:parseInt(p.minContributionCents),contributorSharePercentage:parseInt(p.contributorSharePercentage),rewardType:p.rewardType,status:"active"};p.startDate&&(O.startDate=new Date(p.startDate)),p.endDate&&(O.endDate=new Date(p.endDate)),_.mutate(O)},A=()=>{if(!o||!b)return;const O=Math.round(parseFloat(b)*100);w.mutate({questId:o.id,amountCents:O})},P=O=>{l(O),i(!0)};return e.jsx("div",{className:"min-h-screen bg-[#050505] p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-['Bebas_Neue'] text-white mb-2 tracking-wide flex items-center gap-3",children:[e.jsx(JA,{className:"h-10 w-10 text-[#ff0000]"}),"Revenue Quests"]}),e.jsx("p",{className:"text-zinc-400 text-lg",children:"AI-powered gamified revenue goals. Support creators, unlock rewards, earn together."})]}),t?.role==="creator"&&e.jsxs(Ur,{open:n,onOpenChange:s,children:[e.jsx(Dl,{asChild:!0,children:e.jsxs(V,{className:"bg-[#ff0000] hover:bg-[#cc0000]","data-testid":"button-create-quest",children:[e.jsx(hs,{className:"mr-2 h-4 w-4"}),"Create Quest"]})}),e.jsxs(Lr,{className:"bg-zinc-900 border-zinc-800 text-white max-w-2xl",children:[e.jsxs(Fr,{children:[e.jsx($r,{className:"text-2xl font-['Bebas_Neue']",children:"Create Revenue Quest"}),e.jsx(Wr,{className:"text-zinc-400",children:"Set up a gamified revenue goal with fan participation and rewards"})]}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(et,{children:"Quest Title"}),e.jsx(Ue,{value:p.title,onChange:O=>g({...p,title:O.target.value}),placeholder:"e.g., New Album Production Fund",className:"bg-zinc-800 border-zinc-700","data-testid":"input-quest-title"})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Description"}),e.jsx(on,{value:p.description,onChange:O=>g({...p,description:O.target.value}),placeholder:"Describe your quest and what fans will unlock...",className:"bg-zinc-800 border-zinc-700","data-testid":"input-quest-description"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(et,{children:"Goal Amount ($)"}),e.jsx(Ue,{type:"number",value:p.goalAmountCents,onChange:O=>g({...p,goalAmountCents:O.target.value}),placeholder:"1000",className:"bg-zinc-800 border-zinc-700","data-testid":"input-quest-goal"})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Quest Type"}),e.jsxs(yt,{value:p.questType,onValueChange:O=>g({...p,questType:O}),children:[e.jsx(xt,{className:"bg-zinc-800 border-zinc-700","data-testid":"select-quest-type",children:e.jsx(bt,{})}),e.jsxs(gt,{className:"bg-zinc-900 border-zinc-800",children:[e.jsx(Q,{value:"revenue_goal",children:"Revenue Goal"}),e.jsx(Q,{value:"fan_contribution",children:"Fan Contribution"}),e.jsx(Q,{value:"content_unlock",children:"Content Unlock"}),e.jsx(Q,{value:"collaborative_project",children:"Collaborative Project"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(et,{children:"Contributor Share (%)"}),e.jsx(Ue,{type:"number",value:p.contributorSharePercentage,onChange:O=>g({...p,contributorSharePercentage:O.target.value}),placeholder:"10",className:"bg-zinc-800 border-zinc-700","data-testid":"input-contributor-share"})]}),e.jsxs("div",{children:[e.jsx(et,{children:"Reward Type"}),e.jsxs(yt,{value:p.rewardType,onValueChange:O=>g({...p,rewardType:O}),children:[e.jsx(xt,{className:"bg-zinc-800 border-zinc-700","data-testid":"select-reward-type",children:e.jsx(bt,{})}),e.jsxs(gt,{className:"bg-zinc-900 border-zinc-800",children:[e.jsx(Q,{value:"exclusive_content",children:"Exclusive Content"}),e.jsx(Q,{value:"nft",children:"NFT"}),e.jsx(Q,{value:"experience",children:"Experience"}),e.jsx(Q,{value:"exclusive_access",children:"Exclusive Access"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(et,{children:"Start Date"}),e.jsx(Ue,{type:"date",value:p.startDate,onChange:O=>g({...p,startDate:O.target.value}),className:"bg-zinc-800 border-zinc-700","data-testid":"input-start-date"})]}),e.jsxs("div",{children:[e.jsx(et,{children:"End Date"}),e.jsx(Ue,{type:"date",value:p.endDate,onChange:O=>g({...p,endDate:O.target.value}),className:"bg-zinc-800 border-zinc-700","data-testid":"input-end-date"})]})]}),e.jsx(V,{onClick:k,disabled:_.isPending,className:"w-full bg-[#ff0000] hover:bg-[#cc0000]","data-testid":"button-submit-quest",children:_.isPending?"Creating...":"Create Quest"})]})]})]})]})}),e.jsxs(Xs,{defaultValue:"discover",className:"w-full",children:[e.jsxs(zs,{className:"bg-zinc-900 border-b border-zinc-800 w-full justify-start",children:[e.jsxs(Kt,{value:"discover",className:"data-[state=active]:bg-zinc-800","data-testid":"tab-discover",children:[e.jsx(Ls,{className:"mr-2 h-4 w-4"}),"Discover"]}),t?.role==="creator"&&e.jsxs(Kt,{value:"my-quests",className:"data-[state=active]:bg-zinc-800","data-testid":"tab-my-quests",children:[e.jsx(tI,{className:"mr-2 h-4 w-4"}),"My Quests"]}),e.jsxs(Kt,{value:"participation",className:"data-[state=active]:bg-zinc-800","data-testid":"tab-participation",children:[e.jsx(lr,{className:"mr-2 h-4 w-4"}),"My Contributions"]})]}),e.jsx(Qt,{value:"discover",className:"mt-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(O=>e.jsxs(Y,{className:"bg-zinc-900/50 border-zinc-800 backdrop-blur-sm","data-testid":`quest-card-${O.id}`,children:[e.jsx(ue,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(fe,{className:"text-xl text-white",children:O.title}),e.jsx(lt,{className:"text-zinc-400",children:O.description})]}),e.jsx(ce,{className:"bg-[#ff0000]/20 text-[#ff0000] border-[#ff0000]/30",children:O.questType.replace("_"," ")})]})}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-zinc-400",children:"Progress"}),e.jsxs("span",{className:"text-[#d4a959] font-semibold",children:[O.completionPercentage,"%"]})]}),e.jsx(bs,{value:O.completionPercentage,className:"h-2 bg-zinc-800"}),e.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[e.jsx("span",{className:"text-white",children:Tu(O.currentAmountCents||0)}),e.jsx("span",{className:"text-zinc-400",children:Tu(O.goalAmountCents)})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1 text-zinc-400",children:[e.jsx(lr,{className:"h-4 w-4"}),e.jsx("span",{children:O.totalContributors})]}),O.contributorSharePercentage>0&&e.jsxs("div",{className:"flex items-center gap-1 text-[#d4a959]",children:[e.jsx(yn,{className:"h-4 w-4"}),e.jsxs("span",{children:[O.contributorSharePercentage,"% share"]})]})]}),e.jsxs(V,{onClick:()=>P(O),className:"w-full bg-[#d4a959] hover:bg-[#b8925e]","data-testid":`button-contribute-${O.id}`,children:[e.jsx(Vd,{className:"mr-2 h-4 w-4"}),"Contribute Now"]})]})})]},O.id))})}),t?.role==="creator"&&e.jsx(Qt,{value:"my-quests",className:"mt-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(O=>e.jsxs(Y,{className:"bg-zinc-900/50 border-zinc-800 backdrop-blur-sm",children:[e.jsx(ue,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx(fe,{className:"text-xl text-white",children:O.title}),e.jsx(ce,{className:O.status==="completed"?"bg-green-500/20 text-green-500":O.status==="active"?"bg-[#ff0000]/20 text-[#ff0000]":"bg-zinc-700 text-zinc-400",children:O.status})]})}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(bs,{value:O.completionPercentage,className:"h-2 bg-zinc-800"}),e.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[e.jsx("span",{className:"text-white",children:Tu(O.currentAmountCents||0)}),e.jsx("span",{className:"text-zinc-400",children:Tu(O.goalAmountCents)})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1 text-zinc-400",children:[e.jsx(lr,{className:"h-4 w-4"}),e.jsxs("span",{children:[O.totalContributors," contributors"]})]}),O.status==="completed"&&e.jsx(vh,{className:"h-5 w-5 text-green-500"})]})]})})]},O.id))})}),e.jsx(Qt,{value:"participation",className:"mt-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:f.map(O=>e.jsx(Y,{className:"bg-zinc-900/50 border-zinc-800 backdrop-blur-sm",children:e.jsx(ee,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Quest Contribution"}),O.isUnderwriter&&e.jsxs(ce,{className:"bg-[#d4a959]/20 text-[#d4a959] border-[#d4a959]/30",children:[e.jsx(tI,{className:"h-3 w-3 mr-1"}),"Early Supporter"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-zinc-400",children:"Contributed"}),e.jsx("p",{className:"text-white font-semibold",children:Tu(O.contributedAmountCents)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-zinc-400",children:"Earned"}),e.jsx("p",{className:"text-[#d4a959] font-semibold",children:Tu(O.earnedAmountCents||0)})]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-zinc-400",children:"Your Share: "}),e.jsxs("span",{className:"text-[#d4a959] font-semibold",children:[parseFloat(O.sharePercentage||"0").toFixed(2),"%"]})]})]})})},O.id))})})]}),e.jsx(Ur,{open:a,onOpenChange:i,children:e.jsxs(Lr,{className:"bg-zinc-900 border-zinc-800 text-white",children:[e.jsxs(Fr,{children:[e.jsx($r,{className:"text-2xl font-['Bebas_Neue']",children:"Contribute to Quest"}),e.jsx(Wr,{className:"text-zinc-400",children:o?.title})]}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(et,{children:"Contribution Amount ($)"}),e.jsx(Ue,{type:"number",value:b,onChange:O=>y(O.target.value),placeholder:"10.00",step:"0.01",className:"bg-zinc-800 border-zinc-700","data-testid":"input-contribute-amount"}),o&&e.jsxs("p",{className:"text-xs text-zinc-500 mt-1",children:["Minimum: ",Tu(o.minContributionCents||100)]})]}),o?.contributorSharePercentage>0&&e.jsxs("div",{className:"p-4 rounded-lg bg-[#d4a959]/10 border border-[#d4a959]/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(yx,{className:"h-5 w-5 text-[#d4a959]"}),e.jsx("span",{className:"text-[#d4a959] font-semibold",children:"Earn Rewards!"})]}),e.jsxs("p",{className:"text-sm text-zinc-400",children:["Contributors earn ",o.contributorSharePercentage,"% of quest revenue when completed. Early supporters get bonus rewards!"]})]}),e.jsx(V,{onClick:A,disabled:w.isPending||!b,className:"w-full bg-[#d4a959] hover:bg-[#b8925e]","data-testid":"button-confirm-contribute",children:w.isPending?"Contributing...":"Confirm Contribution"})]})]})})]})})}const y8={unverified:{color:"bg-gray-500",label:"Unverified",icon:Mr},bronze:{color:"bg-amber-600",label:"Bronze",icon:Mr},silver:{color:"bg-gray-400",label:"Silver",icon:Mr},gold:{color:"bg-yellow-500",label:"Gold",icon:Ed},platinum:{color:"bg-blue-500",label:"Platinum",icon:Ed},diamond:{color:"bg-purple-600",label:"Diamond",icon:Ed}},qSe={pending:{color:"bg-yellow-500",label:"Pending Review",icon:wr},under_review:{color:"bg-blue-500",label:"Under Review",icon:nY},approved:{color:"bg-green-500",label:"Approved",icon:Cr},rejected:{color:"bg-red-500",label:"Rejected",icon:Ln},expired:{color:"bg-gray-500",label:"Expired",icon:wr}};function USe(){const{toast:t}=or(),[r,n]=j.useState(""),[s,a]=j.useState([]),[i,o]=j.useState(""),[l,u]=j.useState(""),[m,f]=j.useState(""),{data:p,isLoading:g}=Ve({queryKey:["/api/trust/score"]}),{data:b,isLoading:y}=Ve({queryKey:["/api/trust/proofs"]}),{data:_,isLoading:w}=Ve({queryKey:["/api/trust/disputes"]}),k=ot({mutationFn:async re=>Ze("/api/trust/proofs",{method:"POST",body:JSON.stringify(re)}),onSuccess:()=>{t({title:"Proof submitted successfully!"}),Rt.invalidateQueries({queryKey:["/api/trust/proofs"]}),Rt.invalidateQueries({queryKey:["/api/trust/score"]}),n(""),a([])},onError:()=>{t({title:"Failed to submit proof",variant:"destructive"})}}),A=ot({mutationFn:async re=>Ze("/api/trust/disputes",{method:"POST",body:JSON.stringify(re)}),onSuccess:()=>{t({title:"Dispute filed successfully!"}),Rt.invalidateQueries({queryKey:["/api/trust/disputes"]}),o(""),u(""),f("")},onError:()=>{t({title:"Failed to file dispute",variant:"destructive"})}}),P=()=>{if(!r||s.length===0){t({title:"Please select proof type and upload documents",variant:"destructive"});return}k.mutate({proofType:r,documentUrls:s,metadata:{}})},O=()=>{if(!i||!l||!m){t({title:"Please fill all required fields",variant:"destructive"});return}A.mutate({title:i,description:l,disputeType:m,evidenceUrls:[],relatedTransactionIds:[],relatedContentIds:[]})},I=p?.currentTier?y8[p.currentTier]:y8.unverified,D=I.icon,B=p?(re=>re<100?{tier:"Bronze",points:100}:re<500?{tier:"Silver",points:500}:re<1500?{tier:"Gold",points:1500}:re<5e3?{tier:"Platinum",points:5e3}:re<1e4?{tier:"Diamond",points:1e4}:{tier:"Diamond (Max)",points:1e4})(p.scorePoints):{tier:"Bronze",points:100},H=p?Math.min(100,p.scorePoints/B.points*100):0;return g?e.jsx("div",{className:"p-8",children:"Loading..."}):e.jsx("div",{className:"min-h-screen bg-[#050505] text-white p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bebas-neue tracking-wider mb-2",children:"FANZTRUST REPUTATION SYSTEM"}),e.jsx("p",{className:"text-gray-400",children:"Build trust. Unlock privileges. Protect the community."})]}),e.jsxs(Y,{className:"bg-black/40 border-red-900/20 backdrop-blur-sm",children:[e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-4 rounded-full ${I.color}`,children:e.jsx(D,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsxs(fe,{className:"text-2xl font-bebas-neue tracking-wider",children:[I.label," TIER"]}),e.jsxs(lt,{className:"text-lg",children:[p?.scorePoints||0," Trust Points"]})]})]}),e.jsx(ce,{className:`${I.color} text-white px-4 py-2 text-lg`,"data-testid":"badge-tier",children:I.label.toUpperCase()})]})}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsxs("span",{className:"text-sm text-gray-400",children:["Progress to ",B.tier]}),e.jsxs("span",{className:"text-sm text-gray-400",children:[p?.scorePoints||0," / ",B.points]})]}),e.jsx(bs,{value:H,className:"h-2"})]}),e.jsx(Tn,{}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Proofs Approved"}),e.jsx("p",{className:"text-2xl font-bold text-green-500","data-testid":"text-proofs-approved",children:p?.proofsApproved||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Transactions"}),e.jsx("p",{className:"text-2xl font-bold text-blue-500","data-testid":"text-transactions",children:p?.transactionCount||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Disputes Won"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-500","data-testid":"text-disputes-won",children:p?.successfulDisputesWon||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Account Age"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-500","data-testid":"text-account-age",children:[p?.accountAgeDays||0,"d"]})]})]})]})]}),e.jsxs(Xs,{defaultValue:"proofs",className:"space-y-6",children:[e.jsxs(zs,{className:"bg-black/40 border border-red-900/20","data-testid":"tabs-list",children:[e.jsx(Kt,{value:"proofs","data-testid":"tab-proofs",children:"Trust Proofs"}),e.jsx(Kt,{value:"disputes","data-testid":"tab-disputes",children:"Disputes"})]}),e.jsxs(Qt,{value:"proofs",className:"space-y-6",children:[e.jsxs(Y,{className:"bg-black/40 border-red-900/20 backdrop-blur-sm",children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(zi,{className:"w-5 h-5"}),"Submit Trust Proof"]}),e.jsx(lt,{children:"Verify your identity and increase your trust score"})]}),e.jsx(ee,{className:"space-y-4",children:e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{children:[e.jsx(et,{htmlFor:"proof-type",children:"Proof Type"}),e.jsxs(yt,{value:r,onValueChange:n,children:[e.jsx(xt,{"data-testid":"select-proof-type",children:e.jsx(bt,{placeholder:"Select proof type"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"id_verification",children:"ID Verification (+200 pts)"}),e.jsx(Q,{value:"address_verification",children:"Address Verification (+150 pts)"}),e.jsx(Q,{value:"payment_history",children:"Payment History (+100 pts)"}),e.jsx(Q,{value:"social_media",children:"Social Media (+50 pts)"}),e.jsx(Q,{value:"employment",children:"Employment Verification (+100 pts)"}),e.jsx(Q,{value:"bank_statement",children:"Bank Statement (+150 pts)"})]})]})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"document-url",children:"Document URL"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ue,{id:"document-url",placeholder:"https://example.com/document.pdf",onKeyPress:re=>{if(re.key==="Enter"){const G=re.target;G.value&&(a([...s,G.value]),G.value="")}},"data-testid":"input-document-url"}),e.jsx(V,{type:"button",variant:"outline",onClick:re=>{const G=document.getElementById("document-url");G.value&&(a([...s,G.value]),G.value="")},"data-testid":"button-add-document",children:"Add"})]}),s.length>0&&e.jsx("div",{className:"mt-2 space-y-1",children:s.map((re,G)=>e.jsxs("div",{className:"text-sm text-gray-400 flex items-center justify-between",children:[e.jsx("span",{className:"truncate",children:re}),e.jsx(V,{variant:"ghost",size:"sm",onClick:()=>a(s.filter((J,Z)=>Z!==G)),children:"Remove"})]},G))})]}),e.jsx(V,{onClick:P,disabled:k.isPending,className:"bg-red-600 hover:bg-red-700","data-testid":"button-submit-proof",children:k.isPending?"Submitting...":"Submit Proof"})]})})]}),e.jsxs(Y,{className:"bg-black/40 border-red-900/20 backdrop-blur-sm",children:[e.jsx(ue,{children:e.jsx(fe,{children:"My Submitted Proofs"})}),e.jsx(ee,{children:y?e.jsx("p",{children:"Loading proofs..."}):b&&b.length>0?e.jsx("div",{className:"space-y-4",children:b.map(re=>{const G=qSe[re.status],J=G.icon;return e.jsxs("div",{className:"p-4 bg-black/20 rounded-lg border border-gray-800","data-testid":`proof-${re.id}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-full ${G.color}`,children:e.jsx(J,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold capitalize",children:re.proofType.replace(/_/g," ")}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Submitted ",new Date(re.submittedAt).toLocaleDateString()]})]})]}),e.jsx(ce,{className:`${G.color} text-white`,children:G.label})]}),re.status==="approved"&&re.scorePointsAwarded>0&&e.jsxs("p",{className:"mt-2 text-sm text-green-400",children:["+",re.scorePointsAwarded," Trust Points"]}),re.status==="rejected"&&re.rejectionReason&&e.jsxs("p",{className:"mt-2 text-sm text-red-400",children:["Reason: ",re.rejectionReason]})]},re.id)})}):e.jsx("p",{className:"text-gray-400",children:"No proofs submitted yet"})})]})]}),e.jsxs(Qt,{value:"disputes",className:"space-y-6",children:[e.jsxs(Y,{className:"bg-black/40 border-red-900/20 backdrop-blur-sm",children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(Qr,{className:"w-5 h-5"}),"File a Dispute"]}),e.jsx(lt,{children:"Report issues and seek resolution"})]}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(et,{htmlFor:"dispute-type",children:"Dispute Type"}),e.jsxs(yt,{value:m,onValueChange:f,children:[e.jsx(xt,{"data-testid":"select-dispute-type",children:e.jsx(bt,{placeholder:"Select dispute type"})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"transaction",children:"Transaction Issue"}),e.jsx(Q,{value:"content",children:"Content Violation"}),e.jsx(Q,{value:"harassment",children:"Harassment"}),e.jsx(Q,{value:"fraud",children:"Fraud"})]})]})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"dispute-title",children:"Title"}),e.jsx(Ue,{id:"dispute-title",value:i,onChange:re=>o(re.target.value),placeholder:"Brief description of the issue","data-testid":"input-dispute-title"})]}),e.jsxs("div",{children:[e.jsx(et,{htmlFor:"dispute-description",children:"Description"}),e.jsx(on,{id:"dispute-description",value:l,onChange:re=>u(re.target.value),placeholder:"Detailed explanation of the dispute",rows:5,"data-testid":"textarea-dispute-description"})]}),e.jsx(V,{onClick:O,disabled:A.isPending,className:"bg-red-600 hover:bg-red-700","data-testid":"button-file-dispute",children:A.isPending?"Filing...":"File Dispute"})]})]}),e.jsxs(Y,{className:"bg-black/40 border-red-900/20 backdrop-blur-sm",children:[e.jsx(ue,{children:e.jsx(fe,{children:"My Disputes"})}),e.jsx(ee,{children:w?e.jsx("p",{children:"Loading disputes..."}):_&&_.length>0?e.jsx("div",{className:"space-y-4",children:_.map(re=>e.jsxs("div",{className:"p-4 bg-black/20 rounded-lg border border-gray-800","data-testid":`dispute-${re.id}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold",children:re.title}),e.jsx(ce,{className:re.status==="resolved"?"bg-green-500":"bg-yellow-500",children:re.status})]}),e.jsx("p",{className:"text-sm text-gray-400 mb-2",children:re.description}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Filed ",new Date(re.filedAt).toLocaleDateString()]}),re.resolution&&e.jsxs("div",{className:"mt-3 p-3 bg-green-900/20 border border-green-800 rounded",children:[e.jsx("p",{className:"text-sm font-semibold text-green-400",children:"Resolution:"}),e.jsx("p",{className:"text-sm text-gray-300",children:re.resolution})]})]},re.id))}):e.jsx("p",{className:"text-gray-400",children:"No disputes filed"})})]})]})]})]})})}const b8=({post:t,featured:r=!1})=>{const n=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return e.jsxs(Y,{className:`overflow-hidden hover:shadow-lg transition-all duration-200 cursor-pointer group ${r?"md:col-span-2 lg:col-span-3":""}`,"data-testid":`blog-post-${t.id}`,children:[e.jsxs("div",{className:`relative ${r?"aspect-video md:aspect-[21/9]":"aspect-video"}`,children:[t.featuredImage?e.jsx("img",{src:t.featuredImage,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/10 to-accent/10 flex items-center justify-center",children:e.jsx(Yu,{className:"h-12 w-12 text-muted-foreground opacity-50"})}),t.isFeatured&&e.jsx("div",{className:"absolute top-4 left-4",children:e.jsxs(ce,{className:"bg-primary text-primary-foreground",children:[e.jsx(An,{className:"h-3 w-3 mr-1"}),"Featured"]})}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx(ce,{variant:"secondary",className:"text-xs",children:t.category})})]}),e.jsxs(ee,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsxs(un,{className:"h-8 w-8",children:[e.jsx(En,{src:t.author.avatar}),e.jsx(hn,{className:"bg-primary/10 text-primary text-xs",children:t.author.name[0]?.toUpperCase()})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"font-medium","data-testid":`author-${t.id}`,children:t.author.name}),e.jsx("span",{className:"text-muted-foreground",children:""}),e.jsx("span",{className:"text-muted-foreground",children:t.author.role})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[e.jsx(ys,{className:"h-3 w-3"}),e.jsx("span",{"data-testid":`date-${t.id}`,children:n(t.publishedAt)}),e.jsx("span",{children:""}),e.jsx(wr,{className:"h-3 w-3"}),e.jsxs("span",{children:[t.readTime," min read"]})]})]})]}),e.jsx(fe,{className:`mb-3 line-clamp-2 group-hover:text-primary transition-colors ${r?"text-2xl":"text-lg"}`,"data-testid":`title-${t.id}`,children:t.title}),e.jsx(lt,{className:`mb-4 ${r?"text-base line-clamp-3":"text-sm line-clamp-2"}`,"data-testid":`excerpt-${t.id}`,children:t.excerpt}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[t.tags.slice(0,3).map((s,a)=>e.jsx(ce,{variant:"outline",className:"text-xs",children:s},a)),t.tags.length>3&&e.jsxs(ce,{variant:"outline",className:"text-xs",children:["+",t.tags.length-3]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(yn,{className:"h-3 w-3"}),t.viewsCount," views"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(An,{className:"h-3 w-3"}),t.likesCount," likes"]})]}),e.jsx(V,{variant:"ghost",size:"sm",className:"text-xs","data-testid":`read-more-${t.id}`,children:"Read More "})]})]})]})};function j8(){const[t,r]=j.useState(""),[n,s]=j.useState(""),a=[{id:"1",title:"The Future of Creator Economy: Trends to Watch in 2024",excerpt:"Explore the latest trends shaping the creator economy landscape, from AI-powered content creation to decentralized monetization models.",content:"",featuredImage:"https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=800&h=400&fit=crop",category:"Industry",tags:["Creator Economy","Trends","AI","Monetization"],publishedAt:"2024-03-15",readTime:8,author:{name:"Sarah Chen",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b04b?w=100&h=100&fit=crop&crop=face",role:"Industry Analyst"},viewsCount:1250,likesCount:89,isFeatured:!0},{id:"2",title:"Building Authentic Connections: A Creator's Guide",excerpt:"Learn how successful creators build genuine relationships with their audience and maintain engagement over time.",content:"",category:"Creator Tips",tags:["Engagement","Community","Growth"],publishedAt:"2024-03-12",readTime:6,author:{name:"Alex Rodriguez",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face",role:"Content Strategist"},viewsCount:890,likesCount:67,isFeatured:!1},{id:"3",title:"Platform Updates: New Features for Enhanced Creator Experience",excerpt:"Discover the latest platform updates designed to help creators monetize their content more effectively.",content:"",category:"Platform News",tags:["Updates","Features","Monetization"],publishedAt:"2024-03-10",readTime:4,author:{name:"BoyFanz Team",role:"Platform Team"},viewsCount:2100,likesCount:156,isFeatured:!1}],{data:i=a,isLoading:o}=Ve({queryKey:["/api/blog/posts",{search:t,category:n}],initialData:a}),l=["All","Industry","Creator Tips","Platform News","Tutorials","Success Stories"],u=i.filter(f=>f.isFeatured),m=i.filter(f=>!f.isFeatured);return o?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((f,p)=>e.jsxs(Y,{className:"animate-pulse",children:[e.jsx("div",{className:"aspect-video bg-muted"}),e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 w-32 bg-muted rounded"}),e.jsx("div",{className:"h-6 w-full bg-muted rounded"}),e.jsx("div",{className:"h-4 w-3/4 bg-muted rounded"})]})})]},p))})})}):e.jsx("div",{className:"container mx-auto px-4 py-8","data-testid":"blog-page",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent mb-2",children:"Creator Hub Blog"}),e.jsx("p",{className:"text-muted-foreground",children:"Insights, tips, and updates from the creator economy"})]}),e.jsxs("div",{className:"mb-8 space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(Ue,{type:"search",placeholder:"Search blog posts...",value:t,onChange:f=>r(f.target.value),className:"pl-10","data-testid":"search-input"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(f=>e.jsx(V,{variant:n===(f==="All"?"":f)?"default":"outline",size:"sm",onClick:()=>s(f==="All"?"":f),"data-testid":`category-${f.toLowerCase().replace(" ","-")}`,children:f},f))})]}),i.length===0?e.jsx(Y,{className:"text-center py-12",children:e.jsx(ee,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(Yu,{className:"h-16 w-16 mx-auto text-muted-foreground/50"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No blog posts found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search criteria or check back later for new content"})]})]})})}):e.jsxs("div",{className:"space-y-8",children:[u.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(An,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Featured Posts"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(f=>e.jsx(b8,{post:f,featured:!0},f.id))})]}),m.length>0&&e.jsxs("div",{children:[u.length>0&&e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(Yu,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Latest Posts"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(f=>e.jsx(b8,{post:f},f.id))})]})]}),e.jsx(Y,{className:"mt-12 bg-gradient-to-r from-primary/10 to-accent/10 border-primary/20",children:e.jsxs(ee,{className:"p-8 text-center",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Stay Updated"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Get the latest creator economy insights delivered to your inbox"}),e.jsxs("div",{className:"flex gap-2 max-w-md mx-auto",children:[e.jsx(Ue,{type:"email",placeholder:"Enter your email",className:"flex-1","data-testid":"newsletter-email"}),e.jsx(V,{"data-testid":"newsletter-subscribe",children:"Subscribe"})]})]})})]})})}const Uy=({icon:t,title:r,description:n,action:s,available:a=!0})=>e.jsx(Y,{className:`hover:shadow-lg transition-all duration-200 ${a?"cursor-pointer hover:border-primary/20":"opacity-60"}`,children:e.jsxs(ee,{className:"p-6 text-center",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 ${a?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:e.jsx(t,{className:"h-6 w-6"})}),e.jsx("h3",{className:"font-semibold mb-2",children:r}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:n}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:s}),a&&e.jsx(ce,{variant:"outline",className:"text-xs",children:"Available"}),!a&&e.jsx(ce,{variant:"secondary",className:"text-xs",children:"Coming Soon"})]})]})}),VSe=()=>{const t=[{question:"How do I start earning as a creator?",answer:"Sign up as a creator, complete your profile, set your subscription price, and start uploading content. You can earn through subscriptions, tips, premium posts, and live streaming."},{question:"What are the platform fees?",answer:"BoyFanz operates on a 100% creator earnings program - we take 0% platform fees. You only pay standard payment processing fees (around 2.9%)."},{question:"How do payouts work?",answer:"You can request payouts anytime once you reach the minimum threshold. Payments are processed within 3-5 business days to your linked PayPal or bank account."},{question:"Is my content protected?",answer:"Yes, all content is protected with digital watermarking, screenshot detection, and strict DMCA policies. We take content protection seriously."},{question:"How do I verify my account?",answer:"Upload a government-issued ID through our secure KYC process. Verified creators get a badge and access to additional features."}];return e.jsx("div",{className:"space-y-4",children:t.map((r,n)=>e.jsxs(Y,{children:[e.jsx(ue,{className:"pb-3",children:e.jsxs(fe,{className:"text-base flex items-start gap-2",children:[e.jsx(ZA,{className:"h-4 w-4 mt-1 text-primary flex-shrink-0"}),r.question]})}),e.jsx(ee,{className:"pt-0",children:e.jsx("p",{className:"text-sm text-muted-foreground pl-6",children:r.answer})})]},n))})};function w8(){const[t,r]=j.useState({name:"",email:"",subject:"",message:"",category:"general"}),[n,s]=j.useState(!1),{toast:a}=or(),i=async l=>{l.preventDefault(),s(!0);try{await new Promise(u=>setTimeout(u,1e3)),a({title:"Message Sent!",description:"Thank you for contacting us. We'll get back to you within 24 hours."}),r({name:"",email:"",subject:"",message:"",category:"general"})}catch{a({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}finally{s(!1)}},o=(l,u)=>{r(m=>({...m,[l]:u}))};return e.jsx("div",{className:"container mx-auto px-4 py-8","data-testid":"contact-page",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent mb-4",children:"Get in Touch"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Have questions? Need help? We're here to support creators and fans every step of the way."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[e.jsx(Uy,{icon:Pn,title:"Live Chat",description:"Chat with our support team in real-time",action:"Start Chat",available:!0}),e.jsx(Uy,{icon:kl,title:"Email Support",description:"Get detailed help via email",action:"support@boyfanz.com",available:!0}),e.jsx(Uy,{icon:PY,title:"Phone Support",description:"Speak directly with our team",action:"Call Now",available:!1}),e.jsx(Uy,{icon:lr,title:"Community",description:"Join our creator community forum",action:"Visit Forum",available:!1})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(Y,{children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(ei,{className:"h-5 w-5"}),"Send us a Message"]}),e.jsx(lt,{children:"Fill out the form below and we'll get back to you as soon as possible"})]}),e.jsx(ee,{children:e.jsxs("form",{onSubmit:i,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Name"}),e.jsx(Ue,{value:t.name,onChange:l=>o("name",l.target.value),placeholder:"Your name",required:!0,"data-testid":"contact-name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Email"}),e.jsx(Ue,{type:"email",value:t.email,onChange:l=>o("email",l.target.value),placeholder:"your@email.com",required:!0,"data-testid":"contact-email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Category"}),e.jsxs("select",{className:"w-full p-2 border border-border rounded-md bg-background",value:t.category,onChange:l=>o("category",l.target.value),"data-testid":"contact-category",children:[e.jsx("option",{value:"general",children:"General Inquiry"}),e.jsx("option",{value:"creator",children:"Creator Support"}),e.jsx("option",{value:"technical",children:"Technical Issue"}),e.jsx("option",{value:"billing",children:"Billing & Payments"}),e.jsx("option",{value:"content",children:"Content & Moderation"}),e.jsx("option",{value:"partnership",children:"Partnership"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Subject"}),e.jsx(Ue,{value:t.subject,onChange:l=>o("subject",l.target.value),placeholder:"Brief description of your inquiry",required:!0,"data-testid":"contact-subject"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Message"}),e.jsx(on,{value:t.message,onChange:l=>o("message",l.target.value),placeholder:"Tell us how we can help you...",className:"min-h-[120px]",required:!0,"data-testid":"contact-message"})]}),e.jsx(V,{type:"submit",className:"w-full",disabled:n,"data-testid":"contact-submit",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current mr-2"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ei,{className:"h-4 w-4 mr-2"}),"Send Message"]})})]})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Y,{children:[e.jsx(ue,{children:e.jsxs(fe,{className:"flex items-center gap-2 text-lg",children:[e.jsx(wr,{className:"h-5 w-5"}),"Support Hours"]})}),e.jsxs(ee,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Monday - Friday"}),e.jsx("span",{className:"text-sm font-medium",children:"9 AM - 8 PM EST"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Saturday"}),e.jsx("span",{className:"text-sm font-medium",children:"10 AM - 6 PM EST"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Sunday"}),e.jsx("span",{className:"text-sm font-medium",children:"12 PM - 5 PM EST"})]}),e.jsx("div",{className:"pt-2 border-t border-border",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-green-400 font-medium",children:"Currently Online"})]})})]})]}),e.jsxs(Y,{className:"bg-red-500/5 border-red-500/20",children:[e.jsx(ue,{children:e.jsxs(fe,{className:"flex items-center gap-2 text-red-400",children:[e.jsx(Mr,{className:"h-5 w-5"}),"Emergency Support"]})}),e.jsxs(ee,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"For urgent security issues or content violations"}),e.jsxs(V,{variant:"outline",size:"sm",className:"w-full border-red-500/20 hover:bg-red-500/10",children:[e.jsx(Vd,{className:"h-4 w-4 mr-2"}),"Report Issue"]})]})]}),e.jsxs(Y,{children:[e.jsx(ue,{children:e.jsxs(fe,{className:"flex items-center gap-2 text-lg",children:[e.jsx(Od,{className:"h-5 w-5"}),"Our Location"]})}),e.jsxs(ee,{className:"space-y-2",children:[e.jsx("p",{className:"text-sm",children:"BoyFanz HQ"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["123 Creator Street",e.jsx("br",{}),"Digital District, CA 90210",e.jsx("br",{}),"United States"]})]})]})]})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Frequently Asked Questions"}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(VSe,{})})]}),e.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(Y,{className:"text-center",children:e.jsxs(ee,{className:"p-6",children:[e.jsx(ZA,{className:"h-12 w-12 mx-auto mb-4 text-primary"}),e.jsx("h3",{className:"font-semibold mb-2",children:"Help Center"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Browse our comprehensive help articles"}),e.jsx(V,{variant:"outline",size:"sm",children:"Visit Help Center"})]})}),e.jsx(Y,{className:"text-center",children:e.jsxs(ee,{className:"p-6",children:[e.jsx(lr,{className:"h-12 w-12 mx-auto mb-4 text-primary"}),e.jsx("h3",{className:"font-semibold mb-2",children:"Creator Resources"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Tools and guides for content creators"}),e.jsx(V,{variant:"outline",size:"sm",children:"View Resources"})]})}),e.jsx(Y,{className:"text-center",children:e.jsxs(ee,{className:"p-6",children:[e.jsx(Mr,{className:"h-12 w-12 mx-auto mb-4 text-primary"}),e.jsx("h3",{className:"font-semibold mb-2",children:"Safety Center"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Learn about our safety and security measures"}),e.jsx(V,{variant:"outline",size:"sm",children:"Learn More"})]})})]})]})})}function wT({onSearch:t,placeholder:r="Search help content...",showSuggestions:n=!0,showFilters:s=!1,showResults:a=!0,compact:i=!1,className:o}){const[l,u]=j.useState(""),[m,f]=j.useState("all"),[p,g]=j.useState(""),[b,y]=j.useState(!1),[_,w]=j.useState(!1),[k,A]=j.useState([]),[P,O]=j.useState([]),I=j.useRef(null),D=ws(),{data:F}=Ve({queryKey:["/api/help/search/suggestions"],staleTime:1800*1e3,enabled:n}),B=ot({mutationFn:async K=>{const ae=new URLSearchParams({q:K.query,type:K.type,...K.category&&{category:K.category}});return Ze(`/api/help/search?${ae}`)},onMutate:()=>{y(!0)},onSuccess:K=>{K.success&&(A(K.data.results),O(K.data.suggestions)),y(!1)},onError:()=>{y(!1)}}),H=ot({mutationFn:async K=>Ze("/api/help/ask",{method:"POST",body:{query:K}})}),re=async()=>{if(!l.trim())return;D.invalidateQueries({queryKey:["/api/help/analytics"]}),l.includes("?")||l.toLowerCase().includes("how")||l.toLowerCase().includes("what")||l.toLowerCase().includes("why")||l.toLowerCase().includes("when")||l.toLowerCase().includes("where")?H.mutate(l):B.mutate({query:l,type:m,category:p}),t&&t(l),w(!1)},G=K=>{K.key==="Enter"&&re()},J=K=>{u(K),w(!1),setTimeout(()=>{B.mutate({query:K,type:m,category:p})},100)},Z=K=>{switch(K){case"article":return gx;case"tutorial":return qu;case"faq":return Pn;default:return Ts}},ne=K=>{switch(K){case"article":return"bg-blue-500/10 text-blue-600 border-blue-500/20";case"tutorial":return"bg-green-500/10 text-green-600 border-green-500/20";case"faq":return"bg-purple-500/10 text-purple-600 border-purple-500/20";default:return"bg-gray-500/10 text-gray-600 border-gray-500/20"}};return j.useEffect(()=>{const K=ae=>{I.current&&!I.current.contains(ae.target)&&w(!1)};return document.addEventListener("mousedown",K),()=>document.removeEventListener("mousedown",K)},[]),e.jsxs("div",{className:He("w-full max-w-4xl mx-auto",o),children:[e.jsx("div",{className:"relative",children:e.jsxs("div",{className:He("relative flex items-center",i?"gap-2":"gap-4"),children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:e.jsx(Ls,{className:"h-5 w-5"})}),e.jsx(Ue,{ref:I,type:"text",placeholder:r,value:l,onChange:K=>{u(K.target.value),K.target.value.length>2&&n&&w(!0)},onKeyPress:G,onFocus:()=>{l.length>2&&n&&w(!0)},className:He("pl-12 pr-4 bg-white/10 backdrop-blur-sm border-white/20 text-white placeholder:text-gray-400",i?"h-10":"h-14 text-lg"),"data-testid":"input-help-search"}),_&&n&&e.jsx(Y,{className:"absolute top-full left-0 right-0 mt-2 z-50 bg-gray-800 border-gray-700 max-h-80 overflow-y-auto",children:e.jsxs(ee,{className:"p-0",children:[F&&e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"text-sm text-gray-400 mb-2 flex items-center",children:[e.jsx(yn,{className:"h-4 w-4 mr-2"}),"Popular Searches"]}),e.jsx("div",{className:"space-y-1",children:(F||[]).slice(0,5).map((K,ae)=>e.jsx("button",{className:"w-full text-left px-2 py-1 text-white hover:bg-gray-700 rounded text-sm",onClick:()=>J(K),children:K},ae))})]}),P.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Tn,{className:"border-gray-700"}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"text-sm text-gray-400 mb-2 flex items-center",children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"}),"AI Suggestions"]}),e.jsx("div",{className:"space-y-1",children:P.slice(0,3).map((K,ae)=>e.jsx("button",{className:"w-full text-left px-2 py-1 text-white hover:bg-gray-700 rounded text-sm",onClick:()=>J(K),children:K},ae))})]})]})]})})]}),s&&e.jsxs(ns,{children:[e.jsx(ss,{asChild:!0,children:e.jsxs(V,{variant:"outline",size:i?"sm":"default",className:"border-white/20 text-white",children:[e.jsx(Ic,{className:"h-4 w-4 mr-2"}),"Filters"]})}),e.jsxs(es,{className:"bg-gray-800 border-gray-700",children:[e.jsx(rt,{onClick:()=>f("all"),children:"All Content"}),e.jsx(rt,{onClick:()=>f("articles"),children:"Articles Only"}),e.jsx(rt,{onClick:()=>f("tutorials"),children:"Tutorials Only"}),e.jsx(rt,{onClick:()=>f("faq"),children:"FAQ Only"})]})]}),e.jsxs(V,{onClick:re,disabled:!l.trim()||b,size:i?"sm":"default",className:"bg-red-600 hover:bg-red-700 text-white","data-testid":"button-search",children:[b?e.jsx(oa,{className:"h-4 w-4 animate-spin"}):e.jsx(Ts,{className:"h-4 w-4"}),!i&&e.jsx("span",{className:"ml-2",children:"Search"})]})]})}),H.data?.success&&e.jsx(Y,{className:"mt-6 bg-gradient-to-r from-purple-500/10 to-blue-500/10 border-purple-500/20",children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"bg-purple-500/20 p-2 rounded-lg mr-4",children:e.jsx(Ls,{className:"h-6 w-6 text-purple-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"AI Assistant Response"}),e.jsx("p",{className:"text-gray-300 mb-4",children:H.data.data.answer}),H.data.data.suggestedActions.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:H.data.data.suggestedActions.map((K,ae)=>e.jsxs(V,{variant:"outline",size:"sm",className:"border-purple-500/30 text-purple-400 hover:bg-purple-500/10",onClick:()=>window.open(K.url,"_self"),children:[K.title,e.jsx(fa,{className:"h-3 w-3 ml-1"})]},ae))}),e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Confidence: ",Math.round(H.data.data.confidence*100),"%"]})]})]})})}),a&&k.length>0&&e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Search Results (",k.length,")"]}),e.jsx(V,{variant:"ghost",size:"sm",onClick:()=>A([]),className:"text-gray-400 hover:text-white",children:e.jsx(Il,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"grid gap-4",children:k.map((K,ae)=>{const U=Z(K.type);return e.jsx(Y,{className:"bg-gray-800/50 border-gray-700 hover:border-red-500/50 transition-all cursor-pointer",onClick:()=>window.open(K.url,"_self"),children:e.jsxs(ee,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs(ce,{className:ne(K.type),children:[e.jsx(U,{className:"h-3 w-3 mr-1"}),K.type]}),K.metadata.rating&&e.jsxs("div",{className:"flex items-center text-yellow-400 text-sm",children:[" ",K.metadata.rating]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Score: ",Math.round(K.relevanceScore),"%"]})]}),e.jsx("h4",{className:"font-semibold text-white mb-2 line-clamp-2",children:K.title}),e.jsx("p",{className:"text-gray-400 text-sm line-clamp-2 mb-3",children:K.excerpt}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[K.metadata.views&&e.jsxs("span",{children:[K.metadata.views," views"]}),K.metadata.duration&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(wr,{className:"h-3 w-3 mr-1"}),K.metadata.duration," min"]}),K.category&&e.jsxs("span",{children:["in ",K.category]})]})]}),e.jsx(fa,{className:"h-5 w-5 text-gray-500 ml-4"})]}),K.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:K.tags.slice(0,3).map((W,se)=>e.jsx(ce,{variant:"secondary",className:"text-xs bg-gray-700 text-gray-300",children:W},se))})]})},ae)})})]})]})}function KSe({isOpen:t,onClose:r,initialMessage:n,compact:s=!1,position:a="bottom-right"}){const[i,o]=j.useState([]),[l,u]=j.useState(""),[m,f]=j.useState(!1),[p,g]=j.useState(!1),[b]=j.useState(()=>`chat_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),y=j.useRef(null),_=j.useRef(null);j.useEffect(()=>{t&&i.length===0&&o([{id:"welcome",type:"bot",content:n||"Hi! I'm your AI assistant. I can help you find information, guide you through tutorials, or assist with any questions about BoyFanz. What would you like to know?",timestamp:new Date,metadata:{confidence:1,suggestedActions:[{title:"Browse Knowledge Base",url:"/help/wiki",icon:"book"},{title:"Start Tutorial",url:"/help/tutorials",icon:"play"},{title:"Create Support Ticket",url:"/help/tickets/new",icon:"ticket"}]}}])},[t,n,i.length]),j.useEffect(()=>{y.current?.scrollIntoView({behavior:"smooth"})},[i]),j.useEffect(()=>{t&&!m&&setTimeout(()=>_.current?.focus(),100)},[t,m]);const w=ot({mutationFn:async B=>Ze("/api/help/ask",{method:"POST",body:{query:B,context:{sessionId:b,previousMessages:i.slice(-5)}}}),onMutate:B=>{const H={id:`user_${Date.now()}`,type:"user",content:B,timestamp:new Date};o(re=>[...re,H]),g(!0)},onSuccess:B=>{if(g(!1),B.success){const H={id:`bot_${Date.now()}`,type:"bot",content:B.data.answer,timestamp:new Date,metadata:{confidence:B.data.confidence,suggestedActions:B.data.suggestedActions,relatedContent:B.data.relatedContent,sources:B.data.sources}};o(re=>[...re,H])}},onError:()=>{g(!1);const B={id:`error_${Date.now()}`,type:"system",content:"I'm sorry, I'm having trouble processing your request right now. Please try again or contact support if the issue persists.",timestamp:new Date};o(H=>[...H,B])}}),k=()=>{!l.trim()||w.isPending||(w.mutate(l),u(""))},A=B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),k())},P=async(B,H)=>{try{await Ze("/api/help/feedback",{method:"POST",body:{messageId:B,helpful:H,sessionId:b}})}catch(re){console.error("Failed to submit feedback:",re)}},O=async B=>{try{await navigator.clipboard.writeText(B)}catch(H){console.error("Failed to copy text:",H)}},I=()=>{o([]),o([{id:"welcome_new",type:"bot",content:"Chat cleared! How can I help you today?",timestamp:new Date,metadata:{confidence:1,suggestedActions:[{title:"Browse Knowledge Base",url:"/help/wiki",icon:"book"},{title:"Start Tutorial",url:"/help/tutorials",icon:"play"},{title:"Create Support Ticket",url:"/help/tickets/new",icon:"ticket"}]}}])};if(!t)return null;const D=()=>{switch(a){case"bottom-left":return"bottom-6 left-6";case"center":return"top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2";default:return"bottom-6 right-6"}},F=B=>{switch(B){case"article":return Yu;case"tutorial":return qu;case"ticket":return zo;default:return s0}};return e.jsx("div",{className:He("fixed z-50 transition-all duration-300",D(),s?"w-80 h-96":"w-96 h-[600px]",m&&"h-14"),children:e.jsxs(Y,{className:"bg-gray-900 border-gray-700 shadow-2xl h-full flex flex-col",children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between p-4 bg-gradient-to-r from-red-600 to-yellow-500",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"bg-white/20 p-1.5 rounded-full",children:e.jsx(xc,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white text-sm",children:"AI Assistant"}),e.jsx("p",{className:"text-xs text-white/80",children:p?"Typing...":"Online"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(V,{variant:"ghost",size:"sm",onClick:()=>f(!m),className:"text-white hover:bg-white/20 h-8 w-8 p-0",children:m?e.jsx(bY,{className:"h-4 w-4"}):e.jsx(SY,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"sm",onClick:I,className:"text-white hover:bg-white/20 h-8 w-8 p-0",children:e.jsx(wn,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"sm",onClick:r,className:"text-white hover:bg-white/20 h-8 w-8 p-0","data-testid":"button-close-chat",children:e.jsx(Il,{className:"h-4 w-4"})})]})]}),!m&&e.jsxs(e.Fragment,{children:[e.jsx(ee,{className:"flex-1 p-0",children:e.jsxs(eh,{className:"h-full p-4",children:[e.jsxs("div",{className:"space-y-4",children:[i.map((B,H)=>e.jsx("div",{className:He("flex",B.type==="user"?"justify-end":"justify-start"),children:e.jsxs("div",{className:He("max-w-[80%] rounded-lg p-3",B.type==="user"?"bg-red-600 text-white":B.type==="system"?"bg-yellow-500/20 text-yellow-300 border border-yellow-500/30":"bg-gray-800 text-gray-100"),children:[B.type==="bot"&&e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(xc,{className:"h-4 w-4 text-red-400"}),e.jsx("span",{className:"text-xs text-gray-400",children:"AI Assistant"}),B.metadata?.confidence&&e.jsxs(ce,{variant:"secondary",className:"text-xs",children:[Math.round(B.metadata.confidence*100),"% confident"]})]}),e.jsx("div",{className:"text-sm whitespace-pre-wrap",children:B.content}),B.type==="bot"&&e.jsxs("div",{className:"mt-3 space-y-2",children:[B.metadata?.suggestedActions&&B.metadata.suggestedActions.length>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Suggested actions:"}),B.metadata.suggestedActions.map((re,G)=>e.jsxs(V,{variant:"outline",size:"sm",className:"mr-2 mb-1 text-xs border-gray-600 hover:border-red-500",onClick:()=>window.open(re.url,"_self"),children:[re.title,e.jsx(s0,{className:"h-3 w-3 ml-1"})]},G))]}),B.metadata?.relatedContent&&B.metadata.relatedContent.length>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Related content:"}),B.metadata.relatedContent.slice(0,3).map((re,G)=>{const J=F(re.type);return e.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[e.jsx(J,{className:"h-3 w-3 text-gray-500"}),e.jsx("button",{className:"text-blue-400 hover:text-blue-300 underline",onClick:()=>window.open(re.url,"_self"),children:re.title})]},G)})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(V,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-gray-500 hover:text-green-400",onClick:()=>P(B.id,!0),children:e.jsx(eP,{className:"h-3 w-3"})}),e.jsx(V,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-gray-500 hover:text-red-400",onClick:()=>P(B.id,!1),children:e.jsx(FF,{className:"h-3 w-3"})}),e.jsx(V,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-gray-500 hover:text-gray-300",onClick:()=>O(B.content),children:e.jsx(Qu,{className:"h-3 w-3"})})]}),e.jsx("span",{className:"text-xs text-gray-500",children:B.timestamp.toLocaleTimeString()})]})]}),B.type==="user"&&e.jsx("div",{className:"text-xs text-white/70 mt-2",children:B.timestamp.toLocaleTimeString()})]})},B.id)),p&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-gray-800 rounded-lg p-3 max-w-[80%]",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xc,{className:"h-4 w-4 text-red-400"}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-pulse"}),e.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-pulse delay-75"}),e.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-pulse delay-150"})]})]})})})]}),e.jsx("div",{ref:y})]})}),e.jsxs("div",{className:"p-4 border-t border-gray-700",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Ue,{ref:_,value:l,onChange:B=>u(B.target.value),onKeyPress:A,placeholder:"Ask me anything...",className:"flex-1 bg-gray-800 border-gray-600 text-white placeholder:text-gray-400",disabled:w.isPending,"data-testid":"input-chat-message"}),e.jsx(V,{onClick:k,disabled:!l.trim()||w.isPending,className:"bg-red-600 hover:bg-red-700 text-white","data-testid":"button-send-message",children:w.isPending?e.jsx(oa,{className:"h-4 w-4 animate-spin"}):e.jsx(ei,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:["How do I upload content?","Account verification","Payment issues","Privacy settings"].map((B,H)=>e.jsx(V,{variant:"ghost",size:"sm",className:"text-xs text-gray-400 hover:text-white hover:bg-gray-800",onClick:()=>u(B),children:B},H))})]})]})]})})}function WSe(){const[,t]=js(),[r,n]=j.useState(""),[s,a]=j.useState(!1),{data:i}=Ve({queryKey:["/api/help/metrics"],staleTime:300*1e3}),{data:o}=Ve({queryKey:["/api/help/recommendations"],staleTime:600*1e3}),l=[{title:"Submit Support Ticket",description:"Get help from our support team",icon:zo,url:"/help/tickets/new",color:"bg-red-500/10 text-red-600 dark:text-red-400",urgent:!0},{title:"Browse Knowledge Base",description:"Find answers in our wiki",icon:gx,url:"/help/wiki",color:"bg-blue-500/10 text-blue-600 dark:text-blue-400"},{title:"Interactive Tutorials",description:"Learn with step-by-step guides",icon:qu,url:"/help/tutorials",color:"bg-green-500/10 text-green-600 dark:text-green-400"},{title:"Live Chat Support",description:"Chat with our support team",icon:fi,url:"/help/chat",color:"bg-purple-500/10 text-purple-600 dark:text-purple-400"}],u=["Account Verification","Payment Processing","Content Upload","Privacy Settings","Revenue Sharing","Content Moderation","Mobile App","Streaming Setup"],m=f=>{f.trim()&&t(`/help/search?q=${encodeURIComponent(f)}`)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-900/20",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/20 to-yellow-500/20 backdrop-blur-3xl"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-red-600 to-yellow-500 p-3 rounded-full",children:e.jsx(Ls,{className:"h-8 w-8 text-white"})})}),e.jsx("h1",{className:"text-5xl font-bold text-white mb-6 bg-gradient-to-r from-red-400 to-yellow-400 bg-clip-text text-transparent",children:"BoyFanz Help Center"}),e.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-3xl mx-auto",children:"Get instant help with our AI-powered support system. Find answers, learn with tutorials, or connect with our expert support team."}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(wT,{onSearch:m,placeholder:"Ask me anything about BoyFanz...",showSuggestions:!0})}),i&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-12",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:i.totalArticles}),e.jsx("div",{className:"text-sm text-gray-300",children:"Knowledge Articles"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:i.totalTutorials}),e.jsx("div",{className:"text-sm text-gray-300",children:"Interactive Tutorials"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:i.averageResponseTime}),e.jsx("div",{className:"text-sm text-gray-300",children:"Avg Response Time"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[e.jsxs("div",{className:"text-2xl font-bold text-white",children:[i.satisfactionScore,""]}),e.jsx("div",{className:"text-sm text-gray-300",children:"Satisfaction Score"})]})]})]})})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[e.jsxs("section",{className:"mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"How can we help you today?"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map((f,p)=>e.jsx(_t,{href:f.url,children:e.jsx(Y,{className:"group bg-gray-800/50 border-gray-700 hover:border-red-500/50 transition-all duration-300 hover:scale-105 cursor-pointer",children:e.jsxs(ee,{className:"p-6",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg ${f.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:e.jsx(f.icon,{className:"h-6 w-6"})}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2 group-hover:text-red-400 transition-colors",children:f.title}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:f.description}),f.urgent&&e.jsx(ce,{variant:"destructive",className:"text-xs",children:"Urgent Support"}),e.jsx(fa,{className:"h-4 w-4 text-gray-500 group-hover:text-red-400 group-hover:translate-x-1 transition-all ml-auto mt-2"})]})})},p))})]}),e.jsx("section",{className:"mb-16",children:e.jsxs(Xs,{defaultValue:"popular",className:"w-full",children:[e.jsxs(zs,{className:"grid w-full grid-cols-3 bg-gray-800 border-gray-700",children:[e.jsx(Kt,{value:"popular",className:"data-[state=active]:bg-red-600",children:"Popular Topics"}),e.jsx(Kt,{value:"recommended",className:"data-[state=active]:bg-red-600",children:"Recommended for You"}),e.jsx(Kt,{value:"recent",className:"data-[state=active]:bg-red-600",children:"Recently Updated"})]}),e.jsx(Qt,{value:"popular",className:"mt-6",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:u.map((f,p)=>e.jsx(V,{variant:"outline",className:"justify-start h-auto p-4 bg-gray-800/50 border-gray-700 hover:border-red-500/50 hover:bg-red-500/10",onClick:()=>m(f),children:e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium text-white",children:f}),e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[Math.floor(Math.random()*50)+10," articles"]})]})},p))})}),e.jsx(Qt,{value:"recommended",className:"mt-6",children:o&&o.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((f,p)=>e.jsx(_t,{href:f.url,children:e.jsxs(Y,{className:"bg-gray-800/50 border-gray-700 hover:border-red-500/50 transition-all duration-300 hover:scale-105 cursor-pointer",children:[e.jsxs(ue,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx(ce,{variant:"secondary",className:"mb-2",children:f.type}),f.metadata.rating&&e.jsxs("div",{className:"flex items-center text-yellow-400",children:[e.jsx(An,{className:"h-3 w-3 fill-current"}),e.jsx("span",{className:"text-xs ml-1",children:f.metadata.rating})]})]}),e.jsx(fe,{className:"text-lg text-white line-clamp-2",children:f.title})]}),e.jsxs(ee,{children:[e.jsx("p",{className:"text-gray-400 text-sm line-clamp-3 mb-4",children:f.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[f.metadata.views&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(lr,{className:"h-3 w-3 mr-1"}),f.metadata.views," views"]}),f.metadata.duration&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(wr,{className:"h-3 w-3 mr-1"}),f.metadata.duration," min"]})]})]})]})},p))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(xc,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No recommendations yet"}),e.jsx("p",{className:"text-gray-400",children:"Start exploring our help content to get personalized recommendations."})]})}),e.jsx(Qt,{value:"recent",className:"mt-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(yn,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Recently Updated Content"}),e.jsx("p",{className:"text-gray-400",children:"Check back soon for the latest updates to our help content."})]})})]})}),e.jsxs("section",{className:"mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"Browse by Category"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{title:"Getting Started",description:"New to BoyFanz? Start here for setup guides and basics.",icon:qu,count:24,color:"from-blue-500 to-cyan-500"},{title:"Account & Billing",description:"Manage your account, payments, and subscription.",icon:lr,count:18,color:"from-green-500 to-emerald-500"},{title:"Content Creation",description:"Tips and tools for creating amazing content.",icon:Ls,count:32,color:"from-purple-500 to-pink-500"},{title:"Technical Support",description:"Troubleshooting and technical assistance.",icon:fi,count:15,color:"from-red-500 to-orange-500"},{title:"Privacy & Safety",description:"Keep your account and content secure.",icon:eP,count:12,color:"from-yellow-500 to-amber-500"},{title:"Community Guidelines",description:"Learn about our community standards.",icon:gx,count:8,color:"from-indigo-500 to-blue-500"}].map((f,p)=>e.jsx(Y,{className:"group bg-gray-800/50 border-gray-700 hover:border-red-500/50 transition-all duration-300 hover:scale-105 cursor-pointer",children:e.jsxs(ee,{className:"p-6",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg bg-gradient-to-r ${f.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:e.jsx(f.icon,{className:"h-6 w-6 text-white"})}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2 group-hover:text-red-400 transition-colors",children:f.title}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:f.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:[f.count," articles"]}),e.jsx(fa,{className:"h-4 w-4 text-gray-500 group-hover:text-red-400 group-hover:translate-x-1 transition-all"})]})]})},p))})]}),e.jsx("section",{className:"text-center",children:e.jsx(Y,{className:"bg-gradient-to-r from-red-600/20 to-yellow-500/20 border-red-500/30",children:e.jsxs(ee,{className:"p-8",children:[e.jsx(fi,{className:"h-12 w-12 text-red-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Still need help?"}),e.jsx("p",{className:"text-gray-300 mb-6",children:"Our support team is here to help you with any questions or issues."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(V,{size:"lg",className:"bg-red-600 hover:bg-red-700",onClick:()=>t("/help/tickets/new"),"data-testid":"button-create-ticket",children:[e.jsx(zo,{className:"h-5 w-5 mr-2"}),"Create Support Ticket"]}),e.jsxs(V,{size:"lg",variant:"outline",className:"border-red-500 text-red-400 hover:bg-red-500/10",onClick:()=>a(!0),"data-testid":"button-ai-chat",children:[e.jsx(xc,{className:"h-5 w-5 mr-2"}),"Try AI Assistant"]})]})]})})})]}),e.jsx(KSe,{isOpen:s,onClose:()=>a(!1)})]})}function HSe(){js();const[t,r]=j.useState(""),[n,s]=j.useState(""),[a,i]=j.useState("popular"),{data:o}=Ve({queryKey:["/api/help/wiki/categories"],staleTime:600*1e3}),{data:l,isLoading:u}=Ve({queryKey:["/api/help/wiki",{search:t,category:n,sort:a,page:1,limit:20}],staleTime:300*1e3}),m=g=>{r(g)},f=g=>{s(g===n?"":g)},p=g=>{switch(g){case"beginner":return"bg-green-500/10 text-green-600 border-green-500/20";case"intermediate":return"bg-yellow-500/10 text-yellow-600 border-yellow-500/20";case"advanced":return"bg-red-500/10 text-red-600 border-red-500/20";default:return"bg-gray-500/10 text-gray-600 border-gray-500/20"}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-red-900/20",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/20 to-purple-500/20 backdrop-blur-3xl"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-500 p-3 rounded-full",children:e.jsx(gx,{className:"h-8 w-8 text-white"})})}),e.jsx("h1",{className:"text-4xl font-bold text-white mb-4 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Knowledge Base & Wiki"}),e.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-3xl mx-auto",children:"Comprehensive guides, tutorials, and documentation to help you master BoyFanz."}),e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsx(wT,{onSearch:m,placeholder:"Search knowledge base...",showSuggestions:!0,compact:!0})})]})})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-1/4",children:e.jsxs(Y,{className:"bg-gray-800/50 border-gray-700 sticky top-6",children:[e.jsx(ue,{children:e.jsxs(fe,{className:"text-white flex items-center gap-2",children:[e.jsx(Ic,{className:"h-5 w-5"}),"Categories"]})}),e.jsxs(ee,{className:"space-y-2",children:[e.jsxs(V,{variant:n===""?"default":"outline",className:"w-full justify-start",onClick:()=>s(""),"data-testid":"filter-all-categories",children:["All Articles",e.jsx(ce,{variant:"secondary",className:"ml-auto",children:l?.totalCount||0})]}),o?.map(g=>e.jsxs(V,{variant:n===g.slug?"default":"outline",className:"w-full justify-start",onClick:()=>f(g.slug),"data-testid":`filter-category-${g.slug}`,children:[g.name,e.jsx(ce,{variant:"secondary",className:"ml-auto",children:g.count})]},g.slug))]})]})}),e.jsxs("div",{className:"lg:w-3/4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white",children:[n?o?.find(g=>g.slug===n)?.name||"Articles":"All Articles",t&&e.jsxs("span",{className:"text-lg font-normal text-gray-400 ml-2",children:['for "',t,'"']})]}),e.jsxs(ns,{children:[e.jsx(ss,{asChild:!0,children:e.jsxs(V,{variant:"outline",className:"bg-gray-800 border-gray-700 text-white",children:["Sort by ",a," ",e.jsx(gh,{className:"ml-2 h-4 w-4"})]})}),e.jsxs(es,{className:"bg-gray-800 border-gray-700",children:[e.jsx(rt,{onClick:()=>i("popular"),className:"text-white",children:"Most Popular"}),e.jsx(rt,{onClick:()=>i("recent"),className:"text-white",children:"Recently Updated"}),e.jsx(rt,{onClick:()=>i("rating"),className:"text-white",children:"Highest Rated"})]})]})]}),u?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3,4].map(g=>e.jsxs(Y,{className:"bg-gray-800/50 border-gray-700 animate-pulse",children:[e.jsxs(ue,{children:[e.jsx("div",{className:"h-4 bg-gray-700 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-700 rounded w-1/2 mt-2"})]}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 bg-gray-700 rounded"}),e.jsx("div",{className:"h-3 bg-gray-700 rounded w-5/6"})]})})]},g))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:l?.articles?.map(g=>e.jsx(_t,{href:`/help/wiki/${g.slug}`,children:e.jsxs(Y,{className:"group bg-gray-800/50 border-gray-700 hover:border-blue-500/50 transition-all duration-300 hover:scale-105 cursor-pointer h-full",children:[e.jsxs(ue,{children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx(ce,{variant:"secondary",className:"text-xs",children:g.category}),e.jsx(ce,{className:p(g.metadata.difficulty),children:g.metadata.difficulty})]}),e.jsx(fe,{className:"text-lg text-white line-clamp-2 group-hover:text-blue-400 transition-colors",children:g.title})]}),e.jsxs(ee,{children:[e.jsx("p",{className:"text-gray-400 text-sm line-clamp-3 mb-4",children:g.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(pr,{className:"h-3 w-3 mr-1"}),g.views," views"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(wr,{className:"h-3 w-3 mr-1"}),g.metadata.readTime," min"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(An,{className:"h-3 w-3 fill-current text-yellow-400 mr-1"}),g.rating.toFixed(1)]})]}),e.jsx(Tn,{className:"bg-gray-700 mb-4"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[e.jsx(eP,{className:"h-3 w-3 mr-1"}),g.helpful,e.jsx(FF,{className:"h-3 w-3 ml-2 mr-1"}),g.notHelpful]}),e.jsx(fa,{className:"h-4 w-4 text-gray-500 group-hover:text-blue-400 group-hover:translate-x-1 transition-all"})]})]})]})},g.id))}),l?.hasMore&&e.jsx("div",{className:"text-center mt-8",children:e.jsx(V,{variant:"outline",className:"bg-gray-800 border-gray-700 text-white hover:bg-gray-700","data-testid":"button-load-more",children:"Load More Articles"})}),l?.articles?.length===0&&!u&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(gx,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No articles found"}),e.jsx("p",{className:"text-gray-400",children:t||n?"Try adjusting your search or filters.":"Check back soon for new content."})]})]})]})})]})}function GSe(){js();const[t,r]=j.useState(""),[n,s]=j.useState(""),[a,i]=j.useState(""),[o,l]=j.useState("popular"),{data:u}=Ve({queryKey:["/api/help/tutorials/categories"],staleTime:600*1e3}),{data:m,isLoading:f}=Ve({queryKey:["/api/help/tutorials",{search:t,category:n,difficulty:a,sort:o,page:1,limit:20}],staleTime:300*1e3}),p=y=>{r(y)},g=y=>{switch(y){case"beginner":return"bg-green-500/10 text-green-600 border-green-500/20";case"intermediate":return"bg-yellow-500/10 text-yellow-600 border-yellow-500/20";case"advanced":return"bg-red-500/10 text-red-600 border-red-500/20";default:return"bg-gray-500/10 text-gray-600 border-gray-500/20"}},b=y=>{if(y<60)return`${y}m`;const _=Math.floor(y/60),w=y%60;return w>0?`${_}h ${w}m`:`${_}h`};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-green-900/20",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-600/20 to-blue-500/20 backdrop-blur-3xl"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-blue-500 p-3 rounded-full",children:e.jsx(qu,{className:"h-8 w-8 text-white"})})}),e.jsx("h1",{className:"text-4xl font-bold text-white mb-4 bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-transparent",children:"Interactive Tutorials"}),e.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-3xl mx-auto",children:"Step-by-step guided tutorials to master every feature of BoyFanz. Learn at your own pace."}),e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsx(wT,{onSearch:p,placeholder:"Search tutorials...",showSuggestions:!0,compact:!0})})]})})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-1/4",children:e.jsxs("div",{className:"space-y-6 sticky top-6",children:[e.jsxs(Y,{className:"bg-gray-800/50 border-gray-700",children:[e.jsx(ue,{children:e.jsxs(fe,{className:"text-white flex items-center gap-2",children:[e.jsx(Yu,{className:"h-5 w-5"}),"Categories"]})}),e.jsxs(ee,{className:"space-y-2",children:[e.jsxs(V,{variant:n===""?"default":"outline",className:"w-full justify-start",onClick:()=>s(""),"data-testid":"filter-all-categories",children:["All Tutorials",e.jsx(ce,{variant:"secondary",className:"ml-auto",children:m?.totalCount||0})]}),u?.map(y=>e.jsxs(V,{variant:n===y.slug?"default":"outline",className:"w-full justify-start",onClick:()=>s(y.slug===n?"":y.slug),"data-testid":`filter-category-${y.slug}`,children:[y.name,e.jsx(ce,{variant:"secondary",className:"ml-auto",children:y.count})]},y.slug))]})]}),e.jsxs(Y,{className:"bg-gray-800/50 border-gray-700",children:[e.jsx(ue,{children:e.jsxs(fe,{className:"text-white flex items-center gap-2",children:[e.jsx(gl,{className:"h-5 w-5"}),"Difficulty"]})}),e.jsx(ee,{className:"space-y-2",children:["beginner","intermediate","advanced"].map(y=>e.jsxs(V,{variant:a===y?"default":"outline",className:"w-full justify-start capitalize",onClick:()=>i(y===a?"":y),"data-testid":`filter-difficulty-${y}`,children:[e.jsx(ce,{className:g(y)+" mr-2",children:y}),y]},y))})]})]})}),e.jsxs("div",{className:"lg:w-3/4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white",children:[n?u?.find(y=>y.slug===n)?.name||"Tutorials":"All Tutorials",t&&e.jsxs("span",{className:"text-lg font-normal text-gray-400 ml-2",children:['for "',t,'"']})]}),e.jsxs(ns,{children:[e.jsx(ss,{asChild:!0,children:e.jsxs(V,{variant:"outline",className:"bg-gray-800 border-gray-700 text-white",children:["Sort by ",o," ",e.jsx(gh,{className:"ml-2 h-4 w-4"})]})}),e.jsxs(es,{className:"bg-gray-800 border-gray-700",children:[e.jsx(rt,{onClick:()=>l("popular"),className:"text-white",children:"Most Popular"}),e.jsx(rt,{onClick:()=>l("recent"),className:"text-white",children:"Recently Added"}),e.jsx(rt,{onClick:()=>l("rating"),className:"text-white",children:"Highest Rated"}),e.jsx(rt,{onClick:()=>l("duration"),className:"text-white",children:"Shortest Duration"})]})]})]}),f?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3,4].map(y=>e.jsxs(Y,{className:"bg-gray-800/50 border-gray-700 animate-pulse",children:[e.jsx("div",{className:"h-48 bg-gray-700 rounded-t-lg"}),e.jsxs(ue,{children:[e.jsx("div",{className:"h-4 bg-gray-700 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-700 rounded w-1/2 mt-2"})]}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 bg-gray-700 rounded"}),e.jsx("div",{className:"h-3 bg-gray-700 rounded w-5/6"})]})})]},y))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:m?.tutorials?.map(y=>e.jsx(_t,{href:`/help/tutorials/${y.slug}`,children:e.jsxs(Y,{className:"group bg-gray-800/50 border-gray-700 hover:border-green-500/50 transition-all duration-300 hover:scale-105 cursor-pointer h-full",children:[e.jsxs("div",{className:"relative h-48 bg-gradient-to-r from-green-600 to-blue-600 rounded-t-lg overflow-hidden",children:[y.thumbnailUrl?e.jsx("img",{src:y.thumbnailUrl,alt:y.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(qu,{className:"h-16 w-16 text-white/80"})}),e.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full p-4",children:e.jsx(gi,{className:"h-8 w-8 text-white fill-current"})})}),e.jsxs(ce,{className:"absolute top-3 right-3 bg-black/60 text-white",children:[e.jsx(wr,{className:"h-3 w-3 mr-1"}),b(y.duration)]}),y.isCompleted&&e.jsxs(ce,{className:"absolute top-3 left-3 bg-green-600",children:[e.jsx(Cr,{className:"h-3 w-3 mr-1"}),"Complete"]})]}),e.jsxs(ue,{children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx(ce,{variant:"secondary",className:"text-xs",children:y.category}),e.jsx(ce,{className:g(y.difficulty),children:y.difficulty})]}),e.jsx(fe,{className:"text-lg text-white line-clamp-2 group-hover:text-green-400 transition-colors",children:y.title})]}),e.jsxs(ee,{children:[e.jsx("p",{className:"text-gray-400 text-sm line-clamp-2 mb-4",children:y.description}),y.progress!==void 0&&y.progress>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400 mb-2",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[Math.round(y.progress),"%"]})]}),e.jsx(bs,{value:y.progress,className:"h-2"})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(lr,{className:"h-3 w-3 mr-1"}),y.enrollments]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Yu,{className:"h-3 w-3 mr-1"}),y.steps," steps"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(An,{className:"h-3 w-3 fill-current text-yellow-400 mr-1"}),y.rating.toFixed(1)]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:y.instructor.avatar||"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=32&h=32&fit=crop&crop=face",alt:y.instructor.name,className:"h-6 w-6 rounded-full mr-2"}),e.jsx("span",{className:"text-xs text-gray-400",children:y.instructor.name})]}),e.jsx(fa,{className:"h-4 w-4 text-gray-500 group-hover:text-green-400 group-hover:translate-x-1 transition-all"})]})]})]})},y.id))}),m?.hasMore&&e.jsx("div",{className:"text-center mt-8",children:e.jsx(V,{variant:"outline",className:"bg-gray-800 border-gray-700 text-white hover:bg-gray-700","data-testid":"button-load-more",children:"Load More Tutorials"})}),m?.tutorials?.length===0&&!f&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(qu,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No tutorials found"}),e.jsx("p",{className:"text-gray-400",children:t||n||a?"Try adjusting your search or filters.":"Check back soon for new tutorials."})]})]})]})})]})}function ZSe(){js();const[t,r]=j.useState(""),[n,s]=j.useState(""),[a,i]=j.useState(""),[o,l]=j.useState("recent"),{data:u,isLoading:m}=Ve({queryKey:["/api/help/tickets",{search:t,status:n,priority:a,sort:o,page:1,limit:20}],staleTime:120*1e3}),f=b=>{switch(b){case"open":return"bg-blue-500/10 text-blue-600 border-blue-500/20";case"in_progress":return"bg-yellow-500/10 text-yellow-600 border-yellow-500/20";case"waiting_for_response":return"bg-orange-500/10 text-orange-600 border-orange-500/20";case"resolved":return"bg-green-500/10 text-green-600 border-green-500/20";case"closed":return"bg-gray-500/10 text-gray-600 border-gray-500/20";default:return"bg-gray-500/10 text-gray-600 border-gray-500/20"}},p=b=>{switch(b){case"low":return"bg-blue-500/10 text-blue-600 border-blue-500/20";case"medium":return"bg-yellow-500/10 text-yellow-600 border-yellow-500/20";case"high":return"bg-orange-500/10 text-orange-600 border-orange-500/20";case"urgent":return"bg-red-500/10 text-red-600 border-red-500/20";default:return"bg-gray-500/10 text-gray-600 border-gray-500/20"}},g=b=>{switch(b){case"open":return e.jsx(wr,{className:"h-4 w-4"});case"in_progress":return e.jsx(yl,{className:"h-4 w-4"});case"waiting_for_response":return e.jsx(Pn,{className:"h-4 w-4"});case"resolved":return e.jsx(Cr,{className:"h-4 w-4"});case"closed":return e.jsx(Ln,{className:"h-4 w-4"});default:return e.jsx(wr,{className:"h-4 w-4"})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-orange-900/20",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-600/20 to-red-500/20 backdrop-blur-3xl"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-red-500 p-3 rounded-full",children:e.jsx(zo,{className:"h-8 w-8 text-white"})})}),e.jsx("h1",{className:"text-4xl font-bold text-white mb-4 bg-gradient-to-r from-orange-400 to-red-400 bg-clip-text text-transparent",children:"Support Tickets"}),e.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-3xl mx-auto",children:"Track your support requests, view responses, and manage your help tickets in one place."}),e.jsx("div",{className:"flex justify-center",children:e.jsx(_t,{href:"/help/tickets/new",children:e.jsxs(V,{size:"lg",className:"bg-orange-600 hover:bg-orange-700","data-testid":"button-create-ticket",children:[e.jsx(hs,{className:"h-5 w-5 mr-2"}),"Create New Ticket"]})})})]})})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[u?.stats&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(Y,{className:"bg-gray-800/50 border-gray-700",children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:e.jsx(zo,{className:"h-6 w-6 text-blue-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Total Tickets"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:u.stats.total})]})]})})}),e.jsx(Y,{className:"bg-gray-800/50 border-gray-700",children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-500/10 rounded-lg",children:e.jsx(wr,{className:"h-6 w-6 text-yellow-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Open/In Progress"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:u.stats.open+u.stats.inProgress})]})]})})}),e.jsx(Y,{className:"bg-gray-800/50 border-gray-700",children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:e.jsx(Cr,{className:"h-6 w-6 text-green-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Resolved"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:u.stats.resolved})]})]})})}),e.jsx(Y,{className:"bg-gray-800/50 border-gray-700",children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:e.jsx(wr,{className:"h-6 w-6 text-purple-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Avg Response"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:u.stats.avgResponseTime})]})]})})})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-1/4",children:e.jsxs("div",{className:"space-y-6 sticky top-6",children:[e.jsx(Y,{className:"bg-gray-800/50 border-gray-700",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(Ue,{placeholder:"Search tickets...",value:t,onChange:b=>r(b.target.value),className:"pl-9 bg-gray-900 border-gray-600 text-white","data-testid":"input-search-tickets"})]})})}),e.jsxs(Y,{className:"bg-gray-800/50 border-gray-700",children:[e.jsx(ue,{children:e.jsx(fe,{className:"text-white text-sm",children:"Status"})}),e.jsx(ee,{className:"space-y-2",children:[{key:"",label:"All Statuses",count:u?.stats?.total||0},{key:"open",label:"Open",count:u?.stats?.open||0},{key:"in_progress",label:"In Progress",count:u?.stats?.inProgress||0},{key:"resolved",label:"Resolved",count:u?.stats?.resolved||0}].map(b=>e.jsxs(V,{variant:n===b.key?"default":"outline",className:"w-full justify-start text-sm",onClick:()=>s(b.key),"data-testid":`filter-status-${b.key||"all"}`,children:[b.key&&g(b.key),e.jsx("span",{className:b.key?"ml-2":"",children:b.label}),e.jsx(ce,{variant:"secondary",className:"ml-auto",children:b.count})]},b.key))})]}),e.jsxs(Y,{className:"bg-gray-800/50 border-gray-700",children:[e.jsx(ue,{children:e.jsx(fe,{className:"text-white text-sm",children:"Priority"})}),e.jsx(ee,{className:"space-y-2",children:[{key:"",label:"All Priorities"},{key:"urgent",label:"Urgent"},{key:"high",label:"High"},{key:"medium",label:"Medium"},{key:"low",label:"Low"}].map(b=>e.jsx(V,{variant:a===b.key?"default":"outline",className:"w-full justify-start text-sm capitalize",onClick:()=>i(b.key),"data-testid":`filter-priority-${b.key||"all"}`,children:b.label},b.key))})]})]})}),e.jsxs("div",{className:"lg:w-3/4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Your Support Tickets"}),e.jsxs(ns,{children:[e.jsx(ss,{asChild:!0,children:e.jsxs(V,{variant:"outline",className:"bg-gray-800 border-gray-700 text-white",children:["Sort by ",o," ",e.jsx(gh,{className:"ml-2 h-4 w-4"})]})}),e.jsxs(es,{className:"bg-gray-800 border-gray-700",children:[e.jsx(rt,{onClick:()=>l("recent"),className:"text-white",children:"Most Recent"}),e.jsx(rt,{onClick:()=>l("oldest"),className:"text-white",children:"Oldest First"}),e.jsx(rt,{onClick:()=>l("priority"),className:"text-white",children:"Priority"}),e.jsx(rt,{onClick:()=>l("status"),className:"text-white",children:"Status"})]})]})]}),m?e.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(b=>e.jsxs(Y,{className:"bg-gray-800/50 border-gray-700 animate-pulse",children:[e.jsxs(ue,{children:[e.jsx("div",{className:"h-4 bg-gray-700 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-700 rounded w-1/2 mt-2"})]}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 bg-gray-700 rounded"}),e.jsx("div",{className:"h-3 bg-gray-700 rounded w-5/6"})]})})]},b))}):e.jsx("div",{className:"space-y-4",children:u?.tickets?.map(b=>e.jsx(_t,{href:`/help/tickets/${b.id}`,children:e.jsxs(Y,{className:"group bg-gray-800/50 border-gray-700 hover:border-orange-500/50 transition-all duration-300 cursor-pointer",children:[e.jsx(ue,{children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:"text-sm text-gray-400",children:["#",b.ticketNumber]}),e.jsxs(ce,{className:f(b.status),children:[g(b.status),e.jsx("span",{className:"ml-1 capitalize",children:b.status.replace("_"," ")})]}),e.jsx(ce,{className:p(b.priority),children:b.priority})]}),e.jsx(fe,{className:"text-lg text-white group-hover:text-orange-400 transition-colors line-clamp-1",children:b.subject}),e.jsx("p",{className:"text-gray-400 text-sm mt-2 line-clamp-2",children:b.description})]})})}),e.jsxs(ee,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ys,{className:"h-3 w-3 mr-1"}),"Created ",Cc(new Date(b.createdAt),{addSuffix:!0})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pn,{className:"h-3 w-3 mr-1"}),b.messageCount," messages"]}),b.assignedTo&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(_m,{className:"h-3 w-3 mr-1"}),"Assigned to ",b.assignedTo.name]})]}),e.jsx("div",{className:"text-xs text-gray-500",children:b.lastResponseAt&&e.jsxs("span",{children:["Last updated ",Cc(new Date(b.lastResponseAt),{addSuffix:!0})]})})]}),b.tags.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Tn,{className:"bg-gray-700 my-3"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:b.tags.map(y=>e.jsx(ce,{variant:"outline",className:"text-xs",children:y},y))})]})]})]})},b.id))}),u?.tickets?.length===0&&!m&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(zo,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No tickets found"}),e.jsx("p",{className:"text-gray-400 mb-6",children:t||n||a?"Try adjusting your search or filters.":"You haven't created any support tickets yet."}),e.jsx(_t,{href:"/help/tickets/new",children:e.jsxs(V,{className:"bg-orange-600 hover:bg-orange-700","data-testid":"button-create-first-ticket",children:[e.jsx(hs,{className:"h-4 w-4 mr-2"}),"Create Your First Ticket"]})})]}),u?.hasMore&&e.jsx("div",{className:"text-center mt-8",children:e.jsx(V,{variant:"outline",className:"bg-gray-800 border-gray-700 text-white hover:bg-gray-700","data-testid":"button-load-more",children:"Load More Tickets"})})]})]})]})]})}function YSe(){const{user:t}=kr(),[r,n]=j.useState(""),[s,a]=j.useState("ai"),[i,o]=j.useState(null),l=j.useRef(null),u=ws(),{data:m}=Ve({queryKey:["/api/help/chat/info"],staleTime:120*1e3}),{data:f=[],isLoading:p}=Ve({queryKey:["/api/help/chat/messages",i?.id],enabled:!!i?.id,refetchInterval:2e3,staleTime:0}),g=ot({mutationFn:async({content:A,sessionId:P})=>Ze(s==="ai"?"/api/help/chat/ai":"/api/help/chat/live",{method:"POST",body:{content:A,sessionId:P,type:"user_message"}}),onSuccess:(A,P)=>{u.setQueryData(["/api/help/chat/messages",P.sessionId],(O=[])=>[...O,A]),!i&&A&&u.invalidateQueries({queryKey:["/api/help/chat/session"]})}}),b=ot({mutationFn:async()=>Ze("/api/help/chat/live/start",{method:"POST",body:{userInfo:{name:t?.firstName+" "+t?.lastName,email:t?.email}}}),onSuccess:A=>{o(A),a("live")}}),y=async()=>{if(!r.trim())return;const A=r;n("");try{await g.mutateAsync({content:A,sessionId:i?.id})}catch(P){console.error("Failed to send message:",P),n(A)}},_=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),y())},w=()=>{a("ai"),o(null)},k=()=>{b.mutate()};return j.useEffect(()=>{l.current?.scrollIntoView({behavior:"smooth"})},[f]),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-purple-900/20",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/20 to-pink-500/20 backdrop-blur-3xl"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-500 p-3 rounded-full",children:e.jsx(Pn,{className:"h-8 w-8 text-white"})})}),e.jsx("h1",{className:"text-4xl font-bold text-white mb-4 bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Live Chat Support"}),e.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-3xl mx-auto",children:"Get instant help from our AI assistant or connect with a live support agent."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center max-w-2xl mx-auto",children:[e.jsx(Y,{className:"bg-gray-800/50 border-gray-700 flex-1",children:e.jsxs(ee,{className:"p-6 text-center",children:[e.jsx(xc,{className:"h-12 w-12 text-purple-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"AI Assistant"}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Instant answers powered by AI. Available 24/7."}),e.jsxs(V,{onClick:w,className:"w-full bg-purple-600 hover:bg-purple-700",disabled:s==="ai","data-testid":"button-start-ai-chat",children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"}),s==="ai"?"Active":"Start AI Chat"]})]})}),e.jsx(Y,{className:"bg-gray-800/50 border-gray-700 flex-1",children:e.jsxs(ee,{className:"p-6 text-center",children:[e.jsx(dY,{className:"h-12 w-12 text-pink-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Live Agent"}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Chat with a human support agent."}),m?.isAvailable?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-center text-xs text-gray-400",children:[e.jsx(lr,{className:"h-3 w-3 mr-1"}),m.activeAgents," agents online",e.jsx(Tn,{orientation:"vertical",className:"mx-2 h-3"}),e.jsx(wr,{className:"h-3 w-3 mr-1"}),"~",m.averageWaitTime," wait"]}),e.jsxs(V,{onClick:k,className:"w-full bg-pink-600 hover:bg-pink-700",disabled:s==="live"||b.isPending,"data-testid":"button-start-live-chat",children:[b.isPending?e.jsx(bx,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(_m,{className:"h-4 w-4 mr-2"}),s==="live"?"Connected":"Connect to Agent"]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{variant:"secondary",className:"bg-yellow-500/10 text-yellow-600",children:"Agents Offline"}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Available during business hours: ",m?.businessHours.start," - ",m?.businessHours.end]})]})]})})]})]})})]}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:e.jsxs(Y,{className:"bg-gray-800/50 border-gray-700 h-[600px] flex flex-col",children:[e.jsx(ue,{className:"border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3",children:s==="ai"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-2 bg-purple-600/20 rounded-lg",children:e.jsx(xc,{className:"h-6 w-6 text-purple-400"})}),e.jsxs("div",{children:[e.jsx(fe,{className:"text-white",children:"AI Assistant"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Always available to help"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-2 bg-pink-600/20 rounded-lg",children:i?.agent?e.jsxs(un,{className:"h-6 w-6",children:[e.jsx(En,{src:i.agent.avatar}),e.jsx(hn,{children:e.jsx(_m,{className:"h-4 w-4"})})]}):e.jsx(lr,{className:"h-6 w-6 text-pink-400"})}),e.jsxs("div",{children:[e.jsx(fe,{className:"text-white",children:i?.agent?.name||"Connecting..."}),e.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:i?.status==="connected"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"Connected"]}):i?.status==="waiting"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),"Queue position: ",i.queuePosition]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),"Offline"]})})]})]})}),e.jsx("div",{className:"text-right",children:e.jsx(ce,{variant:s==="ai"?"default":"secondary",children:s==="ai"?"AI Chat":"Live Support"})})]})}),e.jsx(ee,{className:"flex-1 p-0",children:e.jsx(eh,{className:"h-full p-4",children:f.length===0&&!p?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Pn,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:s==="ai"?"Start chatting with AI Assistant":"Waiting for connection..."}),e.jsx("p",{className:"text-gray-400",children:s==="ai"?"Type your question below to get instant help.":"An agent will join you shortly."})]}):e.jsxs("div",{className:"space-y-4",children:[f.map(A=>e.jsx("div",{className:`flex ${A.type==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[70%] ${A.type==="user"?"order-2":"order-1"}`,children:e.jsxs("div",{className:"flex items-start gap-2",children:[A.type!=="user"&&e.jsx(un,{className:"h-8 w-8 mt-1",children:A.sender?.avatar?e.jsx(En,{src:A.sender.avatar}):e.jsx(hn,{children:A.type==="bot"?e.jsx(xc,{className:"h-4 w-4"}):e.jsx(_m,{className:"h-4 w-4"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:`rounded-lg px-4 py-2 ${A.type==="user"?"bg-purple-600 text-white":"bg-gray-700 text-white"}`,children:[e.jsx("p",{className:"whitespace-pre-wrap",children:A.content}),A.metadata?.confidence&&A.type==="bot"&&e.jsxs("div",{className:"mt-2 text-xs text-gray-300",children:["Confidence: ",Math.round(A.metadata.confidence*100),"%"]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500",children:[A.type!=="user"&&A.sender&&e.jsx("span",{children:A.sender.name}),e.jsx("span",{children:Cc(new Date(A.timestamp),{addSuffix:!0})})]}),A.metadata?.suggestedActions&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:A.metadata.suggestedActions.map((P,O)=>e.jsx(V,{size:"sm",variant:"outline",className:"text-xs bg-gray-700 border-gray-600 hover:bg-gray-600",onClick:()=>n(P.action),children:P.title},O))})]})]})})},A.id)),g.isPending&&e.jsx("div",{className:"flex justify-start",children:e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(un,{className:"h-8 w-8",children:e.jsx(hn,{children:s==="ai"?e.jsx(xc,{className:"h-4 w-4"}):e.jsx(_m,{className:"h-4 w-4"})})}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-600 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gray-600 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})}),e.jsx("div",{ref:l})]})})}),e.jsxs("div",{className:"border-t border-gray-700 p-4",children:[e.jsxs("div",{className:"flex items-end gap-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx(on,{placeholder:`Type your ${s==="ai"?"question":"message"}...`,value:r,onChange:A=>n(A.target.value),onKeyPress:_,className:"bg-gray-900 border-gray-600 text-white resize-none",rows:2,"data-testid":"textarea-message"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{size:"sm",variant:"outline",className:"bg-gray-700 border-gray-600 hover:bg-gray-600","data-testid":"button-attach",children:e.jsx(o0,{className:"h-4 w-4"})}),e.jsx(V,{onClick:y,disabled:!r.trim()||g.isPending,className:"bg-purple-600 hover:bg-purple-700","data-testid":"button-send-message",children:g.isPending?e.jsx(bx,{className:"h-4 w-4 animate-spin"}):e.jsx(ei,{className:"h-4 w-4"})})]})]}),s==="live"&&i?.status==="waiting"&&e.jsx("div",{className:"mt-3 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:e.jsxs("div",{className:"flex items-center text-yellow-600",children:[e.jsx(wr,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{className:"text-sm",children:["You're #",i.queuePosition," in queue. Estimated wait time: ",i.estimatedWaitTime," minutes."]})]})})]})]})})]})}const QSe=Xr({subject:mt().min(10,"Subject must be at least 10 characters").max(200,"Subject too long"),description:mt().min(50,"Please provide more details (minimum 50 characters)").max(5e3,"Description too long"),category:mt().min(1,"Please select a category"),priority:po(["low","medium","high","urgent"],{required_error:"Please select a priority level"}),tags:Oc(mt()).optional(),attachments:Oc(Xr({filename:mt(),url:mt(),size:tn(),type:mt()})).optional(),metadata:Xr({browser:mt().optional(),platform:mt().optional(),currentUrl:mt().optional(),userAgent:mt().optional()}).optional(),agreedToTerms:xi().refine(t=>t===!0,"You must agree to the terms")}),XSe=[{value:"account_billing",label:"Account & Billing"},{value:"technical_support",label:"Technical Support"},{value:"content_creation",label:"Content Creation"},{value:"verification",label:"Account Verification"},{value:"privacy_safety",label:"Privacy & Safety"},{value:"feature_request",label:"Feature Request"},{value:"bug_report",label:"Bug Report"},{value:"other",label:"Other"}],JSe=["payment","upload","streaming","profile","security","mobile","desktop","performance","ui","accessibility"];function e2e(){const[,t]=js(),{toast:r}=or(),[n,s]=j.useState([]),[a,i]=j.useState([]),o=Da({resolver:La(QSe),defaultValues:{subject:"",description:"",category:"",priority:"medium",tags:[],attachments:[],agreedToTerms:!1,metadata:{browser:navigator.userAgent.split(" ")[0]||"Unknown",platform:navigator.platform||"Unknown",currentUrl:window.location.href,userAgent:navigator.userAgent}}}),l=ot({mutationFn:async g=>Ze("/api/help/tickets",{method:"POST",body:g}),onSuccess:g=>{r({title:"Support Ticket Created",description:`Your ticket #${g.ticketNumber} has been submitted successfully.`}),t(`/help/tickets/${g.id}`)},onError:g=>{r({title:"Error Creating Ticket",description:g.message||"Failed to create support ticket. Please try again.",variant:"destructive"})}}),u=async g=>{const b={...g,tags:a,attachments:n.filter(y=>y.uploaded&&y.url).map(y=>({filename:y.file.name,url:y.url,size:y.file.size,type:y.file.type}))};l.mutate(b)},m=g=>{const _=["image/jpeg","image/png","image/gif","application/pdf","text/plain"];Array.from(g).forEach(w=>{if(n.length>=5){r({title:"Too many files",description:"Maximum 5 files allowed",variant:"destructive"});return}if(w.size>10485760){r({title:"File too large",description:`${w.name} is too large. Maximum size is 10MB`,variant:"destructive"});return}if(!_.includes(w.type)){r({title:"File type not supported",description:`${w.name} type is not supported`,variant:"destructive"});return}const k=new FileReader;k.onload=A=>{const P={file:w,preview:A.target?.result,uploading:!1,uploaded:!0,url:`https://example.com/uploads/${w.name}`};s(O=>[...O,P])},k.readAsDataURL(w)})},f=g=>{s(b=>b.filter((y,_)=>_!==g))},p=g=>{i(b=>b.includes(g)?b.filter(y=>y!==g):[...b,g])};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-orange-900/20",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-600/20 to-red-500/20 backdrop-blur-3xl"}),e.jsx("div",{className:"relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-start mb-6",children:e.jsx(_t,{href:"/help/tickets",children:e.jsxs(V,{variant:"outline",className:"bg-gray-800 border-gray-700 text-white hover:bg-gray-700",children:[e.jsx(Cl,{className:"h-4 w-4 mr-2"}),"Back to Tickets"]})})}),e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-red-500 p-3 rounded-full",children:e.jsx(zo,{className:"h-8 w-8 text-white"})})}),e.jsx("h1",{className:"text-4xl font-bold text-white mb-4 bg-gradient-to-r from-orange-400 to-red-400 bg-clip-text text-transparent",children:"Create Support Ticket"}),e.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Describe your issue in detail and our support team will help you as soon as possible."})]})})]}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:e.jsx(Ra,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(u),className:"space-y-8",children:[e.jsxs(Y,{className:"bg-gray-800/50 border-gray-700",children:[e.jsx(ue,{children:e.jsxs(fe,{className:"text-white flex items-center gap-2",children:[e.jsx(Cn,{className:"h-5 w-5"}),"Ticket Details"]})}),e.jsxs(ee,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Pt,{control:o.control,name:"category",render:({field:g})=>e.jsxs(Ct,{children:[e.jsx(kt,{className:"text-white",children:"Category *"}),e.jsxs(yt,{onValueChange:g.onChange,defaultValue:g.value,children:[e.jsx(At,{children:e.jsx(xt,{className:"bg-gray-900 border-gray-600 text-white",children:e.jsx(bt,{placeholder:"Select a category"})})}),e.jsx(gt,{className:"bg-gray-800 border-gray-600",children:XSe.map(b=>e.jsx(Q,{value:b.value,className:"text-white",children:b.label},b.value))})]}),e.jsx(Aa,{className:"text-gray-400",children:"Choose the category that best describes your issue"}),e.jsx(It,{})]})}),e.jsx(Pt,{control:o.control,name:"priority",render:({field:g})=>e.jsxs(Ct,{children:[e.jsx(kt,{className:"text-white",children:"Priority *"}),e.jsxs(yt,{onValueChange:g.onChange,defaultValue:g.value,children:[e.jsx(At,{children:e.jsx(xt,{className:"bg-gray-900 border-gray-600 text-white",children:e.jsx(bt,{})})}),e.jsxs(gt,{className:"bg-gray-800 border-gray-600",children:[e.jsx(Q,{value:"low",className:"text-white",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mr-2"}),"Low - General questions"]})}),e.jsx(Q,{value:"medium",className:"text-white",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-400 mr-2"}),"Medium - Standard support"]})}),e.jsx(Q,{value:"high",className:"text-white",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-400 mr-2"}),"High - Urgent issue"]})}),e.jsx(Q,{value:"urgent",className:"text-white",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-400 mr-2"}),"Urgent - Critical problem"]})})]})]}),e.jsx(Aa,{className:"text-gray-400",children:"How urgently do you need this resolved?"}),e.jsx(It,{})]})})]}),e.jsx(Pt,{control:o.control,name:"subject",render:({field:g})=>e.jsxs(Ct,{children:[e.jsx(kt,{className:"text-white",children:"Subject *"}),e.jsx(At,{children:e.jsx(Ue,{...g,placeholder:"Brief summary of your issue...",className:"bg-gray-900 border-gray-600 text-white","data-testid":"input-ticket-subject"})}),e.jsx(Aa,{className:"text-gray-400",children:"A clear, descriptive title for your support request"}),e.jsx(It,{})]})}),e.jsx(Pt,{control:o.control,name:"description",render:({field:g})=>e.jsxs(Ct,{children:[e.jsx(kt,{className:"text-white",children:"Description *"}),e.jsx(At,{children:e.jsx(on,{...g,placeholder:"Please describe your issue in detail. Include any error messages, steps to reproduce the problem, and what you expected to happen...",className:"bg-gray-900 border-gray-600 text-white min-h-[150px]","data-testid":"textarea-ticket-description"})}),e.jsx(Aa,{className:"text-gray-400",children:"The more details you provide, the faster we can help you"}),e.jsx(It,{})]})})]})]}),e.jsxs(Y,{className:"bg-gray-800/50 border-gray-700",children:[e.jsx(ue,{children:e.jsx(fe,{className:"text-white",children:"Tags (Optional)"})}),e.jsxs(ee,{children:[e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Select relevant tags to help us categorize and route your ticket"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:JSe.map(g=>e.jsx("button",{type:"button",onClick:()=>p(g),className:`px-3 py-1 rounded-full text-sm border transition-colors ${a.includes(g)?"bg-orange-600 border-orange-600 text-white":"bg-gray-700 border-gray-600 text-gray-300 hover:border-orange-500"}`,"data-testid":`tag-${g}`,children:g},g))}),a.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Selected tags:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:a.map(g=>e.jsx(ce,{variant:"secondary",className:"bg-orange-600/20 text-orange-400",children:g},g))})]})]})]}),e.jsxs(Y,{className:"bg-gray-800/50 border-gray-700",children:[e.jsx(ue,{children:e.jsxs(fe,{className:"text-white flex items-center gap-2",children:[e.jsx(o0,{className:"h-5 w-5"}),"Attachments (Optional)"]})}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-6 text-center",children:[e.jsx(zi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 mb-2",children:"Drop files here or click to upload"}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*,.pdf,.txt",onChange:g=>g.target.files&&m(g.target.files),className:"hidden",id:"file-upload","data-testid":"input-file-upload"}),e.jsxs("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 bg-gray-700 text-white rounded-md cursor-pointer hover:bg-gray-600",children:[e.jsx(Pa,{className:"h-4 w-4 mr-2"}),"Select Files"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Max 5 files, 10MB each. Supports: JPG, PNG, GIF, PDF, TXT"})]}),n.length>0&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:n.map((g,b)=>e.jsxs("div",{className:"relative bg-gray-700 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-white text-sm truncate flex-1",children:g.file.name}),e.jsx(V,{size:"sm",variant:"ghost",onClick:()=>f(b),className:"h-6 w-6 p-0 text-gray-400 hover:text-red-400","data-testid":`button-remove-attachment-${b}`,children:e.jsx(Il,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[e.jsxs("span",{children:[(g.file.size/1024/1024).toFixed(2)," MB"]}),g.uploaded&&e.jsx(Cr,{className:"h-3 w-3 text-green-400 ml-2"})]})]},b))})]})})]}),e.jsx(Y,{className:"bg-gray-800/50 border-gray-700",children:e.jsx(ee,{className:"pt-6",children:e.jsx(Pt,{control:o.control,name:"agreedToTerms",render:({field:g})=>e.jsxs(Ct,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(At,{children:e.jsx(Jn,{checked:g.value,onCheckedChange:g.onChange,className:"mt-1","data-testid":"checkbox-terms-agreement"})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(kt,{className:"text-white",children:"I agree to the terms and conditions *"}),e.jsxs(Aa,{className:"text-gray-400",children:["By submitting this ticket, you agree to our"," ",e.jsx(_t,{href:"/terms",className:"text-orange-400 hover:underline",children:"Terms of Service"})," ","and"," ",e.jsx(_t,{href:"/privacy",className:"text-orange-400 hover:underline",children:"Privacy Policy"})]})]}),e.jsx(It,{})]})})})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-end",children:[e.jsx(_t,{href:"/help/tickets",children:e.jsx(V,{variant:"outline",className:"bg-gray-800 border-gray-700 text-white hover:bg-gray-700",children:"Cancel"})}),e.jsx(V,{type:"submit",disabled:l.isPending,className:"bg-orange-600 hover:bg-orange-700","data-testid":"button-submit-ticket",children:l.isPending?e.jsxs(e.Fragment,{children:[e.jsx(yl,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Ticket..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ei,{className:"h-4 w-4 mr-2"}),"Submit Support Ticket"]})})]}),e.jsxs(bn,{className:"bg-blue-500/10 border-blue-500/20",children:[e.jsx(fY,{className:"h-4 w-4"}),e.jsxs(jn,{className:"text-blue-400",children:[e.jsx("strong",{children:"Response Times:"})," Low priority (48 hours), Medium (24 hours), High (4 hours), Urgent (1 hour). We'll send updates to your email and you can track progress in your ticket dashboard."]})]})]})})})]})}var wK="AlertDialog",[t2e]=ga(wK,[W$]),Lc=W$(),_K=t=>{const{__scopeAlertDialog:r,...n}=t,s=Lc(r);return e.jsx(yP,{...s,...n,modal:!0})};_K.displayName=wK;var r2e="AlertDialogTrigger",NK=j.forwardRef((t,r)=>{const{__scopeAlertDialog:n,...s}=t,a=Lc(n);return e.jsx(bP,{...a,...s,ref:r})});NK.displayName=r2e;var n2e="AlertDialogPortal",SK=t=>{const{__scopeAlertDialog:r,...n}=t,s=Lc(r);return e.jsx(jP,{...s,...n})};SK.displayName=n2e;var s2e="AlertDialogOverlay",CK=j.forwardRef((t,r)=>{const{__scopeAlertDialog:n,...s}=t,a=Lc(n);return e.jsx(kg,{...a,...s,ref:r})});CK.displayName=s2e;var Fm="AlertDialogContent",[a2e,i2e]=t2e(Fm),o2e=sF("AlertDialogContent"),kK=j.forwardRef((t,r)=>{const{__scopeAlertDialog:n,children:s,...a}=t,i=Lc(n),o=j.useRef(null),l=_r(r,o),u=j.useRef(null);return e.jsx(tee,{contentName:Fm,titleName:AK,docsSlug:"alert-dialog",children:e.jsx(a2e,{scope:n,cancelRef:u,children:e.jsxs(Ag,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:wt(a.onOpenAutoFocus,m=>{m.preventDefault(),u.current?.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[e.jsx(o2e,{children:s}),e.jsx(c2e,{contentRef:o})]})})})});kK.displayName=Fm;var AK="AlertDialogTitle",PK=j.forwardRef((t,r)=>{const{__scopeAlertDialog:n,...s}=t,a=Lc(n);return e.jsx(Pg,{...a,...s,ref:r})});PK.displayName=AK;var TK="AlertDialogDescription",EK=j.forwardRef((t,r)=>{const{__scopeAlertDialog:n,...s}=t,a=Lc(n);return e.jsx(Tg,{...a,...s,ref:r})});EK.displayName=TK;var l2e="AlertDialogAction",OK=j.forwardRef((t,r)=>{const{__scopeAlertDialog:n,...s}=t,a=Lc(n);return e.jsx(Jb,{...a,...s,ref:r})});OK.displayName=l2e;var IK="AlertDialogCancel",MK=j.forwardRef((t,r)=>{const{__scopeAlertDialog:n,...s}=t,{cancelRef:a}=i2e(IK,n),i=Lc(n),o=_r(r,a);return e.jsx(Jb,{...i,...s,ref:o})});MK.displayName=IK;var c2e=({contentRef:t})=>{const r=`\`${Fm}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Fm}\` by passing a \`${TK}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Fm}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return j.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(r)},[r,t]),null},d2e=_K,u2e=NK,h2e=SK,DK=CK,RK=kK,LK=OK,FK=MK,$K=PK,zK=EK;const m2e=d2e,f2e=u2e,p2e=h2e,BK=j.forwardRef(({className:t,...r},n)=>e.jsx(DK,{className:He("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:n}));BK.displayName=DK.displayName;const qK=j.forwardRef(({className:t,...r},n)=>e.jsxs(p2e,{children:[e.jsx(BK,{}),e.jsx(RK,{ref:n,className:He("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r})]}));qK.displayName=RK.displayName;const UK=({className:t,...r})=>e.jsx("div",{className:He("flex flex-col space-y-2 text-center sm:text-left",t),...r});UK.displayName="AlertDialogHeader";const VK=({className:t,...r})=>e.jsx("div",{className:He("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r});VK.displayName="AlertDialogFooter";const KK=j.forwardRef(({className:t,...r},n)=>e.jsx($K,{ref:n,className:He("text-lg font-semibold",t),...r}));KK.displayName=$K.displayName;const WK=j.forwardRef(({className:t,...r},n)=>e.jsx(zK,{ref:n,className:He("text-sm text-muted-foreground",t),...r}));WK.displayName=zK.displayName;const HK=j.forwardRef(({className:t,...r},n)=>e.jsx(LK,{ref:n,className:He(Nx(),t),...r}));HK.displayName=LK.displayName;const GK=j.forwardRef(({className:t,...r},n)=>e.jsx(FK,{ref:n,className:He(Nx({variant:"outline"}),"mt-2 sm:mt-0",t),...r}));GK.displayName=FK.displayName;const x2e=Xr({message:mt().min(10,"Message must be at least 10 characters").max(2e3,"Message too long")});function g2e({ticketId:t}){js();const{toast:r}=or(),n=ws(),[s,a]=j.useState(!1),i=Da({resolver:La(x2e),defaultValues:{message:""}}),{data:o,isLoading:l,error:u}=Ve({queryKey:["/api/help/tickets",t],staleTime:30*1e3}),m=ot({mutationFn:async w=>Ze(`/api/help/tickets/${t}/comments`,{method:"POST",body:w}),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/help/tickets",t]}),i.reset(),r({title:"Comment Added",description:"Your comment has been added to the ticket."})},onError:w=>{r({title:"Error Adding Comment",description:w.message||"Failed to add comment. Please try again.",variant:"destructive"})}}),f=ot({mutationFn:async w=>Ze(`/api/help/tickets/${t}/status`,{method:"PATCH",body:w}),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/help/tickets",t]}),n.invalidateQueries({queryKey:["/api/help/tickets"]}),r({title:"Status Updated",description:"Ticket status has been updated successfully."})},onError:w=>{r({title:"Error Updating Status",description:w.message||"Failed to update status. Please try again.",variant:"destructive"})}}),p=async w=>{a(!0);try{await m.mutateAsync(w)}finally{a(!1)}},g=w=>{switch(w){case"open":return"bg-blue-500/10 text-blue-600 border-blue-500/20";case"in_progress":return"bg-yellow-500/10 text-yellow-600 border-yellow-500/20";case"waiting_for_response":return"bg-orange-500/10 text-orange-600 border-orange-500/20";case"resolved":return"bg-green-500/10 text-green-600 border-green-500/20";case"closed":return"bg-gray-500/10 text-gray-600 border-gray-500/20";default:return"bg-gray-500/10 text-gray-600 border-gray-500/20"}},b=w=>{switch(w){case"low":return"bg-blue-500/10 text-blue-600 border-blue-500/20";case"medium":return"bg-yellow-500/10 text-yellow-600 border-yellow-500/20";case"high":return"bg-orange-500/10 text-orange-600 border-orange-500/20";case"urgent":return"bg-red-500/10 text-red-600 border-red-500/20";default:return"bg-gray-500/10 text-gray-600 border-gray-500/20"}},y=w=>{switch(w){case"open":return e.jsx(wr,{className:"h-4 w-4"});case"in_progress":return e.jsx(yl,{className:"h-4 w-4"});case"waiting_for_response":return e.jsx(Pn,{className:"h-4 w-4"});case"resolved":return e.jsx(Cr,{className:"h-4 w-4"});case"closed":return e.jsx(Ln,{className:"h-4 w-4"});default:return e.jsx(wr,{className:"h-4 w-4"})}},_=w=>{const k=["Bytes","KB","MB","GB"];if(w===0)return"0 Bytes";const A=Math.floor(Math.log(w)/Math.log(1024));return Math.round(w/Math.pow(1024,A)*100)/100+" "+k[A]};return l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-orange-900/20",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gray-700 rounded w-1/3"}),e.jsx("div",{className:"h-64 bg-gray-800 rounded"}),e.jsx("div",{className:"h-32 bg-gray-800 rounded"})]})})}):u||!o?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-orange-900/20 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ln,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Ticket Not Found"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"The support ticket you're looking for doesn't exist or you don't have permission to view it."}),e.jsx(_t,{href:"/help/tickets",children:e.jsxs(V,{className:"bg-orange-600 hover:bg-orange-700",children:[e.jsx(Cl,{className:"h-4 w-4 mr-2"}),"Back to Tickets"]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-orange-900/20",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(_t,{href:"/help/tickets",children:e.jsxs(V,{variant:"outline",className:"bg-gray-800 border-gray-700 text-white hover:bg-gray-700",children:[e.jsx(Cl,{className:"h-4 w-4 mr-2"}),"Back to Tickets"]})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-white",children:["Ticket #",o.ticketNumber]}),e.jsxs("p",{className:"text-gray-400",children:["Created ",Cc(new Date(o.createdAt),{addSuffix:!0})]})]})]}),e.jsxs(ns,{children:[e.jsx(ss,{asChild:!0,children:e.jsx(V,{variant:"outline",className:"bg-gray-800 border-gray-700 text-white",children:e.jsx(Ja,{className:"h-4 w-4"})})}),e.jsxs(es,{className:"bg-gray-800 border-gray-700",align:"end",children:[e.jsxs(rt,{className:"text-white",onClick:()=>f.mutate({status:"resolved"}),disabled:o.status==="resolved"||o.status==="closed",children:[e.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Mark as Resolved"]}),e.jsxs(rt,{className:"text-white",onClick:()=>f.mutate({status:"open"}),disabled:o.status==="open",children:[e.jsx(wn,{className:"h-4 w-4 mr-2"}),"Reopen Ticket"]}),e.jsx(lo,{className:"bg-gray-700"}),e.jsxs(m2e,{children:[e.jsx(f2e,{asChild:!0,children:e.jsxs(rt,{className:"text-red-400",onSelect:w=>w.preventDefault(),children:[e.jsx(pc,{className:"h-4 w-4 mr-2"}),"Close Ticket"]})}),e.jsxs(qK,{className:"bg-gray-800 border-gray-700",children:[e.jsxs(UK,{children:[e.jsx(KK,{className:"text-white",children:"Close Ticket"}),e.jsx(WK,{className:"text-gray-400",children:"Are you sure you want to close this ticket? This action cannot be undone."})]}),e.jsxs(VK,{children:[e.jsx(GK,{className:"bg-gray-700 border-gray-600 text-white hover:bg-gray-600",children:"Cancel"}),e.jsx(HK,{className:"bg-red-600 hover:bg-red-700",onClick:()=>f.mutate({status:"closed"}),children:"Close Ticket"})]})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(Y,{className:"bg-gray-800/50 border-gray-700",children:[e.jsx(ue,{children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsxs(ce,{className:g(o.status),children:[y(o.status),e.jsx("span",{className:"ml-1 capitalize",children:o.status.replace("_"," ")})]}),e.jsx(ce,{className:b(o.priority),children:o.priority}),e.jsx(ce,{variant:"outline",className:"text-gray-400 border-gray-600",children:o.category})]}),e.jsx(fe,{className:"text-2xl text-white mb-3",children:o.subject})]})})}),e.jsxs(ee,{className:"space-y-4",children:[e.jsx("div",{className:"text-gray-300 whitespace-pre-wrap",children:o.description}),o.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:o.tags.map(w=>e.jsxs(ce,{variant:"outline",className:"text-xs text-gray-400 border-gray-600",children:[e.jsx(MY,{className:"h-3 w-3 mr-1"}),w]},w))}),o.attachments.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium text-white",children:"Attachments"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:o.attachments.map((w,k)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-900 rounded-lg border border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(o0,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white font-medium",children:w.filename}),e.jsx("p",{className:"text-xs text-gray-500",children:_(w.size)})]})]}),e.jsx(V,{variant:"ghost",size:"sm",className:"text-orange-400 hover:text-orange-300 hover:bg-orange-900/20",onClick:()=>window.open(w.url,"_blank"),children:e.jsx($n,{className:"h-4 w-4"})})]},k))})]})]})]}),e.jsxs(Y,{className:"bg-gray-800/50 border-gray-700",children:[e.jsx(ue,{children:e.jsxs(fe,{className:"text-white flex items-center gap-2",children:[e.jsx(Pn,{className:"h-5 w-5"}),"Conversation (",o.comments.length,")"]})}),e.jsxs(ee,{className:"space-y-6",children:[o.comments.length>0?e.jsx("div",{className:"space-y-6",children:o.comments.map(w=>e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs(un,{className:"h-10 w-10",children:[e.jsx(En,{src:w.author.avatar}),e.jsx(hn,{className:"bg-gray-700 text-white",children:w.author.name.charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:w.author.name}),e.jsx(ce,{variant:"outline",className:`text-xs ${w.author.role==="agent"||w.author.role==="admin"?"text-orange-400 border-orange-600":"text-gray-400 border-gray-600"}`,children:w.author.role})]}),e.jsx("span",{className:"text-xs text-gray-500",children:Ir(new Date(w.createdAt),"MMM dd, yyyy at h:mm a")})]}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 border border-gray-700",children:[e.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:w.message}),w.attachments.length>0&&e.jsx("div",{className:"mt-3 space-y-2",children:w.attachments.map((k,A)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-800 rounded border border-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(o0,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-300",children:k.filename}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",_(k.size),")"]})]}),e.jsx(V,{variant:"ghost",size:"sm",className:"text-orange-400 hover:text-orange-300 h-6 w-6 p-0",onClick:()=>window.open(k.url,"_blank"),children:e.jsx($n,{className:"h-3 w-3"})})]},A))})]})]})]},w.id))}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Pn,{className:"h-12 w-12 mx-auto mb-3 text-gray-600"}),e.jsx("p",{children:"No comments yet. Start the conversation below."})]}),e.jsx(Tn,{className:"bg-gray-700"}),o.status!=="closed"&&e.jsx(Ra,{...i,children:e.jsxs("form",{onSubmit:i.handleSubmit(p),className:"space-y-4",children:[e.jsx(Pt,{control:i.control,name:"message",render:({field:w})=>e.jsxs(Ct,{children:[e.jsx(kt,{className:"text-white",children:"Add a comment"}),e.jsx(At,{children:e.jsx(on,{...w,placeholder:"Describe your issue in more detail or provide additional information...",className:"min-h-[120px] bg-gray-900 border-gray-600 text-white placeholder:text-gray-500 resize-none","data-testid":"input-comment-message"})}),e.jsx(It,{})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(V,{type:"submit",disabled:s||m.isPending,className:"bg-orange-600 hover:bg-orange-700","data-testid":"button-submit-comment",children:s?e.jsxs(e.Fragment,{children:[e.jsx(wn,{className:"h-4 w-4 mr-2 animate-spin"}),"Posting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ei,{className:"h-4 w-4 mr-2"}),"Post Comment"]})})})]})}),o.status==="closed"&&e.jsxs(bn,{className:"bg-gray-800 border-gray-600",children:[e.jsx(yl,{className:"h-4 w-4"}),e.jsx(jn,{className:"text-gray-300",children:"This ticket is closed. To add more comments, please reopen the ticket or create a new one."})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Y,{className:"bg-gray-800/50 border-gray-700",children:[e.jsx(ue,{children:e.jsx(fe,{className:"text-white text-lg",children:"Ticket Information"})}),e.jsx(ee,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Status:"}),e.jsxs(ce,{className:g(o.status),children:[y(o.status),e.jsx("span",{className:"ml-1 capitalize",children:o.status.replace("_"," ")})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Priority:"}),e.jsx(ce,{className:b(o.priority),children:o.priority})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Category:"}),e.jsx("span",{className:"text-white text-sm",children:o.category})]}),e.jsx(Tn,{className:"bg-gray-700"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"Created:"}),e.jsxs("div",{className:"text-white text-sm",children:[Ir(new Date(o.createdAt),"MMM dd, yyyy"),e.jsx("br",{}),e.jsx("span",{className:"text-gray-500",children:Ir(new Date(o.createdAt),"h:mm a")})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"Last Updated:"}),e.jsxs("div",{className:"text-white text-sm",children:[Ir(new Date(o.updatedAt),"MMM dd, yyyy"),e.jsx("br",{}),e.jsx("span",{className:"text-gray-500",children:Ir(new Date(o.updatedAt),"h:mm a")})]})]})]})})]}),o.assignedTo&&e.jsxs(Y,{className:"bg-gray-800/50 border-gray-700",children:[e.jsx(ue,{children:e.jsx(fe,{className:"text-white text-lg",children:"Assigned Agent"})}),e.jsxs(ee,{children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(un,{className:"h-12 w-12",children:[e.jsx(En,{src:o.assignedTo.avatar}),e.jsx(hn,{className:"bg-orange-600 text-white",children:o.assignedTo.name.charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-white font-medium",children:o.assignedTo.name}),e.jsx("p",{className:"text-gray-400 text-sm",children:o.assignedTo.department}),e.jsx("p",{className:"text-gray-500 text-xs",children:o.assignedTo.email})]})]}),e.jsx("div",{className:"mt-4 flex gap-2",children:e.jsxs(V,{variant:"outline",size:"sm",className:"flex-1 bg-gray-800 border-gray-600 text-white hover:bg-gray-700",children:[e.jsx(kl,{className:"h-3 w-3 mr-1"}),"Email"]})})]})]}),e.jsxs(Y,{className:"bg-gray-800/50 border-gray-700",children:[e.jsx(ue,{children:e.jsx(fe,{className:"text-white text-lg",children:"Customer"})}),e.jsx(ee,{children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(un,{className:"h-12 w-12",children:[e.jsx(En,{src:o.creator.avatar}),e.jsx(hn,{className:"bg-gray-700 text-white",children:o.creator.name.charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-white font-medium",children:o.creator.name}),e.jsx("p",{className:"text-gray-500 text-xs",children:o.creator.email})]})]})})]}),o.metadata&&Object.keys(o.metadata).length>0&&e.jsxs(Y,{className:"bg-gray-800/50 border-gray-700",children:[e.jsx(ue,{children:e.jsx(fe,{className:"text-white text-lg",children:"Technical Details"})}),e.jsxs(ee,{className:"space-y-3",children:[o.metadata.browser&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Browser:"}),e.jsx("span",{className:"text-white",children:o.metadata.browser})]}),o.metadata.platform&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Platform:"}),e.jsx("span",{className:"text-white",children:o.metadata.platform})]}),o.metadata.currentUrl&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"URL:"}),e.jsx("div",{className:"break-all text-xs text-gray-300 p-2 bg-gray-900 rounded border border-gray-700",children:o.metadata.currentUrl})]})]})]})]})]})]})})}const nt=Symbol.for("drizzle:entityKind");function Rs(t,r){if(!t||typeof t!="object")return!1;if(t instanceof r)return!0;if(!Object.prototype.hasOwnProperty.call(r,nt))throw new Error(`Class "${r.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(t).constructor;if(n)for(;n;){if(nt in n&&n[nt]===r[nt])return!0;n=Object.getPrototypeOf(n)}return!1}class jg{constructor(r,n){this.table=r,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}static[nt]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(r){return r}mapToDriverValue(r){return r}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class v2e{static[nt]="ColumnBuilder";config;constructor(r,n,s){this.config={name:r,keyAsName:r==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:s,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(r){return this.config.default=r,this.config.hasDefault=!0,this}$defaultFn(r){return this.config.defaultFn=r,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(r){return this.config.onUpdateFn=r,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(r){this.config.name===""&&(this.config.name=r)}}const $m=Symbol.for("drizzle:Name");class y2e{static[nt]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(r,n){this.reference=()=>{const{name:s,columns:a,foreignColumns:i}=r();return{name:s,columns:a,foreignTable:i[0].table,foreignColumns:i}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(r){return this._onUpdate=r===void 0?"no action":r,this}onDelete(r){return this._onDelete=r===void 0?"no action":r,this}build(r){return new b2e(r,this)}}class b2e{constructor(r,n){this.table=r,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}static[nt]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:r,columns:n,foreignColumns:s}=this.reference(),a=n.map(l=>l.name),i=s.map(l=>l.name),o=[this.table[$m],...a,s[0].table[$m],...i];return r??`${o.join("_")}_fk`}}function j2e(t,...r){return t(...r)}function sn(t){return new _2e(t)}function ZK(t,r){return`${t[$m]}_${r.join("_")}_unique`}class w2e{constructor(r,n){this.name=n,this.columns=r}static[nt]="PgUniqueConstraintBuilder";columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(r){return new N2e(r,this.columns,this.nullsNotDistinctConfig,this.name)}}class _2e{static[nt]="PgUniqueOnConstraintBuilder";name;constructor(r){this.name=r}on(...r){return new w2e(r,this.name)}}class N2e{constructor(r,n,s,a){this.table=r,this.columns=n,this.name=a??ZK(this.table,this.columns.map(i=>i.name)),this.nullsNotDistinct=s}static[nt]="PgUniqueConstraint";columns;name;nullsNotDistinct=!1;getName(){return this.name}}function _8(t,r,n){for(let s=r;s<t.length;s++){const a=t[s];if(a==="\\"){s++;continue}if(a==='"')return[t.slice(r,s).replace(/\\/g,""),s+1];if(!n&&(a===","||a==="}"))return[t.slice(r,s).replace(/\\/g,""),s]}return[t.slice(r).replace(/\\/g,""),t.length]}function YK(t,r=0){const n=[];let s=r,a=!1;for(;s<t.length;){const i=t[s];if(i===","){(a||s===r)&&n.push(""),a=!0,s++;continue}if(a=!1,i==="\\"){s+=2;continue}if(i==='"'){const[u,m]=_8(t,s+1,!0);n.push(u),s=m;continue}if(i==="}")return[n,s+1];if(i==="{"){const[u,m]=YK(t,s+1);n.push(u),s=m;continue}const[o,l]=_8(t,s,!1);n.push(o),s=l}return[n,s]}function S2e(t){const[r]=YK(t,1);return r}function QK(t){return`{${t.map(r=>Array.isArray(r)?QK(r):typeof r=="string"?`"${r.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${r}`).join(",")}}`}class rn extends v2e{foreignKeyConfigs=[];static[nt]="PgColumnBuilder";array(r){return new k2e(this.config.name,this,r)}references(r,n={}){return this.foreignKeyConfigs.push({ref:r,actions:n}),this}unique(r,n){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=n?.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,n){return this.foreignKeyConfigs.map(({ref:s,actions:a})=>j2e((i,o)=>{const l=new y2e(()=>{const u=i();return{columns:[r],foreignColumns:[u]}});return o.onUpdate&&l.onUpdate(o.onUpdate),o.onDelete&&l.onDelete(o.onDelete),l.build(n)},s,a))}buildExtraConfigColumn(r){return new C2e(r,this.config)}}class Tr extends jg{constructor(r,n){n.uniqueName||(n.uniqueName=ZK(r,[n.name])),super(r,n),this.table=r}static[nt]="PgColumn"}class C2e extends Tr{static[nt]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}class gC{static[nt]="IndexedColumn";constructor(r,n,s,a){this.name=r,this.keyAsName=n,this.type=s,this.indexConfig=a}name;keyAsName;type;indexConfig}class k2e extends rn{static[nt]="PgArrayBuilder";constructor(r,n,s){super(r,"array","PgArray"),this.config.baseBuilder=n,this.config.size=s}build(r){const n=this.config.baseBuilder.build(r);return new _T(r,this.config,n)}}class _T extends Tr{constructor(r,n,s,a){super(r,n),this.baseColumn=s,this.range=a,this.size=n.size}size;static[nt]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=S2e(r)),r.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(r,n=!1){const s=r.map(a=>a===null?null:Rs(this.baseColumn,_T)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return n?s:QK(s)}}const EA=Symbol.for("drizzle:isPgEnum");function A2e(t){return!!t&&typeof t=="function"&&EA in t&&t[EA]===!0}class P2e extends rn{static[nt]="PgEnumColumnBuilder";constructor(r,n){super(r,"string","PgEnumColumn"),this.config.enum=n}build(r){return new T2e(r,this.config)}}class T2e extends Tr{static[nt]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(r,n){super(r,n),this.enum=n.enum}getSQLType(){return this.enum.enumName}}function Se(t,r){return E2e(t,r,void 0)}function E2e(t,r,n){const s=Object.assign(a=>new P2e(a??"",s),{enumName:t,enumValues:r,schema:n,[EA]:!0});return s}class XK{static[nt]="Subquery";constructor(r,n,s,a=!1){this._={brand:"Subquery",sql:r,selectedFields:n,alias:s,isWith:a}}}const O2e={startActiveSpan(t,r){return r()}},zm=Symbol.for("drizzle:ViewBaseConfig"),vC=Symbol.for("drizzle:Schema"),N8=Symbol.for("drizzle:Columns"),S8=Symbol.for("drizzle:ExtraConfigColumns"),yC=Symbol.for("drizzle:OriginalName"),bC=Symbol.for("drizzle:BaseName"),Eb=Symbol.for("drizzle:IsAlias"),C8=Symbol.for("drizzle:ExtraConfigBuilder"),JK=Symbol.for("drizzle:IsDrizzleTable");class Li{static[nt]="Table";static Symbol={Name:$m,Schema:vC,OriginalName:yC,Columns:N8,ExtraConfigColumns:S8,BaseName:bC,IsAlias:Eb,ExtraConfigBuilder:C8};[$m];[yC];[vC];[N8];[S8];[bC];[Eb]=!1;[JK]=!0;[C8]=void 0;constructor(r,n,s){this[$m]=this[yC]=r,this[vC]=n,this[bC]=s}}function eW(t){return typeof t=="object"&&t!==null&&JK in t}function I2e(t){return t!=null&&typeof t.getSQL=="function"}function M2e(t){const r={sql:"",params:[]};for(const n of t)r.sql+=n.sql,r.params.push(...n.params),n.typings?.length&&(r.typings||(r.typings=[]),r.typings.push(...n.typings));return r}class Eo{static[nt]="StringChunk";value;constructor(r){this.value=Array.isArray(r)?r:[r]}getSQL(){return new Xn([this])}}class Xn{constructor(r){this.queryChunks=r}static[nt]="SQL";decoder=tW;shouldInlineParams=!1;append(r){return this.queryChunks.push(...r.queryChunks),this}toQuery(r){return O2e.startActiveSpan("drizzle.buildSQL",n=>{const s=this.buildQueryFromSourceParams(this.queryChunks,r);return n?.setAttributes({"drizzle.query.text":s.sql,"drizzle.query.params":JSON.stringify(s.params)}),s})}buildQueryFromSourceParams(r,n){const s=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:a,escapeName:i,escapeParam:o,prepareTyping:l,inlineParams:u,paramStartIndex:m}=s;return M2e(r.map(f=>{if(Rs(f,Eo))return{sql:f.value.join(""),params:[]};if(Rs(f,OA))return{sql:i(f.value),params:[]};if(f===void 0)return{sql:"",params:[]};if(Array.isArray(f)){const p=[new Eo("(")];for(const[g,b]of f.entries())p.push(b),g<f.length-1&&p.push(new Eo(", "));return p.push(new Eo(")")),this.buildQueryFromSourceParams(p,s)}if(Rs(f,Xn))return this.buildQueryFromSourceParams(f.queryChunks,{...s,inlineParams:u||f.shouldInlineParams});if(Rs(f,Li)){const p=f[Li.Symbol.Schema],g=f[Li.Symbol.Name];return{sql:p===void 0||f[Eb]?i(g):i(p)+"."+i(g),params:[]}}if(Rs(f,jg)){const p=a.getColumnCasing(f);if(n.invokeSource==="indexes")return{sql:i(p),params:[]};const g=f.table[Li.Symbol.Schema];return{sql:f.table[Eb]||g===void 0?i(f.table[Li.Symbol.Name])+"."+i(p):i(g)+"."+i(f.table[Li.Symbol.Name])+"."+i(p),params:[]}}if(Rs(f,D2e)){const p=f[zm].schema,g=f[zm].name;return{sql:p===void 0||f[zm].isAlias?i(g):i(p)+"."+i(g),params:[]}}if(Rs(f,nW)){if(Rs(f.value,IA))return{sql:o(m.value++,f),params:[f],typings:["none"]};const p=f.value===null?null:f.encoder.mapToDriverValue(f.value);if(Rs(p,Xn))return this.buildQueryFromSourceParams([p],s);if(u)return{sql:this.mapInlineParam(p,s),params:[]};let g=["none"];return l&&(g=[l(f.encoder)]),{sql:o(m.value++,p),params:[p],typings:g}}return Rs(f,IA)?{sql:o(m.value++,f),params:[f],typings:["none"]}:Rs(f,Xn.Aliased)&&f.fieldAlias!==void 0?{sql:i(f.fieldAlias),params:[]}:Rs(f,XK)?f._.isWith?{sql:i(f._.alias),params:[]}:this.buildQueryFromSourceParams([new Eo("("),f._.sql,new Eo(") "),new OA(f._.alias)],s):A2e(f)?f.schema?{sql:i(f.schema)+"."+i(f.enumName),params:[]}:{sql:i(f.enumName),params:[]}:I2e(f)?f.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([f.getSQL()],s):this.buildQueryFromSourceParams([new Eo("("),f.getSQL(),new Eo(")")],s):u?{sql:this.mapInlineParam(f,s),params:[]}:{sql:o(m.value++,f),params:[f],typings:["none"]}}))}mapInlineParam(r,{escapeString:n}){if(r===null)return"null";if(typeof r=="number"||typeof r=="boolean")return r.toString();if(typeof r=="string")return n(r);if(typeof r=="object"){const s=r.toString();return n(s==="[object Object]"?JSON.stringify(r):s)}throw new Error("Unexpected param value: "+r)}getSQL(){return this}as(r){return r===void 0?this:new Xn.Aliased(this,r)}mapWith(r){return this.decoder=typeof r=="function"?{mapFromDriverValue:r}:r,this}inlineParams(){return this.shouldInlineParams=!0,this}if(r){return r?this:void 0}}class OA{constructor(r){this.value=r}static[nt]="Name";brand;getSQL(){return new Xn([this])}}const tW={mapFromDriverValue:t=>t},rW={mapToDriverValue:t=>t};({...tW,...rW});class nW{constructor(r,n=rW){this.value=r,this.encoder=n}static[nt]="Param";brand;getSQL(){return new Xn([this])}}function ye(t,...r){const n=[];(r.length>0||t.length>0&&t[0]!=="")&&n.push(new Eo(t[0]));for(const[s,a]of r.entries())n.push(a,new Eo(t[s+1]));return new Xn(n)}(t=>{function r(){return new Xn([])}t.empty=r;function n(u){return new Xn(u)}t.fromList=n;function s(u){return new Xn([new Eo(u)])}t.raw=s;function a(u,m){const f=[];for(const[p,g]of u.entries())p>0&&m!==void 0&&f.push(m),f.push(g);return new Xn(f)}t.join=a;function i(u){return new OA(u)}t.identifier=i;function o(u){return new IA(u)}t.placeholder=o;function l(u,m){return new nW(u,m)}t.param=l})(ye||(ye={}));(t=>{class r{constructor(s,a){this.sql=s,this.fieldAlias=a}static[nt]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}}t.Aliased=r})(Xn||(Xn={}));class IA{constructor(r){this.name=r}static[nt]="Placeholder";getSQL(){return new Xn([this])}}const sW=Symbol.for("drizzle:IsDrizzleView");class D2e{static[nt]="View";[zm];[sW]=!0;constructor({name:r,schema:n,selectedFields:s,query:a}){this[zm]={name:r,originalName:r,schema:n,selectedFields:s,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new Xn([this])}}function R2e(t){return typeof t=="object"&&t!==null&&sW in t}jg.prototype.getSQL=function(){return new Xn([this])};Li.prototype.getSQL=function(){return new Xn([this])};XK.prototype.getSQL=function(){return new Xn([this])};function L2e(t){return t[Li.Symbol.Columns]}function F2e(t){return t[zm].selectedFields}function da(t,r){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:r}}class ew extends rn{static[nt]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(r){if(r){const{name:n,...s}=r;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:s}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(r){if(r){const{name:n,...s}=r;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:s}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class $2e extends ew{static[nt]="PgBigInt53Builder";constructor(r){super(r,"number","PgBigInt53")}build(r){return new z2e(r,this.config)}}class z2e extends Tr{static[nt]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(r){return typeof r=="number"?r:Number(r)}}class B2e extends ew{static[nt]="PgBigInt64Builder";constructor(r){super(r,"bigint","PgBigInt64")}build(r){return new q2e(r,this.config)}}class q2e extends Tr{static[nt]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(r){return BigInt(r)}}function tr(t,r){const{name:n,config:s}=da(t,r);return s.mode==="number"?new $2e(n):new B2e(n)}class U2e extends rn{static[nt]="PgBigSerial53Builder";constructor(r){super(r,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(r){return new V2e(r,this.config)}}class V2e extends Tr{static[nt]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(r){return typeof r=="number"?r:Number(r)}}class K2e extends rn{static[nt]="PgBigSerial64Builder";constructor(r){super(r,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(r){return new W2e(r,this.config)}}class W2e extends Tr{static[nt]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(r){return BigInt(r)}}function NT(t,r){const{name:n,config:s}=da(t,r);return s.mode==="number"?new U2e(n):new K2e(n)}class H2e extends rn{static[nt]="PgBooleanBuilder";constructor(r){super(r,"boolean","PgBoolean")}build(r){return new G2e(r,this.config)}}class G2e extends Tr{static[nt]="PgBoolean";getSQLType(){return"boolean"}}function Ee(t){return new H2e(t??"")}class Z2e extends rn{static[nt]="PgCharBuilder";constructor(r,n){super(r,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(r){return new Y2e(r,this.config)}}class Y2e extends Tr{static[nt]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function Q2e(t,r={}){const{name:n,config:s}=da(t,r);return new Z2e(n,s)}class X2e extends rn{static[nt]="PgCidrBuilder";constructor(r){super(r,"string","PgCidr")}build(r){return new J2e(r,this.config)}}class J2e extends Tr{static[nt]="PgCidr";getSQLType(){return"cidr"}}function eCe(t){return new X2e(t??"")}class tCe extends rn{static[nt]="PgCustomColumnBuilder";constructor(r,n,s){super(r,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=s}build(r){return new rCe(r,this.config)}}class rCe extends Tr{static[nt]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(r,n){super(r,n),this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}function nCe(t){return(r,n)=>{const{name:s,config:a}=da(r,n);return new tCe(s,a,t)}}class Xg extends rn{static[nt]="PgDateColumnBaseBuilder";defaultNow(){return this.default(ye`now()`)}}class sCe extends Xg{static[nt]="PgDateBuilder";constructor(r){super(r,"date","PgDate")}build(r){return new aCe(r,this.config)}}class aCe extends Tr{static[nt]="PgDate";getSQLType(){return"date"}mapFromDriverValue(r){return new Date(r)}mapToDriverValue(r){return r.toISOString()}}class iCe extends Xg{static[nt]="PgDateStringBuilder";constructor(r){super(r,"string","PgDateString")}build(r){return new oCe(r,this.config)}}class oCe extends Tr{static[nt]="PgDateString";getSQLType(){return"date"}}function lCe(t,r){const{name:n,config:s}=da(t,r);return s?.mode==="date"?new sCe(n):new iCe(n)}class cCe extends rn{static[nt]="PgDoublePrecisionBuilder";constructor(r){super(r,"number","PgDoublePrecision")}build(r){return new dCe(r,this.config)}}class dCe extends Tr{static[nt]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(r){return typeof r=="string"?Number.parseFloat(r):r}}function uCe(t){return new cCe(t??"")}class hCe extends rn{static[nt]="PgInetBuilder";constructor(r){super(r,"string","PgInet")}build(r){return new mCe(r,this.config)}}class mCe extends Tr{static[nt]="PgInet";getSQLType(){return"inet"}}function Uf(t){return new hCe(t??"")}class fCe extends ew{static[nt]="PgIntegerBuilder";constructor(r){super(r,"number","PgInteger")}build(r){return new pCe(r,this.config)}}class pCe extends Tr{static[nt]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(r){return typeof r=="string"?Number.parseInt(r):r}}function ie(t){return new fCe(t??"")}class xCe extends rn{static[nt]="PgIntervalBuilder";constructor(r,n){super(r,"string","PgInterval"),this.config.intervalConfig=n}build(r){return new gCe(r,this.config)}}class gCe extends Tr{static[nt]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const r=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${r}${n}`}}function vCe(t,r={}){const{name:n,config:s}=da(t,r);return new xCe(n,s)}class yCe extends rn{static[nt]="PgJsonBuilder";constructor(r){super(r,"json","PgJson")}build(r){return new bCe(r,this.config)}}class bCe extends Tr{static[nt]="PgJson";constructor(r,n){super(r,n)}getSQLType(){return"json"}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r}}function jCe(t){return new yCe(t??"")}class wCe extends rn{static[nt]="PgJsonbBuilder";constructor(r){super(r,"json","PgJsonb")}build(r){return new _Ce(r,this.config)}}class _Ce extends Tr{static[nt]="PgJsonb";constructor(r,n){super(r,n)}getSQLType(){return"jsonb"}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r}}function pe(t){return new wCe(t??"")}class NCe extends rn{static[nt]="PgLineBuilder";constructor(r){super(r,"array","PgLine")}build(r){return new SCe(r,this.config)}}class SCe extends Tr{static[nt]="PgLine";getSQLType(){return"line"}mapFromDriverValue(r){const[n,s,a]=r.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(s),Number.parseFloat(a)]}mapToDriverValue(r){return`{${r[0]},${r[1]},${r[2]}}`}}class CCe extends rn{static[nt]="PgLineABCBuilder";constructor(r){super(r,"json","PgLineABC")}build(r){return new kCe(r,this.config)}}class kCe extends Tr{static[nt]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(r){const[n,s,a]=r.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(s),c:Number.parseFloat(a)}}mapToDriverValue(r){return`{${r.a},${r.b},${r.c}}`}}function ACe(t,r){const{name:n,config:s}=da(t,r);return!s?.mode||s.mode==="tuple"?new NCe(n):new CCe(n)}class PCe extends rn{static[nt]="PgMacaddrBuilder";constructor(r){super(r,"string","PgMacaddr")}build(r){return new TCe(r,this.config)}}class TCe extends Tr{static[nt]="PgMacaddr";getSQLType(){return"macaddr"}}function ECe(t){return new PCe(t??"")}class OCe extends rn{static[nt]="PgMacaddr8Builder";constructor(r){super(r,"string","PgMacaddr8")}build(r){return new ICe(r,this.config)}}class ICe extends Tr{static[nt]="PgMacaddr8";getSQLType(){return"macaddr8"}}function MCe(t){return new OCe(t??"")}class DCe extends rn{static[nt]="PgNumericBuilder";constructor(r,n,s){super(r,"string","PgNumeric"),this.config.precision=n,this.config.scale=s}build(r){return new RCe(r,this.config)}}class RCe extends Tr{static[nt]="PgNumeric";precision;scale;constructor(r,n){super(r,n),this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function aW(t,r){const{name:n,config:s}=da(t,r);return new DCe(n,s?.precision,s?.scale)}const Ye=aW;class LCe extends rn{static[nt]="PgPointTupleBuilder";constructor(r){super(r,"array","PgPointTuple")}build(r){return new FCe(r,this.config)}}class FCe extends Tr{static[nt]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(r){if(typeof r=="string"){const[n,s]=r.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(s)]}return[r.x,r.y]}mapToDriverValue(r){return`(${r[0]},${r[1]})`}}class $Ce extends rn{static[nt]="PgPointObjectBuilder";constructor(r){super(r,"json","PgPointObject")}build(r){return new zCe(r,this.config)}}class zCe extends Tr{static[nt]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(r){if(typeof r=="string"){const[n,s]=r.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(s)}}return r}mapToDriverValue(r){return`(${r.x},${r.y})`}}function BCe(t,r){const{name:n,config:s}=da(t,r);return!s?.mode||s.mode==="tuple"?new LCe(n):new $Ce(n)}function qCe(t){const r=[];for(let n=0;n<t.length;n+=2)r.push(Number.parseInt(t.slice(n,n+2),16));return new Uint8Array(r)}function k8(t,r){const n=new ArrayBuffer(8),s=new DataView(n);for(let a=0;a<8;a++)s.setUint8(a,t[r+a]);return s.getFloat64(0,!0)}function iW(t){const r=qCe(t);let n=0;const s=r[n];n+=1;const a=new DataView(r.buffer),i=a.getUint32(n,s===1);if(n+=4,i&536870912&&(a.getUint32(n,s===1),n+=4),(i&65535)===1){const o=k8(r,n);n+=8;const l=k8(r,n);return n+=8,[o,l]}throw new Error("Unsupported geometry type")}class UCe extends rn{static[nt]="PgGeometryBuilder";constructor(r){super(r,"array","PgGeometry")}build(r){return new VCe(r,this.config)}}class VCe extends Tr{static[nt]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(r){return iW(r)}mapToDriverValue(r){return`point(${r[0]} ${r[1]})`}}class KCe extends rn{static[nt]="PgGeometryObjectBuilder";constructor(r){super(r,"json","PgGeometryObject")}build(r){return new WCe(r,this.config)}}class WCe extends Tr{static[nt]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(r){const n=iW(r);return{x:n[0],y:n[1]}}mapToDriverValue(r){return`point(${r.x} ${r.y})`}}function HCe(t,r){const{name:n,config:s}=da(t,r);return!s?.mode||s.mode==="tuple"?new UCe(n):new KCe(n)}class GCe extends rn{static[nt]="PgRealBuilder";constructor(r,n){super(r,"number","PgReal"),this.config.length=n}build(r){return new ZCe(r,this.config)}}class ZCe extends Tr{static[nt]="PgReal";constructor(r,n){super(r,n)}getSQLType(){return"real"}mapFromDriverValue=r=>typeof r=="string"?Number.parseFloat(r):r}function YCe(t){return new GCe(t??"")}class QCe extends rn{static[nt]="PgSerialBuilder";constructor(r){super(r,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(r){return new XCe(r,this.config)}}class XCe extends Tr{static[nt]="PgSerial";getSQLType(){return"serial"}}function JCe(t){return new QCe(t??"")}class eke extends ew{static[nt]="PgSmallIntBuilder";constructor(r){super(r,"number","PgSmallInt")}build(r){return new tke(r,this.config)}}class tke extends Tr{static[nt]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=r=>typeof r=="string"?Number(r):r}function rke(t){return new eke(t??"")}class nke extends rn{static[nt]="PgSmallSerialBuilder";constructor(r){super(r,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(r){return new ske(r,this.config)}}class ske extends Tr{static[nt]="PgSmallSerial";getSQLType(){return"smallserial"}}function ake(t){return new nke(t??"")}class ike extends rn{static[nt]="PgTextBuilder";constructor(r,n){super(r,"string","PgText"),this.config.enumValues=n.enum}build(r){return new oke(r,this.config)}}class oke extends Tr{static[nt]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function ge(t,r={}){const{name:n,config:s}=da(t,r);return new ike(n,s)}class lke extends Xg{constructor(r,n,s){super(r,"string","PgTime"),this.withTimezone=n,this.precision=s,this.config.withTimezone=n,this.config.precision=s}static[nt]="PgTimeBuilder";build(r){return new cke(r,this.config)}}class cke extends Tr{static[nt]="PgTime";withTimezone;precision;constructor(r,n){super(r,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function dke(t,r={}){const{name:n,config:s}=da(t,r);return new lke(n,s.withTimezone??!1,s.precision)}class uke extends Xg{static[nt]="PgTimestampBuilder";constructor(r,n,s){super(r,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=s}build(r){return new hke(r,this.config)}}class hke extends Tr{static[nt]="PgTimestamp";withTimezone;precision;constructor(r,n){super(r,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=r=>new Date(this.withTimezone?r:r+"+0000");mapToDriverValue=r=>r.toISOString()}class mke extends Xg{static[nt]="PgTimestampStringBuilder";constructor(r,n,s){super(r,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=s}build(r){return new fke(r,this.config)}}class fke extends Tr{static[nt]="PgTimestampString";withTimezone;precision;constructor(r,n){super(r,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function R(t,r={}){const{name:n,config:s}=da(t,r);return s?.mode==="string"?new mke(n,s.withTimezone??!1,s.precision):new uke(n,s?.withTimezone??!1,s?.precision)}class pke extends rn{static[nt]="PgUUIDBuilder";constructor(r){super(r,"string","PgUUID")}defaultRandom(){return this.default(ye`gen_random_uuid()`)}build(r){return new xke(r,this.config)}}class xke extends Tr{static[nt]="PgUUID";getSQLType(){return"uuid"}}function gke(t){return new pke(t??"")}class vke extends rn{static[nt]="PgVarcharBuilder";constructor(r,n){super(r,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(r){return new yke(r,this.config)}}class yke extends Tr{static[nt]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function N(t,r={}){const{name:n,config:s}=da(t,r);return new vke(n,s)}class bke extends rn{static[nt]="PgBinaryVectorBuilder";constructor(r,n){super(r,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(r){return new jke(r,this.config)}}class jke extends Tr{static[nt]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function wke(t,r){const{name:n,config:s}=da(t,r);return new bke(n,s)}class _ke extends rn{static[nt]="PgHalfVectorBuilder";constructor(r,n){super(r,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(r){return new Nke(r,this.config)}}class Nke extends Tr{static[nt]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}function Ske(t,r){const{name:n,config:s}=da(t,r);return new _ke(n,s)}class Cke extends rn{static[nt]="PgSparseVectorBuilder";constructor(r,n){super(r,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(r){return new kke(r,this.config)}}class kke extends Tr{static[nt]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function Ake(t,r){const{name:n,config:s}=da(t,r);return new Cke(n,s)}class Pke extends rn{static[nt]="PgVectorBuilder";constructor(r,n){super(r,"array","PgVector"),this.config.dimensions=n.dimensions}build(r){return new Tke(r,this.config)}}class Tke extends Tr{static[nt]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}function Eke(t,r){const{name:n,config:s}=da(t,r);return new Pke(n,s)}function Oke(){return{bigint:tr,bigserial:NT,boolean:Ee,char:Q2e,cidr:eCe,customType:nCe,date:lCe,doublePrecision:uCe,inet:Uf,integer:ie,interval:vCe,json:jCe,jsonb:pe,line:ACe,macaddr:ECe,macaddr8:MCe,numeric:aW,point:BCe,geometry:HCe,real:YCe,serial:JCe,smallint:rke,smallserial:ake,text:ge,time:dke,timestamp:R,uuid:gke,varchar:N,bit:wke,halfvec:Ske,sparsevec:Ake,vector:Eke}}const MA=Symbol.for("drizzle:PgInlineForeignKeys"),A8=Symbol.for("drizzle:EnableRLS");class jC extends Li{static[nt]="PgTable";static Symbol=Object.assign({},Li.Symbol,{InlineForeignKeys:MA,EnableRLS:A8});[MA]=[];[A8]=!1;[Li.Symbol.ExtraConfigBuilder]=void 0}function Ike(t,r,n,s,a=t){const i=new jC(t,s,a),o=typeof r=="function"?r(Oke()):r,l=Object.fromEntries(Object.entries(o).map(([f,p])=>{const g=p;g.setName(f);const b=g.build(i);return i[MA].push(...g.buildForeignKeys(b,i)),[f,b]})),u=Object.fromEntries(Object.entries(o).map(([f,p])=>{const g=p;g.setName(f);const b=g.buildExtraConfigColumn(i);return[f,b]})),m=Object.assign(i,l);return m[Li.Symbol.Columns]=l,m[Li.Symbol.ExtraConfigColumns]=u,n&&(m[jC.Symbol.ExtraConfigBuilder]=n),Object.assign(m,{enableRLS:()=>(m[jC.Symbol.EnableRLS]=!0,m)})}const be=(t,r,n)=>Ike(t,r,n,void 0);class Mke{constructor(r,n){this.name=r,this.value=n}static[nt]="PgCheckBuilder";brand;build(r){return new Dke(r,this)}}class Dke{constructor(r,n){this.table=r,this.name=n.name,this.value=n.value}static[nt]="PgCheck";name;value}function Rke(t,r){return new Mke(t,r)}class Lke{constructor(r,n){this.unique=r,this.name=n}static[nt]="PgIndexBuilderOn";on(...r){return new wC(r.map(n=>{if(Rs(n,Xn))return n;n=n;const s=new gC(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),s}),this.unique,!1,this.name)}onOnly(...r){return new wC(r.map(n=>{if(Rs(n,Xn))return n;n=n;const s=new gC(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=n.defaultConfig,s}),this.unique,!0,this.name)}using(r,...n){return new wC(n.map(s=>{if(Rs(s,Xn))return s;s=s;const a=new gC(s.name,!!s.keyAsName,s.columnType,s.indexConfig);return s.indexConfig=JSON.parse(JSON.stringify(s.defaultConfig)),a}),this.unique,!0,this.name,r)}}class wC{static[nt]="PgIndexBuilder";config;constructor(r,n,s,a,i="btree"){this.config={name:a,columns:r,unique:n,only:s,method:i}}concurrently(){return this.config.concurrently=!0,this}with(r){return this.config.with=r,this}where(r){return this.config.where=r,this}build(r){return new Fke(this.config,r)}}class Fke{static[nt]="PgIndex";config;constructor(r,n){this.config={...r,table:n}}}function q(t){return new Lke(!1,t)}const ds={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Ss(t,r){return r.includes(t.columnType)}function $ke(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const zke=gT([mt(),tn(),xi(),gK()]),Bke=gT([zke,vT(Ab()),Oc(Ab())]),qke=xT(t=>t instanceof Buffer);function oW(t,r){const n=r?.zodInstance??w1e,s=r?.coerce??{};let a;return $ke(t)&&(a=t.enumValues.length?n.enum(t.enumValues):n.string()),a||(Ss(t,["PgGeometry","PgPointTuple"])?a=n.tuple([n.number(),n.number()]):Ss(t,["PgGeometryObject","PgPointObject"])?a=n.object({x:n.number(),y:n.number()}):Ss(t,["PgHalfVector","PgVector"])?(a=n.array(n.number()),a=t.dimensions?a.length(t.dimensions):a):Ss(t,["PgLine"])?a=n.tuple([n.number(),n.number(),n.number()]):Ss(t,["PgLineABC"])?a=n.object({a:n.number(),b:n.number(),c:n.number()}):Ss(t,["PgArray"])?(a=n.array(oW(t.baseColumn,n)),a=t.size?a.length(t.size):a):t.dataType==="array"?a=n.array(n.any()):t.dataType==="number"?a=Uke(t,n,s):t.dataType==="bigint"?a=Vke(t,n,s):t.dataType==="boolean"?a=s===!0||s.boolean?n.coerce.boolean():n.boolean():t.dataType==="date"?a=s===!0||s.date?n.coerce.date():n.date():t.dataType==="string"?a=Kke(t,n,s):t.dataType==="json"?a=Bke:t.dataType==="custom"?a=n.any():t.dataType==="buffer"&&(a=qke)),a||(a=n.any()),a}function Uke(t,r,n){let s=t.getSQLType().includes("unsigned"),a,i,o=!1;Ss(t,["MySqlTinyInt","SingleStoreTinyInt"])?(a=s?0:ds.INT8_MIN,i=s?ds.INT8_UNSIGNED_MAX:ds.INT8_MAX,o=!0):Ss(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(a=s?0:ds.INT16_MIN,i=s?ds.INT16_UNSIGNED_MAX:ds.INT16_MAX,o=!0):Ss(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(a=s?0:ds.INT24_MIN,i=s?ds.INT24_UNSIGNED_MAX:ds.INT24_MAX,o=Ss(t,["MySqlMediumInt","SingleStoreMediumInt"])):Ss(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(a=s?0:ds.INT32_MIN,i=s?ds.INT32_UNSIGNED_MAX:ds.INT32_MAX,o=!0):Ss(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(a=s?0:ds.INT48_MIN,i=s?ds.INT48_UNSIGNED_MAX:ds.INT48_MAX):Ss(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(s=s||Ss(t,["MySqlSerial","SingleStoreSerial"]),a=s?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):Ss(t,["MySqlYear","SingleStoreYear"])?(a=1901,i=2155,o=!0):(a=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let l=n===!0||n?.number?r.coerce.number():r.number();return l=l.min(a).max(i),o?l.int():l}function Vke(t,r,n){const s=t.getSQLType().includes("unsigned"),a=s?0n:ds.INT64_MIN,i=s?ds.INT64_UNSIGNED_MAX:ds.INT64_MAX;return(n===!0||n?.bigint?r.coerce.bigint():r.bigint()).min(a).max(i)}function Kke(t,r,n){if(Ss(t,["PgUUID"]))return r.string().uuid();let s,a,i=!1;Ss(t,["PgVarchar","SQLiteText"])?s=t.length:Ss(t,["MySqlVarChar","SingleStoreVarChar"])?s=t.length??ds.INT16_UNSIGNED_MAX:Ss(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?s=ds.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?s=ds.INT24_UNSIGNED_MAX:t.textType==="text"?s=ds.INT16_UNSIGNED_MAX:s=ds.INT8_UNSIGNED_MAX),Ss(t,["PgChar","MySqlChar","SingleStoreChar"])&&(s=t.length,i=!0),Ss(t,["PgBinaryVector"])&&(a=/^[01]+$/,s=t.dimensions);let o=n===!0||n?.string?r.coerce.string():r.string();return o=a?o.regex(a):o,s&&i?o.length(s):s?o.max(s):o}function lW(t){return eW(t)?L2e(t):F2e(t)}function cW(t,r,n,s){const a={};for(const[i,o]of Object.entries(t)){if(!Rs(o,jg)&&!Rs(o,Xn)&&!Rs(o,Xn.Aliased)&&typeof o=="object"){const p=eW(o)||R2e(o)?lW(o):o;a[i]=cW(p,r[i]??{},n,s);continue}const l=r[i];if(l!==void 0&&typeof l!="function"){a[i]=l;continue}const u=Rs(o,jg)?o:void 0,m=u?oW(u,s):Ab(),f=typeof l=="function"?l(m):m;n.never(u)||(a[i]=f,u&&(n.nullable(u)&&(a[i]=a[i].nullable()),n.optional(u)&&(a[i]=a[i].optional())))}return Xr(a)}const Wke={never:t=>t?.generated?.type==="always"||t?.generatedIdentity?.type==="always",optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},Me=(t,r)=>{const n=lW(t);return cW(n,{},Wke)},dW=Se("device_type",["web","ios","android","desktop"]),uW=Se("platform",["chrome","firefox","safari","edge","samsung","other"]),hW=Se("sync_status",["pending","syncing","completed","failed","cancelled"]),Hke=Se("installation_source",["manual","prompt","banner","shortcut"]),mW=be("pwa_device_subscriptions",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),deviceId:N("device_id").notNull(),deviceType:dW("device_type").notNull(),platform:uW("platform").notNull(),userAgent:ge("user_agent"),pushSubscription:pe("push_subscription"),pushEndpoint:ge("push_endpoint"),pushAuth:ge("push_auth"),pushP256dh:ge("push_p256dh"),deviceName:N("device_name"),osVersion:N("os_version"),appVersion:N("app_version"),screenResolution:N("screen_resolution"),timezone:N("timezone"),language:N("language"),notificationsEnabled:Ee("notifications_enabled").default(!0),badgeEnabled:Ee("badge_enabled").default(!0),soundEnabled:Ee("sound_enabled").default(!0),vibrationEnabled:Ee("vibration_enabled").default(!0),isActive:Ee("is_active").default(!0),lastUsed:R("last_used").defaultNow(),subscriptionExpiry:R("subscription_expiry"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[sn().on(t.userId,t.deviceId),q("idx_pwa_devices_user").on(t.userId),q("idx_pwa_devices_active").on(t.isActive),q("idx_pwa_devices_endpoint").on(t.pushEndpoint)]),Gke=be("pwa_push_notification_queue",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),deviceSubscriptionId:N("device_subscription_id").references(()=>mW.id,{onDelete:"cascade"}),title:N("title").notNull(),body:ge("body").notNull(),icon:N("icon"),badge:N("badge"),image:N("image"),tag:N("tag"),requireInteraction:Ee("require_interaction").default(!1),silent:Ee("silent").default(!1),vibrate:ge("vibrate").array(),actions:pe("actions").default([]),data:pe("data").default({}),clickAction:N("click_action"),deepLink:N("deep_link"),scheduledFor:R("scheduled_for"),retryCount:ie("retry_count").default(0),maxRetries:ie("max_retries").default(3),status:hW("status").default("pending"),sentAt:R("sent_at"),deliveredAt:R("delivered_at"),clickedAt:R("clicked_at"),errorMessage:ge("error_message"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_pwa_push_queue_user").on(t.userId),q("idx_pwa_push_queue_device").on(t.deviceSubscriptionId),q("idx_pwa_push_queue_status").on(t.status),q("idx_pwa_push_queue_scheduled").on(t.scheduledFor)]),Zke=be("pwa_offline_sync_queue",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),deviceId:N("device_id").notNull(),actionType:N("action_type").notNull(),endpoint:N("endpoint").notNull(),method:N("method").notNull(),payload:pe("payload").notNull(),headers:pe("headers").default({}),clientTimestamp:R("client_timestamp").notNull(),priority:ie("priority").default(5),retryCount:ie("retry_count").default(0),maxRetries:ie("max_retries").default(5),nextRetryAt:R("next_retry_at"),status:hW("status").default("pending"),syncedAt:R("synced_at"),errorMessage:ge("error_message"),responseData:pe("response_data"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_pwa_sync_queue_user").on(t.userId),q("idx_pwa_sync_queue_device").on(t.deviceId),q("idx_pwa_sync_queue_status").on(t.status),q("idx_pwa_sync_queue_priority").on(t.priority),q("idx_pwa_sync_queue_retry").on(t.nextRetryAt)]),Yke=be("pwa_installation_analytics",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").references(()=>Re.id,{onDelete:"set null"}),installationSource:Hke("installation_source").notNull(),deviceType:dW("device_type").notNull(),platform:uW("platform").notNull(),userAgent:ge("user_agent"),screenWidth:ie("screen_width"),screenHeight:ie("screen_height"),devicePixelRatio:ie("device_pixel_ratio"),timezone:N("timezone"),language:N("language"),referrer:ge("referrer"),landingPage:N("landing_page"),sessionDuration:ie("session_duration"),pageViews:ie("page_views"),promptShown:Ee("prompt_shown").default(!1),promptAccepted:Ee("prompt_accepted").default(!1),promptDismissed:Ee("prompt_dismissed").default(!1),timeToInstall:ie("time_to_install"),ipAddress:N("ip_address"),country:N("country"),city:N("city"),installedAt:R("installed_at").defaultNow()},t=>[q("idx_pwa_install_user").on(t.userId),q("idx_pwa_install_source").on(t.installationSource),q("idx_pwa_install_platform").on(t.platform),q("idx_pwa_install_date").on(t.installedAt)]),Qke=be("pwa_usage_analytics",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").references(()=>Re.id,{onDelete:"set null"}),deviceId:N("device_id").notNull(),sessionId:N("session_id").notNull(),sessionStart:R("session_start").notNull(),sessionEnd:R("session_end"),sessionDuration:ie("session_duration"),pageViews:ie("page_views").default(0),featuresUsed:ge("features_used").array().default([]),offlineTime:ie("offline_time").default(0),loadTime:ie("load_time"),timeToInteractive:ie("time_to_interactive"),cacheHitRate:ie("cache_hit_rate"),connectionType:N("connection_type"),onlineStatus:Ee("online_status").default(!0),pushNotificationsReceived:ie("push_notifications_received").default(0),pushNotificationsClicked:ie("push_notifications_clicked").default(0),backgroundSyncs:ie("background_syncs").default(0),createdAt:R("created_at").defaultNow()},t=>[q("idx_pwa_usage_user").on(t.userId),q("idx_pwa_usage_device").on(t.deviceId),q("idx_pwa_usage_session").on(t.sessionId),q("idx_pwa_usage_date").on(t.createdAt)]),Xke=be("pwa_feature_flags",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),name:N("name").notNull().unique(),description:ge("description"),isEnabled:Ee("is_enabled").default(!1),targetPlatforms:ge("target_platforms").array().default([]),targetDeviceTypes:ge("target_device_types").array().default([]),targetUserIds:ge("target_user_ids").array().default([]),config:pe("config").default({}),rolloutPercentage:ie("rollout_percentage").default(0),createdBy:N("created_by").references(()=>Re.id),validFrom:R("valid_from").defaultNow(),validUntil:R("valid_until"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_pwa_flags_enabled").on(t.isEnabled),q("idx_pwa_flags_rollout").on(t.rolloutPercentage)]);Me(mW).omit({id:!0,createdAt:!0,updatedAt:!0});Me(Gke).omit({id:!0,createdAt:!0,updatedAt:!0});Me(Zke).omit({id:!0,createdAt:!0,updatedAt:!0});Me(Yke).omit({id:!0,installedAt:!0});Me(Qke).omit({id:!0,createdAt:!0});Me(Xke).omit({id:!0,createdAt:!0,updatedAt:!0});const Jke=Se("tenant_status",["active","inactive","maintenance"]),bi=be("tenants",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),slug:N("slug").unique().notNull(),name:N("name").notNull(),domain:N("domain"),status:Jke("status").default("active").notNull(),settings:pe("settings").default({}),branding:pe("branding").default({}),features:pe("features").default({}),compliance:pe("compliance").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()}),eAe=Se("account_status",["active","disabled","pending","suspended"]),Rr=be("accounts",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),email:N("email").unique().notNull(),phone:N("phone"),passwordHash:N("password_hash"),status:eAe("status").default("active").notNull(),emailVerified:Ee("email_verified").default(!1),phoneVerified:Ee("phone_verified").default(!1),lastLoginAt:R("last_login_at"),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_accounts_email").on(t.email),q("idx_accounts_status").on(t.status)]);be("account_identity",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),accountId:N("account_id").notNull().references(()=>Rr.id,{onDelete:"cascade"}),provider:N("provider").notNull(),subject:N("subject").notNull(),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[sn().on(t.provider,t.subject),q("idx_account_identity_account").on(t.accountId)]);const tAe=Se("role_scope",["global","tenant"]),rAe=be("roles",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),name:N("name").notNull(),scope:tAe("scope").default("tenant").notNull(),permissions:ge("permissions").array().default([]),description:ge("description"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[sn().on(t.name,t.scope)]);be("account_role",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),accountId:N("account_id").notNull().references(()=>Rr.id,{onDelete:"cascade"}),roleId:N("role_id").notNull().references(()=>rAe.id,{onDelete:"cascade"}),tenantId:N("tenant_id").references(()=>bi.id,{onDelete:"cascade"}),grantedBy:N("granted_by").references(()=>Rr.id),expiresAt:R("expires_at"),createdAt:R("created_at").defaultNow()},t=>[sn().on(t.accountId,t.roleId,t.tenantId),q("idx_account_role_account").on(t.accountId),q("idx_account_role_tenant").on(t.tenantId)]);const nAe=Se("profile_type",["creator","fan","staff","admin"]),sAe=Se("profile_kyc_status",["pending","verified","rejected","expired"]),aAe=Se("sanctions_status",["clear","pending","blocked","reviewing"]),Qs=be("profiles",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),accountId:N("account_id").notNull().references(()=>Rr.id,{onDelete:"cascade"}),handle:N("handle").unique().notNull(),displayName:N("display_name"),bio:ge("bio"),type:nAe("type").default("fan").notNull(),avatarUrl:N("avatar_url"),bannerUrl:N("banner_url"),location:N("location"),website:N("website"),socialLinks:pe("social_links").default({}),flags:pe("flags").default({}),preferences:pe("preferences").default({}),stats:pe("stats").default({}),verificationLevel:ie("verification_level").default(0),kycStatus:sAe("kyc_status").default("pending"),ageVerified:Ee("age_verified").default(!1),is2257Compliant:Ee("is_2257_compliant").default(!1),lastSanctionsScreening:R("last_sanctions_screening"),sanctionsStatus:aAe("sanctions_status").default("clear"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_profiles_handle").on(t.handle),q("idx_profiles_account").on(t.accountId),q("idx_profiles_type").on(t.type),q("idx_profiles_kyc_status").on(t.kycStatus),q("idx_profiles_sanctions_status").on(t.sanctionsStatus)]);be("profile_tenant",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),profileId:N("profile_id").notNull().references(()=>Qs.id,{onDelete:"cascade"}),tenantId:N("tenant_id").notNull().references(()=>bi.id,{onDelete:"cascade"}),isVisible:Ee("is_visible").default(!0),isActive:Ee("is_active").default(!0),settings:pe("settings").default({}),customization:pe("customization").default({}),stats:pe("stats").default({}),joinedAt:R("joined_at").defaultNow(),lastActiveAt:R("last_active_at").defaultNow()},t=>[sn().on(t.profileId,t.tenantId),q("idx_profile_tenant_profile").on(t.profileId),q("idx_profile_tenant_tenant").on(t.tenantId)]);be("sessions",{sid:N("sid").primaryKey(),sess:pe("sess").notNull(),expire:R("expire").notNull()},t=>[q("IDX_session_expire").on(t.expire)]);const iAe=Se("user_role",["fan","creator","moderator","admin"]),oAe=Se("user_status",["active","suspended","pending"]),Re=be("users",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),username:N("username").unique(),email:N("email").unique(),password:N("password"),firstName:N("first_name"),lastName:N("last_name"),profileImageUrl:N("profile_image_url"),role:iAe("role").default("fan").notNull(),status:oAe("status").default("active").notNull(),authProvider:N("auth_provider").default("replit").notNull(),onlineStatus:Ee("online_status").default(!1),lastSeenAt:R("last_seen_at").defaultNow(),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()}),lAe=be("social_accounts",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),provider:N("provider").notNull(),providerId:N("provider_id").notNull(),email:N("email"),displayName:N("display_name"),profileUrl:N("profile_url"),profileImageUrl:N("profile_image_url"),accessToken:ge("access_token"),refreshToken:ge("refresh_token"),expiresAt:R("expires_at"),createdAt:R("created_at").defaultNow().notNull(),updatedAt:R("updated_at").defaultNow().notNull()},t=>[sn().on(t.provider,t.providerId),q("idx_social_accounts_user").on(t.userId),q("idx_social_accounts_provider").on(t.provider)]),cAe=Se("verification_check_type",["KYC","Age","KYB","Sanctions"]),dAe=Se("verification_status",["pending","approved","rejected","expired","requires_review"]),fW=be("identity_verifications",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),accountId:N("account_id").notNull().references(()=>Rr.id,{onDelete:"cascade"}),profileId:N("profile_id").references(()=>Qs.id),vendor:N("vendor").notNull(),checkType:cAe("check_type").notNull(),status:dAe("status").default("pending").notNull(),externalId:N("external_id"),result:pe("result").default({}),documents:pe("documents").default({}),biometrics:pe("biometrics").default({}),sanctions:pe("sanctions").default({}),riskScore:ie("risk_score"),failureReason:ge("failure_reason"),reviewNotes:ge("review_notes"),reviewedBy:N("reviewed_by").references(()=>Rr.id),startedAt:R("started_at").defaultNow(),completedAt:R("completed_at"),expiresAt:R("expires_at"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_identity_verifications_account").on(t.accountId),q("idx_identity_verifications_profile").on(t.profileId),q("idx_identity_verifications_status").on(t.status),q("idx_identity_verifications_vendor").on(t.vendor)]),uAe=Se("model_release_status",["pending","signed","expired","revoked"]);be("model_releases",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),contentId:N("content_id").notNull().references(()=>Vf.id,{onDelete:"cascade"}),performerProfileId:N("performer_profile_id").notNull().references(()=>Qs.id,{onDelete:"cascade"}),creatorProfileId:N("creator_profile_id").notNull().references(()=>Qs.id,{onDelete:"cascade"}),tenantId:N("tenant_id").notNull().references(()=>bi.id),status:uAe("status").default("pending").notNull(),releaseType:N("release_type").notNull(),signedAt:R("signed_at"),expiresAt:R("expires_at"),revokedAt:R("revoked_at"),documents:pe("documents").default({}),terms:pe("terms").default({}),compensation:pe("compensation").default({}),jurisdiction:N("jurisdiction"),ipAddress:Uf("ip_address"),userAgent:ge("user_agent"),digitalSignature:ge("digital_signature"),witnessInfo:pe("witness_info").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_model_releases_content").on(t.contentId),q("idx_model_releases_performer").on(t.performerProfileId),q("idx_model_releases_creator").on(t.creatorProfileId),q("idx_model_releases_tenant").on(t.tenantId),q("idx_model_releases_status").on(t.status)]);const hAe=Se("record_2257_type",["id_verification","consent_form","model_release","age_verification","performer_agreement"]),pW=be("records_2257",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),contentId:N("content_id").notNull().references(()=>Vf.id,{onDelete:"cascade"}),performerProfileId:N("performer_profile_id").notNull().references(()=>Qs.id,{onDelete:"cascade"}),custodianAccountId:N("custodian_account_id").notNull().references(()=>Rr.id),docType:hAe("doc_type").notNull(),locationUri:ge("location_uri").notNull(),indexMetadata:pe("index_metadata").default({}),custodianContact:pe("custodian_contact").default({}),jurisdiction:N("jurisdiction").notNull(),retentionPeriod:ie("retention_period").default(7),isDigital:Ee("is_digital").default(!0),physicalLocation:ge("physical_location"),accessLog:pe("access_log").default([]),verificationChecksum:N("verification_checksum"),encryptionKeyId:N("encryption_key_id"),complianceNotes:ge("compliance_notes"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_records_2257_content").on(t.contentId),q("idx_records_2257_performer").on(t.performerProfileId),q("idx_records_2257_custodian").on(t.custodianAccountId),q("idx_records_2257_type").on(t.docType),q("idx_records_2257_jurisdiction").on(t.jurisdiction)]);be("audit_logs",{id:NT("id",{mode:"number"}).primaryKey(),actorAccountId:N("actor_account_id").references(()=>Rr.id),actorProfileId:N("actor_profile_id").references(()=>Qs.id),tenantId:N("tenant_id").references(()=>bi.id),action:N("action").notNull(),subjectTable:N("subject_table").notNull(),subjectId:N("subject_id").notNull(),changes:pe("changes").default({}),metadata:pe("metadata").default({}),ipAddress:Uf("ip_address"),userAgent:ge("user_agent"),sessionId:N("session_id"),requestId:N("request_id"),severity:N("severity").default("info"),tags:ge("tags").array().default([]),timestamp:R("timestamp").defaultNow().notNull()},t=>[q("idx_audit_logs_actor_account").on(t.actorAccountId),q("idx_audit_logs_actor_profile").on(t.actorProfileId),q("idx_audit_logs_tenant").on(t.tenantId),q("idx_audit_logs_action").on(t.action),q("idx_audit_logs_subject").on(t.subjectTable,t.subjectId),q("idx_audit_logs_timestamp").on(t.timestamp),q("idx_audit_logs_severity").on(t.severity)]);const mAe=Se("content_visibility",["public","subscribers","ppv","private"]),xW=Se("content_status",["draft","scheduled","published","archived","deleted"]),Vf=be("content",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),creatorProfileId:N("creator_profile_id").notNull().references(()=>Qs.id,{onDelete:"cascade"}),title:N("title").notNull(),caption:ge("caption"),description:ge("description"),priceCents:ie("price_cents").default(0),visibility:mAe("visibility").default("public").notNull(),status:xW("status").default("draft").notNull(),canonicalTenant:N("canonical_tenant").notNull().references(()=>bi.id),tags:ge("tags").array().default([]),metadata:pe("metadata").default({}),analytics:pe("analytics").default({}),scheduledFor:R("scheduled_for"),publishedAt:R("published_at"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_content_creator").on(t.creatorProfileId),q("idx_content_tenant").on(t.canonicalTenant),q("idx_content_status").on(t.status),q("idx_content_published").on(t.publishedAt)]);be("content_tenant_map",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),contentId:N("content_id").notNull().references(()=>Vf.id,{onDelete:"cascade"}),tenantId:N("tenant_id").notNull().references(()=>bi.id,{onDelete:"cascade"}),status:xW("status").default("published").notNull(),customization:pe("customization").default({}),publishedAt:R("published_at").defaultNow(),createdAt:R("created_at").defaultNow()},t=>[sn().on(t.contentId,t.tenantId),q("idx_content_tenant_map_content").on(t.contentId),q("idx_content_tenant_map_tenant").on(t.tenantId)]);const fAe=Se("media_status",["pending","processing","approved","rejected","flagged","ai_reviewing","escalated"]),pAe=Se("moderation_state",["pending","approved","rejected","escalated"]),Fc=be("media_assets",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),contentId:N("content_id").references(()=>Vf.id,{onDelete:"cascade"}),ownerId:N("owner_id").notNull().references(()=>Qs.id,{onDelete:"cascade"}),title:N("title"),description:ge("description"),storageKey:N("storage_key").notNull(),mimeType:N("mime_type").notNull(),fileSize:tr("file_size",{mode:"number"}).notNull(),duration:ie("duration"),width:ie("width"),height:ie("height"),checksumSha256:N("checksum_sha256").notNull(),perceptualHash:N("perceptual_hash"),forensicWatermark:pe("forensic_watermark").default({}),forensicSignature:ge("forensic_signature"),watermarked:Ee("watermarked").default(!1),watermarkedAt:R("watermarked_at"),status:fAe("status").default("pending").notNull(),moderationState:pAe("moderation_state").default("pending").notNull(),aiAnalysis:pe("ai_analysis").default({}),riskScore:ie("risk_score").default(0),flags:pe("flags").default({}),contentTags:ge("content_tags").array().default([]),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_media_assets_content").on(t.contentId),q("idx_media_assets_owner").on(t.ownerId),q("idx_media_assets_status").on(t.status),q("idx_media_assets_checksum").on(t.checksumSha256),q("idx_media_assets_perceptual").on(t.perceptualHash)]),xAe=Se("media_variant_kind",["original","hls","dash","thumbnail","preview","watermarked"]);be("media_variants",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),assetId:N("asset_id").notNull().references(()=>Fc.id,{onDelete:"cascade"}),tenantId:N("tenant_id").references(()=>bi.id,{onDelete:"cascade"}),kind:xAe("kind").notNull(),storageKey:N("storage_key").notNull(),mimeType:N("mime_type"),fileSize:tr("file_size",{mode:"number"}),quality:N("quality"),drmKeyId:N("drm_key_id"),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow()},t=>[q("idx_media_variants_asset").on(t.assetId),q("idx_media_variants_tenant").on(t.tenantId),sn().on(t.assetId,t.tenantId,t.kind)]);const gAe=Se("moderation_status",["pending","approved","rejected","escalated","auto_approved","auto_rejected"]);be("moderation_queue",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),mediaId:N("media_id").notNull().references(()=>Fc.id,{onDelete:"cascade"}),reason:ge("reason"),status:gAe("status").default("pending").notNull(),reviewerId:N("reviewer_id").references(()=>Re.id),notes:ge("notes"),decidedAt:R("decided_at"),aiRecommendation:N("ai_recommendation"),aiConfidence:ie("ai_confidence"),escalationReason:ge("escalation_reason"),priority:ie("priority").default(1),createdAt:R("created_at").defaultNow()});const vAe=Se("subscription_interval",["monthly","yearly","lifetime"]),tw=be("subscription_plans",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),creatorProfileId:N("creator_profile_id").notNull().references(()=>Qs.id,{onDelete:"cascade"}),tenantId:N("tenant_id").references(()=>bi.id,{onDelete:"cascade"}),name:N("name").notNull(),description:ge("description"),priceCents:ie("price_cents").notNull(),currency:N("currency").default("USD").notNull(),interval:vAe("interval").default("monthly").notNull(),features:pe("features").default({}),trialDays:ie("trial_days").default(0),isActive:Ee("is_active").default(!0),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_subscription_plans_creator").on(t.creatorProfileId),q("idx_subscription_plans_tenant").on(t.tenantId)]),gW=Se("subscription_status",["active","canceled","past_due","unpaid","trialing","incomplete"]),vW=be("subscriptions",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),fanProfileId:N("fan_profile_id").notNull().references(()=>Qs.id,{onDelete:"cascade"}),planId:N("plan_id").notNull().references(()=>tw.id,{onDelete:"cascade"}),tenantId:N("tenant_id").references(()=>bi.id),status:gW("status").default("active").notNull(),currentPeriodStart:R("current_period_start").notNull(),currentPeriodEnd:R("current_period_end").notNull(),cancelAtPeriodEnd:Ee("cancel_at_period_end").default(!1),canceledAt:R("canceled_at"),trialStart:R("trial_start"),trialEnd:R("trial_end"),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_subscriptions_fan").on(t.fanProfileId),q("idx_subscriptions_plan").on(t.planId),q("idx_subscriptions_tenant").on(t.tenantId),q("idx_subscriptions_status").on(t.status)]),yAe=Se("purchase_type",["ppv","tip","subscription","bundle","live_stream"]),bAe=Se("purchase_status",["pending","completed","failed","refunded","disputed"]);be("purchases",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),fanProfileId:N("fan_profile_id").notNull().references(()=>Qs.id,{onDelete:"cascade"}),creatorProfileId:N("creator_profile_id").notNull().references(()=>Qs.id,{onDelete:"cascade"}),contentId:N("content_id").references(()=>Vf.id),tenantId:N("tenant_id").notNull().references(()=>bi.id),type:yAe("type").notNull(),amountCents:ie("amount_cents").notNull(),currency:N("currency").default("USD").notNull(),status:bAe("status").default("pending").notNull(),provider:N("provider"),providerRef:N("provider_ref"),platformFeeCents:ie("platform_fee_cents").default(0),creatorEarningsCents:ie("creator_earnings_cents").notNull(),metadata:pe("metadata").default({}),refundedAt:R("refunded_at"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_purchases_fan").on(t.fanProfileId),q("idx_purchases_creator").on(t.creatorProfileId),q("idx_purchases_content").on(t.contentId),q("idx_purchases_tenant").on(t.tenantId),q("idx_purchases_status").on(t.status)]);const jAe=Se("payout_account_status",["active","inactive","suspended","pending_verification"]),yW=be("payout_accounts",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),profileId:N("profile_id").notNull().references(()=>Qs.id,{onDelete:"cascade"}),provider:N("provider").notNull(),externalAccountId:N("external_account_id").notNull(),status:jAe("status").default("pending_verification").notNull(),kycStatus:N("kyc_status"),country:N("country",{length:2}),currency:N("currency").default("USD").notNull(),accountType:N("account_type"),last4:N("last4"),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_payout_accounts_profile").on(t.profileId),q("idx_payout_accounts_status").on(t.status)]),wAe=Se("payout_status",["pending","processing","completed","failed","cancelled","scheduled"]),_Ae=be("payouts",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),profileId:N("profile_id").notNull().references(()=>Qs.id,{onDelete:"cascade"}),payoutAccountId:N("payout_account_id").notNull().references(()=>yW.id),tenantId:N("tenant_id").references(()=>bi.id),amountCents:ie("amount_cents").notNull(),currency:N("currency").default("USD").notNull(),status:wAe("status").default("pending").notNull(),scheduledFor:R("scheduled_for"),provider:N("provider"),providerBatchId:N("provider_batch_id"),providerRef:N("provider_ref"),failureReason:ge("failure_reason"),metadata:pe("metadata").default({}),processedAt:R("processed_at"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_payouts_profile").on(t.profileId),q("idx_payouts_account").on(t.payoutAccountId),q("idx_payouts_tenant").on(t.tenantId),q("idx_payouts_status").on(t.status),q("idx_payouts_scheduled").on(t.scheduledFor)]),NAe=Se("pricing_strategy",["fixed","dynamic","tiered","auction","time_decay","demand_based","competitive"]),SAe=Se("pricing_rule_status",["active","paused","testing","archived"]),bW=be("pricing_rules",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),creatorProfileId:N("creator_profile_id").notNull().references(()=>Qs.id,{onDelete:"cascade"}),contentId:N("content_id").references(()=>Vf.id,{onDelete:"cascade"}),planId:N("plan_id").references(()=>tw.id,{onDelete:"cascade"}),name:N("name").notNull(),strategy:NAe("strategy").default("dynamic").notNull(),status:SAe("status").default("active").notNull(),basePriceCents:ie("base_price_cents").notNull(),minPriceCents:ie("min_price_cents").notNull(),maxPriceCents:ie("max_price_cents").notNull(),currentPriceCents:ie("current_price_cents").notNull(),aiModel:N("ai_model").default("gpt-4o-mini"),optimizationGoal:N("optimization_goal").default("revenue"),demandElasticity:Ye("demand_elasticity",{precision:5,scale:2}).default("0.00"),triggers:pe("triggers").default({}),constraints:pe("constraints").default({}),metadata:pe("metadata").default({}),totalRevenueCents:tr("total_revenue_cents",{mode:"number"}).default(0),totalSales:ie("total_sales").default(0),conversionRate:Ye("conversion_rate",{precision:5,scale:2}).default("0.00"),avgTransactionCents:ie("avg_transaction_cents").default(0),lastOptimizedAt:R("last_optimized_at"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_pricing_rules_creator").on(t.creatorProfileId),q("idx_pricing_rules_content").on(t.contentId),q("idx_pricing_rules_plan").on(t.planId),q("idx_pricing_rules_status").on(t.status)]);be("pricing_history",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),ruleId:N("rule_id").notNull().references(()=>bW.id,{onDelete:"cascade"}),previousPriceCents:ie("previous_price_cents").notNull(),newPriceCents:ie("new_price_cents").notNull(),changePercent:Ye("change_percent",{precision:5,scale:2}).notNull(),reason:N("reason").notNull(),triggerData:pe("trigger_data").default({}),aiRationale:ge("ai_rationale"),salesBefore:ie("sales_before").default(0),salesAfter:ie("sales_after").default(0),revenueBefore:tr("revenue_before",{mode:"number"}).default(0),revenueAfter:tr("revenue_after",{mode:"number"}).default(0),impactScore:Ye("impact_score",{precision:5,scale:2}),effectiveFrom:R("effective_from").notNull(),effectiveUntil:R("effective_until"),createdAt:R("created_at").defaultNow()},t=>[q("idx_pricing_history_rule").on(t.ruleId),q("idx_pricing_history_effective").on(t.effectiveFrom)]);const CAe=Se("insight_type",["price_recommendation","demand_forecast","competitor_analysis","revenue_optimization","engagement_trend","seasonal_pattern"]),kAe=Se("insight_priority",["low","medium","high","critical"]);be("pricing_insights",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),creatorProfileId:N("creator_profile_id").notNull().references(()=>Qs.id,{onDelete:"cascade"}),ruleId:N("rule_id").references(()=>bW.id,{onDelete:"cascade"}),type:CAe("type").notNull(),priority:kAe("priority").default("medium").notNull(),title:N("title").notNull(),description:ge("description").notNull(),recommendation:ge("recommendation"),aiModel:N("ai_model").notNull(),confidence:Ye("confidence",{precision:5,scale:2}).notNull(),dataPoints:pe("data_points").default({}),predictedImpact:pe("predicted_impact").default({}),suggestedPriceCents:ie("suggested_price_cents"),expectedRevenueIncrease:Ye("expected_revenue_increase",{precision:5,scale:2}),actionTaken:Ee("action_taken").default(!1),actionTakenAt:R("action_taken_at"),actualImpact:pe("actual_impact").default({}),expiresAt:R("expires_at"),createdAt:R("created_at").defaultNow()},t=>[q("idx_pricing_insights_creator").on(t.creatorProfileId),q("idx_pricing_insights_rule").on(t.ruleId),q("idx_pricing_insights_type").on(t.type),q("idx_pricing_insights_priority").on(t.priority)]);const AAe=Se("ad_campaign_status",["draft","active","paused","completed","cancelled"]),PAe=Se("ad_campaign_type",["content_promotion","profile_promotion","brand_awareness","cross_platform"]),TAe=be("ad_campaigns",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),advertiserProfileId:N("advertiser_profile_id").notNull().references(()=>Qs.id,{onDelete:"cascade"}),tenantId:N("tenant_id").references(()=>bi.id),name:N("name").notNull(),description:ge("description"),type:PAe("type").default("content_promotion").notNull(),status:AAe("status").default("draft").notNull(),budgetCents:tr("budget_cents",{mode:"number"}).notNull(),dailyBudgetCents:tr("daily_budget_cents",{mode:"number"}),currency:N("currency").default("USD").notNull(),targeting:pe("targeting").default({}),schedule:pe("schedule").default({}),objectives:pe("objectives").default({}),spentCents:tr("spent_cents",{mode:"number"}).default(0),impressions:tr("impressions",{mode:"number"}).default(0),clicks:tr("clicks",{mode:"number"}).default(0),conversions:tr("conversions",{mode:"number"}).default(0),startDate:R("start_date"),endDate:R("end_date"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_ad_campaigns_advertiser").on(t.advertiserProfileId),q("idx_ad_campaigns_tenant").on(t.tenantId),q("idx_ad_campaigns_status").on(t.status),q("idx_ad_campaigns_type").on(t.type)]),EAe=Se("ad_creative_kind",["image","video","carousel","story","native"]),OAe=Se("ad_creative_status",["pending","approved","rejected","active","paused"]),IAe=be("ad_creatives",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),campaignId:N("campaign_id").notNull().references(()=>TAe.id,{onDelete:"cascade"}),name:N("name").notNull(),kind:EAe("kind").notNull(),assetUrl:N("asset_url"),thumbnailUrl:N("thumbnail_url"),title:N("title"),description:ge("description"),callToAction:N("call_to_action"),clickUrl:ge("click_url").notNull(),trackingPixels:pe("tracking_pixels").default([]),status:OAe("status").default("pending").notNull(),policyState:N("policy_state"),reviewNotes:ge("review_notes"),metrics:pe("metrics").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_ad_creatives_campaign").on(t.campaignId),q("idx_ad_creatives_status").on(t.status),q("idx_ad_creatives_kind").on(t.kind)]),MAe=Se("ad_placement_type",["feed_top","feed_inline","sidebar","banner","story","profile"]),DAe=be("ad_placements",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),tenantId:N("tenant_id").notNull().references(()=>bi.id,{onDelete:"cascade"}),slot:N("slot").notNull(),type:MAe("type").notNull(),displayName:N("display_name").notNull(),description:ge("description"),dimensions:pe("dimensions").default({}),constraints:pe("constraints").default({}),pricing:pe("pricing").default({}),isActive:Ee("is_active").default(!0),settings:pe("settings").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[sn().on(t.tenantId,t.slot),q("idx_ad_placements_tenant").on(t.tenantId),q("idx_ad_placements_type").on(t.type)]);be("ad_impressions",{id:NT("id",{mode:"number"}).primaryKey(),creativeId:N("creative_id").notNull().references(()=>IAe.id,{onDelete:"cascade"}),placementId:N("placement_id").notNull().references(()=>DAe.id,{onDelete:"cascade"}),tenantId:N("tenant_id").notNull().references(()=>bi.id),profileId:N("profile_id").references(()=>Qs.id),requestId:N("request_id").notNull(),sessionId:N("session_id"),ipAddress:Uf("ip_address"),userAgent:ge("user_agent"),deviceInfo:pe("device_info").default({}),location:pe("location").default({}),priceMicro:ie("price_micro").notNull(),currency:N("currency").default("USD").notNull(),bidData:pe("bid_data").default({}),consent:pe("consent").default({}),viewTime:ie("view_time"),clicked:Ee("clicked").default(!1),converted:Ee("converted").default(!1),timestamp:R("timestamp").defaultNow().notNull()},t=>[q("idx_ad_impressions_creative").on(t.creativeId),q("idx_ad_impressions_placement").on(t.placementId),q("idx_ad_impressions_tenant").on(t.tenantId),q("idx_ad_impressions_profile").on(t.profileId),q("idx_ad_impressions_timestamp").on(t.timestamp),q("idx_ad_impressions_clicked").on(t.clicked)]);const RAe=Se("webhook_status",["active","inactive"]),LAe=be("webhooks",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),url:N("url").notNull(),secret:N("secret").notNull(),eventsJson:pe("events_json").default([]),status:RAe("status").default("active").notNull(),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()});be("api_keys",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),keyHash:N("key_hash").notNull(),scopes:pe("scopes").default([]),lastUsedAt:R("last_used_at"),createdAt:R("created_at").defaultNow()});const jW=be("theme_settings",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),name:N("name").notNull(),isActive:Ee("is_active").default(!1),colors:pe("colors").notNull().default({primary:"hsl(0, 100%, 50%)",primaryForeground:"hsl(0, 0%, 100%)",secondary:"hsl(45, 80%, 60%)",secondaryForeground:"hsl(0, 0%, 0%)",background:"hsl(0, 0%, 1%)",foreground:"hsl(0, 0%, 100%)",card:"hsl(15, 15%, 4%)",cardForeground:"hsl(0, 0%, 100%)",accent:"hsl(50, 100%, 65%)",accentForeground:"hsl(0, 0%, 0%)",border:"hsl(15, 15%, 15%)",input:"hsl(15, 15%, 18%)",muted:"hsl(0, 0%, 10%)",mutedForeground:"hsl(0, 0%, 60%)",destructive:"hsl(0, 84%, 60%)",destructiveForeground:"hsl(0, 0%, 100%)"}),typography:pe("typography").notNull().default({fontDisplay:"Orbitron",fontHeading:"Rajdhani",fontBody:"Inter"}),effects:pe("effects").notNull().default({neonIntensity:1,glowEnabled:!0,smokyBackground:!0,flickerEnabled:!0}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()}),FAe=Se("version_status",["draft","published","archived"]),$Ae=Se("page_status",["draft","published"]),wW=be("cms_themes",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),name:N("name").notNull(),isActive:Ee("is_active").default(!1),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()}),rw=be("cms_theme_versions",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),themeId:N("theme_id").notNull().references(()=>wW.id,{onDelete:"cascade"}),label:N("label").notNull().default("v1"),status:FAe("status").default("draft").notNull(),createdAt:R("created_at").defaultNow()}),zAe=be("cms_theme_settings",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),themeVersionId:N("theme_version_id").notNull().references(()=>rw.id,{onDelete:"cascade"}),settingsJson:pe("settings_json").notNull().default({}),createdAt:R("created_at").defaultNow()}),BAe=be("cms_theme_assets",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),themeVersionId:N("theme_version_id").notNull().references(()=>rw.id,{onDelete:"cascade"}),path:N("path").notNull(),storageKey:N("storage_key").notNull(),mimeType:N("mime_type"),sizeBytes:ie("size_bytes"),createdAt:R("created_at").defaultNow()}),_W=be("cms_pages",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),slug:N("slug").notNull().unique(),title:N("title").notNull(),template:N("template").notNull().default("page"),status:$Ae("status").default("draft").notNull(),seoJson:pe("seo_json").notNull().default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()}),qAe=be("cms_page_sections",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),pageId:N("page_id").notNull().references(()=>_W.id,{onDelete:"cascade"}),type:N("type").notNull(),sortOrder:ie("sort_order").notNull(),propsJson:pe("props_json").notNull().default({})}),NW=be("cms_menus",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),handle:N("handle").notNull().unique(),title:N("title").notNull(),createdAt:R("created_at").defaultNow()}),UAe=be("cms_menu_items",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),menuId:N("menu_id").notNull().references(()=>NW.id,{onDelete:"cascade"}),parentId:N("parent_id"),title:N("title").notNull(),url:N("url").notNull(),sortOrder:ie("sort_order").default(0)});be("cms_publishes",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),actorId:N("actor_id").notNull().references(()=>Re.id),themeVersionId:N("theme_version_id").notNull().references(()=>rw.id),notes:ge("notes"),createdAt:R("created_at").defaultNow()});const VAe=be("creator_profiles",{userId:N("user_id").primaryKey().references(()=>Re.id,{onDelete:"cascade"}),monthlyPriceCents:ie("monthly_price_cents").notNull().default(0),isVerified:Ee("is_verified").default(!1),verificationBadge:N("verification_badge").default("none"),coverImageUrl:N("cover_image_url"),socialProfiles:pe("social_profiles").default({}),welcomeMessageEnabled:Ee("welcome_message_enabled").default(!1),welcomeMessageText:ge("welcome_message_text"),welcomeMessagePriceCents:ie("welcome_message_price_cents").default(0),categories:ge("categories").array().default([]),totalEarningsCents:ie("total_earnings_cents").default(0),totalSubscribers:ie("total_subscribers").default(0),isOnline:Ee("is_online").default(!1),lastActiveAt:R("last_active_at").defaultNow(),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()}),KAe=Se("promo_code_status",["active","expired","exhausted","disabled"]),WAe=Se("promo_code_type",["percentage","fixed_amount","free_trial"]),ST=be("promo_codes",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),creatorId:N("creator_id").references(()=>Re.id,{onDelete:"cascade"}),code:N("code").notNull().unique(),name:N("name").notNull(),description:ge("description"),type:WAe("type").notNull(),discountPercentage:ie("discount_percentage"),discountAmountCents:ie("discount_amount_cents"),freeTrialDays:ie("free_trial_days"),minPurchaseCents:ie("min_purchase_cents").default(0),maxUsageCount:ie("max_usage_count"),currentUsageCount:ie("current_usage_count").default(0),validFrom:R("valid_from").defaultNow(),validUntil:R("valid_until"),isActive:Ee("is_active").default(!0),status:KAe("status").default("active").notNull(),applicablePlans:ge("applicable_plans").array().default([]),firstTimeOnly:Ee("first_time_only").default(!1),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>({codeIdx:q("idx_promo_codes_code").on(t.code),creatorActiveIdx:q("idx_promo_codes_creator_active").on(t.creatorId,t.isActive),statusIdx:q("idx_promo_codes_status").on(t.status)}));be("promo_code_usages",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),promoCodeId:N("promo_code_id").notNull().references(()=>ST.id,{onDelete:"cascade"}),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),subscriptionId:N("subscription_id").references(()=>vW.id,{onDelete:"set null"}),originalPriceCents:ie("original_price_cents").notNull(),discountedPriceCents:ie("discounted_price_cents").notNull(),savingsCents:ie("savings_cents").notNull(),usedAt:R("used_at").defaultNow()},t=>({promoCodeIdx:q("idx_promo_usage_code").on(t.promoCodeId),userIdx:q("idx_promo_usage_user").on(t.userId)}));const HAe=be("subscriptions_enhanced",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),fanId:N("fan_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),creatorId:N("creator_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),subscriptionPlanId:N("subscription_plan_id").notNull().references(()=>tw.id,{onDelete:"cascade"}),promoCodeId:N("promo_code_id").references(()=>ST.id,{onDelete:"set null"}),stripeSubscriptionId:N("stripe_subscription_id"),status:gW("status").default("pending").notNull(),originalPriceCents:ie("original_price_cents").notNull(),finalPriceCents:ie("final_price_cents").notNull(),discountAppliedCents:ie("discount_applied_cents").default(0),nextBillingDate:R("next_billing_date").notNull(),currentPeriodStart:R("current_period_start"),currentPeriodEnd:R("current_period_end"),trialEndDate:R("trial_end_date"),autoRenew:Ee("auto_renew").default(!0),cancelledAt:R("cancelled_at"),cancelReason:ge("cancel_reason"),renewalCount:ie("renewal_count").default(0),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>({uniqueFanCreator:sn().on(t.fanId,t.creatorId),creatorStatusIdx:q("idx_subs_enh_creator_status").on(t.creatorId,t.status),fanStatusIdx:q("idx_subs_enh_fan_status").on(t.fanId,t.status),nextBillingIdx:q("idx_subs_enh_next_billing").on(t.nextBillingDate),planIdx:q("idx_subs_enh_plan").on(t.subscriptionPlanId)})),GAe=Se("post_type",["photo","video","audio","text","reel","story","live"]),ZAe=Se("post_visibility",["free","premium","subscribers_only"]),Jg=be("posts",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),creatorId:N("creator_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),type:GAe("type").notNull(),visibility:ZAe("visibility").default("free").notNull(),title:N("title"),content:ge("content"),priceCents:ie("price_cents").default(0),mediaUrls:ge("media_urls").array().default([]),thumbnailUrl:N("thumbnail_url"),hashtags:ge("hashtags").array().default([]),isScheduled:Ee("is_scheduled").default(!1),scheduledFor:R("scheduled_for"),likesCount:ie("likes_count").default(0),commentsCount:ie("comments_count").default(0),viewsCount:ie("views_count").default(0),isProcessing:Ee("is_processing").default(!1),processingStatus:N("processing_status").default("pending"),expiresAt:R("expires_at"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>({creatorCreatedAtIdx:q("idx_posts_creator_created_at").on(t.creatorId,t.createdAt.desc()),visibilityIdx:q("idx_posts_visibility").on(t.visibility),scheduledForIdx:q("idx_posts_scheduled_for").on(t.scheduledFor)}));be("post_media",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),postId:N("post_id").notNull().references(()=>Jg.id,{onDelete:"cascade"}),mediaAssetId:N("media_asset_id").notNull().references(()=>Fc.id,{onDelete:"cascade"}),sortOrder:ie("sort_order").default(0),createdAt:R("created_at").defaultNow()});const CT=be("comments",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),postId:N("post_id").notNull().references(()=>Jg.id,{onDelete:"cascade"}),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),content:ge("content").notNull(),parentId:N("parent_id"),likesCount:ie("likes_count").default(0),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>({postIdCreatedAtIdx:q("idx_comments_post_created_at").on(t.postId,t.createdAt),userIdIdx:q("idx_comments_user_id").on(t.userId)})),YAe=be("likes",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),postId:N("post_id").references(()=>Jg.id,{onDelete:"cascade"}),commentId:N("comment_id").references(()=>CT.id,{onDelete:"cascade"}),createdAt:R("created_at").defaultNow()},t=>({uniqueUserPost:sn().on(t.userId,t.postId),uniqueUserComment:sn().on(t.userId,t.commentId),checkExactlyOneTarget:Rke("chk_like_exactly_one",ye`(post_id IS NOT NULL)::int + (comment_id IS NOT NULL)::int = 1`),postIdIdx:q("idx_likes_post_id").on(t.postId),commentIdIdx:q("idx_likes_comment_id").on(t.commentId)})),QAe=Se("verification_status",["pending","verified","suspicious","deepfake","rejected"]),XAe=Se("deepfake_report_status",["reported","under_review","confirmed","false_positive","resolved"]),JAe=be("verified_content",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),creatorId:N("creator_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),mediaUrl:N("media_url").notNull(),mediaType:N("media_type").notNull(),contentHash:N("content_hash").notNull().unique(),perceptualHash:N("perceptual_hash"),aiFingerprint:pe("ai_fingerprint"),metadata:pe("metadata").default({}),verifiedAt:R("verified_at").defaultNow(),createdAt:R("created_at").defaultNow()},t=>({creatorIdIdx:q("idx_verified_content_creator").on(t.creatorId),contentHashIdx:q("idx_verified_content_hash").on(t.contentHash)})),ePe=be("content_verification",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),contentUrl:N("content_url").notNull(),contentType:N("content_type").notNull(),creatorId:N("creator_id").references(()=>Re.id),status:QAe("status").default("pending").notNull(),confidenceScore:Ye("confidence_score",{precision:5,scale:2}),aiAnalysis:pe("ai_analysis").default({}),matchedVerifiedContentId:N("matched_verified_content_id").references(()=>JAe.id),similarityScore:Ye("similarity_score",{precision:5,scale:2}),detectionMethod:N("detection_method"),flags:pe("flags").default([]),reviewedBy:N("reviewed_by").references(()=>Re.id),reviewedAt:R("reviewed_at"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>({contentUrlIdx:q("idx_verification_content_url").on(t.contentUrl),statusIdx:q("idx_verification_status").on(t.status),creatorIdIdx:q("idx_verification_creator").on(t.creatorId)}));be("deepfake_reports",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),reportedContentUrl:N("reported_content_url").notNull(),reportedContentType:N("reported_content_type").notNull(),impersonatedCreatorId:N("impersonated_creator_id").notNull().references(()=>Re.id),reportedBy:N("reported_by").references(()=>Re.id),reportSource:N("report_source").notNull(),status:XAe("status").default("reported").notNull(),verificationId:N("verification_id").references(()=>ePe.id),description:ge("description"),evidence:pe("evidence").default({}),actionTaken:N("action_taken"),assignedTo:N("assigned_to").references(()=>Re.id),resolvedBy:N("resolved_by").references(()=>Re.id),resolvedAt:R("resolved_at"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>({impersonatedCreatorIdx:q("idx_deepfake_reports_creator").on(t.impersonatedCreatorId),statusIdx:q("idx_deepfake_reports_status").on(t.status),reportSourceIdx:q("idx_deepfake_reports_source").on(t.reportSource)}));const tPe=Se("message_type",["text","photo","video","audio","tip","welcome"]),SW=be("messages",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),senderId:N("sender_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),receiverId:N("receiver_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),type:tPe("type").default("text").notNull(),content:ge("content"),mediaUrl:N("media_url"),priceCents:ie("price_cents").default(0),isPaid:Ee("is_paid").default(!1),isMassMessage:Ee("is_mass_message").default(!1),readAt:R("read_at"),deliveredAt:R("delivered_at"),createdAt:R("created_at").defaultNow()},t=>({receiverCreatedAtIdx:q("idx_messages_receiver_created_at").on(t.receiverId,t.createdAt.desc()),senderCreatedAtIdx:q("idx_messages_sender_created_at").on(t.senderId,t.createdAt.desc()),senderReceiverIdx:q("idx_messages_sender_receiver").on(t.senderId,t.receiverId),readAtIdx:q("idx_messages_read_at").on(t.readAt)})),rPe=Se("transaction_type",["subscription","tip","post_purchase","message_purchase","welcome_message","live_stream"]),nPe=Se("transaction_status",["pending","completed","failed","refunded"]),CW=be("transactions",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),fromUserId:N("from_user_id").notNull().references(()=>Re.id),toUserId:N("to_user_id").notNull().references(()=>Re.id),type:rPe("type").notNull(),amountCents:ie("amount_cents").notNull(),platformFeeCents:ie("platform_fee_cents").default(0),creatorEarningsCents:ie("creator_earnings_cents").notNull(),stripePaymentIntentId:N("stripe_payment_intent_id"),status:nPe("status").default("pending").notNull(),referenceId:N("reference_id"),referenceType:N("reference_type"),createdAt:R("created_at").defaultNow()},t=>({toUserCreatedAtIdx:q("idx_tx_to_created_at").on(t.toUserId,t.createdAt.desc()),fromUserCreatedAtIdx:q("idx_tx_from_created_at").on(t.fromUserId,t.createdAt.desc()),statusIdx:q("idx_tx_status").on(t.status),typeIdx:q("idx_tx_type").on(t.type),toUserStatusIdx:q("idx_tx_to_status").on(t.toUserId,t.status)})),sPe=be("categories",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),name:N("name").notNull().unique(),slug:N("slug").notNull().unique(),description:ge("description"),imageUrl:N("image_url"),isActive:Ee("is_active").default(!0),sortOrder:ie("sort_order").default(0),createdAt:R("created_at").defaultNow()}),aPe=Se("stream_status",["scheduled","live","ended","cancelled"]),iPe=Se("stream_type",["public","private","subscribers_only"]),Kf=be("live_streams",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),creatorId:N("creator_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),title:N("title").notNull(),description:ge("description"),type:iPe("type").default("public").notNull(),status:aPe("status").default("scheduled").notNull(),priceCents:ie("price_cents").default(0),streamKey:N("stream_key"),streamUrl:N("stream_url"),thumbnailUrl:N("thumbnail_url"),getstreamCallId:N("getstream_call_id"),recordingUrl:N("recording_url"),playbackUrl:N("playback_url"),hlsPlaylistUrl:N("hls_playlist_url"),rtmpIngestUrl:N("rtmp_ingest_url"),viewersCount:ie("viewers_count").default(0),maxViewers:ie("max_viewers").default(0),totalTipsCents:ie("total_tips_cents").default(0),scheduledFor:R("scheduled_for"),startedAt:R("started_at"),endedAt:R("ended_at"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()});be("stream_viewers",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),streamId:N("stream_id").notNull().references(()=>Kf.id,{onDelete:"cascade"}),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),joinedAt:R("joined_at").defaultNow(),leftAt:R("left_at")});const oPe=Se("holographic_mode",["vr","ar","mixed","360","spatial"]),kW=Se("holographic_quality",["low","medium","high","ultra"]),lPe=be("holographic_streams",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),liveStreamId:N("live_stream_id").notNull().unique().references(()=>Kf.id,{onDelete:"cascade"}),mode:oPe("mode").default("vr").notNull(),quality:kW("quality").default("medium").notNull(),webxrSessionId:N("webxr_session_id"),spatialAudioEnabled:Ee("spatial_audio_enabled").default(!0),handTrackingEnabled:Ee("hand_tracking_enabled").default(!1),eyeTrackingEnabled:Ee("eye_tracking_enabled").default(!1),environmentPreset:N("environment_preset").default("studio"),customEnvironmentUrl:N("custom_environment_url"),lightingPreset:N("lighting_preset").default("balanced"),maxConcurrentViewers:ie("max_concurrent_viewers").default(50),minFrameRate:ie("min_frame_rate").default(60),adaptiveQuality:Ee("adaptive_quality").default(!0),avatarInteractionEnabled:Ee("avatar_interaction_enabled").default(!0),gestureControlsEnabled:Ee("gesture_controls_enabled").default(!0),voiceCommandsEnabled:Ee("voice_commands_enabled").default(!1),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>({liveStreamIdx:q("idx_holographic_live_stream").on(t.liveStreamId),modeIdx:q("idx_holographic_mode").on(t.mode)}));be("holographic_sessions",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),holographicStreamId:N("holographic_stream_id").notNull().references(()=>lPe.id,{onDelete:"cascade"}),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),deviceType:N("device_type"),browserAgent:N("browser_agent"),webxrMode:N("webxr_mode"),isActive:Ee("is_active").default(!0),renderQuality:kW("render_quality").default("medium"),currentFrameRate:ie("current_frame_rate"),latencyMs:ie("latency_ms"),avatarPosition:pe("avatar_position"),avatarRotation:pe("avatar_rotation"),viewDirection:pe("view_direction"),handsTracked:Ee("hands_tracked").default(!1),eyeGazeTracked:Ee("eye_gaze_tracked").default(!1),gestureData:pe("gesture_data").default({}),joinedAt:R("joined_at").defaultNow(),lastActivityAt:R("last_activity_at").defaultNow(),leftAt:R("left_at")},t=>({streamUserIdx:q("idx_holographic_sessions_stream_user").on(t.holographicStreamId,t.userId),activeSessionsIdx:q("idx_holographic_active_sessions").on(t.holographicStreamId,t.isActive)}));be("holographic_avatars",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().unique().references(()=>Re.id,{onDelete:"cascade"}),modelType:N("model_type").default("humanoid"),modelUrl:N("model_url"),textureUrl:N("texture_url"),bodyPreset:N("body_preset"),facePreset:N("face_preset"),colorScheme:pe("color_scheme").default({}),accessories:pe("accessories").default([]),idleAnimation:N("idle_animation").default("standing"),gestureAnimations:pe("gesture_animations").default({}),emotionAnimations:pe("emotion_animations").default({}),voiceProfileUrl:N("voice_profile_url"),spatialAudioSettings:pe("spatial_audio_settings").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>({userIdx:q("idx_holographic_avatars_user").on(t.userId)}));const cPe=Se("lovense_device_status",["connected","disconnected","error"]),dPe=Se("lovense_action_type",["tip","manual","pattern","remote_control"]),AW=be("lovense_devices",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),creatorId:N("creator_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),deviceId:N("device_id").notNull(),deviceName:N("device_name").notNull(),deviceType:N("device_type").notNull(),status:cPe("status").default("disconnected").notNull(),isEnabled:Ee("is_enabled").default(!0),batteryLevel:ie("battery_level"),lastConnected:R("last_connected"),createdAt:R("created_at").defaultNow()},t=>({creatorDeviceIdx:q("idx_lovense_creator_device").on(t.creatorId,t.deviceId)})),uPe=be("lovense_device_actions",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),deviceId:N("device_id").notNull().references(()=>AW.id,{onDelete:"cascade"}),streamId:N("stream_id").references(()=>Kf.id,{onDelete:"cascade"}),triggeredByUserId:N("triggered_by_user_id").references(()=>Re.id,{onDelete:"set null"}),actionType:dPe("action_type").notNull(),intensity:ie("intensity"),duration:ie("duration"),pattern:N("pattern"),tipAmount:ie("tip_amount_cents"),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow()},t=>({deviceCreatedIdx:q("idx_lovense_actions_device_created").on(t.deviceId,t.createdAt.desc()),streamCreatedIdx:q("idx_lovense_actions_stream_created").on(t.streamId,t.createdAt.desc())})),PW=be("lovense_integration_settings",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),creatorId:N("creator_id").notNull().references(()=>Re.id,{onDelete:"cascade"}).unique(),isEnabled:Ee("is_enabled").default(!1),connectAppToken:N("connect_app_token"),domainKey:N("domain_key"),tipMinimum:ie("tip_minimum_cents").default(100),tipMaximum:ie("tip_maximum_cents").default(1e4),intensityMapping:pe("intensity_mapping").default({}),allowRemoteControl:Ee("allow_remote_control").default(!1),allowPatterns:Ee("allow_patterns").default(!0),customPatterns:pe("custom_patterns").default({}),lastSync:R("last_sync"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()}),hPe=be("lovense_accounts",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),authType:N("auth_type").notNull().default("qr_code"),accessToken:ge("access_token"),refreshToken:ge("refresh_token"),tokenExpiry:R("token_expiry"),qrCodeData:pe("qr_code_data").default({}),connectionStatus:N("connection_status").default("disconnected").notNull(),lastConnectedAt:R("last_connected_at"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>({userIdx:sn("idx_lovense_accounts_user").on(t.userId)})),mPe=be("lovense_mappings",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),eventType:N("event_type").notNull(),triggerValue:ie("trigger_value"),pattern:N("pattern").notNull(),intensity:ie("intensity").notNull().default(5),duration:ie("duration").notNull().default(3),isActive:Ee("is_active").default(!0),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>({userEventIdx:q("idx_lovense_mappings_user_event").on(t.userId,t.eventType)})),fPe=be("lovense_sessions",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),sessionId:N("session_id").notNull().unique(),streamId:N("stream_id").references(()=>Kf.id,{onDelete:"cascade"}),connectionStatus:N("connection_status").default("connecting").notNull(),clientInfo:pe("client_info").default({}),lastPingAt:R("last_ping_at"),connectedAt:R("connected_at"),disconnectedAt:R("disconnected_at"),createdAt:R("created_at").defaultNow()},t=>({userSessionIdx:q("idx_lovense_sessions_user_session").on(t.userId,t.sessionId),streamSessionIdx:q("idx_lovense_sessions_stream").on(t.streamId,t.connectedAt.desc()),statusIdx:q("idx_lovense_sessions_status").on(t.connectionStatus)})),pPe=Se("costar_verification_status",["pending","approved","rejected","expired"]),xPe=be("costar_verifications",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),mediaId:N("media_id").references(()=>Fc.id,{onDelete:"cascade"}),liveStreamId:N("live_stream_id").references(()=>Kf.id,{onDelete:"cascade"}),primaryCreatorId:N("primary_creator_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),coStarUserId:N("co_star_user_id").references(()=>Re.id,{onDelete:"set null"}),coStarEmail:N("co_star_email"),status:pPe("status").default("pending").notNull(),inviteToken:N("invite_token").unique(),consentDocument2257Id:N("consent_document_2257_id").references(()=>pW.id,{onDelete:"set null"}),signedAt:R("signed_at"),kycVerificationId:N("kyc_verification_id").references(()=>fW.id,{onDelete:"set null"}),notes:ge("notes"),expiresAt:R("expires_at"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>({mediaCreatorIdx:q("idx_costar_media_creator").on(t.mediaId,t.primaryCreatorId),streamCreatorIdx:q("idx_costar_stream_creator").on(t.liveStreamId,t.primaryCreatorId),statusIdx:q("idx_costar_status").on(t.status),inviteTokenIdx:q("idx_costar_invite_token").on(t.inviteToken)})),gPe=be("media_2257_links",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),mediaId:N("media_id").notNull().references(()=>Fc.id,{onDelete:"cascade"}),record2257Id:N("record_2257_id").notNull().references(()=>pW.id,{onDelete:"cascade"}),role:N("role").notNull().default("primary"),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),createdAt:R("created_at").defaultNow()},t=>({mediaRecordIdx:sn("idx_media_2257_media_record").on(t.mediaId,t.record2257Id),mediaUserRoleIdx:q("idx_media_2257_media_user_role").on(t.mediaId,t.userId,t.role)})),vPe=be("custodian_of_records",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),name:N("name").notNull(),title:N("title").notNull(),businessName:N("business_name").notNull(),address:ge("address").notNull(),phone:N("phone").notNull(),email:N("email").notNull(),isActive:Ee("is_active").default(!0),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>({activeIdx:q("idx_custodian_active").on(t.isActive)})),yPe=Se("report_type",["spam","harassment","inappropriate_content","copyright","fake_account","other"]),bPe=Se("report_status",["pending","reviewing","resolved","dismissed"]),jPe=be("reports",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),reporterId:N("reporter_id").notNull().references(()=>Re.id),reportedUserId:N("reported_user_id").references(()=>Re.id),reportedPostId:N("reported_post_id").references(()=>Jg.id),type:yPe("type").notNull(),reason:ge("reason").notNull(),status:bPe("status").default("pending").notNull(),reviewerId:N("reviewer_id").references(()=>Re.id),reviewNotes:ge("review_notes"),resolvedAt:R("resolved_at"),createdAt:R("created_at").defaultNow()}),wPe=Se("notification_kind",["payout","moderation","kyc","system","fan_activity","dmca"]);be("notifications",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),kind:wPe("kind").notNull(),type:N("type"),title:N("title"),message:ge("message"),payloadJson:pe("payload_json").default({}),readAt:R("read_at"),deliveredAt:R("delivered_at"),createdAt:R("created_at").defaultNow()});Me(Re).pick({id:!0,username:!0,email:!0,password:!0,firstName:!0,lastName:!0,profileImageUrl:!0,role:!0,authProvider:!0});Xr({username:mt().min(1),password:mt().min(1)});Xr({username:mt().min(3).max(30),email:mt().email(),password:mt().min(6),role:po(["fan","creator","admin"]).default("fan"),firstName:mt().optional(),lastName:mt().optional()});Me(lAe).pick({userId:!0,provider:!0,providerId:!0,email:!0,displayName:!0,profileUrl:!0,profileImageUrl:!0,accessToken:!0,refreshToken:!0,expiresAt:!0});Xr({provider:po(["google","facebook","twitter","discord","github"]),code:mt().optional(),state:mt().optional()});Me(Qs).pick({displayName:!0,bio:!0,avatarUrl:!0,publicFlags:!0});Me(Fc).pick({title:!0,description:!0,s3Key:!0,mimeType:!0,size:!0,checksum:!0});Me(_Ae).pick({amountCents:!0,currency:!0});Me(LAe).pick({url:!0,eventsJson:!0});Me(jW).pick({name:!0,colors:!0,typography:!0,effects:!0});Me(jW).pick({name:!0,isActive:!0,colors:!0,typography:!0,effects:!0});Me(wW).pick({name:!0});Me(rw).pick({label:!0});Me(zAe).pick({settingsJson:!0});Me(BAe).pick({path:!0,storageKey:!0,mimeType:!0,sizeBytes:!0});Me(_W).pick({slug:!0,title:!0,template:!0,status:!0,seoJson:!0});Me(qAe).pick({type:!0,sortOrder:!0,propsJson:!0});Me(NW).pick({handle:!0,title:!0});Me(UAe).pick({title:!0,url:!0,sortOrder:!0});Me(VAe).pick({monthlyPriceCents:!0,coverImageUrl:!0,socialProfiles:!0,welcomeMessageEnabled:!0,welcomeMessageText:!0,welcomeMessagePriceCents:!0,categories:!0});Me(vW).omit({id:!0,fanId:!0,creatorId:!0,stripeSubscriptionId:!0,status:!0,monthlyPriceCents:!0,currentPeriodStart:!0,currentPeriodEnd:!0,cancelledAt:!0,createdAt:!0,updatedAt:!0});Me(Jg).omit({id:!0,creatorId:!0,likesCount:!0,commentsCount:!0,viewsCount:!0,isProcessing:!0,processingStatus:!0,createdAt:!0,updatedAt:!0});Me(CT).pick({postId:!0,content:!0,parentId:!0});Me(YAe).pick({postId:!0,commentId:!0}).superRefine((t,r)=>{const n=!!t.postId,s=!!t.commentId;!n&&!s&&r.addIssue({code:pt.custom,message:"Either postId or commentId is required",path:["postId"]}),n&&s&&r.addIssue({code:pt.custom,message:"Cannot like both a post and comment simultaneously",path:["postId"]})});Me(SW).omit({id:!0,senderId:!0,readAt:!0,isPaid:!0,createdAt:!0});Me(CW).omit({id:!0,fromUserId:!0,toUserId:!0,platformFeeCents:!0,creatorEarningsCents:!0,status:!0,stripePaymentIntentId:!0,createdAt:!0});Xr({creatorUserId:mt().uuid("Invalid creator ID format"),amount:tn().int().min(1,"Amount must be at least 1 cent").max(1e8,"Amount too large")});Xr({creatorUserId:mt().uuid("Invalid creator ID format"),mediaId:mt().uuid("Invalid media ID format"),amount:tn().int().min(1,"Amount must be at least 1 cent").max(1e8,"Amount too large")});Xr({creatorUserId:mt().uuid("Invalid creator ID format"),amount:tn().int().min(1,"Amount must be at least 1 cent").max(1e8,"Amount too large"),message:mt().min(1,"Message cannot be empty").max(500,"Message too long").optional()});Xr({creatorUserId:mt().uuid("Invalid creator ID format"),tokenCount:tn().int().min(1,"Token count must be at least 1").max(1e4,"Too many tokens"),tokenValue:tn().int().min(1,"Token value must be at least 1 cent").max(1e4,"Token value too high")});Me(AW).pick({deviceId:!0,deviceName:!0,deviceType:!0,isEnabled:!0});Me(uPe).pick({deviceId:!0,streamId:!0,actionType:!0,intensity:!0,duration:!0,pattern:!0,tipAmount:!0,metadata:!0});Me(PW).pick({isEnabled:!0,connectAppToken:!0,domainKey:!0,tipMinimum:!0,tipMaximum:!0,intensityMapping:!0,allowRemoteControl:!0,allowPatterns:!0,customPatterns:!0});Me(hPe).omit({id:!0,createdAt:!0,updatedAt:!0});Me(mPe).omit({id:!0,createdAt:!0,updatedAt:!0});Me(fPe).omit({id:!0,createdAt:!0});Me(xPe).omit({id:!0,createdAt:!0,updatedAt:!0});Me(gPe).omit({id:!0,createdAt:!0});Me(vPe).omit({id:!0,createdAt:!0,updatedAt:!0});Me(PW).pick({isEnabled:!0,connectAppToken:!0,domainKey:!0,tipMinimum:!0,tipMaximum:!0,intensityMapping:!0,allowRemoteControl:!0,allowPatterns:!0,customPatterns:!0});Xr({action:po(["vibrate","rotate","pump","stop"]),intensity:tn().min(0).max(20).optional(),duration:tn().min(1).max(300).optional(),pattern:mt().optional()});Xr({deviceId:mt(),action:po(["test_vibration","check_battery","ping"]),intensity:tn().min(1).max(10).optional().default(5),duration:tn().min(1).max(5).optional().default(2)});Xr({notes:mt().max(1e3,"Notes too long").optional()});Me(sPe).pick({name:!0,slug:!0,description:!0,imageUrl:!0,sortOrder:!0});const _Pe=Me(Kf).pick({title:!0,description:!0,type:!0,priceCents:!0,scheduledFor:!0});Me(jPe).pick({reportedUserId:!0,reportedPostId:!0,type:!0,reason:!0});const NPe=Me(tw).omit({id:!0,createdAt:!0,updatedAt:!0,currentSubscribers:!0});NPe.partial();const SPe=Me(ST).omit({id:!0,createdAt:!0,updatedAt:!0,currentUsageCount:!0});SPe.partial();Xr({code:mt().min(1),subscriptionPlanId:mt().optional()});Xr({code:mt().min(1),subscriptionPlanId:mt()});Me(HAe).omit({id:!0,createdAt:!0,updatedAt:!0,renewalCount:!0});const CPe=Se("admin_permission",["moderation_queue","user_management","theme_management","analytics_access","content_approval","system_settings"]),kPe=be("delegated_permissions",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),grantedBy:N("granted_by").notNull().references(()=>Re.id,{onDelete:"cascade"}),permission:CPe("permission").notNull(),granted:Ee("granted").default(!0).notNull(),createdAt:R("created_at").defaultNow(),expiresAt:R("expires_at")},t=>[sn("unique_user_permission").on(t.userId,t.permission)]);Me(kPe).omit({id:!0,createdAt:!0});const APe=Se("comment_status",["approved","pending","flagged","hidden","deleted"]),PPe=Se("sentiment",["positive","neutral","negative","toxic"]),TPe=be("comment_moderations",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),commentId:N("comment_id").notNull().references(()=>CT.id,{onDelete:"cascade"}),moderatorId:N("moderator_id").references(()=>Re.id),status:APe("status").notNull(),reason:ge("reason"),autoModerated:Ee("auto_moderated").default(!1),aiConfidence:ie("ai_confidence").default(0),sentimentScore:PPe("sentiment_score"),toxicityScore:ie("toxicity_score").default(0),spamScore:ie("spam_score").default(0),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>({commentIdIdx:q("idx_comment_mods_comment").on(t.commentId),statusIdx:q("idx_comment_mods_status").on(t.status),moderatorIdx:q("idx_comment_mods_moderator").on(t.moderatorId)})),EPe=Se("message_status",["normal","flagged","hidden","deleted"]),OPe=Se("message_flag_reason",["spam","harassment","inappropriate","scam","other"]),IPe=be("message_moderations",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),messageId:N("message_id").notNull().references(()=>SW.id,{onDelete:"cascade"}),reporterId:N("reporter_id").references(()=>Re.id),moderatorId:N("moderator_id").references(()=>Re.id),status:EPe("status").notNull(),flagReason:OPe("flag_reason"),notes:ge("notes"),autoFlagged:Ee("auto_flagged").default(!1),reviewRequired:Ee("review_required").default(!1),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>({messageIdIdx:q("idx_msg_mods_message").on(t.messageId),statusIdx:q("idx_msg_mods_status").on(t.status),moderatorIdx:q("idx_msg_mods_moderator").on(t.moderatorId)})),MPe=Se("announcement_type",["system","feature","maintenance","promotion","emergency"]),DPe=Se("announcement_status",["draft","scheduled","active","paused","ended","cancelled"]),kT=Se("target_audience",["all","creators","fans","subscribers","verified","custom"]),AT=be("announcements",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),creatorId:N("creator_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),title:N("title").notNull(),content:ge("content").notNull(),type:MPe("type").notNull(),status:DPe("status").default("draft").notNull(),targetAudience:kT("target_audience").default("all").notNull(),customAudienceFilter:pe("custom_audience_filter").default({}),channels:ge("channels").array().default(["in_app"]),priority:ie("priority").default(1),scheduledFor:R("scheduled_for"),expiresAt:R("expires_at"),imageUrl:N("image_url"),linkUrl:N("link_url"),linkText:N("link_text"),impressions:ie("impressions").default(0),clicks:ie("clicks").default(0),dismissals:ie("dismissals").default(0),isAbTest:Ee("is_ab_test").default(!1),abTestGroup:N("ab_test_group"),abTestParentId:N("ab_test_parent_id").references(()=>AT.id),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>({statusIdx:q("idx_announcements_status").on(t.status),creatorIdx:q("idx_announcements_creator").on(t.creatorId),scheduledIdx:q("idx_announcements_scheduled").on(t.scheduledFor),typeIdx:q("idx_announcements_type").on(t.type)})),RPe=Se("delivery_status",["pending","sent","delivered","failed","bounced"]);be("announcement_deliveries",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),announcementId:N("announcement_id").notNull().references(()=>AT.id,{onDelete:"cascade"}),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),channel:N("channel").notNull(),status:RPe("status").default("pending").notNull(),sentAt:R("sent_at"),deliveredAt:R("delivered_at"),readAt:R("read_at"),clickedAt:R("clicked_at"),dismissedAt:R("dismissed_at"),errorMessage:ge("error_message"),externalId:N("external_id"),createdAt:R("created_at").defaultNow()},t=>({announcementUserIdx:q("idx_announcement_deliveries_user").on(t.announcementId,t.userId),statusIdx:q("idx_announcement_deliveries_status").on(t.status),channelIdx:q("idx_announcement_deliveries_channel").on(t.channel)}));const LPe=Se("campaign_status",["draft","scheduled","sending","sent","paused","cancelled"]),FPe=Se("notification_platform",["web","ios","android","desktop"]),PT=be("push_notification_campaigns",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),creatorId:N("creator_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),name:N("name").notNull(),title:N("title").notNull(),body:ge("body").notNull(),icon:N("icon"),image:N("image"),badgeIcon:N("badge_icon"),sound:N("sound").default("default"),clickAction:N("click_action"),deepLink:N("deep_link"),status:LPe("status").default("draft").notNull(),targetPlatforms:ge("target_platforms").array().default(["web","ios","android"]),targetAudience:kT("target_audience").default("all").notNull(),customAudienceFilter:pe("custom_audience_filter").default({}),scheduledFor:R("scheduled_for"),timeZone:N("time_zone").default("UTC"),sendImmediately:Ee("send_immediately").default(!1),totalTargeted:ie("total_targeted").default(0),totalSent:ie("total_sent").default(0),totalDelivered:ie("total_delivered").default(0),totalClicked:ie("total_clicked").default(0),totalFailed:ie("total_failed").default(0),isAbTest:Ee("is_ab_test").default(!1),abTestGroup:N("ab_test_group"),abTestParentId:N("ab_test_parent_id").references(()=>PT.id),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>({statusIdx:q("idx_push_campaigns_status").on(t.status),creatorIdx:q("idx_push_campaigns_creator").on(t.creatorId),scheduledIdx:q("idx_push_campaigns_scheduled").on(t.scheduledFor)})),$Pe=Se("push_delivery_status",["pending","sent","delivered","clicked","failed","expired"]);be("push_notification_deliveries",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),campaignId:N("campaign_id").notNull().references(()=>PT.id,{onDelete:"cascade"}),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),platform:FPe("platform").notNull(),deviceToken:N("device_token"),status:$Pe("status").default("pending").notNull(),sentAt:R("sent_at"),deliveredAt:R("delivered_at"),clickedAt:R("clicked_at"),errorMessage:ge("error_message"),fcmMessageId:N("fcm_message_id"),apnsMessageId:N("apns_message_id"),createdAt:R("created_at").defaultNow()},t=>({campaignUserIdx:q("idx_push_deliveries_campaign_user").on(t.campaignId,t.userId),statusIdx:q("idx_push_deliveries_status").on(t.status),platformIdx:q("idx_push_deliveries_platform").on(t.platform)}));const _d=Se("consent_status",["granted","denied","pending","withdrawn"]),zPe=be("user_communication_preferences",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),emailMarketing:_d("email_marketing").default("pending").notNull(),emailTransactional:_d("email_transactional").default("granted").notNull(),emailSystem:_d("email_system").default("granted").notNull(),pushMarketing:_d("push_marketing").default("pending").notNull(),pushTransactional:_d("push_transactional").default("granted").notNull(),pushSystem:_d("push_system").default("granted").notNull(),smsMarketing:_d("sms_marketing").default("denied").notNull(),smsTransactional:_d("sms_transactional").default("denied").notNull(),inAppAnnouncements:Ee("in_app_announcements").default(!0),inAppNotifications:Ee("in_app_notifications").default(!0),maxDailyEmails:ie("max_daily_emails").default(5),maxDailyPush:ie("max_daily_push").default(10),maxWeeklySms:ie("max_weekly_sms").default(2),webPushToken:N("web_push_token"),iosPushToken:N("ios_push_token"),androidPushToken:N("android_push_token"),desktopPushToken:N("desktop_push_token"),lastUpdated:R("last_updated").defaultNow(),consentDate:R("consent_date").defaultNow(),ipAddress:N("ip_address"),userAgent:N("user_agent"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>({userIdIdx:q("idx_user_comm_prefs_user").on(t.userId)}));be("communication_analytics",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),date:R("date").notNull(),type:N("type").notNull(),totalSent:ie("total_sent").default(0),totalDelivered:ie("total_delivered").default(0),totalOpened:ie("total_opened").default(0),totalClicked:ie("total_clicked").default(0),totalReplied:ie("total_replied").default(0),totalReported:ie("total_reported").default(0),totalBlocked:ie("total_blocked").default(0),totalFlagged:ie("total_flagged").default(0),totalApproved:ie("total_approved").default(0),totalRejected:ie("total_rejected").default(0),autoModerationAccuracy:Ye("auto_moderation_accuracy",{precision:5,scale:2}),averageEngagementRate:Ye("average_engagement_rate",{precision:5,scale:2}),averageSentimentScore:Ye("average_sentiment_score",{precision:5,scale:2}),toxicContentPercentage:Ye("toxic_content_percentage",{precision:5,scale:2}),spamDetectionRate:Ye("spam_detection_rate",{precision:5,scale:2}),createdAt:R("created_at").defaultNow()},t=>({dateTypeIdx:q("idx_comm_analytics_date_type").on(t.date,t.type),typeIdx:q("idx_comm_analytics_type").on(t.type)}));const BPe=Se("message_template_type",["welcome","promotion","announcement","reminder","custom"]),qPe=be("mass_message_templates",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),creatorId:N("creator_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),name:N("name").notNull(),type:BPe("type").notNull(),subject:N("subject"),content:ge("content").notNull(),mediaUrl:N("media_url"),priceCents:ie("price_cents").default(0),targetAudience:kT("target_audience").default("all").notNull(),customAudienceFilter:pe("custom_audience_filter").default({}),isActive:Ee("is_active").default(!0),timesUsed:ie("times_used").default(0),averageResponseRate:Ye("average_response_rate",{precision:5,scale:2}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>({creatorTypeIdx:q("idx_msg_templates_creator_type").on(t.creatorId,t.type),activeIdx:q("idx_msg_templates_active").on(t.isActive)}));Me(TPe).omit({id:!0,createdAt:!0,updatedAt:!0});Me(IPe).omit({id:!0,createdAt:!0,updatedAt:!0});Me(AT).omit({id:!0,impressions:!0,clicks:!0,dismissals:!0,createdAt:!0,updatedAt:!0});Me(PT).omit({id:!0,totalTargeted:!0,totalSent:!0,totalDelivered:!0,totalClicked:!0,totalFailed:!0,createdAt:!0,updatedAt:!0});Me(zPe).omit({id:!0,lastUpdated:!0,consentDate:!0,createdAt:!0,updatedAt:!0});Me(qPe).omit({id:!0,timesUsed:!0,averageResponseRate:!0,createdAt:!0,updatedAt:!0});const UPe=Se("dmca_status",["pending","processed","rejected","counter_claimed"]),VPe=Se("repeat_infringer_status",["warning","probation","suspended","terminated"]),KPe=Se("content_hash_algorithm",["md5","sha256","perceptual"]),TW=be("dmca_requests",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),complaintId:N("complaint_id").notNull().unique(),complainantName:N("complainant_name").notNull(),complainantEmail:N("complainant_email").notNull(),complainantAddress:ge("complainant_address").notNull(),copyrightOwner:N("copyright_owner").notNull(),workDescription:ge("work_description").notNull(),infringementUrls:ge("infringement_urls").array().notNull(),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),mediaAssetId:N("media_asset_id").references(()=>Fc.id,{onDelete:"set null"}),status:UPe("status").default("pending").notNull(),submittedAt:R("submitted_at").defaultNow(),processedAt:R("processed_at"),processorId:N("processor_id").references(()=>Re.id,{onDelete:"set null"}),legalHoldApplied:Ee("legal_hold_applied").default(!1),contentHash:N("content_hash"),counterNotification:pe("counter_notification"),counterSubmittedAt:R("counter_submitted_at"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()}),WPe=be("repeat_infringers",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().unique().references(()=>Re.id,{onDelete:"cascade"}),infringementCount:ie("infringement_count").default(0),firstInfringement:R("first_infringement").defaultNow(),lastInfringement:R("last_infringement").defaultNow(),status:VPe("status").default("warning").notNull(),strikeHistory:ge("strike_history").array().default([]),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()}),HPe=be("content_hashes",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),hash:N("hash").notNull(),algorithm:KPe("algorithm").notNull(),mediaAssetId:N("media_asset_id").notNull().references(()=>Fc.id,{onDelete:"cascade"}),dmcaRequestId:N("dmca_request_id").references(()=>TW.id,{onDelete:"cascade"}),blockedAt:R("blocked_at").defaultNow(),expiresAt:R("expires_at"),createdAt:R("created_at").defaultNow()},t=>[q("idx_content_hash").on(t.hash),q("idx_content_hash_algorithm").on(t.algorithm)]);Me(TW).omit({id:!0,createdAt:!0,updatedAt:!0});Me(WPe).omit({id:!0,createdAt:!0,updatedAt:!0});Me(HPe).omit({id:!0,createdAt:!0});const TT=Se("blockchain",["ethereum","polygon","base","arbitrum","solana"]),GPe=Se("nft_status",["minting","minted","transferred","burned","failed"]),EW=be("nft_assets",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),mediaAssetId:N("media_asset_id").notNull().references(()=>Fc.id,{onDelete:"cascade"}),creatorId:N("creator_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),ownerId:N("owner_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),tokenId:N("token_id"),contractAddress:N("contract_address"),blockchain:TT("blockchain").notNull(),metadataUri:ge("metadata_uri"),ipfsHash:N("ipfs_hash"),status:GPe("status").default("minting").notNull(),mintPriceCents:ie("mint_price_cents").default(0),currentPriceCents:ie("current_price_cents"),royaltyPercentage:ie("royalty_percentage").default(1e3),isExclusive:Ee("is_exclusive").default(!0),unlockableContentUrl:N("unlockable_content_url"),accessDuration:ie("access_duration"),transactionHash:N("transaction_hash"),forensicSignature:ge("forensic_signature"),mintedBy:N("minted_by").default("crossmint"),totalResales:ie("total_resales").default(0),totalRoyaltiesCents:ie("total_royalties_cents").default(0),lastSaleAt:R("last_sale_at"),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_nft_assets_creator").on(t.creatorId),q("idx_nft_assets_owner").on(t.ownerId),q("idx_nft_assets_media").on(t.mediaAssetId),q("idx_nft_assets_status").on(t.status)]),ZPe=Se("nft_transaction_type",["mint","sale","transfer","burn"]),YPe=be("nft_transactions",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),nftAssetId:N("nft_asset_id").notNull().references(()=>EW.id,{onDelete:"cascade"}),type:ZPe("type").notNull(),fromUserId:N("from_user_id").references(()=>Re.id,{onDelete:"set null"}),toUserId:N("to_user_id").references(()=>Re.id,{onDelete:"set null"}),priceCents:ie("price_cents").default(0),royaltyCents:ie("royalty_cents").default(0),platformFeeCents:ie("platform_fee_cents").default(0),transactionHash:N("transaction_hash"),blockchain:TT("blockchain").notNull(),blockNumber:N("block_number"),gasFeeCents:ie("gas_fee_cents"),fanzWalletTransactionId:N("fanz_wallet_transaction_id"),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow()},t=>[q("idx_nft_transactions_asset").on(t.nftAssetId),q("idx_nft_transactions_from").on(t.fromUserId),q("idx_nft_transactions_to").on(t.toUserId),q("idx_nft_transactions_type").on(t.type)]),QPe=be("nft_collections",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),creatorId:N("creator_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),name:N("name").notNull(),description:ge("description"),coverImageUrl:N("cover_image_url"),contractAddress:N("contract_address"),blockchain:TT("blockchain").notNull(),maxSupply:ie("max_supply"),currentSupply:ie("current_supply").default(0),defaultRoyaltyPercentage:ie("default_royalty_percentage").default(1e3),isPublic:Ee("is_public").default(!0),isVerified:Ee("is_verified").default(!1),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_nft_collections_creator").on(t.creatorId)]);Me(EW).omit({id:!0,tokenId:!0,transactionHash:!0,status:!0,totalResales:!0,totalRoyaltiesCents:!0,lastSaleAt:!0,createdAt:!0,updatedAt:!0});Me(YPe).omit({id:!0,createdAt:!0});Me(QPe).omit({id:!0,currentSupply:!0,isVerified:!0,createdAt:!0,updatedAt:!0});const XPe=Se("analytics_event_type",["page_view","media_view","purchase","tip","subscription","message","like","comment","share","upload","stream_start","stream_end","nft_mint","nft_purchase","profile_view","search"]),JPe=be("analytics_events",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),eventType:XPe("event_type").notNull(),userId:N("user_id").references(()=>Re.id,{onDelete:"set null"}),sessionId:N("session_id"),targetId:N("target_id"),targetType:N("target_type"),properties:pe("properties").default({}),revenue:Ye("revenue",{precision:10,scale:2}),ipAddress:N("ip_address"),userAgent:ge("user_agent"),referrer:ge("referrer"),timestamp:R("timestamp").defaultNow(),createdAt:R("created_at").defaultNow()},t=>[q("idx_analytics_events_timestamp").on(t.timestamp),q("idx_analytics_events_user_id").on(t.userId),q("idx_analytics_events_type").on(t.eventType)]),OW=Se("alert_severity",["low","medium","high","critical"]),e4e=Se("alert_status",["active","resolved","suppressed"]),IW=be("alert_rules",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),name:N("name").notNull(),description:ge("description"),metric:N("metric").notNull(),threshold:Ye("threshold",{precision:15,scale:2}).notNull(),comparison:N("comparison").notNull(),timeWindow:ie("time_window").default(300),severity:OW("severity").default("medium").notNull(),isEnabled:Ee("is_enabled").default(!0),notificationChannels:ge("notification_channels").array().default(["email"]),createdBy:N("created_by").references(()=>Re.id,{onDelete:"set null"}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()}),t4e=be("alerts",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),ruleId:N("rule_id").notNull().references(()=>IW.id,{onDelete:"cascade"}),message:ge("message").notNull(),severity:OW("severity").notNull(),status:e4e("status").default("active").notNull(),value:Ye("value",{precision:15,scale:2}),threshold:Ye("threshold",{precision:15,scale:2}),metadata:pe("metadata").default({}),triggeredAt:R("triggered_at").defaultNow(),resolvedAt:R("resolved_at"),acknowledgedBy:N("acknowledged_by").references(()=>Re.id,{onDelete:"set null"}),acknowledgedAt:R("acknowledged_at")}),r4e=be("feed_preferences",{userId:N("user_id").primaryKey().references(()=>Re.id,{onDelete:"cascade"}),personalizedEnabled:Ee("personalized_enabled").default(!0),aiRecommendations:Ee("ai_recommendations").default(!0),contentTags:ge("content_tags").array().default([]),excludedTags:ge("excluded_tags").array().default([]),followedCreators:ge("followed_creators").array().default([]),blockedUsers:ge("blocked_users").array().default([]),ageVerificationStatus:Ee("age_verification_status").default(!1),showBlurredContent:Ee("show_blurred_content").default(!0),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()}),n4e=be("dashboard_charts",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),name:N("name").notNull(),description:ge("description"),chartType:N("chart_type").notNull(),vegaLiteSpec:pe("vega_lite_spec").notNull(),dataSource:N("data_source").notNull(),filters:pe("filters").default({}),refreshInterval:ie("refresh_interval").default(60),isPublic:Ee("is_public").default(!1),position:ie("position").default(0),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()}),s4e=Se("age_verification_method",["id_document","credit_card","phone_verification","third_party"]),a4e=be("age_verifications",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),method:s4e("method").notNull(),verificationData:pe("verification_data").default({}),isVerified:Ee("is_verified").default(!1),verifiedAt:R("verified_at"),expiresAt:R("expires_at"),ipAddress:N("ip_address"),userAgent:ge("user_agent"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()});Me(JPe).omit({id:!0,createdAt:!0});Me(IW).omit({id:!0,createdAt:!0,updatedAt:!0});Me(t4e).omit({id:!0,triggeredAt:!0});Me(r4e).omit({createdAt:!0,updatedAt:!0});Me(n4e).omit({id:!0,createdAt:!0,updatedAt:!0});Me(a4e).omit({id:!0,createdAt:!0,updatedAt:!0});const nw=Se("performance_tier",["bronze","silver","gold","platinum","diamond"]);Se("bonus_type",["milestone","quality","referral","loyalty","volume","consistency"]);const i4e=be("performance_tiers",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),tier:nw("tier").default("bronze").notNull(),monthlyEarnings:Ye("monthly_earnings",{precision:10,scale:2}).default("0"),totalVolume:Ye("total_volume",{precision:12,scale:2}).default("0"),transactionCount:ie("transaction_count").default(0),consistencyScore:ie("consistency_score").default(0),qualityScore:ie("quality_score").default(0),referralCount:ie("referral_count").default(0),feeReduction:Ye("fee_reduction",{precision:5,scale:4}).default("0"),bonusEligible:Ee("bonus_eligible").default(!0),nextTierEarnings:Ye("next_tier_earnings",{precision:10,scale:2}),tierAchievedAt:R("tier_achieved_at").defaultNow(),periodStart:R("period_start").defaultNow(),periodEnd:R("period_end"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_performance_tiers_user_period").on(t.userId,t.periodStart),q("idx_performance_tiers_tier").on(t.tier)]),o4e=Se("enhanced_transaction_type",["subscription","ppv","tip","live_token","shop_sale","nft_sale","collaboration","bonus","referral_commission"]),l4e=be("enhanced_transactions",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),type:o4e("type").notNull(),grossAmount:Ye("gross_amount",{precision:10,scale:2}).notNull(),platformFee:Ye("platform_fee",{precision:10,scale:2}).default("0"),processorFee:Ye("processor_fee",{precision:10,scale:2}).notNull(),feeReduction:Ye("fee_reduction",{precision:10,scale:2}).default("0"),netEarnings:Ye("net_earnings",{precision:10,scale:2}).notNull(),bonusAmount:Ye("bonus_amount",{precision:10,scale:2}).default("0"),taxWithholding:Ye("tax_withholding",{precision:10,scale:2}).default("0"),sourceId:N("source_id"),contentId:N("content_id"),collaborationId:N("collaboration_id"),performanceTier:nw("performance_tier"),volumeDiscount:Ye("volume_discount",{precision:5,scale:4}).default("0"),qualityMultiplier:Ye("quality_multiplier",{precision:3,scale:2}).default("1.0"),metadata:pe("metadata").default({}),processedAt:R("processed_at").defaultNow(),createdAt:R("created_at").defaultNow()},t=>[q("idx_enhanced_transactions_user_date").on(t.userId,t.createdAt),q("idx_enhanced_transactions_type").on(t.type),q("idx_enhanced_transactions_tier").on(t.performanceTier)]),c4e=Se("collaboration_type",["featured","guest","split","crosspromo","series","custom"]),d4e=Se("collaboration_status",["active","expired","pending","cancelled"]),MW=be("collaborations",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),name:N("name").notNull(),description:ge("description"),primaryCreatorId:N("primary_creator_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),type:c4e("type").notNull(),status:d4e("status").default("active").notNull(),startDate:R("start_date").defaultNow(),endDate:R("end_date"),totalEarnings:Ye("total_earnings",{precision:12,scale:2}).default("0"),crossPromoBonus:Ye("cross_promo_bonus",{precision:5,scale:4}).default("0.1"),automaticSplit:Ee("automatic_split").default(!0),customRules:pe("custom_rules").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()}),u4e=be("collaboration_participants",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),collaborationId:N("collaboration_id").notNull().references(()=>MW.id,{onDelete:"cascade"}),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),role:N("role").default("participant"),sharePercentage:Ye("share_percentage",{precision:5,scale:2}).notNull(),minimumPayout:Ye("minimum_payout",{precision:10,scale:2}).default("0"),bonusEligible:Ee("bonus_eligible").default(!0),totalEarned:Ye("total_earned",{precision:10,scale:2}).default("0"),joinedAt:R("joined_at").defaultNow()},t=>[sn("collaboration_user_unique").on(t.collaborationId,t.userId)]),h4e=Se("milestone_type",["earnings","followers","content","engagement","consistency","referrals"]),m4e=Se("bonus_status",["pending","awarded","claimed","expired"]),DW=be("performance_milestones",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),name:N("name").notNull(),description:ge("description"),type:h4e("type").notNull(),targetValue:Ye("target_value",{precision:15,scale:2}).notNull(),bonusAmount:Ye("bonus_amount",{precision:10,scale:2}).notNull(),bonusPercentage:Ye("bonus_percentage",{precision:5,scale:4}),tierRequirement:nw("tier_requirement"),isRepeatable:Ee("is_repeatable").default(!1),timeframe:N("timeframe"),isActive:Ee("is_active").default(!0),createdAt:R("created_at").defaultNow()}),f4e=be("user_milestones",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),milestoneId:N("milestone_id").notNull().references(()=>DW.id,{onDelete:"cascade"}),currentValue:Ye("current_value",{precision:15,scale:2}).default("0"),targetValue:Ye("target_value",{precision:15,scale:2}).notNull(),progress:Ye("progress",{precision:5,scale:2}).default("0"),status:m4e("status").default("pending").notNull(),bonusAmount:Ye("bonus_amount",{precision:10,scale:2}),achievedAt:R("achieved_at"),claimedAt:R("claimed_at"),expiresAt:R("expires_at"),periodStart:R("period_start").defaultNow(),periodEnd:R("period_end"),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_user_milestones_user_status").on(t.userId,t.status),q("idx_user_milestones_achievement").on(t.achievedAt)]),p4e=be("earnings_analytics",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),period:N("period").notNull(),periodStart:R("period_start").notNull(),periodEnd:R("period_end").notNull(),grossRevenue:Ye("gross_revenue",{precision:12,scale:2}).default("0"),netEarnings:Ye("net_earnings",{precision:12,scale:2}).default("0"),platformFees:Ye("platform_fees",{precision:10,scale:2}).default("0"),processorFees:Ye("processor_fees",{precision:10,scale:2}).default("0"),bonusEarnings:Ye("bonus_earnings",{precision:10,scale:2}).default("0"),taxWithholdings:Ye("tax_withholdings",{precision:10,scale:2}).default("0"),transactionCount:ie("transaction_count").default(0),uniqueCustomers:ie("unique_customers").default(0),averageTransactionValue:Ye("average_transaction_value",{precision:10,scale:2}).default("0"),topContentEarnings:pe("top_content_earnings").default([]),performanceTier:nw("performance_tier"),growthRate:Ye("growth_rate",{precision:7,scale:4}),projectedNextPeriod:Ye("projected_next_period",{precision:12,scale:2}),trendDirection:N("trend_direction"),seasonalityFactor:Ye("seasonality_factor",{precision:5,scale:4}).default("1.0"),metadata:pe("metadata").default({}),calculatedAt:R("calculated_at").defaultNow(),createdAt:R("created_at").defaultNow()},t=>[q("idx_earnings_analytics_user_period").on(t.userId,t.period,t.periodStart),sn("earnings_analytics_user_period_unique").on(t.userId,t.period,t.periodStart)]),x4e=Se("tax_jurisdiction",["us_federal","us_state","uk","eu","canada","australia","other"]);Se("tax_document_type",["1099_nec","1099_k","w9","w8ben","annual_summary","quarterly_report"]);const g4e=be("tax_records",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),taxYear:ie("tax_year").notNull(),jurisdiction:x4e("jurisdiction").notNull(),grossIncome:Ye("gross_income",{precision:12,scale:2}).default("0"),withheldAmount:Ye("withheld_amount",{precision:10,scale:2}).default("0"),deductibleExpenses:Ye("deductible_expenses",{precision:10,scale:2}).default("0"),netTaxableIncome:Ye("net_taxable_income",{precision:12,scale:2}).default("0"),estimatedTaxRate:Ye("estimated_tax_rate",{precision:5,scale:4}).default("0"),documentUrls:ge("document_urls").array().default([]),isFinalized:Ee("is_finalized").default(!1),submittedToAuthorities:Ee("submitted_to_authorities").default(!1),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_tax_records_user_year").on(t.userId,t.taxYear),sn("tax_records_user_year_jurisdiction_unique").on(t.userId,t.taxYear,t.jurisdiction)]),v4e=be("volume_tiers",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),tierName:N("tier_name").notNull(),minimumVolume:Ye("minimum_volume",{precision:12,scale:2}).notNull(),maximumVolume:Ye("maximum_volume",{precision:12,scale:2}),feeReduction:Ye("fee_reduction",{precision:5,scale:4}).notNull(),bonusPercentage:Ye("bonus_percentage",{precision:5,scale:4}).default("0"),isActive:Ee("is_active").default(!0),effectiveDate:R("effective_date").defaultNow(),expirationDate:R("expiration_date"),createdAt:R("created_at").defaultNow()},t=>[q("idx_volume_tiers_range").on(t.minimumVolume,t.maximumVolume)]);Me(i4e).omit({id:!0,createdAt:!0,updatedAt:!0});Me(l4e).omit({id:!0,createdAt:!0});Me(MW).omit({id:!0,createdAt:!0,updatedAt:!0});Me(u4e).omit({id:!0,joinedAt:!0});Me(DW).omit({id:!0,createdAt:!0});Me(f4e).omit({id:!0,createdAt:!0,updatedAt:!0});Me(p4e).omit({id:!0,calculatedAt:!0,createdAt:!0});Me(g4e).omit({id:!0,createdAt:!0,updatedAt:!0});Me(v4e).omit({id:!0,createdAt:!0});const y4e=Se("complaint_category",["content","user_behavior","technical","billing","copyright","harassment","spam","other"]),b4e=Se("complaint_priority",["low","medium","high","urgent"]),j4e=Se("complaint_status",["open","in_progress","resolved","closed","escalated"]),RW=be("complaints",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),submitterId:N("submitter_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),subjectUserId:N("subject_user_id").references(()=>Re.id,{onDelete:"set null"}),subjectContentId:N("subject_content_id"),category:y4e("category").notNull(),priority:b4e("priority").default("medium").notNull(),status:j4e("status").default("open").notNull(),title:N("title").notNull(),description:ge("description").notNull(),evidenceUrls:ge("evidence_urls").array().default([]),assignedToId:N("assigned_to_id").references(()=>Re.id,{onDelete:"set null"}),internalNotes:ge("internal_notes"),resolution:ge("resolution"),resolvedAt:R("resolved_at"),resolvedById:N("resolved_by_id").references(()=>Re.id,{onDelete:"set null"}),escalatedAt:R("escalated_at"),escalatedById:N("escalated_by_id").references(()=>Re.id,{onDelete:"set null"}),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_complaints_status_priority").on(t.status,t.priority),q("idx_complaints_assigned_status").on(t.assignedToId,t.status),q("idx_complaints_category_created").on(t.category,t.createdAt.desc())]),w4e=be("complaint_comments",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),complaintId:N("complaint_id").notNull().references(()=>RW.id,{onDelete:"cascade"}),authorId:N("author_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),content:ge("content").notNull(),isInternal:Ee("is_internal").default(!0),attachmentUrls:ge("attachment_urls").array().default([]),createdAt:R("created_at").defaultNow()},t=>[q("idx_complaint_comments_complaint").on(t.complaintId,t.createdAt)]);Se("dashboard_widget_type",["stat_card","chart","table","activity_feed","quick_actions","alert_panel"]);Se("chart_type",["line","bar","pie","doughnut","area","gauge"]);const _4e=be("admin_dashboard_configs",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),name:N("name").notNull(),isDefault:Ee("is_default").default(!1),layout:pe("layout").notNull(),widgets:pe("widgets").notNull(),refreshInterval:ie("refresh_interval").default(300),isActive:Ee("is_active").default(!0),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_admin_dashboard_user").on(t.userId,t.isActive)]),N4e=Se("admin_report_type",["financial","user_analytics","content","compliance","custom"]),S4e=Se("report_frequency",["on_demand","daily","weekly","monthly","quarterly","yearly"]),C4e=Se("report_format",["pdf","csv","excel","json"]),LW=be("admin_report_templates",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),name:N("name").notNull(),description:ge("description"),type:N4e("type").notNull(),config:pe("config").notNull(),frequency:S4e("frequency").default("on_demand").notNull(),format:C4e("format").default("pdf").notNull(),recipients:ge("recipients").array().default([]),isActive:Ee("is_active").default(!0),createdById:N("created_by_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),lastGenerated:R("last_generated"),nextScheduled:R("next_scheduled"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_admin_reports_type_active").on(t.type,t.isActive),q("idx_admin_reports_next_scheduled").on(t.nextScheduled)]),k4e=be("admin_report_runs",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),templateId:N("template_id").notNull().references(()=>LW.id,{onDelete:"cascade"}),status:N("status").default("pending").notNull(),parameters:pe("parameters").default({}),outputUrl:N("output_url"),fileSize:ie("file_size"),generatedById:N("generated_by_id").references(()=>Re.id,{onDelete:"set null"}),errorMessage:ge("error_message"),startedAt:R("started_at").defaultNow(),completedAt:R("completed_at"),createdAt:R("created_at").defaultNow()},t=>[q("idx_admin_report_runs_template").on(t.templateId,t.createdAt.desc()),q("idx_admin_report_runs_status").on(t.status)]),A4e=be("system_metrics",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),metricName:N("metric_name").notNull(),metricValue:Ye("metric_value",{precision:15,scale:6}).notNull(),metricUnit:N("metric_unit"),category:N("category").notNull(),tags:pe("tags").default({}),collectedAt:R("collected_at").defaultNow(),createdAt:R("created_at").defaultNow()},t=>[q("idx_system_metrics_name_time").on(t.metricName,t.collectedAt.desc()),q("idx_system_metrics_category").on(t.category,t.collectedAt.desc())]);Me(RW).omit({id:!0,createdAt:!0,updatedAt:!0});Me(w4e).omit({id:!0,createdAt:!0});Me(_4e).omit({id:!0,createdAt:!0,updatedAt:!0});Me(LW).omit({id:!0,createdAt:!0,updatedAt:!0});Me(k4e).omit({id:!0,createdAt:!0});Me(A4e).omit({id:!0,createdAt:!0});Me(yW).omit({id:!0,createdAt:!0,updatedAt:!0});Me(fW).omit({id:!0,createdAt:!0,updatedAt:!0});const FW=Se("leaderboard_type",["earnings","engagement","followers","content","tips","streams","posts"]),P4e=Se("leaderboard_period",["daily","weekly","monthly","quarterly","yearly","all_time"]),$W=be("leaderboards",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),name:N("name").notNull(),type:FW("type").notNull(),period:P4e("period").notNull(),description:ge("description"),isActive:Ee("is_active").default(!0),isPublic:Ee("is_public").default(!0),maxEntries:ie("max_entries").default(100),scoringAlgorithm:pe("scoring_algorithm").default({}),weights:pe("weights").default({}),criteria:pe("criteria").default({}),prizesEnabled:Ee("prizes_enabled").default(!1),prizeStructure:pe("prize_structure").default({}),resetFrequency:N("reset_frequency").default("weekly"),lastResetAt:R("last_reset_at"),nextResetAt:R("next_reset_at"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_leaderboards_type_period").on(t.type,t.period),q("idx_leaderboards_active").on(t.isActive)]),T4e=be("leaderboard_entries",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),leaderboardId:N("leaderboard_id").notNull().references(()=>$W.id,{onDelete:"cascade"}),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),score:Ye("score",{precision:15,scale:2}).notNull(),rank:ie("rank").notNull(),previousRank:ie("previous_rank"),rankChange:ie("rank_change").default(0),bonus:Ye("bonus",{precision:10,scale:2}).default("0"),badge:N("badge"),metadata:pe("metadata").default({}),periodStart:R("period_start").notNull(),periodEnd:R("period_end").notNull(),lastUpdated:R("last_updated").defaultNow(),createdAt:R("created_at").defaultNow()},t=>[sn("unique_leaderboard_user_period").on(t.leaderboardId,t.userId,t.periodStart),q("idx_leaderboard_entries_rank").on(t.leaderboardId,t.rank),q("idx_leaderboard_entries_score").on(t.leaderboardId,t.score.desc()),q("idx_leaderboard_entries_user").on(t.userId)]),zW=be("leaderboard_achievements",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),name:N("name").notNull(),description:ge("description"),badgeIcon:N("badge_icon"),badgeColor:N("badge_color"),leaderboardType:FW("leaderboard_type"),requirement:pe("requirement").notNull(),isActive:Ee("is_active").default(!0),createdAt:R("created_at").defaultNow()}),E4e=be("user_achievements",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),achievementId:N("achievement_id").notNull().references(()=>zW.id,{onDelete:"cascade"}),unlockedAt:R("unlocked_at").defaultNow(),isVisible:Ee("is_visible").default(!0),metadata:pe("metadata").default({})},t=>[sn("unique_user_achievement").on(t.userId,t.achievementId),q("idx_user_achievements_user").on(t.userId)]),O4e=Se("consent_form_type",["model_release","costar_consent","age_verification","custom_form"]),I4e=Se("consent_form_status",["pending","signed","expired","withdrawn","rejected"]),BW=be("consent_form_templates",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),name:N("name").notNull(),type:O4e("type").notNull(),version:N("version").default("1.0"),description:ge("description"),formData:pe("form_data").notNull(),legalText:ge("legal_text").notNull(),requirements:pe("requirements").default({}),expirationDays:ie("expiration_days").default(365),isActive:Ee("is_active").default(!0),isRequired:Ee("is_required").default(!1),jurisdiction:N("jurisdiction").default("US"),createdBy:N("created_by").references(()=>Re.id),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()}),qW=be("consent_forms",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),templateId:N("template_id").notNull().references(()=>BW.id),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),costarUserId:N("costar_user_id").references(()=>Re.id,{onDelete:"cascade"}),status:I4e("status").default("pending").notNull(),formData:pe("form_data").notNull(),documentsUploaded:ge("documents_uploaded").array().default([]),digitalSignature:ge("digital_signature"),ipAddress:N("ip_address"),signedAt:R("signed_at"),expiresAt:R("expires_at"),withdrawnAt:R("withdrawn_at"),withdrawalReason:ge("withdrawal_reason"),reviewedBy:N("reviewed_by").references(()=>Re.id),reviewedAt:R("reviewed_at"),reviewNotes:ge("review_notes"),notificationsSent:pe("notifications_sent").default([]),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_consent_forms_user").on(t.userId),q("idx_consent_forms_status").on(t.status),q("idx_consent_forms_expires").on(t.expiresAt),q("idx_consent_forms_costar").on(t.costarUserId)]),M4e=be("consent_notification_schedule",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),consentFormId:N("consent_form_id").notNull().references(()=>qW.id,{onDelete:"cascade"}),notificationType:N("notification_type").notNull(),scheduledFor:R("scheduled_for").notNull(),sentAt:R("sent_at"),status:N("status").default("pending"),createdAt:R("created_at").defaultNow()},t=>[q("idx_consent_notifications_scheduled").on(t.scheduledFor),q("idx_consent_notifications_status").on(t.status)]),D4e=Se("story_status",["active","expired","archived","hidden","flagged"]),R4e=Se("story_type",["photo","video","text","poll","question"]),ET=be("stories",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),creatorId:N("creator_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),type:R4e("type").notNull(),status:D4e("status").default("active").notNull(),mediaUrl:N("media_url"),thumbnailUrl:N("thumbnail_url"),text:ge("text"),duration:ie("duration"),viewsCount:ie("views_count").default(0),likesCount:ie("likes_count").default(0),repliesCount:ie("replies_count").default(0),isHighlighted:Ee("is_highlighted").default(!1),isPromoted:Ee("is_promoted").default(!1),pollData:pe("poll_data"),questionData:pe("question_data"),viewerList:pe("viewer_list").default([]),expiresAt:R("expires_at").notNull(),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_stories_creator_created").on(t.creatorId,t.createdAt.desc()),q("idx_stories_status_expires").on(t.status,t.expiresAt),q("idx_stories_promoted").on(t.isPromoted)]),L4e=be("story_views",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),storyId:N("story_id").notNull().references(()=>ET.id,{onDelete:"cascade"}),viewerId:N("viewer_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),viewedAt:R("viewed_at").defaultNow(),viewDuration:ie("view_duration")},t=>[sn("unique_story_viewer").on(t.storyId,t.viewerId),q("idx_story_views_story").on(t.storyId),q("idx_story_views_viewer").on(t.viewerId)]),F4e=be("story_replies",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),storyId:N("story_id").notNull().references(()=>ET.id,{onDelete:"cascade"}),fromUserId:N("from_user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),content:ge("content").notNull(),mediaUrl:N("media_url"),createdAt:R("created_at").defaultNow()},t=>[q("idx_story_replies_story").on(t.storyId),q("idx_story_replies_from").on(t.fromUserId)]),$4e=Se("product_status",["draft","active","inactive","out_of_stock","discontinued"]),z4e=Se("product_type",["digital","physical","subscription","bundle"]),B4e=Se("order_status",["pending","confirmed","processing","shipped","delivered","cancelled","refunded"]),q4e=Se("fulfillment_status",["pending","processing","shipped","delivered","cancelled"]),OT=be("product_categories",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),name:N("name").notNull(),slug:N("slug").notNull().unique(),description:ge("description"),imageUrl:N("image_url"),parentId:N("parent_id").references(()=>OT.id),sortOrder:ie("sort_order").default(0),isActive:Ee("is_active").default(!0),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_product_categories_parent").on(t.parentId),q("idx_product_categories_active").on(t.isActive)]),IT=be("products",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),creatorId:N("creator_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),categoryId:N("category_id").references(()=>OT.id),name:N("name").notNull(),slug:N("slug").notNull(),description:ge("description"),shortDescription:ge("short_description"),type:z4e("type").notNull(),status:$4e("status").default("draft").notNull(),priceCents:ie("price_cents").notNull(),comparePriceCents:ie("compare_price_cents"),costCents:ie("cost_cents"),sku:N("sku"),barcode:N("barcode"),weight:ie("weight"),dimensions:pe("dimensions"),images:ge("images").array().default([]),tags:ge("tags").array().default([]),inventory:pe("inventory").default({}),shippingRequired:Ee("shipping_required").default(!1),shippingSettings:pe("shipping_settings").default({}),digitalAssets:ge("digital_assets").array().default([]),metadata:pe("metadata").default({}),seoTitle:N("seo_title"),seoDescription:ge("seo_description"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[sn("unique_creator_product_slug").on(t.creatorId,t.slug),q("idx_products_creator_status").on(t.creatorId,t.status),q("idx_products_category").on(t.categoryId),q("idx_products_status").on(t.status)]),UW=be("product_variants",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),productId:N("product_id").notNull().references(()=>IT.id,{onDelete:"cascade"}),title:N("title").notNull(),option1:N("option1"),option2:N("option2"),option3:N("option3"),priceCents:ie("price_cents").notNull(),comparePriceCents:ie("compare_price_cents"),costCents:ie("cost_cents"),sku:N("sku"),barcode:N("barcode"),inventoryQuantity:ie("inventory_quantity").default(0),weight:ie("weight"),imageUrl:N("image_url"),position:ie("position").default(0),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_product_variants_product").on(t.productId),q("idx_product_variants_sku").on(t.sku)]),VW=be("orders",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),orderNumber:N("order_number").notNull().unique(),customerId:N("customer_id").notNull().references(()=>Re.id),creatorId:N("creator_id").notNull().references(()=>Re.id),status:B4e("status").default("pending").notNull(),fulfillmentStatus:q4e("fulfillment_status").default("pending").notNull(),subtotalCents:ie("subtotal_cents").notNull(),taxCents:ie("tax_cents").default(0),shippingCents:ie("shipping_cents").default(0),discountCents:ie("discount_cents").default(0),totalCents:ie("total_cents").notNull(),currency:N("currency").default("USD"),customerEmail:N("customer_email").notNull(),shippingAddress:pe("shipping_address"),billingAddress:pe("billing_address"),paymentMethod:N("payment_method"),paymentStatus:N("payment_status").default("pending"),paymentReference:N("payment_reference"),notes:ge("notes"),cancelReason:ge("cancel_reason"),cancelledAt:R("cancelled_at"),processedAt:R("processed_at"),shippedAt:R("shipped_at"),deliveredAt:R("delivered_at"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_orders_customer").on(t.customerId),q("idx_orders_creator").on(t.creatorId),q("idx_orders_status").on(t.status),q("idx_orders_number").on(t.orderNumber)]),U4e=be("order_line_items",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),orderId:N("order_id").notNull().references(()=>VW.id,{onDelete:"cascade"}),productId:N("product_id").references(()=>IT.id),variantId:N("variant_id").references(()=>UW.id),title:N("title").notNull(),variantTitle:N("variant_title"),quantity:ie("quantity").notNull(),priceCents:ie("price_cents").notNull(),totalCents:ie("total_cents").notNull(),sku:N("sku"),productData:pe("product_data"),createdAt:R("created_at").defaultNow()},t=>[q("idx_order_line_items_order").on(t.orderId),q("idx_order_line_items_product").on(t.productId)]),V4e=Se("billing_cycle",["weekly","monthly","quarterly","annually"]),K4e=Se("invoice_status",["draft","sent","paid","overdue","cancelled","refunded"]);Se("payment_method_type",["card","bank_transfer","crypto","paypal","stripe_connect","wire"]);const KW=be("billing_profiles",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),companyName:N("company_name"),taxId:N("tax_id"),vatNumber:N("vat_number"),billingAddress:pe("billing_address").notNull(),paymentTerms:ie("payment_terms").default(30),preferredCurrency:N("preferred_currency").default("USD"),billingCycle:V4e("billing_cycle").default("monthly"),creditLimit:ie("credit_limit_cents").default(0),currentBalance:ie("current_balance_cents").default(0),autoPayEnabled:Ee("auto_pay_enabled").default(!1),invoiceDeliveryMethod:N("invoice_delivery_method").default("email"),customFields:pe("custom_fields").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_billing_profiles_user").on(t.userId),q("idx_billing_profiles_tax_id").on(t.taxId)]),W4e=be("invoices",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),invoiceNumber:N("invoice_number").notNull().unique(),billingProfileId:N("billing_profile_id").notNull().references(()=>KW.id),customerId:N("customer_id").notNull().references(()=>Re.id),status:K4e("status").default("draft"),subtotalCents:ie("subtotal_cents").notNull(),taxCents:ie("tax_cents").default(0),discountCents:ie("discount_cents").default(0),totalCents:ie("total_cents").notNull(),currency:N("currency").default("USD"),dueDate:R("due_date").notNull(),paidAt:R("paid_at"),paymentReference:N("payment_reference"),notes:ge("notes"),lineItems:pe("line_items").notNull(),taxBreakdown:pe("tax_breakdown").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_invoices_billing_profile").on(t.billingProfileId),q("idx_invoices_customer").on(t.customerId),q("idx_invoices_status").on(t.status),q("idx_invoices_due_date").on(t.dueDate)]),H4e=Se("tax_type",["vat","sales","gst","income","withholding","digital_services"]),G4e=Se("tax_calculation_method",["inclusive","exclusive","compound"]),Z4e=be("tax_rates",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),name:N("name").notNull(),code:N("code").notNull(),taxType:H4e("tax_type").notNull(),rate:Ye("rate",{precision:5,scale:4}).notNull(),jurisdiction:N("jurisdiction").notNull(),region:N("region"),calculationMethod:G4e("calculation_method").default("exclusive"),isActive:Ee("is_active").default(!0),effectiveFrom:R("effective_from").notNull(),effectiveTo:R("effective_to"),description:ge("description"),applicableBusinessTypes:ge("applicable_business_types").array().default([]),thresholdCents:ie("threshold_cents").default(0),exemptions:pe("exemptions").default({}),apiIntegration:pe("api_integration").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_tax_rates_jurisdiction").on(t.jurisdiction),q("idx_tax_rates_active").on(t.isActive),q("idx_tax_rates_effective").on(t.effectiveFrom,t.effectiveTo),sn("unique_tax_rate_code").on(t.code)]),Y4e=Se("gateway_status",["active","inactive","testing","maintenance"]),Q4e=Se("gateway_type",["stripe","paypal","square","coinbase","bitpay","bank_transfer","custom"]),WW=be("payment_gateways",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),name:N("name").notNull(),type:Q4e("type").notNull(),status:Y4e("status").default("inactive"),configuration:pe("configuration").notNull(),credentials:pe("credentials").notNull(),supportedCurrencies:ge("supported_currencies").array().default(["USD"]),supportedCountries:ge("supported_countries").array().default([]),feeStructure:pe("fee_structure").notNull(),minimumAmount:ie("minimum_amount_cents").default(100),maximumAmount:ie("maximum_amount_cents"),processingTimeHours:ie("processing_time_hours").default(24),webhookUrl:N("webhook_url"),webhookSecret:N("webhook_secret"),testMode:Ee("test_mode").default(!0),priority:ie("priority").default(0),autoRetryEnabled:Ee("auto_retry_enabled").default(!0),fraudDetectionSettings:pe("fraud_detection_settings").default({}),complianceSettings:pe("compliance_settings").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_payment_gateways_type").on(t.type),q("idx_payment_gateways_status").on(t.status),q("idx_payment_gateways_priority").on(t.priority)]),X4e=Se("deposit_method",["bank_transfer","wire","crypto","card","paypal","stripe_transfer"]),J4e=Se("deposit_status",["pending","processing","completed","failed","cancelled","under_review"]),eTe=Se("aml_status",["clear","flagged","under_review","blocked","escalated"]),HW=be("deposit_methods",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),method:X4e("method").notNull(),accountDetails:pe("account_details").notNull(),verificationStatus:N("verification_status").default("pending"),verificationDocuments:pe("verification_documents").default({}),isDefault:Ee("is_default").default(!1),isActive:Ee("is_active").default(!0),minimumDeposit:ie("minimum_deposit_cents").default(1e3),maximumDeposit:ie("maximum_deposit_cents").default(1e6),feeStructure:pe("fee_structure").default({}),lastUsedAt:R("last_used_at"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_deposit_methods_user").on(t.userId),q("idx_deposit_methods_method").on(t.method),q("idx_deposit_methods_verification").on(t.verificationStatus)]),GW=be("deposits",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),depositMethodId:N("deposit_method_id").references(()=>HW.id),referenceNumber:N("reference_number").notNull().unique(),amountCents:ie("amount_cents").notNull(),currency:N("currency").default("USD"),exchangeRate:Ye("exchange_rate",{precision:10,scale:6}),convertedAmountCents:ie("converted_amount_cents"),feeCents:ie("fee_cents").default(0),netAmountCents:ie("net_amount_cents").notNull(),status:J4e("status").default("pending"),amlStatus:eTe("aml_status").default("clear"),riskScore:ie("risk_score").default(0),gatewayId:N("gateway_id").references(()=>WW.id),externalReference:N("external_reference"),processedBy:N("processed_by").references(()=>Re.id),processedAt:R("processed_at"),notes:ge("notes"),fraudAnalysis:pe("fraud_analysis").default({}),complianceChecks:pe("compliance_checks").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_deposits_user").on(t.userId),q("idx_deposits_status").on(t.status),q("idx_deposits_aml_status").on(t.amlStatus),q("idx_deposits_created_at").on(t.createdAt.desc()),q("idx_deposits_reference").on(t.referenceNumber)]),tTe=Se("financial_report_type",["revenue","transactions","tax","billing","deposits","payouts","compliance"]),rTe=Se("financial_report_format",["pdf","csv","xlsx","json"]),nTe=be("financial_reports",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),name:N("name").notNull(),type:tTe("type").notNull(),format:rTe("format").default("pdf"),schedule:N("schedule"),parameters:pe("parameters").default({}),filters:pe("filters").default({}),generatedBy:N("generated_by").references(()=>Re.id),generatedAt:R("generated_at"),fileUrl:N("file_url"),fileSize:ie("file_size"),recordCount:ie("record_count"),status:N("status").default("pending"),error:ge("error"),isAutomated:Ee("is_automated").default(!1),retentionDays:ie("retention_days").default(365),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_financial_reports_type").on(t.type),q("idx_financial_reports_generated_by").on(t.generatedBy),q("idx_financial_reports_generated_at").on(t.generatedAt.desc())]),sTe=Se("fraud_rule_type",["velocity","amount","geo","device","behavioral","pattern"]),ZW=Se("risk_level",["low","medium","high","critical"]),YW=be("fraud_rules",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),name:N("name").notNull(),type:sTe("type").notNull(),riskLevel:ZW("risk_level").notNull(),isActive:Ee("is_active").default(!0),conditions:pe("conditions").notNull(),actions:pe("actions").notNull(),scoreAdjustment:ie("score_adjustment").default(0),blockTransaction:Ee("block_transaction").default(!1),requireManualReview:Ee("require_manual_review").default(!1),notifyAdmin:Ee("notify_admin").default(!1),priority:ie("priority").default(0),description:ge("description"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_fraud_rules_type").on(t.type),q("idx_fraud_rules_active").on(t.isActive),q("idx_fraud_rules_priority").on(t.priority)]),aTe=be("fraud_alerts",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),transactionId:N("transaction_id").references(()=>CW.id),depositId:N("deposit_id").references(()=>GW.id),userId:N("user_id").notNull().references(()=>Re.id),ruleId:N("rule_id").references(()=>YW.id),riskScore:ie("risk_score").notNull(),riskLevel:ZW("risk_level").notNull(),status:N("status").default("pending"),reviewedBy:N("reviewed_by").references(()=>Re.id),reviewedAt:R("reviewed_at"),resolution:N("resolution"),notes:ge("notes"),triggerData:pe("trigger_data").notNull(),actionsTaken:pe("actions_taken").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_fraud_alerts_user").on(t.userId),q("idx_fraud_alerts_status").on(t.status),q("idx_fraud_alerts_risk_level").on(t.riskLevel),q("idx_fraud_alerts_created_at").on(t.createdAt.desc())]),iTe=Se("aml_check_type",["sanctions","pep","adverse_media","identity","source_of_funds"]),oTe=Se("kyc_document_type",["passport","drivers_license","national_id","utility_bill","bank_statement","tax_document"]),lTe=be("aml_checks",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),checkType:iTe("check_type").notNull(),provider:N("provider").notNull(),providerReference:N("provider_reference"),status:N("status").default("pending"),result:N("result"),confidence:Ye("confidence",{precision:3,scale:2}),matchDetails:pe("match_details").default({}),rawResponse:pe("raw_response").default({}),cost:ie("cost_cents").default(0),processedAt:R("processed_at"),expiresAt:R("expires_at"),createdAt:R("created_at").defaultNow()},t=>[q("idx_aml_checks_user").on(t.userId),q("idx_aml_checks_type").on(t.checkType),q("idx_aml_checks_status").on(t.status),q("idx_aml_checks_expires_at").on(t.expiresAt)]),cTe=be("kyc_documents",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),documentType:oTe("document_type").notNull(),frontImageUrl:N("front_image_url"),backImageUrl:N("back_image_url"),extractedData:pe("extracted_data").default({}),verificationStatus:N("verification_status").default("pending"),verificationProvider:N("verification_provider"),verificationReference:N("verification_reference"),rejectionReason:ge("rejection_reason"),expiryDate:R("expiry_date"),issuingCountry:N("issuing_country"),documentNumber:N("document_number"),uploadedAt:R("uploaded_at").defaultNow(),verifiedAt:R("verified_at"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_kyc_documents_user").on(t.userId),q("idx_kyc_documents_type").on(t.documentType),q("idx_kyc_documents_status").on(t.verificationStatus)]),dTe=be("financial_settings",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),settingKey:N("setting_key").notNull().unique(),settingValue:pe("setting_value").notNull(),description:ge("description"),category:N("category").notNull(),isEncrypted:Ee("is_encrypted").default(!1),lastModifiedBy:N("last_modified_by").references(()=>Re.id),validationRules:pe("validation_rules").default({}),effectiveFrom:R("effective_from").defaultNow(),effectiveTo:R("effective_to"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_financial_settings_category").on(t.category),q("idx_financial_settings_effective").on(t.effectiveFrom,t.effectiveTo)]),uTe=Se("storage_provider",["aws_s3","digitalocean_spaces","wasabi","backblaze_b2","vultr_object_storage","pushr"]),hTe=Se("storage_config_status",["active","inactive","testing","error","maintenance"]),mTe=Se("storage_health_status",["healthy","degraded","unhealthy","unknown"]);Se("storage_tier",["hot","warm","cold","archive"]);const Sf=be("storage_provider_configs",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),provider:uTe("provider").notNull(),name:N("name").notNull(),isActive:Ee("is_active").default(!1),isPrimary:Ee("is_primary").default(!1),status:hTe("status").default("inactive"),configData:pe("config_data").notNull().default({}),region:N("region"),bucket:N("bucket"),endpoint:N("endpoint"),cdnHostname:N("cdn_hostname"),costPerGb:Ye("cost_per_gb",{precision:10,scale:6}),bandwidthCostPerGb:Ye("bandwidth_cost_per_gb",{precision:10,scale:6}),maxStorageGb:ie("max_storage_gb"),maxBandwidthGb:ie("max_bandwidth_gb"),cdnEnabled:Ee("cdn_enabled").default(!1),versioning:Ee("versioning").default(!1),encryption:Ee("encryption").default(!0),publicRead:Ee("public_read").default(!1),healthCheckEnabled:Ee("health_check_enabled").default(!0),healthCheckIntervalMinutes:ie("health_check_interval_minutes").default(5),alertThresholds:pe("alert_thresholds").default({}),description:ge("description"),tags:ge("tags").array().default([]),configuredBy:N("configured_by").notNull().references(()=>Re.id),lastConfiguredBy:N("last_configured_by").references(()=>Re.id),lastTestResult:pe("last_test_result").default({}),lastTestedAt:R("last_tested_at"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[sn("unique_provider_name").on(t.provider,t.name),q("idx_storage_provider_active").on(t.isActive),q("idx_storage_provider_primary").on(t.isPrimary),q("idx_storage_provider_status").on(t.status)]),fTe=be("storage_provider_health",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),providerId:N("provider_id").notNull().references(()=>Sf.id,{onDelete:"cascade"}),healthStatus:mTe("health_status").notNull(),responseTimeMs:ie("response_time_ms"),availability:Ye("availability",{precision:5,scale:2}),errorRate:Ye("error_rate",{precision:5,scale:2}),lastError:ge("last_error"),errorDetails:pe("error_details").default({}),uploadSpeedMbps:Ye("upload_speed_mbps",{precision:10,scale:2}),downloadSpeedMbps:Ye("download_speed_mbps",{precision:10,scale:2}),totalStorageGb:Ye("total_storage_gb",{precision:15,scale:6}),usedStorageGb:Ye("used_storage_gb",{precision:15,scale:6}),fileCount:ie("file_count"),checkedAt:R("checked_at").defaultNow()},t=>[q("idx_storage_health_provider_time").on(t.providerId,t.checkedAt.desc()),q("idx_storage_health_status").on(t.healthStatus)]),pTe=be("storage_provider_costs",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),providerId:N("provider_id").notNull().references(()=>Sf.id,{onDelete:"cascade"}),periodStart:R("period_start").notNull(),periodEnd:R("period_end").notNull(),storageCost:Ye("storage_cost",{precision:10,scale:4}).default("0"),bandwidthCost:Ye("bandwidth_cost",{precision:10,scale:4}).default("0"),requestCost:Ye("request_cost",{precision:10,scale:4}).default("0"),totalCost:Ye("total_cost",{precision:10,scale:4}).default("0"),averageStorageGb:Ye("average_storage_gb",{precision:15,scale:6}),totalBandwidthGb:Ye("total_bandwidth_gb",{precision:15,scale:6}),totalRequests:ie("total_requests"),recommendations:pe("recommendations").default([]),potentialSavings:Ye("potential_savings",{precision:10,scale:4}).default("0"),calculatedAt:R("calculated_at").defaultNow()},t=>[q("idx_storage_costs_provider_period").on(t.providerId,t.periodStart.desc()),q("idx_storage_costs_period").on(t.periodStart,t.periodEnd)]),xTe=be("storage_provider_alerts",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),providerId:N("provider_id").notNull().references(()=>Sf.id,{onDelete:"cascade"}),alertType:N("alert_type").notNull(),severity:N("severity").notNull(),title:N("title").notNull(),message:ge("message").notNull(),details:pe("details").default({}),isAcknowledged:Ee("is_acknowledged").default(!1),acknowledgedBy:N("acknowledged_by").references(()=>Re.id),acknowledgedAt:R("acknowledged_at"),isResolved:Ee("is_resolved").default(!1),resolvedBy:N("resolved_by").references(()=>Re.id),resolvedAt:R("resolved_at"),resolutionNotes:ge("resolution_notes"),createdAt:R("created_at").defaultNow()},t=>[q("idx_storage_alerts_provider").on(t.providerId),q("idx_storage_alerts_severity").on(t.severity),q("idx_storage_alerts_unresolved").on(t.isResolved,t.createdAt.desc())]),gTe=be("storage_provider_failover",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),primaryProviderId:N("primary_provider_id").notNull().references(()=>Sf.id,{onDelete:"cascade"}),backupProviderId:N("backup_provider_id").notNull().references(()=>Sf.id,{onDelete:"cascade"}),isActive:Ee("is_active").default(!0),failoverThreshold:ie("failover_threshold").default(3),healthCheckIntervalSeconds:ie("health_check_interval_seconds").default(30),automaticFailback:Ee("automatic_failback").default(!1),lastFailoverAt:R("last_failover_at"),failoverCount:ie("failover_count").default(0),lastFailbackAt:R("last_failback_at"),failbackCount:ie("failback_count").default(0),syncEnabled:Ee("sync_enabled").default(!1),syncIntervalHours:ie("sync_interval_hours").default(24),lastSyncAt:R("last_sync_at"),configuredBy:N("configured_by").notNull().references(()=>Re.id),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[sn("unique_primary_backup").on(t.primaryProviderId,t.backupProviderId),q("idx_failover_active").on(t.isActive),q("idx_failover_primary").on(t.primaryProviderId)]),vTe=Se("suspension_reason",["violation","abuse","fraud","dmca","manual","auto_flag"]),yTe=Se("ban_type",["temporary","permanent","shadow"]),bTe=be("user_suspensions",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),reason:vTe("reason").notNull(),banType:yTe("ban_type").notNull(),description:ge("description").notNull(),violationDetails:pe("violation_details").default({}),suspendedBy:N("suspended_by").notNull().references(()=>Re.id),duration:ie("duration"),startedAt:R("started_at").defaultNow(),endsAt:R("ends_at"),liftedAt:R("lifted_at"),liftedBy:N("lifted_by").references(()=>Re.id),liftReason:ge("lift_reason"),appealSubmitted:Ee("appeal_submitted").default(!1),appealText:ge("appeal_text"),appealedAt:R("appealed_at"),appealDecision:N("appeal_decision"),appealDecidedBy:N("appeal_decided_by").references(()=>Re.id),appealDecidedAt:R("appeal_decided_at"),isActive:Ee("is_active").default(!0),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_user_suspensions_user").on(t.userId),q("idx_user_suspensions_active").on(t.isActive),q("idx_user_suspensions_ends").on(t.endsAt)]),jTe=be("user_activity_log",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),activity:N("activity").notNull(),details:pe("details").default({}),ipAddress:N("ip_address"),userAgent:ge("user_agent"),sessionId:N("session_id"),timestamp:R("timestamp").defaultNow()},t=>[q("idx_user_activity_user_time").on(t.userId,t.timestamp.desc()),q("idx_user_activity_activity").on(t.activity)]),wTe=Se("system_setting_type",["string","number","boolean","json","encrypted"]),_Te=Se("system_setting_category",["general","maintenance","email","theme","security","backup","api","features","languages","custom"]),NTe=be("system_settings",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),key:N("key").notNull().unique(),value:ge("value"),encryptedValue:ge("encrypted_value"),type:wTe("type").default("string").notNull(),category:_Te("category").default("general").notNull(),name:N("name").notNull(),description:ge("description"),defaultValue:ge("default_value"),validationRules:pe("validation_rules").default({}),isPublic:Ee("is_public").default(!1),isReadOnly:Ee("is_read_only").default(!1),requiresRestart:Ee("requires_restart").default(!1),environment:N("environment").default("production"),canOverrideInEnv:Ee("can_override_in_env").default(!0),envVarName:N("env_var_name"),lastModifiedBy:N("last_modified_by").references(()=>Re.id),lastModifiedAt:R("last_modified_at").defaultNow(),changeReason:ge("change_reason"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_system_settings_category").on(t.category),q("idx_system_settings_environment").on(t.environment),q("idx_system_settings_public").on(t.isPublic)]);be("system_setting_history",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),settingId:N("setting_id").notNull().references(()=>NTe.id,{onDelete:"cascade"}),oldValue:ge("old_value"),newValue:ge("new_value"),changeType:N("change_type").notNull(),changedBy:N("changed_by").references(()=>Re.id),changeReason:ge("change_reason"),rollbackData:pe("rollback_data").default({}),createdAt:R("created_at").defaultNow()},t=>[q("idx_system_setting_history_setting").on(t.settingId),q("idx_system_setting_history_changed_by").on(t.changedBy),q("idx_system_setting_history_created").on(t.createdAt.desc())]);be("maintenance_schedule",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),title:N("title").notNull(),description:ge("description"),maintenanceType:N("maintenance_type").notNull(),startTime:R("start_time").notNull(),endTime:R("end_time").notNull(),timezone:N("timezone").default("UTC"),status:N("status").default("scheduled").notNull(),actualStartTime:R("actual_start_time"),actualEndTime:R("actual_end_time"),enableMaintenanceMode:Ee("enable_maintenance_mode").default(!0),customMessage:ge("custom_message"),allowAdminAccess:Ee("allow_admin_access").default(!0),redirectUrl:N("redirect_url"),notifyUsers:Ee("notify_users").default(!0),notificationChannels:ge("notification_channels").array().default(ye`ARRAY['in_app', 'email']`),notifyHoursBefore:ie("notify_hours_before").default(24),lastNotificationSent:R("last_notification_sent"),affectedServices:ge("affected_services").array().default(ye`ARRAY['all']`),expectedImpact:N("expected_impact").default("full_outage"),createdBy:N("created_by").notNull().references(()=>Re.id),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_maintenance_schedule_start").on(t.startTime),q("idx_maintenance_schedule_status").on(t.status),q("idx_maintenance_schedule_type").on(t.maintenanceType)]);be("email_settings",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),name:N("name").notNull().unique(),isDefault:Ee("is_default").default(!1),isActive:Ee("is_active").default(!0),smtpHost:N("smtp_host").notNull(),smtpPort:ie("smtp_port").default(587),smtpSecurity:N("smtp_security").default("tls"),smtpUsername:N("smtp_username"),smtpPassword:ge("smtp_password"),fromName:N("from_name").notNull(),fromEmail:N("from_email").notNull(),replyToEmail:N("reply_to_email"),maxSendRate:ie("max_send_rate").default(100),enableTracking:Ee("enable_tracking").default(!0),enableBounceHandling:Ee("enable_bounce_handling").default(!0),headerHtml:ge("header_html"),footerHtml:ge("footer_html"),unsubscribeHtml:ge("unsubscribe_html"),lastTestedAt:R("last_tested_at"),testResults:pe("test_results").default({}),createdBy:N("created_by").notNull().references(()=>Re.id),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_email_settings_default").on(t.isDefault),q("idx_email_settings_active").on(t.isActive)]);Me(Sf).omit({id:!0,createdAt:!0,updatedAt:!0});Me(fTe).omit({id:!0});Me(pTe).omit({id:!0});Me(xTe).omit({id:!0,createdAt:!0});Me(gTe).omit({id:!0,createdAt:!0,updatedAt:!0});Me($W).omit({id:!0,createdAt:!0,updatedAt:!0});Me(T4e).omit({id:!0,createdAt:!0});Me(zW).omit({id:!0,createdAt:!0});Me(E4e).omit({id:!0});Me(BW).omit({id:!0,createdAt:!0,updatedAt:!0});Me(qW).omit({id:!0,createdAt:!0,updatedAt:!0});Me(M4e).omit({id:!0,createdAt:!0});Me(ET).omit({id:!0,viewsCount:!0,likesCount:!0,repliesCount:!0,createdAt:!0,updatedAt:!0});Me(L4e).omit({id:!0});Me(F4e).omit({id:!0,createdAt:!0});Me(OT).omit({id:!0,createdAt:!0,updatedAt:!0});Me(IT).omit({id:!0,createdAt:!0,updatedAt:!0});Me(UW).omit({id:!0,createdAt:!0,updatedAt:!0});Me(VW).omit({id:!0,createdAt:!0,updatedAt:!0});Me(U4e).omit({id:!0,createdAt:!0});Me(bTe).omit({id:!0,createdAt:!0,updatedAt:!0});Me(jTe).omit({id:!0});Me(KW).omit({id:!0,createdAt:!0,updatedAt:!0});Me(W4e).omit({id:!0,createdAt:!0,updatedAt:!0});Me(Z4e).omit({id:!0,createdAt:!0,updatedAt:!0});Me(WW).omit({id:!0,createdAt:!0,updatedAt:!0});Me(HW).omit({id:!0,createdAt:!0,updatedAt:!0});Me(GW).omit({id:!0,createdAt:!0,updatedAt:!0});Me(nTe).omit({id:!0,createdAt:!0,updatedAt:!0});Me(YW).omit({id:!0,createdAt:!0,updatedAt:!0});Me(aTe).omit({id:!0,createdAt:!0,updatedAt:!0});Me(lTe).omit({id:!0,createdAt:!0});Me(cTe).omit({id:!0,createdAt:!0,updatedAt:!0});Me(dTe).omit({id:!0,createdAt:!0,updatedAt:!0});const STe=Se("ticket_category",["technical_support","bug_report","feature_request","billing","account_issues","compliance","content_policy","general_inquiry"]),CTe=Se("ticket_priority",["low","normal","high","urgent","critical"]),kTe=Se("ticket_status",["open","pending","in_progress","waiting_user","resolved","closed","escalated"]),ATe=Se("ticket_channel",["in_app","email","chat","api","phone"]),QW=be("support_tickets",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),ticketNumber:N("ticket_number").unique().notNull(),subject:N("subject").notNull(),description:ge("description").notNull(),category:STe("category").notNull(),priority:CTe("priority").default("normal").notNull(),status:kTe("status").default("open").notNull(),channel:ATe("channel").default("in_app").notNull(),userId:N("user_id").references(()=>Rr.id,{onDelete:"cascade"}),userEmail:N("user_email"),userName:N("user_name"),assignedTo:N("assigned_to").references(()=>Rr.id),assignedAt:R("assigned_at"),tags:ge("tags").array().default([]),metadata:pe("metadata").default({}),customerSatisfaction:ie("customer_satisfaction"),firstResponseAt:R("first_response_at"),resolvedAt:R("resolved_at"),closedAt:R("closed_at"),slaBreachAt:R("sla_breach_at"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_support_tickets_user").on(t.userId),q("idx_support_tickets_status").on(t.status),q("idx_support_tickets_category").on(t.category),q("idx_support_tickets_priority").on(t.priority),q("idx_support_tickets_assigned").on(t.assignedTo),q("idx_support_tickets_created").on(t.createdAt)]),PTe=Se("ticket_message_type",["user_message","agent_response","internal_note","system_message","auto_response"]),TTe=be("ticket_messages",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),ticketId:N("ticket_id").notNull().references(()=>QW.id,{onDelete:"cascade"}),authorId:N("author_id").references(()=>Rr.id),type:PTe("type").notNull(),content:ge("content").notNull(),isInternal:Ee("is_internal").default(!1),attachments:pe("attachments").default([]),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_ticket_messages_ticket").on(t.ticketId),q("idx_ticket_messages_author").on(t.authorId),q("idx_ticket_messages_created").on(t.createdAt)]),sw=be("wiki_categories",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),name:N("name").notNull(),slug:N("slug").unique().notNull(),description:ge("description"),parentId:N("parent_id").references(()=>sw.id),icon:N("icon"),color:N("color"),sortOrder:ie("sort_order").default(0),isVisible:Ee("is_visible").default(!0),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_wiki_categories_parent").on(t.parentId),q("idx_wiki_categories_sort").on(t.sortOrder)]),XW=be("tutorial_categories",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),name:N("name").notNull(),slug:N("slug").unique().notNull(),description:ge("description"),icon:N("icon"),color:N("color"),sortOrder:ie("sort_order").default(0),isVisible:Ee("is_visible").default(!0),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_tutorial_categories_sort").on(t.sortOrder)]),MT=be("badges",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),name:N("name").notNull(),description:ge("description"),icon:N("icon"),color:N("color"),criteria:pe("criteria"),rewardPoints:ie("reward_points").default(0),isActive:Ee("is_active").default(!0),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()}),ETe=Se("article_status",["draft","pending_review","published","archived","deprecated"]),OTe=Se("article_type",["guide","tutorial","faq","troubleshooting","policy","announcement","reference"]),ITe=be("wiki_articles",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),slug:N("slug").unique().notNull(),title:N("title").notNull(),excerpt:ge("excerpt"),content:ge("content").notNull(),type:OTe("type").notNull(),status:ETe("status").default("draft").notNull(),authorId:N("author_id").notNull().references(()=>Rr.id),lastEditedBy:N("last_edited_by").references(()=>Rr.id),reviewedBy:N("reviewed_by").references(()=>Rr.id),categoryId:N("category_id").references(()=>sw.id),tags:ge("tags").array().default([]),metaTitle:N("meta_title"),metaDescription:ge("meta_description"),keywords:ge("keywords").array().default([]),searchVector:ge("search_vector"),viewCount:ie("view_count").default(0),helpfulVotes:ie("helpful_votes").default(0),notHelpfulVotes:ie("not_helpful_votes").default(0),averageRating:Ye("average_rating",{precision:3,scale:2}),publishedAt:R("published_at"),featuredUntil:R("featured_until"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_wiki_articles_slug").on(t.slug),q("idx_wiki_articles_status").on(t.status),q("idx_wiki_articles_type").on(t.type),q("idx_wiki_articles_category").on(t.categoryId),q("idx_wiki_articles_author").on(t.authorId),q("idx_wiki_articles_published").on(t.publishedAt)]),MTe=Se("tutorial_status",["draft","published","archived","maintenance"]),DTe=Se("tutorial_difficulty",["beginner","intermediate","advanced","expert"]),JW=be("tutorials",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),title:N("title").notNull(),slug:N("slug").unique().notNull(),description:ge("description"),status:MTe("status").default("draft").notNull(),difficulty:DTe("difficulty").default("beginner").notNull(),steps:pe("steps").notNull(),estimatedDuration:ie("estimated_duration"),prerequisites:ge("prerequisites").array().default([]),authorId:N("author_id").notNull().references(()=>Rr.id),categoryId:N("category_id").references(()=>XW.id),tags:ge("tags").array().default([]),completionCount:ie("completion_count").default(0),averageCompletionTime:ie("average_completion_time"),successRate:Ye("success_rate",{precision:5,scale:2}),rating:Ye("rating",{precision:3,scale:2}),rewardPoints:ie("reward_points").default(0),badgeId:N("badge_id").references(()=>MT.id),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_tutorials_slug").on(t.slug),q("idx_tutorials_status").on(t.status),q("idx_tutorials_difficulty").on(t.difficulty),q("idx_tutorials_category").on(t.categoryId),q("idx_tutorials_author").on(t.authorId)]),RTe=Se("tutorial_progress_status",["not_started","in_progress","completed","abandoned"]),LTe=be("user_tutorial_progress",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Rr.id,{onDelete:"cascade"}),tutorialId:N("tutorial_id").notNull().references(()=>JW.id,{onDelete:"cascade"}),status:RTe("status").default("not_started").notNull(),currentStep:ie("current_step").default(0),totalSteps:ie("total_steps").notNull(),completedSteps:ie("completed_steps").default(0),progressPercentage:Ye("progress_percentage",{precision:5,scale:2}).default("0"),startedAt:R("started_at"),completedAt:R("completed_at"),lastAccessedAt:R("last_accessed_at"),totalTimeSpent:ie("total_time_spent").default(0),rating:ie("rating"),feedback:ge("feedback"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[sn().on(t.userId,t.tutorialId),q("idx_user_tutorial_progress_user").on(t.userId),q("idx_user_tutorial_progress_tutorial").on(t.tutorialId),q("idx_user_tutorial_progress_status").on(t.status)]),FTe=be("user_badges",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Rr.id,{onDelete:"cascade"}),badgeId:N("badge_id").notNull().references(()=>MT.id,{onDelete:"cascade"}),earnedAt:R("earned_at").defaultNow(),createdAt:R("created_at").defaultNow()},t=>[sn().on(t.userId,t.badgeId),q("idx_user_badges_user").on(t.userId),q("idx_user_badges_badge").on(t.badgeId)]),$Te=be("faq_entries",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),question:ge("question").notNull(),answer:ge("answer").notNull(),categoryId:N("category_id").references(()=>sw.id),tags:ge("tags").array().default([]),sortOrder:ie("sort_order").default(0),isVisible:Ee("is_visible").default(!0),viewCount:ie("view_count").default(0),helpfulVotes:ie("helpful_votes").default(0),notHelpfulVotes:ie("not_helpful_votes").default(0),authorId:N("author_id").notNull().references(()=>Rr.id),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_faq_entries_category").on(t.categoryId),q("idx_faq_entries_author").on(t.authorId),q("idx_faq_entries_sort").on(t.sortOrder)]),zTe=be("navigation_paths",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").references(()=>Rr.id,{onDelete:"cascade"}),sessionId:N("session_id"),path:N("path").notNull(),title:N("title"),timestamp:R("timestamp").defaultNow(),metadata:pe("metadata").default({})},t=>[q("idx_navigation_paths_user").on(t.userId),q("idx_navigation_paths_session").on(t.sessionId),q("idx_navigation_paths_timestamp").on(t.timestamp)]),BTe=be("search_analytics",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").references(()=>Rr.id),sessionId:N("session_id"),query:ge("query").notNull(),resultsCount:ie("results_count").default(0),clickedResultId:N("clicked_result_id"),clickedResultType:N("clicked_result_type"),searchContext:N("search_context"),timestamp:R("timestamp").defaultNow()},t=>[q("idx_search_analytics_user").on(t.userId),q("idx_search_analytics_query").on(t.query),q("idx_search_analytics_timestamp").on(t.timestamp)]);Me(QW).omit({id:!0,ticketNumber:!0,createdAt:!0,updatedAt:!0});Me(TTe).omit({id:!0,createdAt:!0,updatedAt:!0});Me(ITe).omit({id:!0,slug:!0,viewCount:!0,helpfulVotes:!0,notHelpfulVotes:!0,averageRating:!0,createdAt:!0,updatedAt:!0});Me(sw).omit({id:!0,createdAt:!0,updatedAt:!0});Me(JW).omit({id:!0,slug:!0,completionCount:!0,averageCompletionTime:!0,successRate:!0,rating:!0,createdAt:!0,updatedAt:!0});Me(XW).omit({id:!0,createdAt:!0,updatedAt:!0});Me(LTe).omit({id:!0,createdAt:!0,updatedAt:!0});Me($Te).omit({id:!0,viewCount:!0,helpfulVotes:!0,notHelpfulVotes:!0,createdAt:!0,updatedAt:!0});Me(MT).omit({id:!0,createdAt:!0,updatedAt:!0});Me(FTe).omit({id:!0,createdAt:!0});Me(zTe).omit({id:!0});Me(BTe).omit({id:!0});const qTe=Se("referral_code_status",["active","inactive","expired","suspended"]),Wf=be("referral_codes",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Rr.id,{onDelete:"cascade"}),code:N("code").unique().notNull(),type:N("type").notNull().default("standard"),status:qTe("status").default("active").notNull(),description:ge("description"),maxUses:ie("max_uses"),currentUses:ie("current_uses").default(0),expiresAt:R("expires_at"),rewardType:N("reward_type").notNull().default("percentage"),rewardValue:Ye("reward_value",{precision:10,scale:2}).notNull(),refereeRewardType:N("referee_reward_type").default("credits"),refereeRewardValue:Ye("referee_reward_value",{precision:10,scale:2}).default("0"),campaignId:N("campaign_id").references(()=>ev.id),clickCount:ie("click_count").default(0),conversionCount:ie("conversion_count").default(0),totalEarnings:Ye("total_earnings",{precision:15,scale:2}).default("0"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_referral_codes_user").on(t.userId),q("idx_referral_codes_status").on(t.status),q("idx_referral_codes_campaign").on(t.campaignId),q("idx_referral_codes_expires").on(t.expiresAt)]),UTe=Se("referral_campaign_status",["draft","active","paused","completed","cancelled"]),ev=be("referral_campaigns",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),name:N("name").notNull(),description:ge("description"),slug:N("slug").unique().notNull(),status:UTe("status").default("draft").notNull(),startDate:R("start_date"),endDate:R("end_date"),targetAudience:N("target_audience").default("all"),eligibleUserTypes:ge("eligible_user_types").array().default([]),minAccountAge:ie("min_account_age"),excludeExistingReferrers:Ee("exclude_existing_referrers").default(!1),rewardStructure:pe("reward_structure").default({}),tierRewards:pe("tier_rewards").default({}),bonusMilestones:pe("bonus_milestones").default({}),maxParticipants:ie("max_participants"),maxRewards:Ye("max_rewards",{precision:15,scale:2}),maxRewardsPerUser:Ye("max_rewards_per_user",{precision:10,scale:2}),participantCount:ie("participant_count").default(0),totalRewardsIssued:Ye("total_rewards_issued",{precision:15,scale:2}).default("0"),conversionRate:Ye("conversion_rate",{precision:5,scale:2}).default("0"),autoApprove:Ee("auto_approve").default(!0),requireManualReview:Ee("require_manual_review").default(!1),createdBy:N("created_by").notNull().references(()=>Rr.id),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_referral_campaigns_status").on(t.status),q("idx_referral_campaigns_dates").on(t.startDate,t.endDate),q("idx_referral_campaigns_creator").on(t.createdBy)]),VTe=Se("attribution_type",["first_click","last_click","multi_touch","time_decay"]),KTe=Se("conversion_type",["signup","purchase","subscription","deposit","content_purchase"]),aw=be("referral_tracking",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),referralCodeId:N("referral_code_id").notNull().references(()=>Wf.id,{onDelete:"cascade"}),referrerId:N("referrer_id").notNull().references(()=>Rr.id,{onDelete:"cascade"}),clickId:N("click_id").unique(),sourceUrl:ge("source_url"),landingUrl:ge("landing_url"),userAgent:ge("user_agent"),ipAddress:Uf("ip_address"),deviceFingerprint:N("device_fingerprint"),attributionType:VTe("attribution_type").default("last_click"),attributionWeight:Ye("attribution_weight",{precision:3,scale:2}).default("1.00"),convertedUserId:N("converted_user_id").references(()=>Rr.id),conversionType:KTe("conversion_type"),conversionValue:Ye("conversion_value",{precision:15,scale:2}),conversionMetadata:pe("conversion_metadata").default({}),convertedAt:R("converted_at"),country:N("country"),region:N("region"),city:N("city"),sessionId:N("session_id"),createdAt:R("created_at").defaultNow()},t=>[q("idx_referral_tracking_code").on(t.referralCodeId),q("idx_referral_tracking_referrer").on(t.referrerId),q("idx_referral_tracking_converted").on(t.convertedUserId),q("idx_referral_tracking_conversion").on(t.conversionType,t.convertedAt),q("idx_referral_tracking_attribution").on(t.attributionType),q("idx_referral_tracking_ip").on(t.ipAddress),q("idx_referral_tracking_fingerprint").on(t.deviceFingerprint)]),WTe=Se("relationship_type",["direct","indirect"]),HTe=Se("relationship_status",["active","inactive","disputed"]),eH=be("referral_relationships",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),referrerId:N("referrer_id").notNull().references(()=>Rr.id,{onDelete:"cascade"}),refereeId:N("referee_id").notNull().references(()=>Rr.id,{onDelete:"cascade"}),type:WTe("type").default("direct").notNull(),level:ie("level").default(1).notNull(),status:HTe("status").default("active").notNull(),referralCodeId:N("referral_code_id").references(()=>Wf.id),campaignId:N("campaign_id").references(()=>ev.id),trackingId:N("tracking_id").references(()=>aw.id),totalEarnings:Ye("total_earnings",{precision:15,scale:2}).default("0"),lifetimeValue:Ye("lifetime_value",{precision:15,scale:2}).default("0"),lastActivityAt:R("last_activity_at"),fraudScore:Ye("fraud_score",{precision:3,scale:2}).default("0"),isVerified:Ee("is_verified").default(!1),verifiedAt:R("verified_at"),verifiedBy:N("verified_by").references(()=>Rr.id),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[sn().on(t.referrerId,t.refereeId),q("idx_referral_relationships_referrer").on(t.referrerId),q("idx_referral_relationships_referee").on(t.refereeId),q("idx_referral_relationships_level").on(t.level),q("idx_referral_relationships_status").on(t.status),q("idx_referral_relationships_fraud").on(t.fraudScore)]),GTe=Se("earnings_status",["pending","approved","paid","disputed","cancelled"]),ZTe=Se("earnings_type",["signup_bonus","percentage_commission","fixed_commission","milestone_bonus","tier_bonus","campaign_bonus"]),YTe=be("referral_earnings",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),referrerId:N("referrer_id").notNull().references(()=>Rr.id,{onDelete:"cascade"}),refereeId:N("referee_id").references(()=>Rr.id,{onDelete:"set null"}),type:ZTe("type").notNull(),status:GTe("status").default("pending").notNull(),amount:Ye("amount",{precision:15,scale:2}).notNull(),currency:N("currency").default("USD").notNull(),referralCodeId:N("referral_code_id").references(()=>Wf.id),campaignId:N("campaign_id").references(()=>ev.id),relationshipId:N("relationship_id").references(()=>eH.id),trackingId:N("tracking_id").references(()=>aw.id),sourceTransactionId:N("source_transaction_id"),commissionRate:Ye("commission_rate",{precision:5,scale:4}),sourceAmount:Ye("source_amount",{precision:15,scale:2}),payoutId:N("payout_id"),payoutMethod:N("payout_method"),payoutDetails:pe("payout_details").default({}),paidAt:R("paid_at"),processedAt:R("processed_at"),processedBy:N("processed_by").references(()=>Rr.id),notes:ge("notes"),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_referral_earnings_referrer").on(t.referrerId),q("idx_referral_earnings_referee").on(t.refereeId),q("idx_referral_earnings_status").on(t.status),q("idx_referral_earnings_type").on(t.type),q("idx_referral_earnings_campaign").on(t.campaignId),q("idx_referral_earnings_payout").on(t.payoutId),q("idx_referral_earnings_created").on(t.createdAt)]),QTe=Se("affiliate_tier",["bronze","silver","gold","platinum","diamond"]),XTe=Se("affiliate_status",["active","inactive","suspended","pending_approval"]),JTe=be("affiliate_profiles",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").unique().notNull().references(()=>Rr.id,{onDelete:"cascade"}),affiliateId:N("affiliate_id").unique().notNull(),status:XTe("status").default("pending_approval").notNull(),tier:QTe("tier").default("bronze").notNull(),totalClicks:ie("total_clicks").default(0),totalConversions:ie("total_conversions").default(0),totalEarnings:Ye("total_earnings",{precision:15,scale:2}).default("0"),conversionRate:Ye("conversion_rate",{precision:5,scale:2}).default("0"),averageOrderValue:Ye("average_order_value",{precision:10,scale:2}).default("0"),lifetimeClicks:ie("lifetime_clicks").default(0),lifetimeConversions:ie("lifetime_conversions").default(0),lifetimeEarnings:Ye("lifetime_earnings",{precision:15,scale:2}).default("0"),periodStartDate:R("period_start_date"),periodClicks:ie("period_clicks").default(0),periodConversions:ie("period_conversions").default(0),periodEarnings:Ye("period_earnings",{precision:15,scale:2}).default("0"),currentStreak:ie("current_streak").default(0),longestStreak:ie("longest_streak").default(0),achievementBadges:ge("achievement_badges").array().default([]),payoutThreshold:Ye("payout_threshold",{precision:10,scale:2}).default("50.00"),preferredPayoutMethod:N("preferred_payout_method").default("paypal"),payoutSchedule:N("payout_schedule").default("monthly"),notificationPreferences:pe("notification_preferences").default({}),customBrandingEnabled:Ee("custom_branding_enabled").default(!1),logoUrl:N("logo_url"),websiteUrl:N("website_url"),socialMediaLinks:pe("social_media_links").default({}),approvedAt:R("approved_at"),approvedBy:N("approved_by").references(()=>Rr.id),rejectedAt:R("rejected_at"),rejectionReason:ge("rejection_reason"),lastActivityAt:R("last_activity_at"),lastLoginAt:R("last_login_at"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_affiliate_profiles_user").on(t.userId),q("idx_affiliate_profiles_affiliate_id").on(t.affiliateId),q("idx_affiliate_profiles_status").on(t.status),q("idx_affiliate_profiles_tier").on(t.tier),q("idx_affiliate_profiles_performance").on(t.totalEarnings,t.conversionRate)]),eEe=Se("achievement_type",["referral_count","earnings_milestone","conversion_rate","streak","tier_upgrade","special_event"]),tEe=Se("achievement_status",["locked","unlocked","claimed"]),rEe=be("referral_achievements",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Rr.id,{onDelete:"cascade"}),achievementType:eEe("achievement_type").notNull(),achievementId:N("achievement_id").notNull(),status:tEe("status").default("locked").notNull(),title:N("title").notNull(),description:ge("description"),iconUrl:N("icon_url"),badgeUrl:N("badge_url"),requirement:pe("requirement").notNull(),currentProgress:Ye("current_progress",{precision:10,scale:2}).default("0"),targetProgress:Ye("target_progress",{precision:10,scale:2}).notNull(),progressPercentage:Ye("progress_percentage",{precision:5,scale:2}).default("0"),rewardType:N("reward_type"),rewardValue:Ye("reward_value",{precision:10,scale:2}),rewardMetadata:pe("reward_metadata").default({}),unlockedAt:R("unlocked_at"),claimedAt:R("claimed_at"),expiresAt:R("expires_at"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[sn().on(t.userId,t.achievementId),q("idx_referral_achievements_user").on(t.userId),q("idx_referral_achievements_type").on(t.achievementType),q("idx_referral_achievements_status").on(t.status)]),nEe=Se("fraud_event_type",["suspicious_signup","duplicate_device","ip_abuse","rapid_referrals","unusual_pattern","self_referral"]),sEe=Se("fraud_status",["flagged","investigating","confirmed","false_positive","resolved"]),aEe=be("referral_fraud_events",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),eventType:nEe("event_type").notNull(),status:sEe("status").default("flagged").notNull(),severity:N("severity").default("medium").notNull(),referrerId:N("referrer_id").references(()=>Rr.id),refereeId:N("referee_id").references(()=>Rr.id),referralCodeId:N("referral_code_id").references(()=>Wf.id),trackingId:N("tracking_id").references(()=>aw.id),detectionReason:ge("detection_reason").notNull(),evidenceData:pe("evidence_data").default({}),riskScore:Ye("risk_score",{precision:5,scale:2}).notNull(),automaticAction:N("automatic_action"),investigatedBy:N("investigated_by").references(()=>Rr.id),investigatedAt:R("investigated_at"),investigationNotes:ge("investigation_notes"),resolution:ge("resolution"),resolvedAt:R("resolved_at"),actionTaken:ge("action_taken"),appealsAllowed:Ee("appeals_allowed").default(!0),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_referral_fraud_events_referrer").on(t.referrerId),q("idx_referral_fraud_events_referee").on(t.refereeId),q("idx_referral_fraud_events_type").on(t.eventType),q("idx_referral_fraud_events_status").on(t.status),q("idx_referral_fraud_events_severity").on(t.severity),q("idx_referral_fraud_events_risk").on(t.riskScore)]),iEe=Se("analytics_metric_type",["clicks","conversions","earnings","conversion_rate","lifetime_value","geographic","device","source"]),oEe=Se("analytics_timeframe",["hour","day","week","month","quarter","year"]),lEe=be("referral_analytics",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),timeframe:oEe("timeframe").notNull(),periodStart:R("period_start").notNull(),periodEnd:R("period_end").notNull(),referrerId:N("referrer_id").references(()=>Rr.id),campaignId:N("campaign_id").references(()=>ev.id),referralCodeId:N("referral_code_id").references(()=>Wf.id),country:N("country"),region:N("region"),city:N("city"),deviceType:N("device_type"),browserType:N("browser_type"),sourceType:N("source_type"),metricType:iEe("metric_type").notNull(),metricValue:Ye("metric_value",{precision:15,scale:4}).notNull(),metricCount:ie("metric_count").default(0),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow()},t=>[q("idx_referral_analytics_timeframe").on(t.timeframe,t.periodStart),q("idx_referral_analytics_referrer").on(t.referrerId),q("idx_referral_analytics_campaign").on(t.campaignId),q("idx_referral_analytics_metric").on(t.metricType),q("idx_referral_analytics_geography").on(t.country,t.region),q("idx_referral_analytics_device").on(t.deviceType)]);Me(Wf).omit({id:!0,currentUses:!0,clickCount:!0,conversionCount:!0,totalEarnings:!0,createdAt:!0,updatedAt:!0});Me(ev).omit({id:!0,participantCount:!0,totalRewardsIssued:!0,conversionRate:!0,createdAt:!0,updatedAt:!0});Me(aw).omit({id:!0,createdAt:!0});Me(eH).omit({id:!0,totalEarnings:!0,lifetimeValue:!0,fraudScore:!0,isVerified:!0,verifiedAt:!0,createdAt:!0,updatedAt:!0});Me(YTe).omit({id:!0,paidAt:!0,processedAt:!0,createdAt:!0,updatedAt:!0});Me(JTe).omit({id:!0,totalClicks:!0,totalConversions:!0,totalEarnings:!0,conversionRate:!0,averageOrderValue:!0,lifetimeClicks:!0,lifetimeConversions:!0,lifetimeEarnings:!0,periodClicks:!0,periodConversions:!0,periodEarnings:!0,currentStreak:!0,longestStreak:!0,approvedAt:!0,rejectedAt:!0,lastActivityAt:!0,lastLoginAt:!0,createdAt:!0,updatedAt:!0});Me(rEe).omit({id:!0,currentProgress:!0,progressPercentage:!0,unlockedAt:!0,claimedAt:!0,createdAt:!0,updatedAt:!0});Me(aEe).omit({id:!0,investigatedAt:!0,resolvedAt:!0,createdAt:!0,updatedAt:!0});Me(lEe).omit({id:!0,createdAt:!0});const cEe=Se("wallet_status",["active","frozen","suspended","closed"]),dEe=Se("wallet_type",["standard","business","creator","escrow","rewards"]),DT=be("fanz_wallets",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),type:dEe("type").default("standard").notNull(),status:cEe("status").default("active").notNull(),availableBalanceCents:tr("available_balance_cents",{mode:"number"}).default(0),pendingBalanceCents:tr("pending_balance_cents",{mode:"number"}).default(0),heldBalanceCents:tr("held_balance_cents",{mode:"number"}).default(0),totalBalanceCents:tr("total_balance_cents",{mode:"number"}).default(0),currency:N("currency").default("USD"),dailyLimitCents:tr("daily_limit_cents",{mode:"number"}).default(1e8),monthlyLimitCents:tr("monthly_limit_cents",{mode:"number"}).default(5e8),lifetimeLimitCents:tr("lifetime_limit_cents",{mode:"number"}),metadata:pe("metadata").default({}),freezeReason:ge("freeze_reason"),frozenAt:R("frozen_at"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_fanz_wallets_user").on(t.userId),q("idx_fanz_wallets_status").on(t.status),q("idx_fanz_wallets_type").on(t.type)]),uEe=Se("ledger_entry_type",["debit","credit"]),hEe=Se("ledger_transaction_type",["payment","refund","chargeback","transfer","fee","payout","deposit","withdrawal","reward","credit_issued","credit_repaid","token_purchase","token_redemption"]),RT=be("fanz_ledger",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),transactionId:N("transaction_id").notNull().unique(),parentTransactionId:N("parent_transaction_id"),walletId:N("wallet_id").notNull().references(()=>DT.id),userId:N("user_id").notNull().references(()=>Re.id),entryType:uEe("entry_type").notNull(),transactionType:hEe("transaction_type").notNull(),amountCents:tr("amount_cents",{mode:"number"}).notNull(),balanceAfterCents:tr("balance_after_cents",{mode:"number"}).notNull(),currency:N("currency").default("USD"),referenceType:N("reference_type"),referenceId:N("reference_id"),description:ge("description"),metadata:pe("metadata").default({}),ipAddress:Uf("ip_address"),userAgent:ge("user_agent"),createdAt:R("created_at").defaultNow()},t=>[q("idx_fanz_ledger_wallet").on(t.walletId),q("idx_fanz_ledger_user").on(t.userId),q("idx_fanz_ledger_transaction").on(t.transactionId),q("idx_fanz_ledger_type").on(t.transactionType),q("idx_fanz_ledger_created").on(t.createdAt.desc())]),mEe=Se("credit_line_status",["pending","active","frozen","defaulted","closed"]),fEe=be("fanz_credit_lines",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),status:mEe("status").default("pending").notNull(),creditLimitCents:tr("credit_limit_cents",{mode:"number"}).notNull(),availableCreditCents:tr("available_credit_cents",{mode:"number"}).notNull(),usedCreditCents:tr("used_credit_cents",{mode:"number"}).default(0),interestRateBps:ie("interest_rate_bps").default(0),lateFeePercentBps:ie("late_fee_percent_bps").default(500),trustScore:ie("trust_score").default(0),riskTier:N("risk_tier").default("standard"),paymentDueDays:ie("payment_due_days").default(30),gracePeriodDays:ie("grace_period_days").default(7),collateralType:N("collateral_type"),collateralValueCents:tr("collateral_value_cents",{mode:"number"}),collateralMetadata:pe("collateral_metadata").default({}),approvedAt:R("approved_at"),approvedBy:N("approved_by").references(()=>Re.id),closedAt:R("closed_at"),closedReason:ge("closed_reason"),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_fanz_credit_lines_user").on(t.userId),q("idx_fanz_credit_lines_status").on(t.status),q("idx_fanz_credit_lines_trust_score").on(t.trustScore)]),pEe=Se("token_type",["fanzcoin","fanztoken","loyalty","reward","utility"]),xEe=be("fanz_tokens",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),tokenType:pEe("token_type").notNull(),balance:tr("balance",{mode:"number"}).default(0),lockedBalance:tr("locked_balance",{mode:"number"}).default(0),valueCentsPerToken:ie("value_cents_per_token").default(100),rewardsMultiplier:Ye("rewards_multiplier",{precision:5,scale:2}).default("1.00"),expiresAt:R("expires_at"),lastTransactionAt:R("last_transaction_at"),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_fanz_tokens_user").on(t.userId),q("idx_fanz_tokens_type").on(t.tokenType),sn().on(t.userId,t.tokenType)]),gEe=Se("card_status",["pending","active","frozen","cancelled","expired"]),vEe=be("fanz_cards",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),walletId:N("wallet_id").notNull().references(()=>DT.id),cardNumberHash:N("card_number_hash").notNull(),last4:N("last_4").notNull(),expiryMonth:ie("expiry_month").notNull(),expiryYear:ie("expiry_year").notNull(),cvvHash:N("cvv_hash").notNull(),cardholderName:N("cardholder_name").notNull(),cardType:N("card_type").default("virtual"),cardBrand:N("card_brand").default("fanzcard"),status:gEe("status").default("pending").notNull(),dailySpendLimitCents:tr("daily_spend_limit_cents",{mode:"number"}),monthlySpendLimitCents:tr("monthly_spend_limit_cents",{mode:"number"}),perTransactionLimitCents:tr("per_transaction_limit_cents",{mode:"number"}),totalSpentCents:tr("total_spent_cents",{mode:"number"}).default(0),totalTransactions:ie("total_transactions").default(0),lastUsedAt:R("last_used_at"),allowedMerchantCategories:ge("allowed_merchant_categories").array(),blockedMerchantCategories:ge("blocked_merchant_categories").array(),allowedCountries:ge("allowed_countries").array(),providerCardId:N("provider_card_id"),providerMetadata:pe("provider_metadata").default({}),metadata:pe("metadata").default({}),activatedAt:R("activated_at"),cancelledAt:R("cancelled_at"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_fanz_cards_user").on(t.userId),q("idx_fanz_cards_wallet").on(t.walletId),q("idx_fanz_cards_status").on(t.status),q("idx_fanz_cards_last4").on(t.last4)]),yEe=Se("quest_status",["draft","active","completed","failed","cancelled"]),bEe=Se("quest_type",["revenue_goal","fan_contribution","content_unlock","collaborative_project"]),LT=be("revenue_quests",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),creatorId:N("creator_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),title:N("title").notNull(),description:ge("description"),questType:bEe("quest_type").notNull(),status:yEe("status").default("draft").notNull(),goalAmountCents:tr("goal_amount_cents",{mode:"number"}).notNull(),currentAmountCents:tr("current_amount_cents",{mode:"number"}).default(0),minContributionCents:tr("min_contribution_cents",{mode:"number"}).default(100),startDate:R("start_date"),endDate:R("end_date"),rewardType:N("reward_type"),rewardMetadata:pe("reward_metadata").default({}),contentUnlockId:N("content_unlock_id"),contributorSharePercentage:ie("contributor_share_percentage").default(0),aiSuggestedGoal:tr("ai_suggested_goal",{mode:"number"}),aiConfidenceScore:ie("ai_confidence_score"),aiInsights:pe("ai_insights").default({}),totalContributors:ie("total_contributors").default(0),completionPercentage:ie("completion_percentage").default(0),rewardsDistributed:Ee("rewards_distributed").default(!1),metadata:pe("metadata").default({}),completedAt:R("completed_at"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_revenue_quests_creator").on(t.creatorId),q("idx_revenue_quests_status").on(t.status),q("idx_revenue_quests_type").on(t.questType),q("idx_revenue_quests_end_date").on(t.endDate)]),jEe=be("quest_participants",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),questId:N("quest_id").notNull().references(()=>LT.id,{onDelete:"cascade"}),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),contributedAmountCents:tr("contributed_amount_cents",{mode:"number"}).notNull(),sharePercentage:Ye("share_percentage",{precision:5,scale:2}),earnedAmountCents:tr("earned_amount_cents",{mode:"number"}).default(0),isUnderwriter:Ee("is_underwriter").default(!1),underwriterBonusPercentage:ie("underwriter_bonus_percentage").default(0),transactionId:N("transaction_id"),metadata:pe("metadata").default({}),contributedAt:R("contributed_at").defaultNow(),createdAt:R("created_at").defaultNow()},t=>[q("idx_quest_participants_quest").on(t.questId),q("idx_quest_participants_user").on(t.userId),sn().on(t.questId,t.userId)]),wEe=be("quest_milestones",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),questId:N("quest_id").notNull().references(()=>LT.id,{onDelete:"cascade"}),title:N("title").notNull(),targetAmountCents:tr("target_amount_cents",{mode:"number"}).notNull(),unlockType:N("unlock_type"),unlockData:pe("unlock_data").default({}),isReached:Ee("is_reached").default(!1),reachedAt:R("reached_at"),createdAt:R("created_at").defaultNow()},t=>[q("idx_quest_milestones_quest").on(t.questId)]),_Ee=Se("revenue_split_type",["collaborative","affiliate","referral","platform_fee","royalty"]),NEe=be("fanz_revenue_shares",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),referenceType:N("reference_type").notNull(),referenceId:N("reference_id").notNull(),splitType:_Ee("split_type").notNull(),totalRevenueCents:tr("total_revenue_cents",{mode:"number"}).notNull(),splits:pe("splits").notNull(),status:N("status").default("pending"),processedAt:R("processed_at"),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow()},t=>[q("idx_fanz_revenue_shares_reference").on(t.referenceType,t.referenceId),q("idx_fanz_revenue_shares_type").on(t.splitType),q("idx_fanz_revenue_shares_status").on(t.status)]),SEe=Se("trust_tier",["unverified","bronze","silver","gold","platinum","diamond"]),CEe=Se("proof_status",["pending","under_review","approved","rejected","expired"]),kEe=Se("dispute_status",["open","investigating","resolved","closed","escalated"]),AEe=be("trust_scores",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().unique().references(()=>Re.id,{onDelete:"cascade"}),currentTier:SEe("current_tier").default("unverified").notNull(),scorePoints:ie("score_points").default(0).notNull(),proofsSubmitted:ie("proofs_submitted").default(0),proofsApproved:ie("proofs_approved").default(0),proofsRejected:ie("proofs_rejected").default(0),transactionCount:ie("transaction_count").default(0),totalTransactionVolumeCents:tr("total_transaction_volume_cents",{mode:"number"}).default(0),successfulDisputesWon:ie("successful_disputes_won").default(0),disputesLost:ie("disputes_lost").default(0),accountAgeDays:ie("account_age_days").default(0),consecutiveGoodStandingDays:ie("consecutive_good_standing_days").default(0),bonusPoints:ie("bonus_points").default(0),penaltyPoints:ie("penalty_points").default(0),lastCalculatedAt:R("last_calculated_at"),nextReviewAt:R("next_review_at"),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_trust_scores_user").on(t.userId),q("idx_trust_scores_tier").on(t.currentTier),q("idx_trust_scores_points").on(t.scorePoints)]),PEe=be("trust_proofs",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),proofType:N("proof_type").notNull(),status:CEe("status").default("pending").notNull(),documentUrls:ge("document_urls").array().default([]),documentHashes:ge("document_hashes").array().default([]),verifiedBy:N("verified_by").references(()=>Re.id),verifiedAt:R("verified_at"),rejectionReason:ge("rejection_reason"),expiresAt:R("expires_at"),scorePointsAwarded:ie("score_points_awarded").default(0),metadata:pe("metadata").default({}),submittedAt:R("submitted_at").defaultNow(),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_trust_proofs_user").on(t.userId),q("idx_trust_proofs_status").on(t.status),q("idx_trust_proofs_type").on(t.proofType),q("idx_trust_proofs_verified_by").on(t.verifiedBy)]),TEe=be("dispute_cases",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),filedBy:N("filed_by").notNull().references(()=>Re.id,{onDelete:"cascade"}),againstUser:N("against_user").references(()=>Re.id,{onDelete:"cascade"}),disputeType:N("dispute_type").notNull(),status:kEe("status").default("open").notNull(),title:N("title").notNull(),description:ge("description").notNull(),evidenceUrls:ge("evidence_urls").array().default([]),relatedTransactionIds:ge("related_transaction_ids").array().default([]),relatedContentIds:ge("related_content_ids").array().default([]),assignedTo:N("assigned_to").references(()=>Re.id),resolution:ge("resolution"),resolvedAt:R("resolved_at"),rulingInFavorOf:N("ruling_in_favor_of").references(()=>Re.id),compensationAmountCents:tr("compensation_amount_cents",{mode:"number"}),aiRecommendedAction:N("ai_recommended_action"),aiConfidenceScore:ie("ai_confidence_score"),aiReasoning:pe("ai_reasoning").default({}),autoResolved:Ee("auto_resolved").default(!1),escalatedToHuman:Ee("escalated_to_human").default(!1),metadata:pe("metadata").default({}),filedAt:R("filed_at").defaultNow(),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_dispute_cases_filed_by").on(t.filedBy),q("idx_dispute_cases_against").on(t.againstUser),q("idx_dispute_cases_status").on(t.status),q("idx_dispute_cases_type").on(t.disputeType),q("idx_dispute_cases_assigned").on(t.assignedTo)]);Me(DT).omit({id:!0,totalBalanceCents:!0,frozenAt:!0,createdAt:!0,updatedAt:!0});Me(RT).omit({id:!0,createdAt:!0});Me(fEe).omit({id:!0,availableCreditCents:!0,usedCreditCents:!0,approvedAt:!0,closedAt:!0,createdAt:!0,updatedAt:!0});Me(xEe).omit({id:!0,lastTransactionAt:!0,createdAt:!0,updatedAt:!0});Me(vEe).omit({id:!0,totalSpentCents:!0,totalTransactions:!0,lastUsedAt:!0,activatedAt:!0,cancelledAt:!0,createdAt:!0,updatedAt:!0});Me(NEe).omit({id:!0,processedAt:!0,createdAt:!0});Me(LT).omit({id:!0,currentAmountCents:!0,totalContributors:!0,completionPercentage:!0,completedAt:!0,createdAt:!0,updatedAt:!0});Me(jEe).omit({id:!0,earnedAmountCents:!0,contributedAt:!0,createdAt:!0});Me(wEe).omit({id:!0,isReached:!0,reachedAt:!0,createdAt:!0});Me(AEe).omit({id:!0,proofsSubmitted:!0,proofsApproved:!0,proofsRejected:!0,transactionCount:!0,totalTransactionVolumeCents:!0,successfulDisputesWon:!0,disputesLost:!0,accountAgeDays:!0,consecutiveGoodStandingDays:!0,lastCalculatedAt:!0,nextReviewAt:!0,createdAt:!0,updatedAt:!0});Me(PEe).omit({id:!0,verifiedBy:!0,verifiedAt:!0,rejectionReason:!0,scorePointsAwarded:!0,submittedAt:!0,createdAt:!0,updatedAt:!0});Me(TEe).omit({id:!0,assignedTo:!0,resolution:!0,resolvedAt:!0,rulingInFavorOf:!0,compensationAmountCents:!0,aiRecommendedAction:!0,aiConfidenceScore:!0,aiReasoning:!0,autoResolved:!0,escalatedToHuman:!0,filedAt:!0,createdAt:!0,updatedAt:!0});const EEe=Se("event_type",["public_meetup","private_show","vip_experience","fan_meetup","exclusive_stream"]),OEe=Se("event_status",["scheduled","live","ended","cancelled"]),IEe=Se("event_access",["free","ticketed","subscription_only","tier_gated"]),tv=be("live_events",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),creatorId:N("creator_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),title:N("title").notNull(),description:ge("description"),eventType:EEe("event_type").notNull(),status:OEe("status").default("scheduled").notNull(),accessType:IEe("access_type").default("free").notNull(),scheduledStartAt:R("scheduled_start_at").notNull(),scheduledEndAt:R("scheduled_end_at").notNull(),actualStartAt:R("actual_start_at"),actualEndAt:R("actual_end_at"),ticketPriceCents:tr("ticket_price_cents",{mode:"number"}).default(0),maxAttendees:ie("max_attendees"),virtualRoomUrl:N("virtual_room_url"),backgroundAssetUrl:N("background_asset_url"),avatarEnabled:Ee("avatar_enabled").default(!0),spatialAudioEnabled:Ee("spatial_audio_enabled").default(!0),nftSouvenirEnabled:Ee("nft_souvenir_enabled").default(!1),nftSouvenirName:N("nft_souvenir_name"),nftSouvenirDescription:ge("nft_souvenir_description"),nftSouvenirImageUrl:N("nft_souvenir_image_url"),totalRevenueCents:tr("total_revenue_cents",{mode:"number"}).default(0),totalTipsCents:tr("total_tips_cents",{mode:"number"}).default(0),totalAttendees:ie("total_attendees").default(0),peakConcurrentViewers:ie("peak_concurrent_viewers").default(0),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_live_events_creator").on(t.creatorId),q("idx_live_events_status").on(t.status),q("idx_live_events_type").on(t.eventType),q("idx_live_events_scheduled_start").on(t.scheduledStartAt)]),MEe=be("event_tickets",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),eventId:N("event_id").notNull().references(()=>tv.id,{onDelete:"cascade"}),fanId:N("fan_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),pricePaidCents:tr("price_paid_cents",{mode:"number"}).notNull(),paymentMethod:N("payment_method"),transactionId:N("transaction_id").references(()=>RT.id),purchasedAt:R("purchased_at").defaultNow(),usedAt:R("used_at"),refundedAt:R("refunded_at"),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow()},t=>[sn().on(t.eventId,t.fanId),q("idx_event_tickets_event").on(t.eventId),q("idx_event_tickets_fan").on(t.fanId)]),DEe=be("event_attendance",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),eventId:N("event_id").notNull().references(()=>tv.id,{onDelete:"cascade"}),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),joinedAt:R("joined_at").defaultNow(),leftAt:R("left_at"),durationSeconds:ie("duration_seconds").default(0),avatarUrl:N("avatar_url"),positionX:Ye("position_x"),positionY:Ye("position_y"),positionZ:Ye("position_z"),isActive:Ee("is_active").default(!0),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow()},t=>[q("idx_event_attendance_event").on(t.eventId),q("idx_event_attendance_user").on(t.userId),q("idx_event_attendance_active").on(t.isActive)]),REe=be("event_tips",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),eventId:N("event_id").notNull().references(()=>tv.id,{onDelete:"cascade"}),fromUserId:N("from_user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),toUserId:N("to_user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),amountCents:tr("amount_cents",{mode:"number"}).notNull(),message:ge("message"),isAnonymous:Ee("is_anonymous").default(!1),transactionId:N("transaction_id").references(()=>RT.id),showOnScreen:Ee("show_on_screen").default(!0),highlightColor:N("highlight_color"),tippedAt:R("tipped_at").defaultNow(),createdAt:R("created_at").defaultNow()},t=>[q("idx_event_tips_event").on(t.eventId),q("idx_event_tips_from").on(t.fromUserId),q("idx_event_tips_to").on(t.toUserId)]);be("auth_email_verification_tokens",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),accountId:N("account_id").notNull().references(()=>Rr.id,{onDelete:"cascade"}),tokenHash:N("token_hash").notNull().unique(),purpose:N("purpose").notNull().default("verify_email"),expiresAt:R("expires_at").notNull(),consumedAt:R("consumed_at"),createdAt:R("created_at").defaultNow()},t=>[q("idx_email_verify_token").on(t.tokenHash),q("idx_email_verify_account").on(t.accountId),q("idx_email_verify_expires").on(t.expiresAt)]);be("auth_password_reset_tokens",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),accountId:N("account_id").notNull().references(()=>Rr.id,{onDelete:"cascade"}),tokenHash:N("token_hash").notNull().unique(),purpose:N("purpose").notNull().default("reset_password"),expiresAt:R("expires_at").notNull(),consumedAt:R("consumed_at"),createdAt:R("created_at").defaultNow()},t=>[q("idx_password_reset_token").on(t.tokenHash),q("idx_password_reset_account").on(t.accountId),q("idx_password_reset_expires").on(t.expiresAt)]);be("auth_email_recovery_tokens",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),accountId:N("account_id").notNull().references(()=>Rr.id,{onDelete:"cascade"}),tokenHash:N("token_hash").notNull().unique(),purpose:N("purpose").notNull().default("recover_email"),recoveryHint:pe("recovery_hint"),expiresAt:R("expires_at").notNull(),consumedAt:R("consumed_at"),createdAt:R("created_at").defaultNow()},t=>[q("idx_email_recovery_token").on(t.tokenHash),q("idx_email_recovery_account").on(t.accountId),q("idx_email_recovery_expires").on(t.expiresAt)]);be("auth_login_attempts",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),accountId:N("account_id"),ipAddress:N("ip_address").notNull(),email:N("email"),windowStart:R("window_start").notNull(),attemptCount:ie("attempt_count").default(1).notNull(),blockedUntil:R("blocked_until"),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_login_attempts_ip").on(t.ipAddress),q("idx_login_attempts_account").on(t.accountId),q("idx_login_attempts_email").on(t.email),q("idx_login_attempts_blocked").on(t.blockedUntil)]);const LEe=be("event_nft_souvenirs",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),eventId:N("event_id").notNull().references(()=>tv.id,{onDelete:"cascade"}),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),tokenId:N("token_id").unique(),name:N("name").notNull(),description:ge("description"),imageUrl:N("image_url").notNull(),attributes:pe("attributes").default({}),rarity:N("rarity"),serialNumber:ie("serial_number"),chainId:N("chain_id"),contractAddress:N("contract_address"),transactionHash:N("transaction_hash"),mintedAt:R("minted_at").defaultNow(),claimedAt:R("claimed_at"),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow()},t=>[sn().on(t.eventId,t.userId),q("idx_event_nft_event").on(t.eventId),q("idx_event_nft_user").on(t.userId),q("idx_event_nft_token").on(t.tokenId)]);Me(tv).omit({id:!0,actualStartAt:!0,actualEndAt:!0,totalRevenueCents:!0,totalTipsCents:!0,totalAttendees:!0,peakConcurrentViewers:!0,createdAt:!0,updatedAt:!0});Me(MEe).omit({id:!0,usedAt:!0,refundedAt:!0,purchasedAt:!0,createdAt:!0});Me(DEe).omit({id:!0,leftAt:!0,durationSeconds:!0,joinedAt:!0,createdAt:!0});Me(REe).omit({id:!0,tippedAt:!0,createdAt:!0});Me(LEe).omit({id:!0,mintedAt:!0,claimedAt:!0,createdAt:!0});const FEe=Se("voice_profile_status",["pending","cloning","active","failed","disabled"]),tH=be("voice_profiles",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),name:N("name").notNull(),description:ge("description"),voiceId:N("voice_id"),provider:N("provider").default("elevenlabs").notNull(),audioSampleUrls:ge("audio_sample_urls").array().default([]),sampleDuration:ie("sample_duration"),status:FEe("status").default("pending").notNull(),errorMessage:ge("error_message"),quality:ie("quality"),stability:Ye("stability",{precision:3,scale:2}).default("0.75"),similarityBoost:Ye("similarity_boost",{precision:3,scale:2}).default("0.75"),style:Ye("style",{precision:3,scale:2}).default("0.0"),useSpeakerBoost:Ee("use_speaker_boost").default(!0),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_voice_profiles_user").on(t.userId),q("idx_voice_profiles_status").on(t.status),q("idx_voice_profiles_voice_id").on(t.voiceId)]),$Ee=Se("voice_message_status",["pending","generating","completed","failed","sent"]),zEe=be("voice_messages",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),voiceProfileId:N("voice_profile_id").notNull().references(()=>tH.id,{onDelete:"cascade"}),senderId:N("sender_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),recipientId:N("recipient_id").references(()=>Re.id,{onDelete:"set null"}),text:ge("text").notNull(),audioUrl:N("audio_url"),duration:ie("duration"),status:$Ee("status").default("pending").notNull(),errorMessage:ge("error_message"),model:N("model").default("eleven_multilingual_v2"),listenCount:ie("listen_count").default(0),lastListenedAt:R("last_listened_at"),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_voice_messages_profile").on(t.voiceProfileId),q("idx_voice_messages_sender").on(t.senderId),q("idx_voice_messages_recipient").on(t.recipientId),q("idx_voice_messages_status").on(t.status)]),BEe=be("voice_message_templates",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),userId:N("user_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),name:N("name").notNull(),text:ge("text").notNull(),category:N("category"),useCount:ie("use_count").default(0),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_voice_templates_user").on(t.userId)]);Me(tH).omit({id:!0,voiceId:!0,status:!0,errorMessage:!0,quality:!0,createdAt:!0,updatedAt:!0});Me(zEe).omit({id:!0,audioUrl:!0,duration:!0,status:!0,errorMessage:!0,listenCount:!0,lastListenedAt:!0,createdAt:!0,updatedAt:!0});Me(BEe).omit({id:!0,useCount:!0,createdAt:!0,updatedAt:!0});const qEe=Se("loan_status",["pending","approved","active","completed","defaulted","cancelled"]),UEe=Se("repayment_status",["pending","paid","overdue","waived"]),rH=be("fan_creator_loans",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),lenderId:N("lender_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),borrowerId:N("borrower_id").notNull().references(()=>Re.id,{onDelete:"cascade"}),principalCents:tr("principal_cents",{mode:"number"}).notNull(),interestRateBps:ie("interest_rate_bps").notNull(),termDays:ie("term_days").notNull(),totalDueCents:tr("total_due_cents",{mode:"number"}).notNull(),status:qEe("status").default("pending").notNull(),installmentCount:ie("installment_count").default(1),installmentFrequency:N("installment_frequency").default("monthly"),collateralType:N("collateral_type"),collateralValueCents:tr("collateral_value_cents",{mode:"number"}),collateralMetadata:pe("collateral_metadata").default({}),trustScore:ie("trust_score").default(0),riskTier:N("risk_tier").default("standard"),lenderWalletId:N("lender_wallet_id"),borrowerWalletId:N("borrower_wallet_id"),requestedAt:R("requested_at").defaultNow(),approvedAt:R("approved_at"),approvedBy:N("approved_by"),disbursedAt:R("disbursed_at"),dueDate:R("due_date"),completedAt:R("completed_at"),defaultedAt:R("defaulted_at"),amountPaidCents:tr("amount_paid_cents",{mode:"number"}).default(0),amountOutstandingCents:tr("amount_outstanding_cents",{mode:"number"}),lastPaymentAt:R("last_payment_at"),purpose:ge("purpose"),notes:ge("notes"),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow(),updatedAt:R("updated_at").defaultNow()},t=>[q("idx_fan_creator_loans_lender").on(t.lenderId),q("idx_fan_creator_loans_borrower").on(t.borrowerId),q("idx_fan_creator_loans_status").on(t.status),q("idx_fan_creator_loans_trust_score").on(t.trustScore),q("idx_fan_creator_loans_due_date").on(t.dueDate)]),VEe=be("loan_repayments",{id:N("id").primaryKey().default(ye`gen_random_uuid()`),loanId:N("loan_id").notNull().references(()=>rH.id,{onDelete:"cascade"}),installmentNumber:ie("installment_number").notNull(),amountDueCents:tr("amount_due_cents",{mode:"number"}).notNull(),amountPaidCents:tr("amount_paid_cents",{mode:"number"}).default(0),dueDate:R("due_date").notNull(),paidAt:R("paid_at"),status:UEe("status").default("pending").notNull(),lateFeeAppliedCents:tr("late_fee_applied_cents",{mode:"number"}).default(0),transactionId:N("transaction_id"),metadata:pe("metadata").default({}),createdAt:R("created_at").defaultNow()},t=>[q("idx_loan_repayments_loan").on(t.loanId),q("idx_loan_repayments_due_date").on(t.dueDate),q("idx_loan_repayments_status").on(t.status)]);Me(rH).omit({id:!0,status:!0,approvedAt:!0,approvedBy:!0,disbursedAt:!0,completedAt:!0,defaultedAt:!0,amountPaidCents:!0,lastPaymentAt:!0,createdAt:!0,updatedAt:!0});Me(VEe).omit({id:!0,amountPaidCents:!0,paidAt:!0,status:!0,lateFeeAppliedCents:!0,createdAt:!0});const KEe=_Pe.extend({scheduledDate:mt().optional(),scheduledTime:mt().optional(),isScheduled:xi().default(!1)}).refine(t=>t.isScheduled?t.scheduledDate&&t.scheduledTime:!0,{message:"Date and time are required when scheduling",path:["scheduledDate"]}),WEe=()=>{const{user:t,isLoading:r}=kr(),{toast:n}=or(),[,s]=js(),[a,i]=j.useState(!1),o=ws(),l=Da({resolver:La(KEe),defaultValues:{title:"",description:"",type:"public",priceCents:0,isScheduled:!1,scheduledDate:"",scheduledTime:""}}),u=ot({mutationFn:async f=>{let p=null;f.isScheduled&&f.scheduledDate&&f.scheduledTime&&(p=new Date(`${f.scheduledDate}T${f.scheduledTime}`));const g={title:f.title,description:f.description,type:f.type,priceCents:f.priceCents,scheduledFor:p?.toISOString()};return Ze("POST","/api/streams",g)},onSuccess:f=>{o.invalidateQueries({queryKey:["/api/streams"]}),n({title:"Stream Created!",description:"Your live stream has been created successfully."}),s(`/streams/${f.id}/dashboard`)},onError:f=>{n({title:"Error",description:f.message,variant:"destructive"})}}),m=f=>{u.mutate(f)};return r?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t?e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"h-12 w-12 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(As,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold","data-testid":"page-title",children:"Create Live Stream"}),e.jsx("p",{className:"text-muted-foreground",children:"Set up your live streaming session"})]})]})}),e.jsx(Ra,{...l,children:e.jsx("form",{onSubmit:l.handleSubmit(m),className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(Y,{className:"bg-card border-border",children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(As,{className:"h-5 w-5"}),"Stream Details"]}),e.jsx(lt,{children:"Basic information about your live stream"})]}),e.jsxs(ee,{className:"space-y-4",children:[e.jsx(Pt,{control:l.control,name:"title",render:({field:f})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Stream Title*"}),e.jsx(At,{children:e.jsx(Ue,{placeholder:"Give your stream an engaging title...",...f,"data-testid":"input-stream-title"})}),e.jsx(Aa,{children:"Choose a catchy title that describes your stream content"}),e.jsx(It,{})]})}),e.jsx(Pt,{control:l.control,name:"description",render:({field:f})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Description"}),e.jsx(At,{children:e.jsx(on,{placeholder:"Describe what you'll be streaming about...",className:"min-h-[100px]",...f,value:f.value||"","data-testid":"input-stream-description"})}),e.jsx(Aa,{children:"Let your fans know what to expect from this stream"}),e.jsx(It,{})]})})]})]}),e.jsxs(Y,{className:"bg-card border-border",children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(lr,{className:"h-5 w-5"}),"Access & Pricing"]}),e.jsx(lt,{children:"Control who can access your stream and set pricing"})]}),e.jsxs(ee,{className:"space-y-4",children:[e.jsx(Pt,{control:l.control,name:"type",render:({field:f})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Stream Type*"}),e.jsxs(yt,{onValueChange:f.onChange,defaultValue:f.value,children:[e.jsx(At,{children:e.jsx(xt,{"data-testid":"select-stream-type",children:e.jsx(bt,{placeholder:"Select stream type"})})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"public",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a0,{className:"h-4 w-4 text-green-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Public Stream"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Open to everyone"})]})]})}),e.jsx(Q,{value:"subscribers_only",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(An,{className:"h-4 w-4 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Subscribers Only"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Exclusive to subscribers"})]})]})}),e.jsx(Q,{value:"private",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ia,{className:"h-4 w-4 text-primary"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Private Stream"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Private access only"})]})]})})]})]}),e.jsx(It,{})]})}),l.watch("type")==="private"&&e.jsx(Pt,{control:l.control,name:"priceCents",render:({field:f})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Price (USD)"}),e.jsx(At,{children:e.jsxs("div",{className:"relative",children:[e.jsx(qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ue,{type:"number",min:"0",step:"0.01",placeholder:"0.00",className:"pl-10",value:f.value?(f.value/100).toFixed(2):"",onChange:p=>f.onChange(Math.round(parseFloat(p.target.value||"0")*100)),"data-testid":"input-stream-price"})]})}),e.jsx(Aa,{children:"Set the price fans need to pay to access this stream"}),e.jsx(It,{})]})})]})]}),e.jsxs(Y,{className:"bg-card border-border",children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(ys,{className:"h-5 w-5"}),"Scheduling"]}),e.jsx(lt,{children:"Schedule your stream for later or go live immediately"})]}),e.jsxs(ee,{className:"space-y-4",children:[e.jsx(Pt,{control:l.control,name:"isScheduled",render:({field:f})=>e.jsxs(Ct,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(kt,{className:"text-base",children:"Schedule Stream"}),e.jsx(Aa,{children:"Schedule this stream for a specific date and time"})]}),e.jsx(At,{children:e.jsx(kn,{checked:f.value,onCheckedChange:f.onChange,"data-testid":"switch-schedule-stream"})})]})}),l.watch("isScheduled")&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Pt,{control:l.control,name:"scheduledDate",render:({field:f})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Date"}),e.jsx(At,{children:e.jsx(Ue,{type:"date",min:new Date().toISOString().split("T")[0],...f,"data-testid":"input-schedule-date"})}),e.jsx(It,{})]})}),e.jsx(Pt,{control:l.control,name:"scheduledTime",render:({field:f})=>e.jsxs(Ct,{children:[e.jsx(kt,{children:"Time"}),e.jsx(At,{children:e.jsx(Ue,{type:"time",...f,"data-testid":"input-schedule-time"})}),e.jsx(It,{})]})})]})]})]}),e.jsxs(Y,{className:"bg-card border-border",children:[e.jsx(ue,{children:e.jsxs(fe,{className:"flex items-center gap-2 cursor-pointer",onClick:()=>i(!a),children:[e.jsx(_c,{className:"h-5 w-5"}),"Advanced Settings",e.jsx(V,{variant:"ghost",size:"sm",type:"button",children:a?"Hide":"Show"})]})}),a&&e.jsx(ee,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-muted/50 rounded-lg",children:[e.jsx(yl,{className:"h-5 w-5 text-yellow-500 mt-0.5"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"GetStream Integration Active"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Your stream will use professional GetStream.io infrastructure for high-quality broadcasting, recording, and real-time viewer management."})]})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Y,{className:"bg-card border-border",children:[e.jsx(ue,{children:e.jsx(fe,{className:"text-lg",children:"Stream Preview"})}),e.jsxs(ee,{className:"space-y-4",children:[e.jsx("div",{className:"aspect-video bg-muted rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx(As,{className:"h-8 w-8 text-muted-foreground mx-auto"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Stream preview"})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-medium truncate","data-testid":"preview-title",children:l.watch("title")||"Stream title..."}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:l.watch("description")||"Stream description..."}),e.jsxs("div",{className:"flex items-center gap-2",children:[l.watch("type")==="public"&&e.jsxs(ce,{variant:"secondary",className:"bg-green-500/10 text-green-400",children:[e.jsx(a0,{className:"h-3 w-3 mr-1"}),"Free"]}),l.watch("type")==="subscribers_only"&&e.jsxs(ce,{variant:"secondary",className:"bg-yellow-500/10 text-yellow-400",children:[e.jsx(An,{className:"h-3 w-3 mr-1"}),"Subscribers Only"]}),l.watch("type")==="private"&&e.jsxs(ce,{variant:"secondary",className:"bg-primary/10 text-primary",children:[e.jsx(qr,{className:"h-3 w-3 mr-1"}),"$",(l.watch("priceCents")?l.watch("priceCents")/100:0).toFixed(2)]}),l.watch("isScheduled")&&e.jsxs(ce,{variant:"outline",children:[e.jsx(wr,{className:"h-3 w-3 mr-1"}),"Scheduled"]})]})]})]})]}),e.jsx(Y,{className:"bg-card border-border",children:e.jsx(ee,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(V,{type:"submit",className:"w-full",disabled:u.isPending,"data-testid":"button-create-stream",children:u.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Stream..."]}):l.watch("isScheduled")?e.jsxs(e.Fragment,{children:[e.jsx(ys,{className:"h-4 w-4 mr-2"}),"Schedule Stream"]}):e.jsxs(e.Fragment,{children:[e.jsx(As,{className:"h-4 w-4 mr-2"}),"Create Stream"]})}),e.jsx(Tn,{}),e.jsx(V,{type:"button",variant:"ghost",className:"w-full",onClick:()=>s("/dashboard"),"data-testid":"button-cancel",children:"Cancel"})]})})})]})]})})})]})}):(s("/auth/login"),null)},HEe=({streamId:t})=>{const{id:r}=Cf(),n=t||r,{isLoading:s}=kr(),{toast:a}=or(),i=ws(),[o,l]=j.useState(!1),[u,m]=j.useState({viewerCount:0,totalViewers:0,duration:0,messagesCount:0,earnings:0,peakViewers:0}),[f,p]=j.useState({camera:!0,microphone:!0,volume:!0}),{data:g,isLoading:b,error:y}=Ve({queryKey:["/api/streams",n],enabled:!!n}),_=ot({mutationFn:async()=>Ze("POST",`/api/streams/${n}/start`,{}),onSuccess:()=>{l(!0),i.invalidateQueries({queryKey:["/api/streams",n]}),a({title:"Stream Started!",description:"Your live stream is now broadcasting."})},onError:O=>{a({title:"Failed to Start Stream",description:O.message,variant:"destructive"})}}),w=ot({mutationFn:async()=>Ze("POST",`/api/streams/${n}/end`,{}),onSuccess:()=>{l(!1),i.invalidateQueries({queryKey:["/api/streams",n]}),a({title:"Stream Ended",description:"Your live stream has been stopped."})},onError:O=>{a({title:"Failed to End Stream",description:O.message,variant:"destructive"})}});j.useEffect(()=>{if(!o)return;const O=setInterval(()=>{m(I=>({...I,viewerCount:Math.max(0,I.viewerCount+Math.floor(Math.random()*5)-2),totalViewers:I.totalViewers+Math.floor(Math.random()*3),duration:I.duration+1,messagesCount:I.messagesCount+Math.floor(Math.random()*2),earnings:I.earnings+Math.random()*.5,peakViewers:Math.max(I.peakViewers,I.viewerCount)}))},1e3);return()=>clearInterval(O)},[o]);const k=O=>{const I=Math.floor(O/3600),D=Math.floor(O%3600/60),F=O%60;return`${I.toString().padStart(2,"0")}:${D.toString().padStart(2,"0")}:${F.toString().padStart(2,"0")}`},A=()=>{g?.streamUrl&&(navigator.clipboard.writeText(g.streamUrl),a({title:"Copied!",description:"Stream URL copied to clipboard."}))},P=()=>{g?.streamKey&&(navigator.clipboard.writeText(g.streamKey),a({title:"Copied!",description:"Stream key copied to clipboard."}))};return s||b?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading stream dashboard..."})]})}):y||!g?e.jsx("div",{className:"container mx-auto p-6",children:e.jsxs(bn,{variant:"destructive",children:[e.jsx(Qr,{className:"h-4 w-4"}),e.jsx(jn,{children:"Failed to load stream details. Please check the stream ID and try again."})]})}):e.jsxs("div",{className:"container mx-auto p-6 space-y-6","data-testid":"stream-dashboard",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground","data-testid":"text-stream-title",children:g.title}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Stream Dashboard"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{variant:o?"default":"secondary",className:o?"bg-red-600 text-white animate-pulse":"","data-testid":"badge-stream-status",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full mr-2"}),"LIVE"]}):e.jsxs(e.Fragment,{children:[e.jsx(wr,{className:"w-3 h-3 mr-1"}),g.status.toUpperCase()]})}),e.jsx(ce,{variant:"outline","data-testid":"badge-stream-type",children:g.type})]})]}),e.jsxs(Y,{className:"border-primary/20",children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(Pa,{className:"h-5 w-5"}),"Stream Controls"]}),e.jsx(lt,{children:"Manage your live stream broadcast"})]}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[o?e.jsxs(V,{variant:"destructive",onClick:()=>w.mutate(),disabled:w.isPending,"data-testid":"button-end-stream",children:[e.jsx(LF,{className:"h-4 w-4 mr-2"}),w.isPending?"Ending...":"End Stream"]}):e.jsxs(V,{onClick:()=>_.mutate(),disabled:_.isPending,className:"bg-red-600 hover:bg-red-700 text-white","data-testid":"button-start-stream",children:[e.jsx(gi,{className:"h-4 w-4 mr-2"}),_.isPending?"Starting...":"Go Live"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{variant:f.camera?"default":"outline",size:"sm",onClick:()=>p(O=>({...O,camera:!O.camera})),"data-testid":"button-toggle-camera",children:f.camera?e.jsx(Pa,{className:"h-4 w-4"}):e.jsx(YZ,{className:"h-4 w-4"})}),e.jsx(V,{variant:f.microphone?"default":"outline",size:"sm",onClick:()=>p(O=>({...O,microphone:!O.microphone})),"data-testid":"button-toggle-microphone",children:f.microphone?e.jsx(NY,{className:"h-4 w-4"}):e.jsx(_Y,{className:"h-4 w-4"})}),e.jsx(V,{variant:f.volume?"default":"outline",size:"sm",onClick:()=>p(O=>({...O,volume:!O.volume})),"data-testid":"button-toggle-volume",children:f.volume?e.jsx(BF,{className:"h-4 w-4"}):e.jsx(qF,{className:"h-4 w-4"})})]})]}),o&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary","data-testid":"text-viewer-count",children:u.viewerCount}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Current Viewers"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-duration",children:k(u.duration)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Duration"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-yellow-600","data-testid":"text-earnings",children:["$",u.earnings.toFixed(2)]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Earnings"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600","data-testid":"text-messages",children:u.messagesCount}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Messages"})]})]})]})]}),e.jsxs(Xs,{defaultValue:"details",className:"space-y-6",children:[e.jsxs(zs,{className:"grid w-full grid-cols-3",children:[e.jsx(Kt,{value:"details","data-testid":"tab-details",children:"Stream Details"}),e.jsx(Kt,{value:"analytics","data-testid":"tab-analytics",children:"Analytics"}),e.jsx(Kt,{value:"settings","data-testid":"tab-settings",children:"Settings"})]}),e.jsx(Qt,{value:"details",className:"space-y-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(Y,{children:[e.jsx(ue,{children:e.jsx(fe,{children:"Stream Information"})}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Description"}),e.jsx("p",{className:"mt-1","data-testid":"text-stream-description",children:g.description||"No description provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),e.jsx("p",{className:"mt-1 capitalize","data-testid":"text-stream-type",children:g.type.replace("_"," ")})]}),g.priceCents&&g.priceCents>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Price"}),e.jsxs("p",{className:"mt-1","data-testid":"text-stream-price",children:["$",(g.priceCents/100).toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),e.jsx("p",{className:"mt-1","data-testid":"text-stream-created",children:g.createdAt?Cc(new Date(g.createdAt),{addSuffix:!0}):"Unknown"})]})]})]}),e.jsxs(Y,{children:[e.jsx(ue,{children:e.jsx(fe,{children:"Streaming Configuration"})}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Stream URL"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("code",{className:"flex-1 p-2 bg-muted rounded text-sm font-mono break-all",children:g.streamUrl||"Not generated yet"}),e.jsx(V,{size:"sm",variant:"outline",onClick:A,disabled:!g.streamUrl,"data-testid":"button-copy-url",children:e.jsx(Qu,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Stream Key"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("code",{className:"flex-1 p-2 bg-muted rounded text-sm font-mono",children:g.streamKey?"":"Not generated yet"}),e.jsx(V,{size:"sm",variant:"outline",onClick:P,disabled:!g.streamKey,"data-testid":"button-copy-key",children:e.jsx(Qu,{className:"h-4 w-4"})})]})]})]})]})]})}),e.jsxs(Qt,{value:"analytics",className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(Y,{children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Total Viewers"}),e.jsx(lr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-viewers",children:u.totalViewers}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Peak: ",u.peakViewers]})]})]}),e.jsxs(Y,{children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Total Earnings"}),e.jsx(qr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-total-earnings",children:["$",u.earnings.toFixed(2)]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"From tips and subscriptions"})]})]}),e.jsxs(Y,{children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Engagement"}),e.jsx(Pn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"text-engagement",children:u.messagesCount}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total messages"})]})]})]}),o&&e.jsxs(Y,{children:[e.jsx(ue,{children:e.jsx(fe,{children:"Live Stream Health"})}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Connection Quality"}),e.jsx("span",{className:"text-green-600",children:"Excellent"})]}),e.jsx(bs,{value:92,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Bitrate"}),e.jsx("span",{children:"2.5 Mbps"})]}),e.jsx(bs,{value:75,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Frame Rate"}),e.jsx("span",{children:"30 FPS"})]}),e.jsx(bs,{value:100,className:"h-2"})]})]})]})]}),e.jsx(Qt,{value:"settings",className:"space-y-6",children:e.jsxs(Y,{children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Stream Settings"}),e.jsx(lt,{children:"Configure your streaming preferences and quality settings"})]}),e.jsxs(ee,{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Video Quality"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(V,{variant:"outline",className:"w-full justify-start",children:[e.jsx(DF,{className:"h-4 w-4 mr-2"}),"1080p (Recommended)"]}),e.jsxs(V,{variant:"ghost",className:"w-full justify-start",children:[e.jsx(LY,{className:"h-4 w-4 mr-2"}),"720p"]}),e.jsxs(V,{variant:"ghost",className:"w-full justify-start",children:[e.jsx(RF,{className:"h-4 w-4 mr-2"}),"480p"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Audio Quality"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{variant:"outline",className:"w-full justify-start",children:"High Quality (256kbps)"}),e.jsx(V,{variant:"ghost",className:"w-full justify-start",children:"Standard (128kbps)"}),e.jsx(V,{variant:"ghost",className:"w-full justify-start",children:"Low (64kbps)"})]})]})]}),e.jsx(Tn,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Advanced Settings"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure advanced streaming options"})]}),e.jsxs(V,{variant:"outline","data-testid":"button-advanced-settings",children:[e.jsx(_c,{className:"h-4 w-4 mr-2"}),"Configure"]})]})]})]})})]})]})},GEe=({streamId:t})=>{const{id:r}=Cf(),n=t||r,{user:s,isAuthenticated:a}=kr(),{toast:i}=or(),o=ws(),[l,u]=j.useState(!0),[m,f]=j.useState(!1),[p,g]=j.useState(100),[b,y]=j.useState(""),[_,w]=j.useState([]),[k,A]=j.useState(!1),[P,O]=j.useState(0),[I,D]=j.useState(!1),[F,B]=j.useState(""),[H,re]=j.useState(!1),G=j.useRef(null),J=j.useRef(null),{data:Z,isLoading:ne,error:K}=Ve({queryKey:["/api/streams",n],enabled:!!n}),{data:ae}=Ve({queryKey:["/api/creators",Z?.creatorId],enabled:!!Z?.creatorId}),U=ot({mutationFn:async()=>Ze("POST",`/api/creators/${Z?.creatorId}/subscribe`,{}),onSuccess:()=>{re(!0),o.invalidateQueries({queryKey:["/api/creators",Z?.creatorId]}),i({title:"Subscribed!",description:"You're now subscribed to this creator."})},onError:ke=>{i({title:"Subscription Failed",description:ke.message,variant:"destructive"})}}),W=ot({mutationFn:async ke=>Ze("POST","/api/tips",{recipientId:Z?.creatorId,amountCents:ke*100,streamId:n}),onSuccess:()=>{D(!1),B(""),i({title:"Tip Sent!",description:"Your tip has been sent to the creator."})},onError:ke=>{i({title:"Tip Failed",description:ke.message,variant:"destructive"})}}),se=()=>{if(!b.trim()||!a)return;const ke={id:Date.now().toString(),userId:s?.id||"",username:s?.username||"Anonymous",message:b,timestamp:new Date,type:"message"};w(_e=>[..._e,ke]),y(""),setTimeout(()=>{J.current&&(J.current.scrollTop=J.current.scrollHeight)},100)};j.useEffect(()=>{if(Z?.status!=="live")return;const ke=setInterval(()=>{O(Le=>Math.max(1,Le+Math.floor(Math.random()*10)-4))},5e3),_e=setInterval(()=>{const Le=["Amazing stream! ","Love this content!","Hello everyone! ","This is so cool!","Great work!"],je={id:Date.now().toString(),userId:"sample-user",username:`Viewer${Math.floor(Math.random()*1e3)}`,message:Le[Math.floor(Math.random()*Le.length)],timestamp:new Date,type:"message"};w(Xe=>[...Xe.slice(-49),je])},8e3);return()=>{clearInterval(ke),clearInterval(_e)}},[Z?.status]),j.useEffect(()=>{Z?.status==="live"&&O(Math.floor(Math.random()*500)+50)},[Z?.status]);const de=()=>{G.current&&(l?G.current.pause():G.current.play(),u(!l))},z=()=>{G.current&&(G.current.muted=!m,f(!m))},oe=()=>{k?document.exitFullscreen&&document.exitFullscreen():G.current?.requestFullscreen&&G.current.requestFullscreen(),A(!k)};return ne?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading stream..."})]})}):K||!Z?e.jsx("div",{className:"container mx-auto p-6",children:e.jsxs(bn,{variant:"destructive",children:[e.jsx(Qr,{className:"h-4 w-4"}),e.jsx(jn,{children:"Stream not found or no longer available."})]})}):Z.type==="public"||Z.type==="subscribers_only"&&H||Z.type==="private"&&a?e.jsx("div",{className:"min-h-screen bg-background","data-testid":"live-viewer",children:e.jsxs("div",{className:"grid lg:grid-cols-4 gap-6 p-4",children:[e.jsxs("div",{className:"lg:col-span-3 space-y-4",children:[e.jsxs(Y,{className:"relative overflow-hidden bg-black",children:[e.jsx("div",{className:"aspect-video relative",children:Z.status==="live"?e.jsxs(e.Fragment,{children:[e.jsxs("video",{ref:G,className:"w-full h-full object-cover",poster:"/api/placeholder/800/450",autoPlay:!0,muted:m,"data-testid":"video-player",children:[e.jsx("source",{src:Z.streamUrl||"",type:"application/x-mpegURL"}),"Your browser does not support the video tag."]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300",children:e.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex items-center gap-4",children:[e.jsx(V,{variant:"ghost",size:"sm",onClick:de,className:"text-white hover:bg-white/20","data-testid":"button-play-pause",children:l?e.jsx(kY,{className:"h-4 w-4"}):e.jsx(gi,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"sm",onClick:z,className:"text-white hover:bg-white/20","data-testid":"button-mute",children:m?e.jsx(qF,{className:"h-4 w-4"}):e.jsx(BF,{className:"h-4 w-4"})}),e.jsx("div",{className:"flex-1"}),e.jsx(V,{variant:"ghost",size:"sm",onClick:oe,className:"text-white hover:bg-white/20","data-testid":"button-fullscreen",children:e.jsx(jY,{className:"h-4 w-4"})})]})})]}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-muted",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(gi,{className:"h-8 w-8 text-primary"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Stream Offline"}),e.jsx("p",{className:"text-muted-foreground",children:Z.status==="scheduled"?"Stream is scheduled to begin soon":"This stream has ended"})]})})}),Z.status==="live"&&e.jsx("div",{className:"absolute top-4 left-4",children:e.jsxs(ce,{className:"bg-red-600 text-white animate-pulse",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full mr-2"}),"LIVE"]})}),Z.status==="live"&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsxs(ce,{variant:"secondary",className:"bg-black/50 text-white","data-testid":"badge-viewer-count",children:[e.jsx(pr,{className:"h-3 w-3 mr-1"}),P.toLocaleString()]})})]}),e.jsx(Y,{children:e.jsxs(ue,{children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(fe,{className:"text-xl mb-2","data-testid":"text-stream-title",children:Z.title}),Z.description&&e.jsx(lt,{"data-testid":"text-stream-description",children:Z.description})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm","data-testid":"button-share",children:[e.jsx(XA,{className:"h-4 w-4 mr-2"}),"Share"]}),e.jsx(V,{variant:"outline",size:"sm",children:e.jsx(Fb,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(un,{className:"h-12 w-12",children:[e.jsx(En,{src:ae?.avatarUrl||""}),e.jsx(hn,{children:ae?.displayName?.charAt(0)||ae?.username?.charAt(0)||"C"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold","data-testid":"text-creator-name",children:ae?.displayName||ae?.username||"Creator"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[ae?.subscriberCount||0," subscribers"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!H&&e.jsxs(V,{onClick:()=>U.mutate(),disabled:U.isPending||!a,"data-testid":"button-subscribe-header",children:[e.jsx(An,{className:"h-4 w-4 mr-2"}),"Subscribe"]}),e.jsxs(Ur,{open:I,onOpenChange:D,children:[e.jsx(Dl,{asChild:!0,children:e.jsxs(V,{variant:"outline",disabled:!a,"data-testid":"button-tip",children:[e.jsx(yx,{className:"h-4 w-4 mr-2"}),"Tip"]})}),e.jsxs(Lr,{children:[e.jsxs(Fr,{children:[e.jsx($r,{children:"Send a Tip"}),e.jsx(Wr,{children:"Show your appreciation with a tip!"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-4 gap-2",children:["5","10","25","50"].map(ke=>e.jsxs(V,{variant:"outline",onClick:()=>B(ke),className:F===ke?"border-primary bg-primary/10":"",children:["$",ke]},ke))}),e.jsx(Ue,{placeholder:"Custom amount",value:F,onChange:ke=>B(ke.target.value),type:"number",min:"1","data-testid":"input-tip-amount"}),e.jsxs(V,{onClick:()=>W.mutate(parseFloat(F)),disabled:!F||W.isPending,className:"w-full","data-testid":"button-send-tip",children:[e.jsx(qr,{className:"h-4 w-4 mr-2"}),W.isPending?"Sending...":`Send $${F} Tip`]})]})]})]})]})]})]})})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(Y,{className:"h-[600px] flex flex-col",children:[e.jsx(ue,{className:"pb-4",children:e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(Pn,{className:"h-5 w-5"}),"Live Chat",e.jsx(ce,{variant:"outline",className:"ml-auto",children:_.length})]})}),e.jsxs(ee,{className:"flex-1 flex flex-col p-0",children:[e.jsx(eh,{className:"flex-1 px-4",ref:J,"data-testid":"chat-messages",children:e.jsx("div",{className:"space-y-3 pb-4",children:_.map(ke=>e.jsx("div",{className:"flex gap-2 text-sm",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx("span",{className:"font-medium text-primary",children:ke.username}),ke.isModerator&&e.jsx(Rd,{className:"h-3 w-3 text-yellow-500"}),ke.isVip&&e.jsx(An,{className:"h-3 w-3 text-purple-500"}),e.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:Cc(ke.timestamp,{addSuffix:!0})})]}),ke.type==="tip"&&e.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded p-2 mb-1",children:e.jsxs("div",{className:"flex items-center gap-1 text-yellow-600",children:[e.jsx(yx,{className:"h-3 w-3"}),e.jsxs("span",{className:"font-medium",children:["Tipped $",ke.tipAmount]})]})}),e.jsx("p",{className:"break-words",children:ke.message})]})},ke.id))})}),e.jsx("div",{className:"border-t p-4",children:a?e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ue,{placeholder:"Type a message...",value:b,onChange:ke=>y(ke.target.value),onKeyPress:ke=>ke.key==="Enter"&&se(),"data-testid":"input-chat-message"}),e.jsx(V,{size:"sm",onClick:se,disabled:!b.trim(),"data-testid":"button-send-message",children:e.jsx(ei,{className:"h-4 w-4"})})]}):e.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Log in to participate in chat"})})]})]})})]})}):e.jsx("div",{className:"container mx-auto p-6 space-y-6",children:e.jsxs(Y,{className:"border-primary/20",children:[e.jsxs(ue,{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:e.jsx(ia,{className:"h-8 w-8 text-primary"})}),e.jsx(fe,{children:"Premium Content"}),e.jsx(lt,{children:Z.type==="subscribers_only"?"This stream is exclusive to subscribers only.":"This is a private stream with restricted access."})]}),e.jsxs(ee,{className:"text-center space-y-4",children:[Z.type==="subscribers_only"&&e.jsxs(V,{onClick:()=>U.mutate(),disabled:U.isPending||!a,"data-testid":"button-subscribe",children:[e.jsx(An,{className:"h-4 w-4 mr-2"}),U.isPending?"Subscribing...":"Subscribe to Watch"]}),!a&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"Please log in to access this content."})]})]})})},ZEe=({streamId:t})=>{const{id:r}=Cf(),n=t||r,{isLoading:s}=kr(),[a,i]=j.useState("7d"),[o,l]=j.useState("viewers"),{data:u,isLoading:m,error:f}=Ve({queryKey:["/api/streams",n],enabled:!!n}),[p,g]=j.useState({overview:{totalViews:1247,peakViewers:89,totalDuration:7200,totalEarnings:284.5,averageViewTime:18.5,engagementRate:23.4,newSubscribers:12,retentionRate:68.2},viewerData:[],demographics:{devices:[{name:"Desktop",value:45,color:"#8B5CF6"},{name:"Mobile",value:35,color:"#F59E0B"},{name:"Tablet",value:20,color:"#10B981"}],locations:[{country:"United States",viewers:421,percentage:33.8},{country:"United Kingdom",viewers:186,percentage:14.9},{country:"Canada",viewers:124,percentage:9.9},{country:"Germany",viewers:98,percentage:7.9},{country:"Australia",viewers:87,percentage:7}],ages:[{range:"18-24",count:298,percentage:23.9},{range:"25-34",count:423,percentage:33.9},{range:"35-44",count:287,percentage:23},{range:"45-54",count:156,percentage:12.5},{range:"55+",count:83,percentage:6.7}]},revenue:{tips:189.25,subscriptions:95.25,totalRevenue:284.5,revenueHistory:[]},engagement:{totalMessages:1892,uniqueChatters:234,averageMessagesPerUser:8.1,topChatters:[{username:"StreamFan2023",messageCount:47,tipAmount:25},{username:"CoolViewer",messageCount:32,tipAmount:15.5},{username:"LiveStreamLover",messageCount:28,tipAmount:30},{username:"ChatMaster",messageCount:25,tipAmount:5},{username:"RegularWatcher",messageCount:22,tipAmount:10.75}]}});j.useEffect(()=>{const _=()=>{const k=[],A=new Date;for(let P=23;P>=0;P--){const O=Ir(ix(A,P),"MMM dd");k.push({timestamp:O,viewers:Math.floor(Math.random()*100)+20,messages:Math.floor(Math.random()*200)+50})}return k},w=()=>{const k=[],A=new Date;for(let P=6;P>=0;P--){const O=Ir(ix(A,P),"MMM dd"),I=Math.floor(Math.random()*50)+10,D=Math.floor(Math.random()*30)+5;k.push({date:O,tips:I,subscriptions:D,total:I+D})}return k};g(k=>({...k,viewerData:_(),revenue:{...k.revenue,revenueHistory:w()}}))},[a]);const b=_=>{const w=Math.floor(_/3600),k=Math.floor(_%3600/60);return`${w}h ${k}m`},y=()=>{const _=JSON.stringify(p,null,2),w=new Blob([_],{type:"application/json"}),k=URL.createObjectURL(w),A=document.createElement("a");A.href=k,A.download=`stream-analytics-${n}.json`,A.click(),URL.revokeObjectURL(k)};return s||m?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading analytics..."})]})}):f||!u?e.jsx("div",{className:"container mx-auto p-6",children:e.jsxs(bn,{variant:"destructive",children:[e.jsx(Qr,{className:"h-4 w-4"}),e.jsx(jn,{children:"Failed to load stream analytics. Please check the stream ID and try again."})]})}):e.jsxs("div",{className:"container mx-auto p-6 space-y-6","data-testid":"stream-analytics",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground","data-testid":"text-analytics-title",children:"Stream Analytics"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:u.title})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(yt,{value:a,onValueChange:i,children:[e.jsx(xt,{className:"w-32",children:e.jsx(bt,{})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"1d",children:"Last 24h"}),e.jsx(Q,{value:"7d",children:"Last 7 days"}),e.jsx(Q,{value:"30d",children:"Last 30 days"}),e.jsx(Q,{value:"90d",children:"Last 90 days"})]})]}),e.jsxs(V,{variant:"outline",onClick:y,"data-testid":"button-export",children:[e.jsx($n,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(V,{variant:"outline","data-testid":"button-share",children:[e.jsx(XA,{className:"h-4 w-4 mr-2"}),"Share"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs(Y,{children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Total Views"}),e.jsx(pr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-views",children:p.overview.totalViews.toLocaleString()}),e.jsxs("div",{className:"flex items-center text-xs text-green-600 mt-1",children:[e.jsx(yn,{className:"h-3 w-3 mr-1"}),"+12.5% from last period"]})]})]}),e.jsxs(Y,{children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Peak Viewers"}),e.jsx(lr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold","data-testid":"text-peak-viewers",children:p.overview.peakViewers}),e.jsxs("div",{className:"flex items-center text-xs text-green-600 mt-1",children:[e.jsx(yn,{className:"h-3 w-3 mr-1"}),"+8.2% from last period"]})]})]}),e.jsxs(Y,{children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Total Earnings"}),e.jsx(qr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-total-earnings",children:["$",p.overview.totalEarnings.toFixed(2)]}),e.jsxs("div",{className:"flex items-center text-xs text-green-600 mt-1",children:[e.jsx(yn,{className:"h-3 w-3 mr-1"}),"+23.1% from last period"]})]})]}),e.jsxs(Y,{children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Engagement Rate"}),e.jsx($o,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-engagement-rate",children:[p.overview.engagementRate,"%"]}),e.jsxs("div",{className:"flex items-center text-xs text-red-600 mt-1",children:[e.jsx($F,{className:"h-3 w-3 mr-1"}),"-2.3% from last period"]})]})]})]}),e.jsxs(Xs,{defaultValue:"performance",className:"space-y-6",children:[e.jsxs(zs,{className:"grid w-full grid-cols-4",children:[e.jsx(Kt,{value:"performance","data-testid":"tab-performance",children:"Performance"}),e.jsx(Kt,{value:"audience","data-testid":"tab-audience",children:"Audience"}),e.jsx(Kt,{value:"revenue","data-testid":"tab-revenue",children:"Revenue"}),e.jsx(Kt,{value:"engagement","data-testid":"tab-engagement",children:"Engagement"})]}),e.jsx(Qt,{value:"performance",className:"space-y-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(Y,{children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(gl,{className:"h-5 w-5"}),"Viewer Trends"]}),e.jsx(lt,{children:"Concurrent viewers over time"})]}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(bf,{data:p.viewerData,children:[e.jsx(Ps,{strokeDasharray:"3 3"}),e.jsx(Yn,{dataKey:"timestamp"}),e.jsx(Qn,{}),e.jsx(Br,{}),e.jsx(Xa,{type:"monotone",dataKey:"viewers",stroke:"#8B5CF6",fill:"#8B5CF6",fillOpacity:.3})]})})})]}),e.jsxs(Y,{children:[e.jsx(ue,{children:e.jsx(fe,{children:"Key Metrics"})}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Average View Time"}),e.jsxs("span",{className:"font-medium",children:[p.overview.averageViewTime," min"]})]}),e.jsx(bs,{value:p.overview.averageViewTime*2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Retention Rate"}),e.jsxs("span",{className:"font-medium",children:[p.overview.retentionRate,"%"]})]}),e.jsx(bs,{value:p.overview.retentionRate})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Stream Duration"}),e.jsx("span",{className:"font-medium",children:b(p.overview.totalDuration)})]}),e.jsx(bs,{value:75})]}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"New Subscribers"}),e.jsxs("span",{className:"font-medium text-green-600",children:["+",p.overview.newSubscribers]})]})})]})]})]})}),e.jsxs(Qt,{value:"audience",className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(Y,{children:[e.jsx(ue,{children:e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(EF,{className:"h-5 w-5"}),"Device Breakdown"]})}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(wc,{children:[e.jsx(xa,{data:p.demographics.devices,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:_,value:w})=>`${_} ${w}%`,children:p.demographics.devices.map((_,w)=>e.jsx(ho,{fill:_.color},`cell-${w}`))}),e.jsx(Br,{})]})})})]}),e.jsxs(Y,{children:[e.jsx(ue,{children:e.jsx(fe,{children:"Top Locations"})}),e.jsx(ee,{children:e.jsx("div",{className:"space-y-4",children:p.demographics.locations.map((_,w)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),e.jsx("span",{className:"text-sm",children:_.country})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium",children:_.viewers}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[_.percentage,"%"]})]})]},_.country))})})]})]}),e.jsxs(Y,{children:[e.jsx(ue,{children:e.jsx(fe,{children:"Age Demographics"})}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:250,children:e.jsxs(Tc,{data:p.demographics.ages,children:[e.jsx(Ps,{strokeDasharray:"3 3"}),e.jsx(Yn,{dataKey:"range"}),e.jsx(Qn,{}),e.jsx(Br,{}),e.jsx(Ia,{dataKey:"count",fill:"#8B5CF6"})]})})})]})]}),e.jsxs(Qt,{value:"revenue",className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs(Y,{children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Tips"}),e.jsx(yx,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-tips-revenue",children:["$",p.revenue.tips.toFixed(2)]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"66.5% of total revenue"})]})]}),e.jsxs(Y,{children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Subscriptions"}),e.jsx(Rd,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-subscription-revenue",children:["$",p.revenue.subscriptions.toFixed(2)]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"33.5% of total revenue"})]})]}),e.jsxs(Y,{children:[e.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(fe,{className:"text-sm font-medium",children:"Total Revenue"}),e.jsx(qr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-total-revenue",children:["$",p.revenue.totalRevenue.toFixed(2)]}),e.jsx("p",{className:"text-xs text-green-600",children:"+23.1% from last period"})]})]})]}),e.jsxs(Y,{children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Revenue Trends"}),e.jsx(lt,{children:"Daily revenue breakdown over the last 7 days"})]}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(Tc,{data:p.revenue.revenueHistory,children:[e.jsx(Ps,{strokeDasharray:"3 3"}),e.jsx(Yn,{dataKey:"date"}),e.jsx(Qn,{}),e.jsx(Br,{}),e.jsx(Uu,{}),e.jsx(Ia,{dataKey:"tips",stackId:"revenue",fill:"#F59E0B",name:"Tips"}),e.jsx(Ia,{dataKey:"subscriptions",stackId:"revenue",fill:"#8B5CF6",name:"Subscriptions"})]})})})]})]}),e.jsxs(Qt,{value:"engagement",className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(Y,{children:[e.jsx(ue,{children:e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(Pn,{className:"h-5 w-5"}),"Chat Activity"]})}),e.jsx(ee,{children:e.jsx(Sn,{width:"100%",height:300,children:e.jsxs(Vg,{data:p.viewerData,children:[e.jsx(Ps,{strokeDasharray:"3 3"}),e.jsx(Yn,{dataKey:"timestamp"}),e.jsx(Qn,{}),e.jsx(Br,{}),e.jsx(fo,{type:"monotone",dataKey:"messages",stroke:"#10B981",strokeWidth:2})]})})})]}),e.jsxs(Y,{children:[e.jsx(ue,{children:e.jsx(fe,{children:"Engagement Stats"})}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600","data-testid":"text-total-messages",children:p.engagement.totalMessages.toLocaleString()}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Messages"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-unique-chatters",children:p.engagement.uniqueChatters}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Unique Chatters"})]})]}),e.jsx(Tn,{}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-purple-600",children:p.engagement.averageMessagesPerUser.toFixed(1)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Messages per User"})]})]})]})]}),e.jsxs(Y,{children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Top Chatters"}),e.jsx(lt,{children:"Most active viewers in chat"})]}),e.jsx(ee,{children:e.jsx("div",{className:"space-y-4",children:p.engagement.topChatters.map((_,w)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-sm font-semibold",children:["#",w+1]})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:_.username}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[_.messageCount," messages"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium text-green-600",children:["$",_.tipAmount.toFixed(2)]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"tips given"})]})]},_.username))})})]})]})]})]})},YEe=()=>{const{user:t}=kr(),[r,n]=j.useState(""),[s,a]=j.useState("all"),[i,o]=j.useState("viewers"),[l,u]=j.useState("grid"),m=[{id:"1",creatorId:"creator1",title:"Gaming Session - Live Q&A",description:"Join me for some gaming and chat!",type:"public",status:"live",priceCents:0,streamKey:null,streamUrl:"https://example.com/stream1",thumbnailUrl:null,scheduledFor:null,getstreamCallId:null,recordingUrl:null,playbackUrl:null,hlsPlaylistUrl:null,dashPlaylistUrl:null,streamingConfig:null,maxViewers:null,totalViewTime:null,createdAt:new Date,updatedAt:new Date,creator:{id:"creator1",username:"gamerguy123",displayName:"Gamer Guy",avatarUrl:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=100&h=100&fit=crop&crop=face",isVerified:!0},viewerCount:1247,isLive:!0},{id:"2",creatorId:"creator2",title:"Fitness Workout Live",description:"Get fit with me - morning workout session",type:"subscribers_only",status:"live",priceCents:999,streamKey:null,streamUrl:"https://example.com/stream2",thumbnailUrl:null,scheduledFor:null,getstreamCallId:null,recordingUrl:null,playbackUrl:null,hlsPlaylistUrl:null,dashPlaylistUrl:null,streamingConfig:null,maxViewers:null,totalViewTime:null,createdAt:new Date,updatedAt:new Date,creator:{id:"creator2",username:"fitnesscoach",displayName:"Coach Mike",avatarUrl:"https://images.unsplash.com/photo-1566753323558-f4e0952af115?w=100&h=100&fit=crop&crop=face",isVerified:!0},viewerCount:456,isLive:!0},{id:"3",creatorId:"creator3",title:"Music Production Session",description:"Creating beats live - come hang out!",type:"public",status:"scheduled",priceCents:0,streamKey:null,streamUrl:null,thumbnailUrl:null,scheduledFor:new Date(Date.now()+7200*1e3),getstreamCallId:null,recordingUrl:null,playbackUrl:null,hlsPlaylistUrl:null,dashPlaylistUrl:null,streamingConfig:null,maxViewers:null,totalViewTime:null,createdAt:new Date,updatedAt:new Date,creator:{id:"creator3",username:"musicproducer",displayName:"Beat Maker",avatarUrl:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=100&h=100&fit=crop&crop=face",isVerified:!1},viewerCount:0,isLive:!1}],f=m.filter(y=>!(r&&!y.title.toLowerCase().includes(r.toLowerCase())&&!y.creator.displayName.toLowerCase().includes(r.toLowerCase())||s==="live"&&y.status!=="live"||s==="scheduled"&&y.status!=="scheduled")).sort((y,_)=>{switch(i){case"viewers":return(_.viewerCount||0)-(y.viewerCount||0);case"recent":return new Date(_.createdAt).getTime()-new Date(y.createdAt).getTime();case"title":return y.title.localeCompare(_.title);default:return 0}}),p=m.filter(y=>y.status==="live").length,g=m.filter(y=>y.status==="scheduled").length,b=({stream:y})=>e.jsxs(Y,{className:"group hover:shadow-lg transition-all duration-200 overflow-hidden",children:[e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"aspect-video bg-muted relative overflow-hidden",children:[y.thumbnailUrl?e.jsx("img",{src:y.thumbnailUrl,alt:y.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center",children:e.jsx(As,{className:"h-8 w-8 text-primary/60"})}),y.isLive&&e.jsx("div",{className:"absolute top-2 left-2",children:e.jsxs(ce,{className:"bg-red-600 text-white animate-pulse",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full mr-2"}),"LIVE"]})}),y.isLive&&y.viewerCount&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsxs(ce,{variant:"secondary",className:"bg-black/50 text-white",children:[e.jsx(pr,{className:"h-3 w-3 mr-1"}),y.viewerCount.toLocaleString()]})}),y.priceCents&&y.priceCents>0&&e.jsx("div",{className:"absolute bottom-2 right-2",children:e.jsxs(ce,{className:"bg-yellow-600 text-white",children:["$",(y.priceCents/100).toFixed(2)]})}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-200 flex items-center justify-center",children:e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:e.jsx("div",{className:"w-12 h-12 bg-white/90 rounded-full flex items-center justify-center",children:e.jsx(gi,{className:"h-6 w-6 text-black ml-1"})})})})]})}),e.jsxs(ee,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs(un,{className:"h-10 w-10 flex-shrink-0",children:[e.jsx(En,{src:y.creator.avatarUrl}),e.jsx(hn,{children:y.creator.displayName.charAt(0)})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold truncate mb-1","data-testid":`stream-title-${y.id}`,children:y.title}),e.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:y.creator.displayName}),y.creator.isVerified&&e.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),y.status==="scheduled"&&y.scheduledFor&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(ys,{className:"h-3 w-3"}),Cc(new Date(y.scheduledFor),{addSuffix:!0})]}),y.status==="live"&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600",children:[e.jsx(wr,{className:"h-3 w-3"}),"Started ",Cc(new Date(y.createdAt),{addSuffix:!0})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[y.type==="subscribers_only"&&e.jsxs(ce,{variant:"outline",className:"text-xs",children:[e.jsx(An,{className:"h-3 w-3 mr-1"}),"Subscribers Only"]}),y.type==="private"&&e.jsx(ce,{variant:"outline",className:"text-xs",children:"Private"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(V,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(Ma,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(XA,{className:"h-4 w-4"})})]})]}),e.jsx(_t,{href:y.isLive?`/streams/${y.id}/watch`:`/streams/${y.id}`,children:e.jsx(V,{className:"w-full mt-3",variant:y.isLive?"default":"outline",children:y.isLive?"Watch Now":"View Stream"})})]})]});return e.jsxs("div",{className:"container mx-auto p-6 space-y-6","data-testid":"streams-home",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Live Streams"}),e.jsxs("p",{className:"text-muted-foreground",children:[p," live  ",g," scheduled"]})]}),(t?.role==="creator"||t?.role==="admin"||t?.role==="moderator")&&e.jsx(_t,{href:"/streams/create",children:e.jsxs(V,{className:"bg-red-600 hover:bg-red-700","data-testid":"create-stream-button",children:[e.jsx(hs,{className:"h-4 w-4 mr-2"}),"Create Stream"]})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(Y,{children:e.jsxs(ee,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm font-medium",children:"Live Now"})]}),e.jsx("div",{className:"text-2xl font-bold mt-1",children:p})]})}),e.jsx(Y,{children:e.jsxs(ee,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ys,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:"Scheduled"})]}),e.jsx("div",{className:"text-2xl font-bold mt-1",children:g})]})}),e.jsx(Y,{children:e.jsxs(ee,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pr,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:"Total Viewers"})]}),e.jsx("div",{className:"text-2xl font-bold mt-1",children:m.reduce((y,_)=>y+(_.viewerCount||0),0).toLocaleString()})]})}),e.jsx(Y,{children:e.jsxs(ee,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(yn,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:"Trending"})]}),e.jsx("div",{className:"text-2xl font-bold mt-1",children:"+23%"})]})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(Ue,{placeholder:"Search streams or creators...",value:r,onChange:y=>n(y.target.value),className:"pl-10","data-testid":"search-streams"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(yt,{value:s,onValueChange:a,children:[e.jsx(xt,{className:"w-32",children:e.jsx(bt,{})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"all",children:"All Streams"}),e.jsx(Q,{value:"live",children:"Live Now"}),e.jsx(Q,{value:"scheduled",children:"Scheduled"})]})]}),e.jsxs(yt,{value:i,onValueChange:o,children:[e.jsx(xt,{className:"w-32",children:e.jsx(bt,{})}),e.jsxs(gt,{children:[e.jsx(Q,{value:"viewers",children:"Most Viewers"}),e.jsx(Q,{value:"recent",children:"Most Recent"}),e.jsx(Q,{value:"title",children:"Title A-Z"})]})]}),e.jsxs("div",{className:"flex border border-border rounded-md",children:[e.jsx(V,{variant:l==="grid"?"default":"ghost",size:"sm",onClick:()=>u("grid"),className:"rounded-r-none",children:e.jsx(lY,{className:"h-4 w-4"})}),e.jsx(V,{variant:l==="list"?"default":"ghost",size:"sm",onClick:()=>u("list"),className:"rounded-l-none",children:e.jsx(vY,{className:"h-4 w-4"})})]})]})]}),e.jsx("div",{className:`grid gap-6 ${l==="grid"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1"}`,children:f.map(y=>e.jsx(b,{stream:y},y.id))}),f.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(As,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold",children:"No streams found"}),e.jsx("p",{className:"text-muted-foreground",children:r?"Try adjusting your search or filters":"No streams are currently available"})]})]})};function QEe(){const{user:t}=kr(),{data:r,isLoading:n}=Ve({queryKey:["/api/events"]}),{data:s}=Ve({queryKey:["/api/events/my-tickets"],enabled:!!t}),a=r?.filter(l=>l.status==="scheduled")||[],i=r?.filter(l=>l.status==="live")||[],o=r?.filter(l=>l.status==="ended")||[];return n?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(oa,{className:"h-8 w-8 animate-spin text-fanz-red"})}):e.jsxs("div",{className:"container mx-auto px-4 py-4 md:py-8 max-w-7xl",children:[e.jsxs("div",{className:"mb-6 md:mb-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2 font-bebas tracking-wide",children:"LIVE EVENTS"}),e.jsx("p",{className:"text-sm md:text-base text-gray-400",children:"Immersive virtual meetups with your favorite creators"})]}),t?.role==="creator"&&e.jsx(_t,{href:"/events/host",children:e.jsxs(V,{"data-testid":"button-create-event",className:"bg-fanz-red hover:bg-fanz-red/90 text-white font-bold",children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Host Event"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 md:gap-4 mb-6",children:[e.jsx(Y,{className:"bg-white/5 backdrop-blur-md border-white/10",children:e.jsx(ee,{className:"p-3 md:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Live Now"}),e.jsx("p",{className:"text-2xl font-bold text-fanz-red",children:i.length})]}),e.jsx(As,{className:"h-8 w-8 text-fanz-red"})]})})}),e.jsx(Y,{className:"bg-white/5 backdrop-blur-md border-white/10",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Upcoming"}),e.jsx("p",{className:"text-2xl font-bold text-fanz-gold",children:a.length})]}),e.jsx(ys,{className:"h-8 w-8 text-fanz-gold"})]})})}),e.jsx(Y,{className:"bg-white/5 backdrop-blur-md border-white/10",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"My Tickets"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:s?.length||0})]}),e.jsx(zo,{className:"h-8 w-8 text-white"})]})})})]})]}),e.jsxs(Xs,{defaultValue:"live",className:"w-full",children:[e.jsxs(zs,{className:"bg-white/5 backdrop-blur-md border-white/10 mb-4 md:mb-6 w-full grid grid-cols-3",children:[e.jsxs(Kt,{value:"live","data-testid":"tab-live-events",className:"text-xs sm:text-sm",children:[e.jsx("span",{className:"hidden sm:inline",children:"Live Now "}),"(",i.length,")"]}),e.jsxs(Kt,{value:"upcoming","data-testid":"tab-upcoming-events",className:"text-xs sm:text-sm",children:[e.jsx("span",{className:"hidden sm:inline",children:"Upcoming "}),"(",a.length,")"]}),e.jsxs(Kt,{value:"ended","data-testid":"tab-ended-events",className:"text-xs sm:text-sm",children:[e.jsx("span",{className:"hidden sm:inline",children:"Past "}),"(",o.length,")"]})]}),e.jsx(Qt,{value:"live",children:e.jsx(_C,{events:i,type:"live"})}),e.jsx(Qt,{value:"upcoming",children:e.jsx(_C,{events:a,type:"upcoming"})}),e.jsx(Qt,{value:"ended",children:e.jsx(_C,{events:o,type:"ended"})})]})]})}function _C({events:t,type:r}){return t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(As,{className:"h-16 w-16 mx-auto mb-4 text-gray-600"}),e.jsxs("p",{className:"text-gray-400",children:["No ",r," events at the moment"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(n=>e.jsx(XEe,{event:n},n.id))})}function XEe({event:t}){const r=()=>{switch(t.status){case"live":return e.jsx(ce,{className:"bg-fanz-red text-white animate-pulse","data-testid":`badge-status-${t.id}`,children:" LIVE"});case"scheduled":return e.jsx(ce,{className:"bg-fanz-gold text-black","data-testid":`badge-status-${t.id}`,children:"Upcoming"});case"ended":return e.jsx(ce,{className:"bg-gray-600 text-white","data-testid":`badge-status-${t.id}`,children:"Ended"});default:return null}},n=()=>{switch(t.accessType){case"free":return e.jsx(ce,{variant:"outline",className:"border-green-500 text-green-500",children:"Free"});case"ticketed":return e.jsxs(ce,{variant:"outline",className:"border-fanz-gold text-fanz-gold",children:[e.jsx(zo,{className:"h-3 w-3 mr-1"}),"$",(t.ticketPriceCents/100).toFixed(2)]});case"subscription_only":return e.jsxs(ce,{variant:"outline",className:"border-purple-500 text-purple-500",children:[e.jsx(ia,{className:"h-3 w-3 mr-1"}),"Subscribers"]});case"tier_gated":return e.jsxs(ce,{variant:"outline",className:"border-blue-500 text-blue-500",children:[e.jsx(ia,{className:"h-3 w-3 mr-1"}),"Tier Gated"]});default:return null}};return e.jsx(_t,{href:`/events/${t.id}`,children:e.jsxs(Y,{"data-testid":`card-event-${t.id}`,className:"bg-white/5 backdrop-blur-md border-white/10 hover:border-fanz-red/50 transition-all cursor-pointer group overflow-hidden",children:[e.jsxs(ue,{children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r(),e.jsxs("div",{className:"flex gap-2",children:[n(),t.nftSouvenirEnabled&&e.jsxs(ce,{variant:"outline",className:"border-fanz-gold text-fanz-gold",children:[e.jsx(Ls,{className:"h-3 w-3 mr-1"}),"NFT"]})]})]}),e.jsx(fe,{className:"text-white group-hover:text-fanz-red transition-colors","data-testid":`text-event-title-${t.id}`,children:t.title}),e.jsx(lt,{className:"text-gray-400 line-clamp-2",children:t.description||"Join this exclusive virtual event"})]}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-400",children:[e.jsx(ys,{className:"h-4 w-4 mr-2"}),e.jsx("span",{"data-testid":`text-event-date-${t.id}`,children:Ir(new Date(t.scheduledStartAt),"MMM d, yyyy 'at' h:mm a")})]}),e.jsxs("div",{className:"flex items-center text-gray-400",children:[e.jsx(lr,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{"data-testid":`text-event-attendees-${t.id}`,children:[t.totalAttendees," ",t.maxAttendees?`/ ${t.maxAttendees}`:""," attendees"]})]})]})}),e.jsx(P$,{children:e.jsx(V,{"data-testid":`button-view-event-${t.id}`,className:"w-full bg-fanz-red hover:bg-fanz-red/90 text-white font-bold",children:t.status==="live"?"Join Now":"View Details"})})]})})}function JEe(){const{eventId:t}=Cf(),{user:r}=kr(),{toast:n}=or(),[,s]=js(),{data:a,isLoading:i}=Ve({queryKey:["/api/events",t]}),{data:o}=Ve({queryKey:["/api/events",t,"my-ticket"],enabled:!!r&&!!t}),l=ot({mutationFn:async()=>await Ze(`/api/events/${t}/purchase-ticket`,{method:"POST",body:JSON.stringify({})}),onSuccess:()=>{Rt.invalidateQueries({queryKey:["/api/events",t]}),Rt.invalidateQueries({queryKey:["/api/events",t,"my-ticket"]}),Rt.invalidateQueries({queryKey:["/api/events/my-tickets"]}),n({title:"Ticket purchased!",description:"You can now join the event when it goes live."})},onError:f=>{n({title:"Purchase failed",description:f.message||"Unable to purchase ticket",variant:"destructive"})}});if(i||!a)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(oa,{className:"h-8 w-8 animate-spin text-fanz-red"})});const u=a.status==="live"&&(a.accessType==="free"||a.accessType==="ticketed"&&o),m=a.accessType==="ticketed"&&!o&&a.status!=="cancelled"&&a.status!=="ended"&&(!a.maxAttendees||a.totalAttendees<a.maxAttendees);return e.jsxs("div",{className:"container mx-auto px-4 py-4 md:py-8 max-w-6xl",children:[e.jsx(_t,{href:"/events",children:e.jsxs(V,{variant:"ghost",className:"mb-3 md:mb-4 text-gray-400 hover:text-white text-sm md:text-base","data-testid":"button-back-events",children:[e.jsx(Cl,{className:"h-4 w-4 mr-2"}),"Back to Events"]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs(Y,{className:"bg-white/5 backdrop-blur-md border-white/10",children:[e.jsxs(ue,{children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex gap-2",children:[a.status==="live"&&e.jsx(ce,{className:"bg-fanz-red text-white animate-pulse","data-testid":"badge-status",children:" LIVE"}),a.status==="scheduled"&&e.jsx(ce,{className:"bg-fanz-gold text-black","data-testid":"badge-status",children:"Upcoming"}),a.status==="ended"&&e.jsx(ce,{className:"bg-gray-600 text-white","data-testid":"badge-status",children:"Ended"}),a.status==="cancelled"&&e.jsx(ce,{className:"bg-red-900 text-white","data-testid":"badge-status",children:"Cancelled"}),e.jsx(ce,{variant:"outline",className:"text-gray-300",children:a.eventType.replace("_"," ").toUpperCase()})]}),a.nftSouvenirEnabled&&e.jsxs(ce,{className:"bg-gradient-to-r from-fanz-gold to-yellow-600 text-black",children:[e.jsx(Ls,{className:"h-3 w-3 mr-1"}),"NFT Souvenir"]})]}),e.jsx(fe,{className:"text-2xl md:text-3xl text-white mb-2","data-testid":"text-event-title",children:a.title}),e.jsx(lt,{className:"text-gray-300 text-base",children:a.description})]}),e.jsxs(ee,{className:"space-y-6",children:[a.creator&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(un,{className:"h-12 w-12 border-2 border-fanz-gold",children:[e.jsx(En,{src:a.creator.avatarUrl||void 0}),e.jsx(hn,{className:"bg-fanz-gold text-black font-bold",children:a.creator.username?.charAt(0).toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Hosted by"}),e.jsx(_t,{href:`/creator/${a.creator.username}`,children:e.jsx("p",{className:"text-white font-semibold hover:text-fanz-gold transition-colors","data-testid":"text-creator-name",children:a.creator.displayName||a.creator.username})})]})]}),e.jsx(Tn,{className:"bg-white/10"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ys,{className:"h-5 w-5 text-fanz-gold"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Date"}),e.jsx("p",{className:"text-white","data-testid":"text-event-date",children:Ir(new Date(a.scheduledStartAt),"MMM d, yyyy")})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(wr,{className:"h-5 w-5 text-fanz-gold"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Time"}),e.jsxs("p",{className:"text-white","data-testid":"text-event-time",children:[Ir(new Date(a.scheduledStartAt),"h:mm a")," - ",Ir(new Date(a.scheduledEndAt),"h:mm a")]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(lr,{className:"h-5 w-5 text-fanz-gold"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Attendees"}),e.jsxs("p",{className:"text-white","data-testid":"text-event-attendees",children:[a.totalAttendees," ",a.maxAttendees?`/ ${a.maxAttendees}`:""]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Od,{className:"h-5 w-5 text-fanz-gold"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Location"}),e.jsx("p",{className:"text-white",children:"Virtual Event"})]})]})]}),(a.avatarEnabled||a.spatialAudioEnabled||a.nftSouvenirEnabled)&&e.jsxs(e.Fragment,{children:[e.jsx(Tn,{className:"bg-white/10"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold mb-3",children:"Event Features"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[a.avatarEnabled&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[e.jsx(vl,{className:"h-4 w-4 text-green-500"}),"3D Avatars"]}),a.spatialAudioEnabled&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[e.jsx(vl,{className:"h-4 w-4 text-green-500"}),"Spatial Audio"]}),a.nftSouvenirEnabled&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[e.jsx(vl,{className:"h-4 w-4 text-green-500"}),"NFT Souvenir"]})]})]})]}),a.nftSouvenirEnabled&&a.nftSouvenirName&&e.jsxs(e.Fragment,{children:[e.jsx(Tn,{className:"bg-white/10"}),e.jsxs("div",{className:"bg-gradient-to-br from-fanz-gold/10 to-yellow-600/10 border border-fanz-gold/30 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ls,{className:"h-5 w-5 text-fanz-gold"}),e.jsx("h3",{className:"text-white font-semibold",children:"Exclusive NFT Souvenir"})]}),e.jsx("p",{className:"text-fanz-gold font-semibold mb-1",children:a.nftSouvenirName}),e.jsx("p",{className:"text-gray-300 text-sm",children:a.nftSouvenirDescription}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:" Automatically minted for all attendees after the event"})]})]})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(Y,{className:"bg-white/5 backdrop-blur-md border-white/10 sticky top-4",children:[e.jsx(ue,{children:e.jsx(fe,{className:"text-white",children:a.accessType==="free"?"Free Event":"Get Your Ticket"})}),e.jsxs(ee,{className:"space-y-4",children:[a.accessType==="ticketed"&&e.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Ticket Price"}),e.jsxs("p",{className:"text-3xl font-bold text-fanz-gold","data-testid":"text-ticket-price",children:["$",(a.ticketPriceCents/100).toFixed(2)]})]}),a.accessType==="free"&&e.jsx("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-3",children:e.jsx("p",{className:"text-green-500 text-sm font-semibold",children:" Free to join"})}),a.accessType==="subscription_only"&&e.jsx("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-purple-400",children:[e.jsx(ia,{className:"h-4 w-4"}),e.jsx("p",{className:"text-sm font-semibold",children:"Subscribers Only"})]})}),a.accessType==="tier_gated"&&e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-blue-400",children:[e.jsx(ia,{className:"h-4 w-4"}),e.jsx("p",{className:"text-sm font-semibold",children:"Trust Tier Required"})]})}),o&&e.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-500",children:[e.jsx(zo,{className:"h-4 w-4"}),e.jsx("p",{className:"text-sm font-semibold",children:" Ticket Owned"})]}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Purchased on ",Ir(new Date(o.purchasedAt),"MMM d, yyyy")]})]}),e.jsxs("div",{className:"space-y-2",children:[u&&e.jsxs(V,{"data-testid":"button-join-event",className:"w-full bg-fanz-red hover:bg-fanz-red/90 text-white font-bold text-lg py-6",onClick:()=>s(`/events/${t}/live`),children:[e.jsx(As,{className:"h-5 w-5 mr-2"}),"Join Live Event"]}),m&&e.jsx(V,{"data-testid":"button-purchase-ticket",className:"w-full bg-fanz-gold hover:bg-fanz-gold/90 text-black font-bold text-lg py-6",onClick:()=>l.mutate(),disabled:l.isPending,children:l.isPending?e.jsxs(e.Fragment,{children:[e.jsx(oa,{className:"h-5 w-5 mr-2 animate-spin"})," Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(zo,{className:"h-5 w-5 mr-2"})," Purchase Ticket"]})}),a.status==="scheduled"&&!m&&!u&&e.jsx(V,{disabled:!0,className:"w-full bg-gray-600 text-white font-bold text-lg py-6","data-testid":"button-event-not-started",children:"Event Not Started"}),a.maxAttendees&&a.totalAttendees>=a.maxAttendees&&!o&&e.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 text-center",children:e.jsx("p",{className:"text-red-500 text-sm font-semibold",children:" Event Sold Out"})})]}),a.maxAttendees&&a.totalAttendees>=a.maxAttendees*.9&&a.totalAttendees<a.maxAttendees&&e.jsxs("p",{className:"text-yellow-500 text-xs text-center",children:[" Almost full! ",a.maxAttendees-a.totalAttendees," tickets left"]})]})]})})]})]})}const eOe=Xr({title:mt().min(3,"Title must be at least 3 characters"),description:mt().optional(),eventType:po(["public_meetup","private_show","vip_experience","fan_meetup","exclusive_stream"]),accessType:po(["free","ticketed","subscription_only","tier_gated"]),scheduledStartAt:mt(),scheduledEndAt:mt(),ticketPriceCents:tn().min(0).default(0),maxAttendees:tn().min(1).optional(),avatarEnabled:xi().default(!0),spatialAudioEnabled:xi().default(!0),nftSouvenirEnabled:xi().default(!1),nftSouvenirName:mt().optional(),nftSouvenirDescription:mt().optional()});function tOe(){kr();const{toast:t}=or(),[r,n]=j.useState(!1),{data:s,isLoading:a}=Ve({queryKey:["/api/events/my-events"]}),i=Da({resolver:La(eOe),defaultValues:{eventType:"public_meetup",accessType:"free",ticketPriceCents:0,avatarEnabled:!0,spatialAudioEnabled:!0,nftSouvenirEnabled:!1}}),o=ot({mutationFn:async y=>await Ze("/api/events",{method:"POST",body:JSON.stringify(y)}),onSuccess:()=>{Rt.invalidateQueries({queryKey:["/api/events/my-events"]}),Rt.invalidateQueries({queryKey:["/api/events"]}),n(!1),i.reset(),t({title:"Event created!",description:"Your event has been scheduled successfully."})},onError:y=>{t({title:"Failed to create event",description:y.message||"An error occurred",variant:"destructive"})}}),l=ot({mutationFn:async y=>await Ze(`/api/events/${y}/start`,{method:"POST"}),onSuccess:()=>{Rt.invalidateQueries({queryKey:["/api/events/my-events"]}),t({title:"Event started!",description:"Your event is now live."})}}),u=ot({mutationFn:async y=>await Ze(`/api/events/${y}/end`,{method:"POST"}),onSuccess:()=>{Rt.invalidateQueries({queryKey:["/api/events/my-events"]}),t({title:"Event ended",description:"Your event has ended successfully."})}}),m=ot({mutationFn:async y=>await Ze(`/api/events/${y}/cancel`,{method:"POST"}),onSuccess:()=>{Rt.invalidateQueries({queryKey:["/api/events/my-events"]}),t({title:"Event cancelled",description:"All ticket holders have been refunded automatically."})}}),f=y=>{o.mutate(y)};if(a)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(oa,{className:"h-8 w-8 animate-spin text-fanz-red"})});const p=s?.filter(y=>y.status==="scheduled")||[],g=s?.filter(y=>y.status==="live")||[],b=s?.filter(y=>y.status==="ended")||[];return e.jsxs("div",{className:"container mx-auto px-4 py-4 md:py-8 max-w-7xl",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6 md:mb-8",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2 font-bebas tracking-wide",children:"EVENT HOSTING DASHBOARD"}),e.jsx("p",{className:"text-sm md:text-base text-gray-400",children:"Create and manage your virtual events"})]}),e.jsxs(Ur,{open:r,onOpenChange:n,children:[e.jsx(Dl,{asChild:!0,children:e.jsxs(V,{"data-testid":"button-create-event",className:"bg-fanz-red hover:bg-fanz-red/90 text-white font-bold",children:[e.jsx(hs,{className:"h-4 w-4 mr-2"}),"Create Event"]})}),e.jsxs(Lr,{className:"bg-[#050505] border-white/10 max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Fr,{children:[e.jsx($r,{className:"text-white",children:"Create New Event"}),e.jsx(Wr,{className:"text-gray-400",children:"Set up an immersive virtual event for your fans"})]}),e.jsx(Ra,{...i,children:e.jsxs("form",{onSubmit:i.handleSubmit(f),className:"space-y-4",children:[e.jsx(Pt,{control:i.control,name:"title",render:({field:y})=>e.jsxs(Ct,{children:[e.jsx(kt,{className:"text-white",children:"Event Title"}),e.jsx(At,{children:e.jsx(Ue,{...y,placeholder:"Amazing Virtual Meetup",className:"bg-white/5 border-white/10 text-white","data-testid":"input-event-title"})}),e.jsx(It,{})]})}),e.jsx(Pt,{control:i.control,name:"description",render:({field:y})=>e.jsxs(Ct,{children:[e.jsx(kt,{className:"text-white",children:"Description"}),e.jsx(At,{children:e.jsx(on,{...y,placeholder:"Describe your event...",className:"bg-white/5 border-white/10 text-white","data-testid":"input-event-description"})}),e.jsx(It,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Pt,{control:i.control,name:"eventType",render:({field:y})=>e.jsxs(Ct,{children:[e.jsx(kt,{className:"text-white",children:"Event Type"}),e.jsxs(yt,{onValueChange:y.onChange,defaultValue:y.value,children:[e.jsx(At,{children:e.jsx(xt,{className:"bg-white/5 border-white/10 text-white","data-testid":"select-event-type",children:e.jsx(bt,{})})}),e.jsxs(gt,{className:"bg-[#050505] border-white/10",children:[e.jsx(Q,{value:"public_meetup",children:"Public Meetup"}),e.jsx(Q,{value:"private_show",children:"Private Show"}),e.jsx(Q,{value:"vip_experience",children:"VIP Experience"}),e.jsx(Q,{value:"fan_meetup",children:"Fan Meetup"}),e.jsx(Q,{value:"exclusive_stream",children:"Exclusive Stream"})]})]}),e.jsx(It,{})]})}),e.jsx(Pt,{control:i.control,name:"accessType",render:({field:y})=>e.jsxs(Ct,{children:[e.jsx(kt,{className:"text-white",children:"Access Type"}),e.jsxs(yt,{onValueChange:y.onChange,defaultValue:y.value,children:[e.jsx(At,{children:e.jsx(xt,{className:"bg-white/5 border-white/10 text-white","data-testid":"select-access-type",children:e.jsx(bt,{})})}),e.jsxs(gt,{className:"bg-[#050505] border-white/10",children:[e.jsx(Q,{value:"free",children:"Free"}),e.jsx(Q,{value:"ticketed",children:"Ticketed"}),e.jsx(Q,{value:"subscription_only",children:"Subscribers Only"}),e.jsx(Q,{value:"tier_gated",children:"Trust Tier Gated"})]})]}),e.jsx(It,{})]})})]}),i.watch("accessType")==="ticketed"&&e.jsx(Pt,{control:i.control,name:"ticketPriceCents",render:({field:y})=>e.jsxs(Ct,{children:[e.jsx(kt,{className:"text-white",children:"Ticket Price ($)"}),e.jsx(At,{children:e.jsx(Ue,{type:"number",step:"0.01",...y,onChange:_=>y.onChange(Math.round(parseFloat(_.target.value||"0")*100)),value:(y.value/100).toFixed(2),className:"bg-white/5 border-white/10 text-white","data-testid":"input-ticket-price"})}),e.jsx(Aa,{className:"text-gray-400",children:"Price in USD"}),e.jsx(It,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Pt,{control:i.control,name:"scheduledStartAt",render:({field:y})=>e.jsxs(Ct,{children:[e.jsx(kt,{className:"text-white",children:"Start Date & Time"}),e.jsx(At,{children:e.jsx(Ue,{type:"datetime-local",...y,className:"bg-white/5 border-white/10 text-white","data-testid":"input-start-time"})}),e.jsx(It,{})]})}),e.jsx(Pt,{control:i.control,name:"scheduledEndAt",render:({field:y})=>e.jsxs(Ct,{children:[e.jsx(kt,{className:"text-white",children:"End Date & Time"}),e.jsx(At,{children:e.jsx(Ue,{type:"datetime-local",...y,className:"bg-white/5 border-white/10 text-white","data-testid":"input-end-time"})}),e.jsx(It,{})]})})]}),e.jsx(Pt,{control:i.control,name:"maxAttendees",render:({field:y})=>e.jsxs(Ct,{children:[e.jsx(kt,{className:"text-white",children:"Max Attendees (Optional)"}),e.jsx(At,{children:e.jsx(Ue,{type:"number",...y,onChange:_=>y.onChange(_.target.value?parseInt(_.target.value):void 0),value:y.value||"",placeholder:"Unlimited",className:"bg-white/5 border-white/10 text-white","data-testid":"input-max-attendees"})}),e.jsx(Aa,{className:"text-gray-400",children:"Leave empty for unlimited capacity"}),e.jsx(It,{})]})}),e.jsx(Tn,{className:"bg-white/10"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-white font-semibold",children:"Event Features"}),e.jsx(Pt,{control:i.control,name:"avatarEnabled",render:({field:y})=>e.jsxs(Ct,{className:"flex items-center justify-between rounded-lg border border-white/10 p-3 bg-white/5",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(kt,{className:"text-white",children:"3D Avatars"}),e.jsx(Aa,{className:"text-gray-400 text-xs",children:"Enable avatar customization for attendees"})]}),e.jsx(At,{children:e.jsx(kn,{checked:y.value,onCheckedChange:y.onChange,"data-testid":"switch-avatars"})})]})}),e.jsx(Pt,{control:i.control,name:"spatialAudioEnabled",render:({field:y})=>e.jsxs(Ct,{className:"flex items-center justify-between rounded-lg border border-white/10 p-3 bg-white/5",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(kt,{className:"text-white",children:"Spatial Audio"}),e.jsx(Aa,{className:"text-gray-400 text-xs",children:"3D positional audio for immersive experience"})]}),e.jsx(At,{children:e.jsx(kn,{checked:y.value,onCheckedChange:y.onChange,"data-testid":"switch-spatial-audio"})})]})}),e.jsx(Pt,{control:i.control,name:"nftSouvenirEnabled",render:({field:y})=>e.jsxs(Ct,{className:"flex items-center justify-between rounded-lg border border-fanz-gold/30 p-3 bg-fanz-gold/10",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsxs(kt,{className:"text-fanz-gold flex items-center gap-2",children:[e.jsx(Ls,{className:"h-4 w-4"}),"NFT Souvenir"]}),e.jsx(Aa,{className:"text-gray-400 text-xs",children:"Mint commemorative NFTs for attendees"})]}),e.jsx(At,{children:e.jsx(kn,{checked:y.value,onCheckedChange:y.onChange,"data-testid":"switch-nft-souvenir"})})]})}),i.watch("nftSouvenirEnabled")&&e.jsxs(e.Fragment,{children:[e.jsx(Pt,{control:i.control,name:"nftSouvenirName",render:({field:y})=>e.jsxs(Ct,{children:[e.jsx(kt,{className:"text-white",children:"NFT Name"}),e.jsx(At,{children:e.jsx(Ue,{...y,placeholder:"Exclusive Event Pass #1",className:"bg-white/5 border-white/10 text-white","data-testid":"input-nft-name"})}),e.jsx(It,{})]})}),e.jsx(Pt,{control:i.control,name:"nftSouvenirDescription",render:({field:y})=>e.jsxs(Ct,{children:[e.jsx(kt,{className:"text-white",children:"NFT Description"}),e.jsx(At,{children:e.jsx(on,{...y,placeholder:"Commemorative NFT for attending...",className:"bg-white/5 border-white/10 text-white","data-testid":"input-nft-description"})}),e.jsx(It,{})]})})]})]}),e.jsx(V,{type:"submit",className:"w-full bg-fanz-red hover:bg-fanz-red/90 text-white font-bold",disabled:o.isPending,"data-testid":"button-submit-create",children:o.isPending?e.jsxs(e.Fragment,{children:[e.jsx(oa,{className:"h-4 w-4 mr-2 animate-spin"})," Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(hs,{className:"h-4 w-4 mr-2"})," Create Event"]})})]})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 md:gap-4 mb-6 md:mb-8",children:[e.jsx(Y,{className:"bg-white/5 backdrop-blur-md border-white/10",children:e.jsx(ee,{className:"p-3 md:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Live Events"}),e.jsx("p",{className:"text-3xl font-bold text-fanz-red",children:g.length})]}),e.jsx(As,{className:"h-10 w-10 text-fanz-red"})]})})}),e.jsx(Y,{className:"bg-white/5 backdrop-blur-md border-white/10",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Scheduled"}),e.jsx("p",{className:"text-3xl font-bold text-fanz-gold",children:p.length})]}),e.jsx(ys,{className:"h-10 w-10 text-fanz-gold"})]})})}),e.jsx(Y,{className:"bg-white/5 backdrop-blur-md border-white/10",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Past Events"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:b.length})]}),e.jsx(lr,{className:"h-10 w-10 text-white"})]})})})]}),g.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4 font-bebas",children:"LIVE NOW"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(y=>e.jsx(NC,{event:y,onStart:l.mutate,onEnd:u.mutate,onCancel:m.mutate},y.id))})]}),p.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4 font-bebas",children:"SCHEDULED"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(y=>e.jsx(NC,{event:y,onStart:l.mutate,onEnd:u.mutate,onCancel:m.mutate},y.id))})]}),b.length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4 font-bebas",children:"PAST EVENTS"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map(y=>e.jsx(NC,{event:y,onStart:l.mutate,onEnd:u.mutate,onCancel:m.mutate},y.id))})]}),s?.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(As,{className:"h-16 w-16 mx-auto mb-4 text-gray-600"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"You haven't created any events yet"}),e.jsxs(V,{onClick:()=>n(!0),className:"bg-fanz-red hover:bg-fanz-red/90 text-white font-bold","data-testid":"button-create-first-event",children:[e.jsx(hs,{className:"h-4 w-4 mr-2"}),"Create Your First Event"]})]})]})}function NC({event:t,onStart:r,onEnd:n,onCancel:s}){return e.jsxs(Y,{className:"bg-white/5 backdrop-blur-md border-white/10","data-testid":`card-event-${t.id}`,children:[e.jsxs(ue,{children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.status==="live"&&e.jsx(ce,{className:"bg-fanz-red text-white animate-pulse",children:" LIVE"}),t.status==="scheduled"&&e.jsx(ce,{className:"bg-fanz-gold text-black",children:"Upcoming"}),t.status==="ended"&&e.jsx(ce,{className:"bg-gray-600 text-white",children:"Ended"})]}),e.jsx(fe,{className:"text-white",children:t.title}),e.jsx(lt,{className:"text-gray-400 line-clamp-2",children:t.description})]}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between text-gray-400",children:[e.jsx("span",{children:"Start:"}),e.jsx("span",{className:"text-white",children:Ir(new Date(t.scheduledStartAt),"MMM d, h:mm a")})]}),e.jsxs("div",{className:"flex items-center justify-between text-gray-400",children:[e.jsx("span",{children:"Attendees:"}),e.jsx("span",{className:"text-white",children:t.totalAttendees})]}),t.totalRevenueCents>0&&e.jsxs("div",{className:"flex items-center justify-between text-gray-400",children:[e.jsx("span",{children:"Revenue:"}),e.jsxs("span",{className:"text-fanz-gold font-semibold",children:["$",(t.totalRevenueCents/100).toFixed(2)]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[t.status==="scheduled"&&e.jsxs(e.Fragment,{children:[e.jsxs(V,{size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700",onClick:()=>r(t.id),"data-testid":`button-start-${t.id}`,children:[e.jsx(gi,{className:"h-4 w-4 mr-1"}),"Start"]}),e.jsx(V,{size:"sm",variant:"destructive",onClick:()=>s(t.id),"data-testid":`button-cancel-${t.id}`,children:e.jsx(Bo,{className:"h-4 w-4"})})]}),t.status==="live"&&e.jsxs(V,{size:"sm",className:"flex-1 bg-red-600 hover:bg-red-700",onClick:()=>n(t.id),"data-testid":`button-end-${t.id}`,children:[e.jsx(LF,{className:"h-4 w-4 mr-1"}),"End Event"]})]})]})]})}function rOe(){const{eventId:t}=Cf(),{user:r}=kr(),{toast:n}=or(),[,s]=js(),[a,i]=j.useState("5.00"),[o,l]=j.useState(""),[u,m]=j.useState(!1),[f,p]=j.useState(0),[g,b]=j.useState([]),y=j.useRef(null),{data:_,isLoading:w}=Ve({queryKey:["/api/events",t]}),{data:k}=Ve({queryKey:["/api/events",t,"my-attendance"],enabled:!!r&&!!t}),{data:A}=Ve({queryKey:["/api/events",t,"tips"],refetchInterval:5e3}),{data:P}=Ve({queryKey:["/api/events",t,"attendees"],refetchInterval:3e3}),{data:O}=Ve({queryKey:["/api/events",t,"my-nft"],enabled:!!r&&_?.status==="ended"&&_?.nftSouvenirEnabled}),I=ot({mutationFn:async()=>await Ze(`/api/events/${t}/join`,{method:"POST"}),onSuccess:()=>{Rt.invalidateQueries({queryKey:["/api/events",t,"my-attendance"]}),Rt.invalidateQueries({queryKey:["/api/events",t,"attendees"]}),n({title:"Joined event!",description:"Welcome to the live event"})},onError:H=>{n({title:"Failed to join",description:H.message||"Unable to join event",variant:"destructive"}),s(`/events/${t}`)}}),D=ot({mutationFn:async()=>await Ze(`/api/events/${t}/leave`,{method:"POST"}),onSuccess:()=>{s(`/events/${t}`)}}),F=ot({mutationFn:async H=>await Ze(`/api/events/${t}/tip`,{method:"POST",body:JSON.stringify(H)}),onSuccess:()=>{Rt.invalidateQueries({queryKey:["/api/events",t,"tips"]}),m(!1),i("5.00"),l(""),n({title:"Tip sent!",description:"Your tip has been delivered"})},onError:H=>{n({title:"Tip failed",description:H.message||"Unable to send tip",variant:"destructive"})}});j.useEffect(()=>{_?.status==="live"&&!k&&r&&I.mutate()},[_,k,r]),j.useEffect(()=>{P&&p(P.length)},[P]),j.useEffect(()=>{A&&b(A)},[A]),j.useEffect(()=>{y.current?.scrollIntoView({behavior:"smooth"})},[g]),j.useEffect(()=>()=>{k&&D.mutate()},[k]);const B=()=>{const H=Math.round(parseFloat(a)*100);if(H<100){n({title:"Invalid amount",description:"Minimum tip is $1.00",variant:"destructive"});return}F.mutate({amountCents:H,message:o||void 0})};return w||!_?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[#050505]",children:e.jsx(oa,{className:"h-8 w-8 animate-spin text-fanz-red"})}):_.status!=="live"?e.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-[#050505]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Event Not Live"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"This event is not currently streaming"}),e.jsx(_t,{href:`/events/${t}`,children:e.jsxs(V,{className:"bg-fanz-red hover:bg-fanz-red/90",children:[e.jsx(Cl,{className:"h-4 w-4 mr-2"}),"Back to Event Details"]})})]})}):e.jsxs("div",{className:"min-h-screen bg-[#050505] flex flex-col",children:[e.jsx("div",{className:"bg-black/80 backdrop-blur-md border-b border-white/10 px-3 md:px-4 py-2 md:py-3",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-4 flex-1 min-w-0",children:[e.jsx(V,{variant:"ghost",size:"sm",onClick:()=>s(`/events/${t}`),className:"text-gray-400 hover:text-white shrink-0","data-testid":"button-leave-event",children:e.jsx(Il,{className:"h-4 w-4 md:h-5 md:w-5"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(ce,{className:"bg-fanz-red text-white animate-pulse text-xs shrink-0",children:" LIVE"}),e.jsx("h1",{className:"text-white font-bold text-sm md:text-lg truncate","data-testid":"text-event-title",children:_.title})]}),e.jsxs("p",{className:"text-xs md:text-sm text-gray-400 truncate",children:["Hosted by ",_.creator?.displayName||_.creator?.username]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 md:gap-2 text-white shrink-0",children:[e.jsx(lr,{className:"h-4 w-4 md:h-5 md:w-5 text-fanz-gold"}),e.jsx("span",{className:"font-semibold text-sm md:text-base","data-testid":"text-viewer-count",children:f}),e.jsx("span",{className:"text-gray-400 text-xs md:text-sm hidden sm:inline",children:"viewers"})]})]})}),e.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden",children:[e.jsx("div",{className:"flex-1 flex items-center justify-center bg-black/50 p-4 md:p-8",children:e.jsxs("div",{className:"text-center max-w-2xl w-full",children:[e.jsxs("div",{className:"bg-gradient-to-br from-fanz-red/20 to-fanz-gold/20 rounded-xl md:rounded-2xl p-6 md:p-12 border border-white/10 backdrop-blur-md",children:[e.jsx(Ls,{className:"h-24 w-24 mx-auto mb-6 text-fanz-gold animate-pulse"}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-4 font-bebas tracking-wide",children:"IMMERSIVE VIRTUAL EXPERIENCE"}),e.jsxs("p",{className:"text-gray-300 mb-6",children:["You're now connected to ",_.title,". Enjoy the live experience!"]}),_.avatarEnabled&&e.jsx(ce,{variant:"outline",className:"border-green-500 text-green-500 mr-2",children:" 3D Avatars"}),_.spatialAudioEnabled&&e.jsx(ce,{variant:"outline",className:"border-blue-500 text-blue-500",children:" Spatial Audio"})]}),_.status==="ended"&&_.nftSouvenirEnabled&&O&&e.jsx(Y,{className:"bg-gradient-to-br from-fanz-gold/10 to-yellow-600/10 border-fanz-gold/30 mt-8",children:e.jsxs(ee,{className:"p-6 text-center",children:[e.jsx(Ls,{className:"h-12 w-12 mx-auto mb-4 text-fanz-gold"}),e.jsx("h3",{className:"text-white font-bold text-xl mb-2",children:"NFT Souvenir Claimed! "}),e.jsx("p",{className:"text-gray-300 mb-4",children:_.nftSouvenirName}),e.jsxs(ce,{className:"bg-fanz-gold text-black",children:["Serial #",O.serialNumber," / ",O.totalMinted]})]})})]})}),e.jsxs("div",{className:"w-full lg:w-80 bg-black/80 backdrop-blur-md border-t lg:border-t-0 lg:border-l border-white/10 flex flex-col max-h-[40vh] lg:max-h-none",children:[e.jsx("div",{className:"p-3 md:p-4 border-b border-white/10",children:e.jsxs("h3",{className:"text-white font-semibold flex items-center gap-2 text-sm md:text-base",children:[e.jsx(Ma,{className:"h-4 w-4 md:h-5 md:w-5 text-fanz-red"}),"Live Tips"]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3","data-testid":"tips-feed",children:[g.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(qr,{className:"h-12 w-12 mx-auto mb-3 text-gray-600"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"No tips yet"}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Be the first to tip!"})]}):g.map(H=>e.jsx(nOe,{tip:H},H.id)),e.jsx("div",{ref:y})]}),e.jsx("div",{className:"p-4 border-t border-white/10 bg-black/50",children:e.jsxs(Ur,{open:u,onOpenChange:m,children:[e.jsx(Dl,{asChild:!0,children:e.jsxs(V,{"data-testid":"button-open-tip",className:"w-full bg-fanz-red hover:bg-fanz-red/90 text-white font-bold",children:[e.jsx(Ma,{className:"h-4 w-4 mr-2"}),"Send Tip"]})}),e.jsxs(Lr,{className:"bg-[#050505] border-white/10",children:[e.jsxs(Fr,{children:[e.jsx($r,{className:"text-white",children:"Send a Tip"}),e.jsx(Wr,{className:"text-gray-400",children:"Show your appreciation with a tip"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-white text-sm font-semibold mb-2 block",children:"Amount ($)"}),e.jsx(Ue,{type:"number",step:"0.01",min:"1",value:a,onChange:H=>i(H.target.value),className:"bg-white/5 border-white/10 text-white text-lg","data-testid":"input-tip-amount"}),e.jsx("div",{className:"flex gap-2 mt-2",children:["5.00","10.00","25.00","50.00"].map(H=>e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>i(H),className:"flex-1 border-white/10 hover:bg-fanz-gold/20","data-testid":`button-quick-${H}`,children:["$",H]},H))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white text-sm font-semibold mb-2 block",children:"Message (Optional)"}),e.jsx(Ue,{value:o,onChange:H=>l(H.target.value),placeholder:"Great show!",maxLength:200,className:"bg-white/5 border-white/10 text-white","data-testid":"input-tip-message"})]}),e.jsx(V,{onClick:B,disabled:F.isPending,className:"w-full bg-fanz-red hover:bg-fanz-red/90 text-white font-bold","data-testid":"button-send-tip",children:F.isPending?e.jsxs(e.Fragment,{children:[e.jsx(oa,{className:"h-4 w-4 mr-2 animate-spin"})," Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ei,{className:"h-4 w-4 mr-2"})," Send $",a]})})]})]})]})})]})]})]})}function nOe({tip:t}){const r=t.highlightColor||"#ff0000",n=(t.amountCents/100).toFixed(2);return e.jsxs("div",{className:He("rounded-lg p-3 border transition-all animate-in slide-in-from-bottom",t.amountCents>=1e4?"bg-fanz-gold/20 border-fanz-gold/50":t.amountCents>=5e3?"bg-purple-500/20 border-purple-500/50":"bg-white/5 border-white/10"),"data-testid":`tip-card-${t.id}`,style:t.highlightColor?{borderColor:r+"80",backgroundColor:r+"20"}:void 0,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[!t.isAnonymous&&t.fromUser&&e.jsx(un,{className:"h-6 w-6",children:e.jsx(hn,{className:"bg-fanz-red text-white text-xs",children:t.fromUser.username?.charAt(0).toUpperCase()})}),e.jsx("span",{className:"text-white font-semibold text-sm",children:t.isAnonymous?"Anonymous":t.fromUser?.displayName||t.fromUser?.username||"Fan"})]}),e.jsxs(ce,{className:He("font-bold",t.amountCents>=1e4?"bg-fanz-gold text-black":t.amountCents>=5e3?"bg-purple-600 text-white":"bg-fanz-red text-white"),"data-testid":`tip-amount-${t.id}`,children:["$",n]})]}),t.message&&e.jsx("p",{className:"text-gray-300 text-sm","data-testid":`tip-message-${t.id}`,children:t.message}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:Ir(new Date(t.createdAt),"h:mm a")})]})}function sOe(){const{isAuthenticated:t,isLoading:r,user:n}=kr(),[s,a]=js();_P(),oee(),uee(),j.useEffect(()=>{Yy.init().catch(p=>{console.error(" PWA initialization failed:",p)}),VC.initDB().catch(p=>{console.error(" Offline storage initialization failed:",p)});const m=()=>{console.log(" BoyFanz: Back online"),document.body.classList.remove("offline"),VC.getPendingActions().then(p=>{console.log(` BoyFanz: ${p.length} actions to sync`)})},f=()=>{console.log(" BoyFanz: Gone offline"),document.body.classList.add("offline")};return window.addEventListener("online",m),window.addEventListener("offline",f),navigator.onLine||document.body.classList.add("offline"),()=>{window.removeEventListener("online",m),window.removeEventListener("offline",f)}},[]);const[i,o]=j.useState(!1);j.useEffect(()=>{if(r){const m=setTimeout(()=>{o(!0),console.warn("Auth loading timeout - showing app anyway")},3e3);return()=>clearTimeout(m)}},[r]);const u=["/feed","/infinity-feed","/messages","/mass-messaging","/post","/earnings","/media","/compliance","/payouts","/notifications","/settings","/admin","/purchased","/subscriptions","/release-forms","/nearby","/streams","/revenue-quests","/trust","/fanz-money-center"].some(m=>s.startsWith(m));return j.useEffect(()=>{!r&&!t&&u&&a("/auth/login")},[r,t,u,a]),r&&!i?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading BoyFanz..."})]})}):t?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(fee,{}),e.jsx(pee,{}),e.jsx(W1e,{user:n}),e.jsxs("div",{className:He("transition-all duration-300","md:ml-64"),children:[e.jsx(Z1e,{user:n}),e.jsx("main",{className:"p-4 md:p-6",children:e.jsxs(EO,{children:[e.jsx(Tt,{path:"/",component:ete}),e.jsx(Tt,{path:"/dashboard",component:Ree}),e.jsx(Tt,{path:"/media",component:ste}),e.jsx(Tt,{path:"/compliance",component:ite}),e.jsx(Tt,{path:"/payouts",component:Lte}),e.jsx(Tt,{path:"/notifications",component:zte}),e.jsx(Tt,{path:"/purchased",component:Bte}),e.jsx(Tt,{path:"/subscriptions",component:qte}),e.jsx(Tt,{path:"/release-forms",component:Ute}),e.jsx(Tt,{path:"/nearby",component:hre}),e.jsx(Tt,{path:"/admin/dashboard",component:Qje}),e.jsx(Tt,{path:"/admin/complaints",component:Xje}),e.jsx(Tt,{path:"/admin/withdrawals",component:Jje}),e.jsx(Tt,{path:"/admin/verification",component:ewe}),e.jsx(Tt,{path:"/admin/moderation",component:II}),e.jsx(Tt,{path:"/admin/moderation-queue",component:II}),e.jsx(Tt,{path:"/admin/users",component:oae}),e.jsx(Tt,{path:"/admin/delegation",component:cae}),e.jsx(Tt,{path:"/admin/themes",component:dae}),e.jsx(Tt,{path:"/admin/reports",component:W_e}),e.jsx(Tt,{path:"/admin/posts",component:H_e}),e.jsx(Tt,{path:"/admin/streaming",component:G_e}),e.jsx(Tt,{path:"/admin/stories",component:Z_e}),e.jsx(Tt,{path:"/admin/shop",component:Y_e}),e.jsx(Tt,{path:"/admin/categories",component:N1e}),e.jsx(Tt,{path:"/admin/transactions",component:S1e}),e.jsx(Tt,{path:"/admin/billing",component:P1e}),e.jsx(Tt,{path:"/admin/tax-rates",component:I1e}),e.jsx(Tt,{path:"/admin/payment-settings",component:F1e}),e.jsx(Tt,{path:"/admin/deposits",component:$1e}),e.jsx(Tt,{path:"/settings",component:z1e}),e.jsx(Tt,{path:"/creator/:userId",component:m8}),e.jsx(Tt,{path:"/feed",component:CSe}),e.jsx(Tt,{path:"/infinity-feed",component:$Se}),e.jsx(Tt,{path:"/fanz-money-center",component:zSe}),e.jsx(Tt,{path:"/revenue-quests",component:BSe}),e.jsx(Tt,{path:"/trust",component:USe}),e.jsx(Tt,{path:"/search",component:p8}),e.jsx(Tt,{path:"/messages",component:OSe}),e.jsx(Tt,{path:"/mass-messaging",component:MSe}),e.jsx(Tt,{path:"/post/:postId",component:LSe}),e.jsx(Tt,{path:"/earnings",component:FSe}),e.jsx(Tt,{path:"/streams",component:YEe}),e.jsx(Tt,{path:"/streams/create",component:WEe}),e.jsx(Tt,{path:"/streams/:id/dashboard",children:m=>e.jsx(HEe,{streamId:m.id})}),e.jsx(Tt,{path:"/streams/:id/watch",children:m=>e.jsx(GEe,{streamId:m.id})}),e.jsx(Tt,{path:"/streams/:id/analytics",children:m=>e.jsx(ZEe,{streamId:m.id})}),e.jsx(Tt,{path:"/events",component:QEe}),e.jsx(Tt,{path:"/events/host",component:tOe}),e.jsx(Tt,{path:"/events/:eventId",component:JEe}),e.jsx(Tt,{path:"/events/:eventId/live",component:rOe}),e.jsx(Tt,{path:"/help",component:WSe}),e.jsx(Tt,{path:"/help/wiki",component:HSe}),e.jsx(Tt,{path:"/help/tutorials",component:GSe}),e.jsx(Tt,{path:"/help/tickets/new",component:e2e}),e.jsx(Tt,{path:"/help/tickets/:ticketId",children:m=>e.jsx(g2e,{ticketId:m.ticketId})}),e.jsx(Tt,{path:"/help/tickets",component:ZSe}),e.jsx(Tt,{path:"/help/chat",component:YSe}),e.jsx(Tt,{path:"/blog",component:j8}),e.jsx(Tt,{path:"/contact",component:w8}),e.jsx(Tt,{component:d8})]})})]})]}):e.jsxs(EO,{children:[e.jsx(Tt,{path:"/",component:Mee}),e.jsx(Tt,{path:"/auth/register",component:X1e}),e.jsx(Tt,{path:"/auth/login",component:eSe}),e.jsx(Tt,{path:"/auth/forgot-password",component:rSe}),e.jsx(Tt,{path:"/auth/reset-password",component:sSe}),e.jsx(Tt,{path:"/auth/verify-email",component:aSe}),e.jsx(Tt,{path:"/auth/resend-verification",component:oSe}),e.jsx(Tt,{path:"/auth/starz-signup",component:jSe}),e.jsx(Tt,{path:"/auth/fanz-signup",component:wSe}),e.jsx(Tt,{path:"/auth/login-old",component:_Se}),e.jsx(Tt,{path:"/auth/reset-password-old",component:NSe}),e.jsx(Tt,{path:"/creator/:userId",component:m8}),e.jsx(Tt,{path:"/search",component:p8}),e.jsx(Tt,{path:"/blog",component:j8}),e.jsx(Tt,{path:"/contact",component:w8}),e.jsx(Tt,{component:d8})]})}function aOe(){return e.jsx($G,{client:Rt,children:e.jsx(YX,{children:e.jsxs("div",{className:"dark",children:[e.jsx(SQ,{}),e.jsx(iee,{}),e.jsx(sOe,{})]})})})}WH.createRoot(document.getElementById("root")).render(e.jsx(aOe,{}));
