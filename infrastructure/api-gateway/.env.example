# ðŸ”‘ FANZ API Gateway - Environment Configuration
# 
# Copy this file to .env and configure your actual values
# DO NOT commit the .env file to version control

# ===== DATABASE CONFIGURATION =====
KONG_DB_PASSWORD=your_secure_kong_database_password_here
REDIS_PASSWORD=your_secure_redis_password_here

# ===== KONG GATEWAY CONFIGURATION =====
KONG_ADMIN_SESSION_SECRET=your_kong_admin_session_secret_key_here_32_chars

# ===== OIDC AUTHENTICATION =====
OIDC_CLIENT_ID=fanz-ecosystem-client
OIDC_CLIENT_SECRET=your_oidc_client_secret_here
OIDC_DISCOVERY_URL=https://auth.fanz.com/.well-known/openid-configuration
OIDC_REDIRECT_URI=https://api.fanz.com/auth/callback
OIDC_SESSION_SECRET=your_oidc_session_secret_32_characters
OIDC_INTROSPECTION_ENDPOINT=https://auth.fanz.com/oauth/introspect

# ===== API KEYS =====
FANZ_ADMIN_API_KEY=fanz-admin-api-key-secure-string-here
FANZ_FINANCE_API_KEY=fanz-finance-api-key-secure-string-here
FANZ_MEDIA_API_KEY=fanz-media-api-key-secure-string-here

# ===== JWT SECRETS =====
JWT_SECRET_ADMIN=your_admin_jwt_secret_key_32_chars
JWT_SECRET_FINANCE=your_finance_jwt_secret_key_32_chars

# ===== MONITORING =====
GRAFANA_ADMIN_PASSWORD=your_grafana_admin_password
GRAFANA_SECRET_KEY=your_grafana_secret_key_32_characters

# ===== ELASTICSEARCH & KIBANA =====
KIBANA_ENCRYPTION_KEY=your_kibana_encryption_key_32_chars

# ===== SSL/TLS CONFIGURATION =====
# Paths to your SSL certificates (relative to docker-compose directory)
SSL_CERT_PATH=./ssl/fanz.crt
SSL_KEY_PATH=./ssl/fanz.key

# ===== PRODUCTION CONFIGURATION =====
# Set to "production" for production environment
NODE_ENV=development

# ===== BACKUP & MAINTENANCE =====
BACKUP_RETENTION_DAYS=30
LOG_RETENTION_DAYS=7

# ===== ADULT CONTENT COMPLIANCE =====
# Age verification service endpoint
AGE_VERIFICATION_ENDPOINT=https://age-verify.fanz.com/v1/verify
AGE_VERIFICATION_API_KEY=your_age_verification_api_key

# Geographic restriction service
GEO_RESTRICTION_ENDPOINT=https://geo.fanz.com/v1/check
GEO_RESTRICTION_API_KEY=your_geo_restriction_api_key

# ===== DEVELOPMENT OVERRIDES =====
# Uncomment these for development environment
# KONG_LOG_LEVEL=debug
# KONG_ADMIN_GUI_AUTH=off
# SSL_VERIFY=false

# ===== EXTERNAL SERVICES =====
# Payment processor webhooks (for CCBill, Segpay, Paxum, etc.)
CCBILL_WEBHOOK_SECRET=your_ccbill_webhook_secret
SEGPAY_WEBHOOK_SECRET=your_segpay_webhook_secret
PAXUM_WEBHOOK_SECRET=your_paxum_webhook_secret

# Content delivery network
CDN_ENDPOINT=https://cdn.fanz.com
CDN_API_KEY=your_cdn_api_key

# Email service for notifications
SMTP_HOST=smtp.fanz.com
SMTP_PORT=587
SMTP_USER=noreply@fanz.com
SMTP_PASSWORD=your_smtp_password

# ===== FANZ PLATFORM SPECIFIC =====
# Platform cluster identification
PLATFORM_ENVIRONMENT=staging
PLATFORM_REGION=us-west-2
PLATFORM_VERSION=1.0.0

# Feature flags
ENABLE_ADULT_CONTENT_VERIFICATION=true
ENABLE_GEO_RESTRICTIONS=true
ENABLE_RATE_LIMITING=true
ENABLE_WAF_PROTECTION=true
ENABLE_BOT_DETECTION=true

# ===== SECURITY CONFIGURATION =====
# Rate limiting (requests per minute/hour/day)
RATE_LIMIT_MINUTE=1000
RATE_LIMIT_HOUR=10000  
RATE_LIMIT_DAY=100000

# Special rate limits for extreme content platforms
TABOOFANZ_RATE_LIMIT_MINUTE=500
FANZCOCK_RATE_LIMIT_MINUTE=2000

# IP whitelist for admin access (comma-separated)
ADMIN_IP_WHITELIST=10.0.0.0/8,192.168.0.0/16,172.16.0.0/12

# Session timeouts (in seconds)
ADMIN_SESSION_TIMEOUT=7200
USER_SESSION_TIMEOUT=3600

# ===== ADULT CONTENT SETTINGS =====
# Content classification levels
DEFAULT_CONTENT_LEVEL=general
TABOOFANZ_CONTENT_LEVEL=extreme
FANZCOCK_CONTENT_LEVEL=adult

# Age verification requirements
MINIMUM_AGE=18
AGE_VERIFICATION_REQUIRED=true
AGE_VERIFICATION_STRICT_MODE=true

# ===== MONITORING & ALERTING =====
# Slack webhook for alerts
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_CHANNEL=#fanz-alerts

# PagerDuty integration
PAGERDUTY_ROUTING_KEY=your_pagerduty_routing_key

# Health check intervals (in seconds)
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# ===== PERFORMANCE TUNING =====
# Kong worker processes
KONG_NGINX_WORKER_PROCESSES=auto
KONG_NGINX_WORKER_CONNECTIONS=1024

# Memory settings
KONG_MEM_CACHE_SIZE=128m
ELASTICSEARCH_HEAP_SIZE=512m
LOGSTASH_HEAP_SIZE=512m

# Connection pools
DB_POOL_SIZE=20
REDIS_POOL_SIZE=10

# ===== BACKUP CONFIGURATION =====
# S3 backup configuration
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
S3_BACKUP_BUCKET=fanz-api-gateway-backups
S3_BACKUP_REGION=us-west-2

# Database backup
DB_BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
DB_BACKUP_RETENTION_DAYS=30

# ===== COMPLIANCE & LEGAL =====
# 2257 compliance settings
USC_2257_CUSTODIAN_NAME="FANZ Legal Compliance Officer"
USC_2257_CUSTODIAN_ADDRESS="123 Legal St, Compliance City, CC 12345"
USC_2257_RECORD_KEEPING_ENABLED=true

# GDPR compliance
GDPR_DATA_RETENTION_DAYS=2555  # 7 years
GDPR_COOKIE_CONSENT_REQUIRED=true
GDPR_RIGHT_TO_ERASURE_ENABLED=true

# ===== DEVELOPMENT NOTES =====
# 1. Generate secure random values for all secrets
# 2. Use environment-specific values for production
# 3. Rotate API keys and secrets regularly
# 4. Monitor access logs for suspicious activity
# 5. Enable all security features in production
# 6. Test rate limiting and WAF rules before deployment
# 7. Ensure SSL certificates are valid and up to date
# 8. Configure proper backup and monitoring
# 9. Implement proper log retention policies
# 10. Regular security audits and penetration testing