# CougarFanz

**Social platform for mature community enthusiasts** - Connect, share, and celebrate!

## Tech Stack

### Frontend
- React 18.3 + TypeScript 5.6
- Vite 5.4 - Build tool
- TailwindCSS 3.4 - Styling
- Wouter 3.3 - Routing
- React Query - Data fetching
- Radix UI - Components

### Backend
- Express 4.21 - Web server
- PostgreSQL (Supabase) - Database
- Drizzle ORM 0.44 - Type-safe DB
- WebSocket - Real-time features
- Passport.js + JWT - Authentication

## Quick Start

### Prerequisites
- Node.js >= 20.x
- Supabase account (free tier works)
- Render.com account (for deployment)

### Installation

1. **Clone the repository**
   ```bash
   git clone https://github.com/FanzCEO/CougarFanz.git
   cd CougarFanz
   ```

2. **Install dependencies**
   ```bash
   npm install
   ```

3. **Configure environment**
   
   Copy `.env.example` to `.env` and update:
   ```env
   DATABASE_URL="postgresql://postgres:[PASSWORD]@db.[PROJECT].supabase.co:5432/postgres"
   SESSION_SECRET="your-session-secret-min-64-chars"
   JWT_SECRET="your-jwt-secret-min-64-chars"
   ```

4. **Initialize database**
   ```bash
   npm run db:push
   ```

5. **Start development server**
   ```bash
   npm run dev
   ```
   
   App runs at:
   - Frontend: `http://localhost:5173`
   - Backend: `http://localhost:5000`

## Supabase Setup

1. Go to [supabase.com](https://supabase.com) and create a new project
2. Get your connection string from Project Settings → Database
3. Update `DATABASE_URL` in `.env`
4. Run `npm run db:push` to create tables

## Render Deployment

### Method 1: Blueprint (Recommended)

1. Push code to GitHub
2. Go to [render.com](https://render.com)
3. Click "New" → "Blueprint"
4. Connect your CougarFanz repository
5. Render will auto-detect `render.yaml`
6. Add environment variables:
   - `DATABASE_URL` - Your Supabase connection string
   - `ALLOWED_ORIGINS` - Your Render app URL

### Method 2: Manual Setup

1. New Web Service
2. Connect GitHub repository
3. Configure:
   - **Build Command**: `npm install && npm run build`
   - **Start Command**: `npm run start:prod`
   - **Environment**: Node
4. Add environment variables (see `.env.example`)

### Required Environment Variables for Render

```
DATABASE_URL=postgresql://...
NODE_ENV=production
PORT=10000
SESSION_SECRET=(auto-generated by Render)
JWT_SECRET=(auto-generated by Render)
ALLOWED_ORIGINS=https://your-app.onrender.com
```

## Available Scripts

```bash
npm run dev          # Start development server
npm run build        # Build for production
npm run start:prod   # Start production server
npm run db:push      # Push schema to database
npm run check        # TypeScript type check
```

## Project Structure

```
CougarFanz/
├── client/          # React frontend
│   ├── src/
│   │   ├── components/  # UI components
│   │   ├── pages/       # Page components
│   │   ├── hooks/       # Custom React hooks
│   │   └── lib/         # Utilities
│   └── index.html
├── server/          # Express backend
│   ├── routes.ts
│   ├── db.ts
│   └── index.ts
├── shared/          # Shared types & schema
│   └── schema.ts    # Drizzle schema
├── .env             # Environment config
├── render.yaml      # Render deployment config
└── package.json
```

## Database Schema

The app includes:
- Users & profiles
- Content & posts
- Comments & likes
- Follows & subscriptions
- Messages & notifications
- Packs (community groups)
- Achievements

## Features

- User authentication & profiles
- Social feed with infinity scroll  
- Real-time messaging (WebSocket)
- Content packs/groups
- Creator dashboard
- Analytics & insights
- Age verification
- AI content moderation

## Troubleshooting

**Build fails on Render:**
- Verify `DATABASE_URL` is set correctly
- Check all required env vars are present
- Review build logs in Render dashboard

**Database connection fails:**
- Verify Supabase project is active
- Check connection string format
- Ensure database allows connections from Render IPs

**WebSocket issues:**
- WebSocket support requires Render Standard plan or higher
- Consider using Supabase Realtime as alternative

## License

Proprietary and confidential.  
Copyright © 2025 FANZ Group Holdings. All rights reserved.

## Support

- GitHub Issues: https://github.com/FanzCEO/CougarFanz/issues
- Email: support@cougarfanz.com

---

Built with React, Express, and Supabase
